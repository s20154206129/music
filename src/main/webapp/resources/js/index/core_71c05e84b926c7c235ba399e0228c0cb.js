(function(){window.NEJ=window.NEJ||{};NEJ.O={};NEJ.R=[];NEJ.F=function(){return!1};NEJ.P=function(Ku9l){if(!Ku9l||!Ku9l.length)return null;var ben6h=window;for(var a=Ku9l.split("."),l=a.length,i=a[0]=="window"?1:0;i<l;ben6h=ben6h[a[i]]=ben6h[a[i]]||{},i++);return ben6h};NEJ.Q=function(bM9D,Ku9l){bM9D=bM9D||NEJ.O;var bv9m=Ku9l.split(".");for(var i=0,l=bv9m.length;i<l;i++){bM9D=bM9D[bv9m[i]];if(!bM9D)break}return bM9D};NEJ.C=function(){var bKR6L=function(){return NEJ.O.toString.call(arguments[0])!="[object Function]"};var bTW9N=function(C8u,bB9s){for(var x in bB9s)if(C8u==bB9s[x])return x;return null};var bkN9E={cC9t:0,bp8h:1,bC9t:2,bY9P:3,bK9B:4,fl0x:5,lc2x:6,eF0x:7},wg5l={cK9B:0,bq8i:1,bH9y:2,cj9a:3,bS9J:4,gV1x:5,lX2x:6,gn0x:7};return function(){var gj0x=function(){this.bMP6J();return this.cC9t.apply(this,arguments)};gj0x.prototype.bMP6J=NEJ.F;gj0x.prototype.cC9t=NEJ.F;gj0x.M8E=function(Gc8U,bPe7X){if(bKR6L(Gc8U))return;if(bPe7X==null||!!bPe7X)NEJ.X(this,Gc8U,bKR6L);this.chP2x=Gc8U;this.cx9o=Gc8U.prototype;var bJ9A=function(){};bJ9A.prototype=Gc8U.prototype;this.prototype=new bJ9A;var KN0x=this.prototype;KN0x.constructor=this;var cl9c;for(var x in bkN9E){cl9c=bTW9N(bkN9E[x],wg5l);if(!cl9c||!this.cx9o[x])continue;KN0x[x]=function(Y8Q){return function(){this[Y8Q].apply(this,arguments)}}(cl9c)}var Kg9X={};for(var x in wg5l){cl9c=bTW9N(wg5l[x],bkN9E);if(!cl9c||!this.cx9o[cl9c])continue;Kg9X[cl9c]=Gc8U;KN0x[x]=function(Y8Q){return function(){var m8e,bJ9A=this.bkR9I[Y8Q],ber6l=bJ9A.prototype[Y8Q];this.bkR9I[Y8Q]=bJ9A.chP2x||Gc8U;if(!!ber6l)m8e=ber6l.apply(this,arguments);this.bkR9I[Y8Q]=Gc8U;return m8e}}(cl9c)}KN0x.bMP6J=function(){this.bkR9I=NEJ.X({},Kg9X)};KN0x.cVB1x=KN0x.cK9B;return KN0x};return gj0x}}();NEJ.X=function(gQ1x,bU9L,ek0x){if(!gQ1x||!bU9L)return gQ1x;ek0x=ek0x||NEJ.F;for(var x in bU9L){if(bU9L.hasOwnProperty(x)&&!ek0x(bU9L[x],x))gQ1x[x]=bU9L[x]}return gQ1x};NEJ.EX=function(gQ1x,bU9L){if(!gQ1x||!bU9L)return gQ1x;for(var x in gQ1x){if(gQ1x.hasOwnProperty(x)&&bU9L[x]!=null)gQ1x[x]=bU9L[x]}return gQ1x};var QC1x=Function.prototype;QC1x.eT0x=function(ms2x,zE6y){var f=NEJ.F,zE6y=zE6y||f,ms2x=ms2x||f,dG0x=this;return function(){var d8f={args:NEJ.R.slice.call(arguments,0)};ms2x(d8f);if(!d8f.stopped){d8f.value=dG0x.apply(this,d8f.args);zE6y(d8f)}return d8f.value}};QC1x.f8d=function(){var bj8b=arguments,gQ1x=arguments[0],bkU9L=this;return function(){var uL5Q=NEJ.R.slice.call(bj8b,1);NEJ.R.push.apply(uL5Q,arguments);return bkU9L.apply(gQ1x||window,uL5Q)}};QC1x.eO0x=function(){var bj8b=arguments,gQ1x=NEJ.R.shift.call(bj8b),bkU9L=this;return function(){NEJ.R.push.apply(arguments,bj8b);return bkU9L.apply(gQ1x||window,arguments)}};var QC1x=String.prototype;if(!QC1x.trim){QC1x.trim=function(){var dr9i=/(?:^\s+)|(?:\s+$)/g;return function(){return this.replace(dr9i,"")}}()}if(!window.MWF)window.MWF=NEJ;if(!window.mwf)window.mwf=NEJ.P("nej");if(!window.console){NEJ.P("console").log=NEJ.F;NEJ.P("console").error=NEJ.F}var lt,gt,amp,nbsp,quot,apos,copy,reg})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,P8H=c8g("nej.p"),ws5x=window.navigator.platform,wv5A=window.navigator.userAgent;var mf2x={mac:ws5x,win:ws5x,linux:ws5x,ipad:wv5A,ipod:wv5A,iphone:ws5x,android:wv5A};P8H.QA1x=mf2x;for(var x in mf2x)mf2x[x]=(new RegExp(x,"i")).test(mf2x[x]);mf2x.ios=mf2x.ipad||mf2x.iphone||mf2x.ipod;mf2x.tablet=mf2x.ipad;mf2x.desktop=mf2x.mac||mf2x.win||mf2x.linux&&!mf2x.android;var jf1x={engine:"unknow",release:"unknow",browser:"unknow",version:"unknow",prefix:{css:"",pro:"",clz:""}};P8H.dC0x=jf1x;if(/msie\s+(.*?);/i.test(wv5A)||/trident\/.+rv:([\d\.]+)/i.test(wv5A)){jf1x.engine="trident";jf1x.browser="ie";jf1x.version=RegExp.$1;jf1x.prefix={css:"ms",pro:"ms",clz:"MS",evt:"MS"};var nE3x={6:"2.0",7:"3.0",8:"4.0",9:"5.0",10:"6.0",11:"7.0"};jf1x.release=nE3x[document.documentMode]||nE3x[parseInt(jf1x.version)]}else if(/webkit\/?([\d.]+?)(?=\s|$)/i.test(wv5A)){jf1x.engine="webkit";jf1x.release=RegExp.$1||"";jf1x.prefix={css:"webkit",pro:"webkit",clz:"WebKit"}}else if(/rv\:(.*?)\)\s+gecko\//i.test(wv5A)){jf1x.engine="gecko";jf1x.release=RegExp.$1||"";jf1x.browser="firefox";jf1x.prefix={css:"Moz",pro:"moz",clz:"Moz"};if(/firefox\/(.*?)(?=\s|$)/i.test(wv5A))jf1x.version=RegExp.$1||""}else if(/presto\/(.*?)\s/i.test(wv5A)){jf1x.engine="presto";jf1x.release=RegExp.$1||"";jf1x.browser="opera";jf1x.prefix={css:"O",pro:"o",clz:"O"};if(/version\/(.*?)(?=\s|$)/i.test(wv5A))jf1x.version=RegExp.$1||""}if(jf1x.browser=="unknow"){var nE3x=["chrome","maxthon","safari"];for(var i=0,l=nE3x.length,Y8Q;i<l;i++){Y8Q=nE3x[i]=="safari"?"version":nE3x[i];if((new RegExp(Y8Q+"/(.*?)(?=\\s|$)","i")).test(wv5A)){jf1x.browser=nE3x[i];jf1x.version=RegExp.$1.trim();break}}}P8H.bVx9o={};var bgw6q=jf1x.engine!="trident";P8H.oG3x={gecko:jf1x.engine!="gecko",webkit:jf1x.engine!="webkit",presto:jf1x.engine!="presto",trident0:bgw6q||jf1x.release>"2.0",trident1:bgw6q||jf1x.release<"6.0",trident2:bgw6q||jf1x.release>"3.0",trident:bgw6q||jf1x.release>="6.0"}})();
(function(){var eC0x=NEJ.P("nej.c"),Q8I={};var bkV9M=function(){var dr9i=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(Z8R){Z8R=Z8R||"";if(dr9i.test(Z8R))return RegExp.$1;return location.protocol+"//"+location.host}}();var ZQ4U=function(){var cbZ1x=function(j8b,bB9s){if(!j8b||!j8b.length)return;for(var i=0,l=j8b.length,kE2x;i<l;i++){kE2x=j8b[i];if(kE2x.indexOf("://")>0)bB9s[bkV9M(kE2x)]=kE2x}};var bk8c={portrait:{name:"portrait",dft:"portrait/"},"ajax.swf":{name:"ajax",dft:"nej_proxy_flash.swf"},"chart.swf":{name:"chart",dft:"nej_flex_chart.swf"},"audio.swf":{name:"audio",dft:"nej_player_audio.swf"},"video.swf":{name:"video",dft:"nej_player_video.swf"},"clipboard.swf":{name:"clipboard",dft:"nej_clipboard.swf"}};return function(bU9L){eC0x.Qz1x("root",bU9L.root||"/res/");var blk0x,gz1x=eC0x.A8s("root");for(var x in bk8c){blk0x=bk8c[x];eC0x.Qz1x(x,bU9L[blk0x.name]||gz1x+blk0x.dft)}var FP8H=bU9L.p_csrf;if(FP8H==!0){FP8H={cookie:"AntiCSRF",param:"AntiCSRF"}}eC0x.Qz1x("csrf",NEJ.EX({cookie:"",param:""},FP8H));Q8I.frames={};cbZ1x(bU9L.p_frame,Q8I.frames);Q8I.flashs={};cbZ1x(bU9L.p_flash,Q8I.flashs)}}();eC0x.Qz1x=function(K8C,C8u){Q8I[K8C]=C8u};eC0x.A8s=function(K8C){return Q8I[K8C]};eC0x.coy3x=function(Z8R){var tV5a=bkV9M(Z8R);return Q8I.frames[tV5a]||tV5a+"/res/nej_proxy_frame.html"};eC0x.coO3x=function(Z8R){return Q8I.flashs[bkV9M(Z8R)]};ZQ4U(window.NEJ_CONF||NEJ.O)})();
(function(){var c8g=NEJ.P,P8H=c8g("nej.p"),eC0x=c8g("nej.c"),bU9L=window.NEJ_CONF||NEJ.O;if(P8H.oG3x.trident)return;eC0x.Qz1x("storage.swf",bU9L.storage||eC0x.A8s("root")+"nej_storage.swf");if(P8H.dC0x.release<"4.0"){eC0x.Qz1x("blank.png",bU9L.blank||eC0x.A8s("root")+"nej_blank.gif")}var j8b=bU9L.xdr,ho1x=/^(https?:\/\/.*?)(?=\/|$)/i,lp2x=/[\/?=&]/i;var bMu6o=function(Z8R){return(ho1x.test(Z8R)?RegExp.$1:"").toLowerCase()};if(!!j8b&&!!j8b.length)for(var i=j8b.length-1,Z8R,K8C;i>=0;i--){Z8R=j8b[i];K8C=bMu6o(Z8R);if(!!K8C)eC0x.Qz1x(K8C,Z8R)}eC0x.cUA1x=function(Z8R){var K8C=bMu6o(Z8R);if(!K8C){if(lp2x.test(Z8R)){K8C=location.protocol+"//"+location.host}else if(Z8R.indexOf("://")<0){K8C=location.protocol+"//"+Z8R}else{K8C=Z8R}}return eC0x.A8s(K8C)||K8C+"/res/nej_xdomain.html"}})();
(function(){var c8g=NEJ.P,eC0x=c8g("nej.c"),P8H=c8g("nej.g"),hb1x=+(new Date);P8H.cUz1x=1e4-hb1x;P8H.blr0x=10001-hb1x;P8H.cUw1x=10002-hb1x;P8H.bOq6k=10003-hb1x;P8H.cqI4M=10004-hb1x;P8H.cUk1x=10005-hb1x;P8H.blx0x=10006-hb1x;P8H.cri4m=10007-hb1x;P8H.Am6g="Content-Type";P8H.cUe1x="text/plain";P8H.IA9r="multipart/form-data";P8H.crA4E="application/x-www-form-urlencoded";P8H.bly0x=eC0x.A8s("blank.png")||"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})();
(function(){var c8g=NEJ.P,fN0x=NEJ.R,P8H=c8g("nej.p"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),bg8Y=c8g("nej.h");var lj2x=P8H.dC0x.prefix,bOX7Q=P8H.bVx9o,crV4Z={scale:"scale({x|1},{y|1})",rotate:"rotate({a})",translate:"translate({x},{y})"},crW4a={scale:"scale3d({x|1},{y|1},{z|1})",rotate:"rotate3d({x},{y},{z},{a})",translate:"translate3d({x},{y},{z})"},ZA4E={transition:!0,transform:!0,animation:!0,keyframes:!0,box:!0,"box-pack":!0,"box-flex":!0,marquee:!0,"border-radius":!0,"user-select":!0};var ZQ4U=function(){var qz3x=bg8Y.bQc7V();bOX7Q.css3d=!!qz3x&&qz3x.m41!=null;var dr9i=/-([a-z])/g;for(var x in ZA4E){ZA4E[bQI8A(x)]=ZA4E[x]}};var bQI8A=function(){var dr9i=/-([a-z])/g;return function(Y8Q){Y8Q=Y8Q||"";return Y8Q.replace(dr9i,function($1,$2){return $2.toUpperCase()})}}();var bSg8Y=function(Y8Q){return(!bOX7Q.css3d?crV4Z:crW4a)[Y8Q]};var bTR9I=function(){var dr9i=/\s+/;return function(gj0x){gj0x=(gj0x||"").trim();return!!gj0x?gj0x.split(dr9i):null}}();var bjM9D=function(H8z,t8l,gj0x){H8z=a7h.A8s(H8z);if(!H8z)return;k8c.bf8X(bTR9I(gj0x),function(eo0x){H8z.classList[t8l](eo0x)})};bg8Y.Qv1x=function(j8b){return fN0x.slice.call(j8b,0)};bg8Y.blJ0x=function(H8z){return bg8Y.Qv1x(H8z.children)};bg8Y.blK0x=function(H8z,gj0x){return bg8Y.Qv1x(H8z.getElementsByClassName(gj0x))};bg8Y.blL0x=function(H8z,Qu1x){bjM9D(H8z,"add",Qu1x)};bg8Y.blN0x=function(H8z,Qt1x){bjM9D(H8z,"remove",Qt1x)};bg8Y.Zv4z=function(H8z,Qt1x,Qu1x){bjM9D(H8z,"remove",Qt1x);bjM9D(H8z,"add",Qu1x)};bg8Y.blO0x=function(H8z,gj0x){H8z=a7h.A8s(H8z);if(!H8z)return!1;var j8b=H8z.classList;if(!j8b||!j8b.length)return!1;return k8c.du0x(bTR9I(gj0x),function(eo0x){return j8b.contains(eo0x)})>=0};bg8Y.blP0x=function(H8z,eo0x){};bg8Y.blY0x=function(H8z){};bg8Y.bma0x=function(gF1x,pg3x){gF1x.selectionEnd=pg3x.end||0;gF1x.selectionStart=pg3x.start||0;gF1x.focus()};bg8Y.bmd0x=function(gF1x){return{end:gF1x.selectionEnd,start:gF1x.selectionStart}};bg8Y.bmg0x=function(){var Ig9X=function(eo0x,d8f){var H8z=h8b.ba8S(d8f);if(!H8z.value)a7h.y8q(H8z,eo0x)};var Qr1x=function(eo0x,d8f){a7h.w8o(h8b.ba8S(d8f),eo0x)};return function(H8z,eE0x,eo0x){if(eE0x==1){h8b.s8k(H8z,"blur",Ig9X.f8d(null,eo0x))}if(eE0x==1||eE0x==-1){h8b.s8k(H8z,"focus",Qr1x.f8d(null,eo0x))}}}();bg8Y.bmi0x=function(I8A){return(new XMLSerializer).serializeToString(I8A)||""};bg8Y.bmk0x=function(Fw8o){var gz1x=(new DOMParser).parseFromString(Fw8o,"text/xml").documentElement;return gz1x.nodeName=="parsererror"?null:gz1x};bg8Y.bmn0x=function(H8z){};bg8Y.oX3x=function(H8z){return null};bg8Y.bmt0x=function(H8z){return null};bg8Y.bmu0x=function(cZ9Q){};bg8Y.bmv0x=function(){var bj8b=bg8Y.Qv1x(arguments);bj8b[0]=a7h.A8s(bj8b[0]);if(!bj8b[0])return null;bj8b[1]=(bj8b[1]||"").toLowerCase();if(!bj8b[1])return null;return bj8b};bg8Y.Fq8i=function(){var zj6d={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},jQ1x={transitionend:"TransitionEnd",animationend:"AnimationEnd",animationstart:"AnimationStart",animationiteration:"AnimationIteration"};var cwY5d=function(t8l){return(lj2x.evt||lj2x.pro)+t8l};return function(){var bj8b=bg8Y.bmv0x.apply(bg8Y,arguments);if(!bj8b)return;var bbC5H=jQ1x[bj8b[1]],bbD5I=zj6d[bj8b[1]];if(!!bbC5H){bj8b[4]=bj8b[1];bj8b[1]=cwY5d(bbC5H)}else if(!!bbD5I){var Y8Q="on"+bj8b[1];if(!(Y8Q in bj8b[0])){bj8b[4]=bj8b[1];bj8b[1]=bbD5I}}return bj8b}}();bg8Y.bmJ0x=function(){var bj8b=arguments;bj8b[0].addEventListener(bj8b[1],bj8b[2],!!bj8b[3])};bg8Y.bcb5g=function(){var bj8b=arguments;bj8b[0].removeEventListener(bj8b[1],bj8b[2],!!bj8b[3])};bg8Y.bmP0x=function(H8z,t8l,e8e){var d8f=document.createEvent("Event");d8f.initEvent(t8l,!0,!0);NEJ.X(d8f,e8e);H8z.dispatchEvent(d8f)};bg8Y.bQc7V=function(){var ho1x=/\((.*?)\)/,lp2x=/\s*,\s*/,j8b=["m11","m12","m21","m22","m41","m42"];var bcp5u=function(qz3x){var iS1x={};if(ho1x.test(qz3x||"")){k8c.bf8X(RegExp.$1.split(lp2x),function(C8u,r8j){iS1x[j8b[r8j]]=C8u||""})}return iS1x};return function(qz3x){if(!!window.CSSMatrix)return new CSSMatrix(qz3x);var Y8Q=lj2x.clz+"CSSMatrix";if(!!window[Y8Q])return new window[Y8Q](qz3x||"");return bcp5u(qz3x)}}();bg8Y.bLY6S=function(){var dr9i=/\{(.*?)\}/g;return function(Y8Q,bB9s){bB9s=bB9s||o;var qy3x=bSg8Y(Y8Q);return!qy3x?"":qy3x.replace(dr9i,function($1,$2){var bv9m=$2.split("|");return bB9s[bv9m[0]]||bv9m[1]||"0"})}}();bg8Y.bmT0x=function(H8z,Y8Q,C8u){H8z.style[bg8Y.bMF6z(Y8Q)]=C8u};bg8Y.bMF6z=function(){var dr9i=/^[a-z]/,bmV0x=lj2x.css;var czB6v=function(Y8Q){return Y8Q.replace(dr9i,function($1){return bmV0x+$1.toUpperCase()})};return function(Y8Q){Y8Q=bQI8A(Y8Q);var cAf6Z=bg8Y.cAl6f(Y8Q,ZA4E);return cAf6Z?czB6v(Y8Q):Y8Q}}();bg8Y.cAl6f=function(){var dr9i=/^([a-z]+?)[A-Z]/;return function(Y8Q,bB9s){if(!bB9s[Y8Q]){if(dr9i.test(Y8Q))Y8Q=RegExp.$1}return!!bB9s[Y8Q]}}();bg8Y.cAn6h=function(){var dr9i=/\$<(.*?)>/gi,bmV0x="-"+lj2x.css.toLowerCase()+"-";return function(lb2x){return lb2x.replace(dr9i,function($1,$2){var fK0x=$2,bv9m=fK0x.split("|"),qy3x=bSg8Y(bv9m[0]);if(!!qy3x){return bg8Y.bLY6S(bv9m[0],k8c.ha1x(bv9m[1]))}return!bg8Y.cBL6F(fK0x,ZA4E)?fK0x:bmV0x+fK0x})}}();bg8Y.cBL6F=function(Y8Q,bB9s){return!!bB9s[Y8Q]};bg8Y.bnh0x=function(cm9d,lb2x){cm9d.textContent=lb2x};bg8Y.bnj0x=function(cm9d,lb2x){var AV7O=cm9d.sheet,br8j=AV7O.cssRules.length;AV7O.insertRule(lb2x,br8j);return AV7O.cssRules[br8j]};bg8Y.cQV0x=function(H8z,e8e){};bg8Y.bag4k=function(baT5Y){return(baT5Y||"").toLowerCase()!="transparent"};bg8Y.cDa7T=function(H8z){};bg8Y.bnl0x=function(H8z,Y8Q){if(!!H8z.getAttribute)return H8z.getAttribute(Y8Q);return""};bg8Y.bbr5w=function(fb0x){a7h.cV9M(fb0x)};ZQ4U()})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),P8H=c8g("nej.p"),bg8Y=c8g("nej.h");if(P8H.oG3x.trident0)return;var hb1x=+(new Date);Q8I={};bg8Y.blP0x=bg8Y.blP0x.eT0x(function(d8f){d8f.stopped=!0;var bj8b=d8f.args,D8v=a7h.mu2x(bj8b[0]),K8C="hover-"+D8v;if(!D8v||!!Q8I[K8C])return;Q8I[K8C]=!0;h8b.s8k(D8v,"mouseenter",a7h.w8o.f8d(a7h,D8v,bj8b[1]));h8b.s8k(D8v,"mouseleave",a7h.y8q.f8d(a7h,D8v,bj8b[1]))});bg8Y.blY0x=function(){var cQz0x=function(){};return bg8Y.blY0x.eT0x(function(d8f){d8f.stopped=!0;var H8z=d8f.args[0],D8v="fixed-"+a7h.mu2x(H8z);if(!!Q8I[D8v])return;var bk8c={};Q8I[D8v]=bk8c})}();bg8Y.bmn0x=bg8Y.bmn0x.eT0x(function(d8f){d8f.stopped=!0;var H8z=d8f.args[0],cm9d=H8z.style,bQT8L=a7h.qv3x();cm9d.width=bQT8L.scrollWidth+"px";cm9d.height=bQT8L.scrollHeight+"px"});bg8Y.oX3x=bg8Y.oX3x.eT0x(function(d8f){d8f.stopped=!0;var H8z=d8f.args[0],mb2x=Q8I[H8z.msk];if(!mb2x){H8z.msk=hb1x++;mb2x=a7h.ds0x("iframe");mb2x.style.position="absolute";Q8I[H8z.msk]=mb2x}d8f.value=mb2x;var cm9d=mb2x.style;cm9d.top=(parseInt(a7h.dp9g(H8z,"top"))||0)+"px";cm9d.left=(parseInt(a7h.dp9g(H8z,"left"))||0)+"px";cm9d.width=H8z.offsetWidth+"px";cm9d.height=H8z.offsetHeight+"px";H8z.insertAdjacentElement("beforeBegin",mb2x)});bg8Y.bmt0x=bg8Y.bmt0x.eT0x(function(d8f){d8f.stopped=!0;var mb2x=Q8I[d8f.args[0].msk];if(!!mb2x)a7h.nq3x(mb2x)})})();
(function(){var c8g=NEJ.P,P8H=c8g("nej.p"),a7h=c8g("nej.e"),bg8Y=c8g("nej.h");if(P8H.oG3x.trident1)return;bg8Y.Fq8i=function(){var zj6d={touchcancel:"MSPointerCancel",touchstart:"MSPointerDown",touchmove:"MSPointerMove",touchend:"MSPointerUp"};return bg8Y.Fq8i.eT0x(function(d8f){var bj8b=bg8Y.bmv0x.apply(bg8Y,d8f.args);if(!bj8b){d8f.stopped=!0;return}var t8l=zj6d[bj8b[1]];if(!!t8l&&("on"+t8l).toLowerCase()in bj8b[0]){bj8b[4]=bj8b[1];bj8b[1]=t8l;d8f.stopped=!0;d8f.value=bj8b}})}();bg8Y.bag4k=function(baT5Y){return!0};bg8Y.bbr5w=bg8Y.bbr5w.eT0x(function(d8f){d8f.stopped=!0;var fb0x=d8f.args[0];a7h.bd8V(fb0x,"display","none");try{fb0x.contentWindow.document.body.innerHTML="&nbsp;"}catch(ex){}})})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,P8H=c8g("nej.p"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),bg8Y=c8g("nej.h"),bns0x={};if(P8H.oG3x.trident)return;bg8Y.Qv1x=bg8Y.Qv1x.eT0x(function(d8f){d8f.stopped=!0;var j8b=d8f.args[0];if(!j8b){d8f.value=null;return}var r8j=0,m8e=[];while(!!j8b[r8j]){m8e.push(j8b[r8j++])}d8f.value=m8e});bg8Y.blJ0x=bg8Y.blJ0x.eT0x(function(d8f){d8f.stopped=!0;var bv9m=[];k8c.bf8X(d8f.args[0].childNodes,function(g8c){if(g8c.nodeType==1)bv9m.push(g8c)});d8f.value=bv9m});bg8Y.blK0x=bg8Y.blK0x.eT0x(function(d8f){var H8z=d8f.args[0];if(!!H8z.getElementsByClassName)return;d8f.stopped=!0;var m8e=[],Zg4k=new RegExp("(\\s|^)(?:"+d8f.args[1].replace(/\s+/g,"|")+")(?=\\s|$)");k8c.bf8X(H8z.getElementsByTagName("*"),function(g8c){if(Zg4k.test(g8c.className))m8e.push(g8c)});d8f.value=m8e});bg8Y.bma0x=bg8Y.bma0x.eT0x(function(d8f){var gF1x=d8f.args[0],pg3x=d8f.args[1];if(gF1x.selectionStart==null){d8f.stopped=!0;var dm9d=gF1x.createTextRange();dm9d.collapse(!0);dm9d.moveStart("character",pg3x.start);dm9d.moveEnd("character",pg3x.end-pg3x.start);dm9d.select();gF1x.focus()}});bg8Y.bmd0x=bg8Y.bmd0x.eT0x(function(d8f){var gF1x=d8f.args[0];gF1x.focus();if(gF1x.selectionStart==null){d8f.stopped=!0;var bRr8j=document.selection.createRange();var bRB8t=gF1x.createTextRange();bRB8t.moveToBookmark(bRr8j.getBookmark());var bnx0x=gF1x.createTextRange();bnx0x.collapse(!0);bnx0x.setEndPoint("EndToStart",bRB8t);var eV0x=bnx0x.text.length;d8f.value={start:eV0x,end:eV0x+bRr8j.text.length}}});bg8Y.bmi0x=bg8Y.bmi0x.eT0x(function(d8f){if(!!window.XMLSerializer)return;d8f.stopped=!0;var H8z=d8f.args[0];d8f.value=H8z.xml!=null?H8z.xml:H8z.outHTML});bg8Y.bmk0x=function(){var Zc4g=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var cHx8p=function(){try{for(var i=0,l=Zc4g.length;i<l;i++)return new ActiveXObject(Zc4g[i])}catch(ex){return null}};return bg8Y.bmk0x.eT0x(function(d8f){if(!!window.DOMParser)return;d8f.stopped=!0;var oK3x=cHx8p();if(!!oK3x&&oK3x.loadXML(d8f.args[0])&&!oK3x.parseError.errorCode)d8f.value=oK3x.documentElement})}();bg8Y.Fq8i=function(){var jQ1x={input:"propertychange",load:"readystatechange"};for(var x in jQ1x)bns0x[jQ1x[x]]=!0;var cHP8H=function(H8z,t8l){if("on"+t8l in H8z)return null;return jQ1x[t8l]||""};var cHU8M=function(t8l,dG0x){var cJ9A=dG0x;switch(t8l){case"readystatechange":cJ9A=function(d8f){var H8z=h8b.ba8S(d8f)||this;if(H8z.readyState=="loaded"||H8z.readyState=="complete"){d8f.target=H8z;dG0x.call(H8z,d8f)}};break;case"propertychange":cJ9A=function(d8f){var H8z=h8b.ba8S(d8f)||this;if("value"in H8z&&d8f.propertyName=="value"){d8f.target=H8z;dG0x.call(H8z,d8f)}};break}return cJ9A};return bg8Y.Fq8i.eT0x(function(d8f){var bj8b=bg8Y.bmv0x.apply(bg8Y,d8f.args);if(!bj8b){d8f.stopped=!0;return}var t8l=cHP8H(bj8b[0],bj8b[1]);if(!!t8l){d8f.stopped=!0;bj8b[4]=bj8b[1];bj8b[1]=t8l;if(!!bj8b[2]){bj8b[5]=bj8b[2];bj8b[2]=cHU8M(bj8b[1],bj8b[2])}d8f.value=bj8b}},function(d8f){var bj8b=d8f.value;if(!bj8b[0]||!k8c.hf1x(bj8b[2]))return;if(!k8c.hf1x(bj8b[5]))bj8b[5]=bj8b[2];bj8b[2]=bj8b[2].f8d(bj8b[0])})}();bg8Y.bmJ0x=bg8Y.bmJ0x.eT0x(function(d8f){var bj8b=d8f.args;if(!!bns0x[bj8b[1]]||!document.addEventListener){d8f.stopped=!0;bj8b[0].attachEvent("on"+bj8b[1],bj8b[2])}});bg8Y.bcb5g=bg8Y.bcb5g.eT0x(function(d8f){var bj8b=d8f.args;if(!!bns0x[bj8b[1]]||!document.removeEventListener){d8f.stopped=!0;bj8b[0].detachEvent("on"+bj8b[1],bj8b[2])}});bg8Y.bmP0x=bg8Y.bmP0x.eT0x(function(d8f){if(!document.createEvent){d8f.stopped=!0;var bj8b=d8f.args,bSQ8I=document.createEventObject();NEJ.X(bSQ8I,bj8b[2]);try{bj8b[0].fireEvent("on"+bj8b[1],bSQ8I)}catch(ex){console.error(ex.message);console.error(ex.stack)}}});bg8Y.bmT0x=bg8Y.bmT0x.eT0x(function(d8f){var bj8b=d8f.args,Y8Q=bj8b[1].toLowerCase();if(Y8Q=="opacity"&&!(Y8Q in document.body.style)){bj8b[1]="filter";bj8b[2]="alpha(opacity="+bj8b[2]*100+")"}});bg8Y.bnh0x=function(){var fk0x=30;return bg8Y.bnh0x.eT0x(function(d8f){var H8z=d8f.args[0];if(!H8z.styleSheet)return;d8f.stopped=!0;var lb2x=d8f.args[1];var j8b=document.styleSheets;if(j8b.length>fk0x){H8z=j8b[fk0x];lb2x=H8z.cssText+lb2x}else{H8z=H8z.styleSheet}H8z.cssText=lb2x})}();bg8Y.bnj0x=bg8Y.bnj0x.eT0x(function(d8f){var bj8b=d8f.args,AV7O=bj8b[0].sheet;if(!!AV7O)return;d8f.stopped=!0;var AV7O=bj8b[0].styleSheet,br8j=AV7O.rules.length,bv9m=bj8b[1].split(/[\{\}]/);AV7O.addRule(bv9m[0],bv9m[1],br8j);d8f.value=AV7O.rules[br8j]});bg8Y.bmg0x=function(){var Ig9X=function(eo0x,d8f){a7h.y8q(h8b.ba8S(d8f),eo0x)};return bg8Y.bmg0x.eT0x(function(d8f){if(P8H.dC0x.release>="4.0")return;var bj8b=d8f.args;if(bj8b[1]!=1){h8b.s8k(bj8b[0],"blur",Ig9X.f8d(null,bj8b[2]));bj8b[1]=-1}})}();bg8Y.bag4k=function(baT5Y){return!0};bg8Y.bnl0x=bg8Y.bnl0x.eT0x(function(d8f){var bj8b=d8f.args,g8c=(bj8b[0].attributes||be8W)[bj8b[1]];if(!!g8c){d8f.stopped=!0;d8f.value=g8c.value}},function(d8f){var bj8b=d8f.args;if(bj8b[1]=="maxlength"&&d8f.value==2147483647)d8f.value=""});if(P8H.dC0x.release<5){bg8Y.bmu0x=function(){var et0x,fb0x,kS2x=[],bnH0x="cb-"+ +(new Date),bt9k='<script>parent.nej.h["'+bnH0x+'"] = !0;parent.location.hash = decodeURIComponent("#<HASH>");</scr'+"ipt>";var bTC9t=function(){et0x=window.clearTimeout(et0x);if(!kS2x.length)return;var cZ9Q=kS2x.shift();try{var yD6x=fb0x.contentWindow.document;yD6x.open();yD6x.write("<head><title>");yD6x.write(document.title);yD6x.write("</title>");yD6x.write(bt9k.replace("#<HASH>",encodeURIComponent(cZ9Q)));yD6x.write("</head><body></body>");if(location.hostname!=document.domain)yD6x.domain=document.domain;yD6x.close();bg8Y[bnH0x]=!1}catch(ex){console.log(ex.message||ex);kS2x.unshift(cZ9Q)}et0x=window.setTimeout(bTC9t,50)};return bg8Y.bmu0x.eT0x(function(d8f){d8f.stopped=!0;var cZ9Q=d8f.args[0];if(!!bg8Y[bnH0x]||!fb0x&&!cZ9Q)return;kS2x.push(cZ9Q);if(!fb0x)fb0x=a7h.bbH5M();bTC9t()})}()}try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}})();
(function(){var c8g=NEJ.P,h8b=c8g("nej.v"),bg8Y=c8g("nej.h"),P8H=c8g("nej.p"),bbO5T=P8H.bVx9o;if(P8H.oG3x.gecko)return;var ZQ4U=function(){bbO5T.css3d=bbO5T.css3d||"MozPerspective"in document.body.style;if(!document.body.insertAdjacentElement)HTMLElement.prototype.insertAdjacentElement=function(jJ1x,H8z){if(!jJ1x||!H8z)return;switch(jJ1x){case"beforeEnd":this.appendChild(H8z);return;case"beforeBegin":this.parentNode.insertBefore(H8z,this);return;case"afterBegin":!this.firstChild?this.appendChild(H8z):this.insertBefore(H8z,this.firstChild);return;case"afterEnd":!this.nextSibling?this.parentNode.appendChild(H8z):this.parentNode.insertBefore(H8z,this.nextSibling);return}};if(!("innerText"in document.body)){HTMLElement.prototype["__defineGetter__"]("innerText",function(){return this.textContent});HTMLElement.prototype["__defineSetter__"]("innerText",function(bt9k){this.textContent=bt9k})}};bg8Y.Fq8i=function(){var ho1x=/^(?:transitionend|animationend|animationstart|animationiteration)$/i;return bg8Y.Fq8i.eT0x(function(d8f){var bj8b=d8f.args;if(ho1x.test(bj8b[1]||"")){d8f.stopped=!0;d8f.value=bj8b}})}();bg8Y.cDa7T=function(){var cJd8V=function(d8f){h8b.bi8a(d8f);h8b.ba8S(d8f).control.click()};return function(H8z){h8b.s8k(H8z,"click",cJd8V)}}();ZQ4U()})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),bg8Y=c8g("nej.h");var bci5n=function(){var nE3x=!!document.body.classList;return function(){return nE3x}}();var bUk9b=function(){var dr9i=/\s+/g;return function(gj0x){gj0x=(gj0x||"").trim();return!gj0x?null:new RegExp("(\\s|^)(?:"+gj0x.replace(dr9i,"|")+")(?=\\s|$)","g")}}();bg8Y.Zv4z=bg8Y.Zv4z.eT0x(function(d8f){if(bci5n())return;d8f.stopped=!0;var bj8b=d8f.args,H8z=a7h.A8s(bj8b[0]);if(!H8z||!bj8b[1]&&!bj8b[2])return;var gj0x=H8z.className||"";var Qu1x=" "+(bj8b[2]||""),Qt1x=bUk9b((bj8b[1]||"")+Qu1x);!!Qt1x&&(gj0x=gj0x.replace(Qt1x,"$1"));H8z.className=(gj0x+Qu1x).replace(/\s+/g," ").trim()});bg8Y.blL0x=bg8Y.blL0x.eT0x(function(d8f){if(bci5n())return;d8f.stopped=!0;var bj8b=d8f.args;bg8Y.Zv4z(bj8b[0],"",bj8b[1])});bg8Y.blN0x=bg8Y.blN0x.eT0x(function(d8f){if(bci5n())return;d8f.stopped=!0;var bj8b=d8f.args;bg8Y.Zv4z(bj8b[0],bj8b[1],"")});bg8Y.blO0x=bg8Y.blO0x.eT0x(function(d8f){if(bci5n())return;d8f.stopped=!0;var bj8b=d8f.args,H8z=a7h.A8s(bj8b[0]);if(!H8z){d8f.value=!1;return}var dr9i=bUk9b(bj8b[1]);d8f.value=!dr9i?!1:dr9i.test(H8z.className||"")})})();
(function(){var c8g=NEJ.P,P8H=c8g("nej.p"),bg8Y=c8g("nej.h");if(P8H.oG3x.webkit)return;bg8Y.bag4k=function(baT5Y){return!0}})();
(function(){var c8g=NEJ.P,bg8Y=c8g("nej.h"),a7h=c8g("nej.e"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),di9Z=c8g("nej.x"),Q8I={};var bUm9d=function(H8z){H8z=a7h.A8s(H8z);if(!H8z||!Q8I[H8z.id])return;var bda5f=!0,D8v=H8z.id;k8c.eR0x(Q8I[D8v],function(){bda5f=!1;return!0});if(bda5f)delete Q8I[D8v]};h8b.s8k=di9Z.s8k=function(){var cLx9o=function(){var bj8b=bg8Y.Fq8i.apply(bg8Y,arguments);if(!bj8b||!bj8b[2])return;var xN6H=a7h.mu2x(bj8b[0]),qr3x=Q8I[xN6H]||{};Q8I[xN6H]=qr3x;xN6H=bj8b[4]||bj8b[1];var EL8D=qr3x[xN6H]||[];qr3x[xN6H]=EL8D;EL8D.push({type:bj8b[1],func:bj8b[2],capt:!!bj8b[3],sfun:bj8b[5]||bj8b[2]});return bj8b.slice(0,4)};return function(){var bj8b=cLx9o.apply(null,arguments);if(!!bj8b)bg8Y.bmJ0x.apply(bg8Y,bj8b);return this}}();h8b.nt3x=di9Z.nt3x=function(){var cMN9E=function(){var uL5Q=arguments,xN6H=a7h.mu2x(uL5Q[0]),qr3x=Q8I[xN6H],t8l=(uL5Q[1]||"").toLowerCase(),d8f=uL5Q[2];if(!qr3x||!t8l||!d8f)return;qr3x=qr3x[t8l];if(!qr3x)return;var cMP9G=!!uL5Q[3],r8j=k8c.du0x(qr3x,function(jQ1x){return d8f==jQ1x.sfun&&cMP9G==jQ1x.capt});if(r8j<0)return;var jQ1x=qr3x.splice(r8j,1)[0];return!jQ1x?null:[a7h.A8s(xN6H),jQ1x.type,jQ1x.func,jQ1x.capt]};return function(){var bj8b=cMN9E.apply(null,arguments);if(!!bj8b){bg8Y.bcb5g.apply(bg8Y,bj8b);bUm9d(bj8b[0])}return this}}();h8b.hE1x=di9Z.hE1x=function(){var bUr9i=function(){var uL5Q=arguments,xN6H=a7h.mu2x(uL5Q[0]),qr3x=Q8I[xN6H],EL8D=(uL5Q[1]||"").toLowerCase();if(!qr3x||!EL8D)return;var H8z=a7h.A8s(xN6H);k8c.or3x(qr3x[EL8D],function(jQ1x,r8j,j8b){bg8Y.bcb5g(H8z,jQ1x.type,jQ1x.func,jQ1x.capt);j8b.splice(r8j,1)});delete qr3x[EL8D]};var cPb9S=function(H8z){H8z=a7h.A8s(H8z);if(!H8z)return;var D8v=H8z.id;k8c.eR0x(Q8I[D8v],function(j8b,t8l){bUr9i(D8v,t8l)});delete Q8I[D8v]};return function(H8z,t8l){!t8l?cPb9S(H8z):bUr9i(H8z,t8l);bUm9d(H8z);return this}}();h8b.ba8S=function(){var bnO0x;var Qd1x=function(Y8Q,H8z){var bv9m=Y8Q.split(":");if(bv9m.length>1){if(!bnO0x)bnO0x={c:a7h.bG9x,d:a7h.u8m,a:a7h.hl1x};var Qb1x=bnO0x[bv9m[0]];if(!!Qb1x)return!!Qb1x(H8z,bv9m[1]);Y8Q=bv9m[1]}return!!a7h.hl1x(H8z,Y8Q)||!!a7h.u8m(H8z,Y8Q)||a7h.bG9x(H8z,Y8Q)};return function(d8f){if(!d8f)return null;var H8z=d8f.target||d8f.srcElement,ek0x=arguments[1];if(!ek0x)return H8z;if(k8c.fX0x(ek0x))ek0x=Qd1x.f8d(null,ek0x);if(k8c.hf1x(ek0x)){while(H8z){if(!!ek0x(H8z))return H8z;H8z=H8z.parentNode}return null}return H8z}}();h8b.bi8a=function(d8f){h8b.uQ5V(d8f);h8b.cu9l(d8f);return this};h8b.uQ5V=function(d8f){if(!!d8f){!!d8f.stopPropagation?d8f.stopPropagation():d8f.cancelBubble=!0}return this};h8b.cu9l=function(d8f){if(!!d8f){!!d8f.preventDefault?d8f.preventDefault():d8f.returnValue=!1}return this};h8b.cPp9g=function(){var so4s=!1;var cPh9Y=function(){if(so4s)return;so4s=!0;h8b.s8k(document,"click",cOW9N,!0)};var cOW9N=function(d8f){var H8z=h8b.ba8S(d8f),cOR9I=a7h.u8m(H8z,"stopped");if(cOR9I=="true"){h8b.bi8a(d8f);a7h.u8m(H8z,"stopped","false")}};return function(d8f){if(!d8f)return;if(d8f.type=="click"){h8b.bi8a(d8f);return}cPh9Y();a7h.u8m(h8b.ba8S(d8f),"stopped","true")}}();h8b.kr2x=function(d8f){return d8f.pageX!=null?d8f.pageX:d8f.clientX+a7h.qv3x().scrollLeft};h8b.nf2x=function(d8f){return d8f.pageY!=null?d8f.pageY:d8f.clientY+a7h.qv3x().scrollTop};h8b.z8r=di9Z.z8r=function(H8z,t8l,e8e){var bj8b=bg8Y.Fq8i(H8z,t8l);if(!!bj8b)bg8Y.bmP0x(bj8b[0],bj8b[1],e8e);return this};c8g("dbg").dumpEV=function(){return Q8I};di9Z.isChange=!0})();
(function(){var o=!0,w=null;(function(B){function v(a){if("bug-string-char-index"==a)return"a"!="a"[0];var f,c="json"==a;if(c||"json-stringify"==a||"json-parse"==a){if("json-stringify"==a||c){var d=k.stringify,b="function"==typeof d&&l;if(b){(f=function(){return 1}).toJSON=f;try{b="0"===d(0)&&"0"===d(new Number)&&'""'==d(new String)&&d(m)===r&&d(r)===r&&d()===r&&"1"===d(f)&&"[1]"==d([f])&&"[null]"==d([r])&&"null"==d(w)&&"[null,null,null]"==d([r,m,w])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==d({a:[f,o,!1,w,"\0\b\n\f\r\t"]})&&"1"===d(w,f)&&"[\n 1,\n 2\n]"==d([1,2],w,1)&&'"-271821-04-20T00:00:00.000Z"'==d(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==d(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==d(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==d(new Date(-1))}catch(n){b=!1}}if(!c)return b}if("json-parse"==a||c){a=k.parse;if("function"==typeof a)try{if(0===a("0")&&!a(!1)){f=a('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var e=5==f.a.length&&1===f.a[0];if(e){try{e=!a('"\t"')}catch(g){}if(e)try{e=1!==a("01")}catch(i){}}}}catch(O){e=!1}if(!c)return e}return b&&e}}var m={}.toString,p,C,r,D=typeof define==="function"&&define.amd,k="object"==typeof exports&&exports;k||D?"object"==typeof JSON&&JSON?k?(k.stringify=JSON.stringify,k.parse=JSON.parse):k=JSON:D&&(k=B.JSON={}):k=B.JSON||(B.JSON={});var l=new Date(-0xc782b5b800cec);try{l=-109252==l.getUTCFullYear()&&0===l.getUTCMonth()&&1===l.getUTCDate()&&10==l.getUTCHours()&&37==l.getUTCMinutes()&&6==l.getUTCSeconds()&&708==l.getUTCMilliseconds()}catch(P){}if(!v("json")){var s=v("bug-string-char-index");if(!l)var t=Math.floor,J=[0,31,59,90,120,151,181,212,243,273,304,334],z=function(a,f){return J[f]+365*(a-1970)+t((a-1969+(f=+(f>1)))/4)-t((a-1901+f)/100)+t((a-1601+f)/400)};if(!(p={}.hasOwnProperty))p=function(a){var f={},c;if((f.__proto__=w,f.__proto__={toString:1},f).toString!=m)p=function(a){var f=this.__proto__,a=a in(this.__proto__=w,this);this.__proto__=f;return a};else{c=f.constructor;p=function(a){var f=(this.constructor||c).prototype;return a in this&&!(a in f&&this[a]===f[a])}}f=w;return p.call(this,a)};var K={"boolean":1,number:1,string:1,"undefined":1};C=function(a,f){var c=0,b,h,n;(b=function(){this.valueOf=0}).prototype.valueOf=0;h=new b;for(n in h)p.call(h,n)&&c++;b=h=w;if(c)c=c==2?function(a,f){var c={},b=m.call(a)=="[object Function]",d;for(d in a)!(b&&d=="prototype")&&!p.call(c,d)&&(c[d]=1)&&p.call(a,d)&&f(d)}:function(a,f){var c=m.call(a)=="[object Function]",b,d;for(b in a)!(c&&b=="prototype")&&p.call(a,b)&&!(d=b==="constructor")&&f(b);(d||p.call(a,b="constructor"))&&f(b)};else{h=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];c=function(a,f){var c=m.call(a)=="[object Function]",b,d;if(d=!c)if(d=typeof a.constructor!="function"){d=typeof a.hasOwnProperty;d=d=="object"?!!a.hasOwnProperty:!K[d]}d=d?a.hasOwnProperty:p;for(b in a)!(c&&b=="prototype")&&d.call(a,b)&&f(b);for(c=h.length;b=h[--c];d.call(a,b)&&f(b));}}c(a,f)};if(!v("json-stringify")){var L={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},u=function(a,f){return("000000"+(f||0)).slice(-a)},G=function(a){var f='"',b=0,d=a.length,h=d>10&&s,n;for(h&&(n=a.split(""));b<d;b++){var e=a.charCodeAt(b);switch(e){case 8:case 9:case 10:case 12:case 13:case 34:case 92:f=f+L[e];break;default:if(e<32){f=f+("\\u00"+u(2,e.toString(16)));break}f=f+(h?n[b]:s?a.charAt(b):a[b])}}return f+'"'},E=function(a,b,c,d,h,n,e){var g=b[a],i,j,k,l,q,s,v,x,y;try{g=b[a]}catch(A){}if(typeof g=="object"&&g){i=m.call(g);if(i=="[object Date]"&&!p.call(g,"toJSON"))if(g>-1/0&&g<1/0){if(z){k=t(g/864e5);for(i=t(k/365.2425)+1970-1;z(i+1,0)<=k;i++);for(j=t((k-z(i,0))/30.42);z(i,j+1)<=k;j++);k=1+k-z(i,j);l=(g%864e5+864e5)%864e5;q=t(l/36e5)%24;s=t(l/6e4)%60;v=t(l/1e3)%60;l=l%1e3}else{i=g.getUTCFullYear();j=g.getUTCMonth();k=g.getUTCDate();q=g.getUTCHours();s=g.getUTCMinutes();v=g.getUTCSeconds();l=g.getUTCMilliseconds()}g=(i<=0||i>=1e4?(i<0?"-":"+")+u(6,i<0?-i:i):u(4,i))+"-"+u(2,j+1)+"-"+u(2,k)+"T"+u(2,q)+":"+u(2,s)+":"+u(2,v)+"."+u(3,l)+"Z"}else g=w;else if(typeof g.toJSON=="function"&&(i!="[object Number]"&&i!="[object String]"&&i!="[object Array]"||p.call(g,"toJSON")))g=g.toJSON(a)}c&&(g=c.call(b,a,g));if(g===w)return"null";i=m.call(g);if(i=="[object Boolean]")return""+g;if(i=="[object Number]")return g>-1/0&&g<1/0?""+g:"null";if(i=="[object String]")return G(""+g);if(typeof g=="object"){for(a=e.length;a--;)if(e[a]===g)throw TypeError();e.push(g);x=[];b=n;n=n+h;if(i=="[object Array]"){j=0;for(a=g.length;j<a;y||(y=o),j++){i=E(j,g,c,d,h,n,e);x.push(i===r?"null":i)}a=y?h?"[\n"+n+x.join(",\n"+n)+"\n"+b+"]":"["+x.join(",")+"]":"[]"}else{C(d||g,function(a){var b=E(a,g,c,d,h,n,e);b!==r&&x.push(G(a)+":"+(h?" ":"")+b);y||(y=o)});a=y?h?"{\n"+n+x.join(",\n"+n)+"\n"+b+"}":"{"+x.join(",")+"}":"{}"}e.pop();return a}};k.stringify=function(a,b,c){var d,h,j;if(typeof b=="function"||typeof b=="object"&&b)if(m.call(b)=="[object Function]")h=b;else if(m.call(b)=="[object Array]"){j={};for(var e=0,g=b.length,i;e<g;i=b[e++],(m.call(i)=="[object String]"||m.call(i)=="[object Number]")&&(j[i]=1));}if(c)if(m.call(c)=="[object Number]"){if((c=c-c%1)>0){d="";for(c>10&&(c=10);d.length<c;d=d+" ");}}else m.call(c)=="[object String]"&&(d=c.length<=10?c:c.slice(0,10));return E("",(i={},i[""]=a,i),h,j,d,"",[])}}if(!v("json-parse")){var M=String.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},b,A,j=function(){b=A=w;throw SyntaxError()},q=function(){for(var a=A,f=a.length,c,d,h,k,e;b<f;){e=a.charCodeAt(b);switch(e){case 9:case 10:case 13:case 32:b++;break;case 123:case 125:case 91:case 93:case 58:case 44:c=s?a.charAt(b):a[b];b++;return c;case 34:c="@";for(b++;b<f;){e=a.charCodeAt(b);if(e<32)j();else if(e==92){e=a.charCodeAt(++b);switch(e){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c=c+N[e];b++;break;case 117:d=++b;for(h=b+4;b<h;b++){e=a.charCodeAt(b);e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70||j()}c=c+M("0x"+a.slice(d,b));break;default:j()}}else{if(e==34)break;e=a.charCodeAt(b);for(d=b;e>=32&&e!=92&&e!=34;)e=a.charCodeAt(++b);c=c+a.slice(d,b)}}if(a.charCodeAt(b)==34){b++;return c}j();default:d=b;if(e==45){k=o;e=a.charCodeAt(++b)}if(e>=48&&e<=57){for(e==48&&(e=a.charCodeAt(b+1),e>=48&&e<=57)&&j();b<f&&(e=a.charCodeAt(b),e>=48&&e<=57);b++);if(a.charCodeAt(b)==46){for(h=++b;h<f&&(e=a.charCodeAt(h),e>=48&&e<=57);h++);h==b&&j();b=h}e=a.charCodeAt(b);if(e==101||e==69){e=a.charCodeAt(++b);(e==43||e==45)&&b++;for(h=b;h<f&&(e=a.charCodeAt(h),e>=48&&e<=57);h++);h==b&&j();b=h}return+a.slice(d,b)}k&&j();if(a.slice(b,b+4)=="true"){b=b+4;return o}if(a.slice(b,b+5)=="false"){b=b+5;return false}if(a.slice(b,b+4)=="null"){b=b+4;return w}j()}}return"$"},F=function(a){var b,c;a=="$"&&j();if(typeof a=="string"){if((s?a.charAt(0):a[0])=="@")return a.slice(1);if(a=="["){for(b=[];;c||(c=o)){a=q();if(a=="]")break;if(c)if(a==","){a=q();a=="]"&&j()}else j();a==","&&j();b.push(F(a))}return b}if(a=="{"){for(b={};;c||(c=o)){a=q();if(a=="}")break;if(c)if(a==","){a=q();a=="}"&&j()}else j();(a==","||typeof a!="string"||(s?a.charAt(0):a[0])!="@"||q()!=":")&&j();b[a.slice(1)]=F(q())}return b}j()}return a},I=function(a,b,c){c=H(a,b,c);c===r?delete a[b]:a[b]=c},H=function(a,b,c){var d=a[b],h;if(typeof d=="object"&&d)if(m.call(d)=="[object Array]")for(h=d.length;h--;)I(d,h,c);else C(d,function(a){I(d,a,c)});return c.call(a,b,d)};k.parse=function(a,f){var c,d;b=0;A=""+a;c=F(q());q()!="$"&&j();b=A=w;return f&&m.call(f)=="[object Function]"?H((d={},d[""]=c,d),"",f):c}}}D&&define(function(){return k})})(this)})();
(function(){var c8g=NEJ.P,P8H=c8g("nej.p");if(P8H.oG3x.trident0)return;JSON.parse=JSON.parse.eT0x(function(d8f){var cT9K=d8f.args[0]||"";if(cT9K.length>=5e5){d8f.stopped=!0;d8f.value=eval("("+cT9K+")")}})})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,dZ0x=c8g("nej.g"),a7h=c8g("nej.e"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),bg8Y=c8g("nej.h"),di9Z=c8g("nej.x"),Qa1x,bnP0x={},Q8I=document.createDocumentFragment();a7h.mu2x=di9Z.mu2x=function(H8z){H8z=a7h.A8s(H8z);if(!H8z)return;var D8v=!!H8z.id?H8z.id:"auto-id-"+k8c.YQ4U(16);H8z.id=D8v;if(a7h.A8s(D8v)!=H8z)bnP0x[D8v]=H8z;return D8v};a7h.A8s=di9Z.A8s=function(H8z){var g8c=bnP0x[""+H8z];if(!!g8c)return g8c;if(!k8c.fX0x(H8z)&&!k8c.uR5W(H8z))return H8z;return document.getElementById(H8z)};a7h.dn9e=di9Z.dn9e=function(H8z,eo0x){H8z=a7h.A8s(H8z);if(!H8z)return null;var j8b=bg8Y.blJ0x(H8z);if(!!eo0x)k8c.or3x(j8b,function(g8c,r8j){if(!a7h.bG9x(g8c,eo0x))j8b.splice(r8j,1)});return j8b};a7h.F8x=di9Z.F8x=function(H8z,gj0x){H8z=a7h.A8s(H8z);return!H8z?null:bg8Y.blK0x(H8z,gj0x.trim())};a7h.bVp9g=di9Z.bVp9g=function(H8z){H8z=a7h.A8s(H8z);if(!!H8z){H8z=H8z.parentNode;while(!!H8z){if(H8z.scrollHeight>H8z.clientHeight)break;H8z=H8z.parentNode}if(!!H8z)return H8z}var qr3x=document.body.scrollHeight,EL8D=document.documentElement.scrollHeight;return EL8D>=qr3x?document.documentElement:document.body};a7h.qv3x=function(){var bVw9n=function(j8b){var m8e=0;k8c.bf8X(j8b,function(eH0x){if(!eH0x)return;if(!m8e){m8e=eH0x}else{m8e=Math.min(m8e,eH0x)}});return m8e};return function(yD6x){var PX1x=yD6x||document,EF8x=PX1x.body,EE8w=PX1x.documentElement,m8e={scrollTop:Math.max(EF8x.scrollTop,EE8w.scrollTop),scrollLeft:Math.max(EF8x.scrollLeft,EE8w.scrollLeft),clientWidth:bVw9n([EF8x.clientWidth,EF8x.offsetWidth,EE8w.clientWidth,EE8w.offsetWidth]),clientHeight:bVw9n([EF8x.clientHeight,EF8x.offsetHeight,EE8w.clientHeight,EE8w.offsetHeight])};m8e.scrollWidth=Math.max(m8e.clientWidth,EF8x.scrollWidth,EE8w.scrollWidth);m8e.scrollHeight=Math.max(m8e.clientHeight,EF8x.scrollHeight,EE8w.scrollHeight);return m8e}}();a7h.cPr9i=function(fk0x,qp3x){var m8e=NEJ.X({},qp3x),bVT9K=fk0x.width/fk0x.height,bfa6U=qp3x.width/qp3x.height;if(bVT9K>bfa6U&&qp3x.height>fk0x.height){m8e.height=fk0x.height;m8e.width=m8e.height*bfa6U}if(bVT9K<bfa6U&&qp3x.width>fk0x.width){m8e.width=fk0x.width;m8e.height=m8e.width/bfa6U}return m8e};a7h.cPs9j=function(){var dr9i=/\s+/;var ye6Y={left:function(){return 0},center:function(hZ1x,qp3x){return(hZ1x.width-qp3x.width)/2},right:function(hZ1x,qp3x){return hZ1x.width-qp3x.width},top:function(){return 0},middle:function(hZ1x,qp3x){return(hZ1x.height-qp3x.height)/2},bottom:function(hZ1x,qp3x){return hZ1x.height-qp3x.height}};return function(hZ1x,qp3x,ph3x){var m8e={},bv9m=(ph3x||"").split(dr9i),gU1x=ye6Y[bv9m[1]]||ye6Y.middle,hz1x=ye6Y[bv9m[0]]||ye6Y.center;m8e.top=gU1x(hZ1x,qp3x);m8e.left=hz1x(hZ1x,qp3x);return m8e}}();a7h.vy5D=di9Z.vy5D=function(H8z,eo0x){bg8Y.blP0x(H8z,eo0x||a7h.u8m(H8z,"hover")||"js-hover");return this};a7h.PU1x=di9Z.PU1x=function(H8z){H8z=a7h.A8s(H8z);if(!H8z)return;bg8Y.blY0x(H8z)};a7h.cOy9p=di9Z.cOy9p=function(){var Q8I={},bWr9i=2;var cOt9k=function(D8v,eo0x,d8f){Q8I[D8v]=[h8b.kr2x(d8f),h8b.nf2x(d8f)];a7h.w8o(D8v,eo0x)};var cOf9W=function(D8v,eo0x,d8f){var bN9E=Q8I[D8v];if(!k8c.el0x(bN9E))return;var cOd9U=Math.abs(h8b.kr2x(d8f)-bN9E[0]),cNX9O=Math.abs(h8b.nf2x(d8f)-bN9E[1]);if(cOd9U>bWr9i||cNX9O>bWr9i)bob0x(D8v,eo0x)};var bob0x=function(D8v,eo0x){if(k8c.el0x(Q8I[D8v])){Q8I[D8v]=-1;a7h.y8q(D8v,eo0x)}};return function(H8z,eo0x){var D8v=a7h.mu2x(H8z);if(!D8v||Q8I[D8v]!=null)return;Q8I[D8v]=-1;eo0x=eo0x||a7h.u8m(D8v,"highlight")||"js-highlight";h8b.s8k(D8v,"touchstart",cOt9k.f8d(null,D8v,eo0x));h8b.s8k(document,"touchmove",cOf9W.f8d(null,D8v,eo0x));h8b.s8k(document,"touchend",bob0x.f8d(null,D8v,eo0x));h8b.s8k(document,"touchcancel",bob0x.f8d(null,D8v,eo0x))}}();a7h.Ep8h=di9Z.Ep8h=function(){var cNR9I=function(D8v,eo0x,cNO9F){var H8z=a7h.A8s(D8v),d8f={clazz:eo0x,target:H8z};if(a7h.bG9x(H8z,eo0x)){d8f.toggled=!1;a7h.y8q(H8z,eo0x)}else{d8f.toggled=!0;a7h.w8o(H8z,eo0x)}cNO9F.call(null,d8f)};return function(H8z,e8e){H8z=a7h.A8s(H8z);if(!!H8z){var iS1x={ontoggle:bs8k,clazz:"js-toggle",element:H8z.parentNode};if(k8c.fX0x(e8e)){var g8c=a7h.A8s(e8e);!!g8c?iS1x.element=g8c:iS1x.clazz=e8e}else{NEJ.EX(iS1x,e8e);iS1x.element=a7h.A8s(iS1x.element)}var D8v=a7h.mu2x(iS1x.element);h8b.s8k(H8z,"click",cNR9I.f8d(null,D8v,iS1x.clazz,iS1x.ontoggle||bs8k))}return this}}();a7h.nn3x=di9Z.nn3x=function(H8z,e8e){H8z=a7h.A8s(H8z);if(!H8z)return;var eE0x=0,eo0x="js-focus";if(k8c.uR5W(e8e)){eE0x=e8e}else if(k8c.fX0x(e8e)){eo0x=e8e}else if(k8c.mz2x(e8e)){eE0x=e8e.mode||eE0x;eo0x=e8e.clazz||eo0x}var C8u=parseInt(a7h.u8m(H8z,"mode"));if(!isNaN(C8u))eE0x=C8u;C8u=a7h.u8m(H8z,"focus");if(!!C8u)eo0x=C8u;bg8Y.bmg0x(H8z,eE0x,eo0x);return this};a7h.ds0x=function(){var bB9s={a:{href:"#",hideFocus:!0},style:{type:"text/css"},link:{type:"text/css",rel:"stylesheet"},iframe:{frameBorder:0},script:{defer:!0,type:"text/javascript"}};return function(fr0x,gj0x,bJ9A){var H8z=document.createElement(fr0x);NEJ.X(H8z,bB9s[fr0x.toLowerCase()]);if(!!gj0x)H8z.className=gj0x;bJ9A=a7h.A8s(bJ9A);if(!!bJ9A)bJ9A.appendChild(H8z);return H8z}}();a7h.bbH5M=function(){var cNN9E=function(){if(location.hostname==document.domain)return"about:blank";return'javascript:(function(){document.open();document.domain="'+document.domain+'";document.close();})();'};var cNM9D=function(Y8Q){Y8Q=Y8Q.trim();if(!Y8Q)return a7h.ds0x("iframe");var fb0x;try{fb0x=document.createElement('<iframe name="'+Y8Q+'"></iframe>');fb0x.frameBorder=0}catch(e){fb0x=a7h.ds0x("iframe");fb0x.name=Y8Q}return fb0x};return function(e8e){e8e=e8e||be8W;var fb0x=cNM9D(e8e.name||"");if(!e8e.visible)fb0x.style.display="none";if(k8c.hf1x(e8e.onload))h8b.s8k(fb0x,"load",function(d8f){if(!fb0x.src)return;h8b.hE1x(fb0x,"load");e8e.onload(d8f)});var bJ9A=e8e.parent;if(k8c.hf1x(bJ9A)){try{bJ9A(fb0x)}catch(e){}}else{(a7h.A8s(bJ9A)||document.body).appendChild(fb0x)}var dd9U=e8e.src||cNN9E();window.setTimeout(function(){fb0x.src=dd9U},0);return fb0x}}();a7h.cV9M=di9Z.cV9M=function(){var bZJ0x=function(Aj6d){Aj6d.src=dZ0x.bly0x};var cae0x=function(eI0x){eI0x.src="about:blank"};return function(H8z,cNC9t){H8z=a7h.A8s(H8z);if(!H8z)return this;if(!cNC9t)h8b.hE1x(H8z);delete bnP0x[H8z.id];var fr0x=H8z.tagName;if(fr0x=="IFRAME"){cae0x(H8z)}else if(fr0x=="IMG"){bZJ0x(H8z)}else if(!!H8z.getElementsByTagName){k8c.bf8X(H8z.getElementsByTagName("img"),bZJ0x);k8c.bf8X(H8z.getElementsByTagName("iframe"),cae0x)}if(!!H8z.parentNode){H8z.parentNode.removeChild(H8z)}return this}}();a7h.nq3x=di9Z.nq3x=function(H8z){H8z=a7h.A8s(H8z);if(!!H8z)Q8I.appendChild(H8z);return this};a7h.cam0x=di9Z.cam0x=function(H8z){H8z=a7h.A8s(H8z);if(!H8z)return;k8c.or3x(H8z.childNodes,function(g8c){a7h.cV9M(g8c)})};a7h.PS1x=di9Z.PS1x=function(){var eo0x,ho1x=/\s+/;var cNp9g=function(){if(!!eo0x)return;eo0x=a7h.uJ5O(".#<uispace>{position:relative;zoom:1;}.#<uispace>-show{position:absolute;top:0;left:100%;cursor:text;white-space:nowrap;overflow:hidden;}");a7h.cbq0x()};return function(H8z,e8e){H8z=a7h.A8s(H8z);if(!H8z)return;cNp9g();e8e=e8e||be8W;var bJ9A=H8z.parentNode;if(!a7h.bG9x(bJ9A,eo0x)){bJ9A=a7h.ds0x("span",eo0x);H8z.insertAdjacentElement("beforeBegin",bJ9A);bJ9A.appendChild(H8z)}var cbw0x=e8e.nid||"",g8c=a7h.F8x(bJ9A,cbw0x||eo0x+"-show")[0];if(!g8c){var eq0x=((e8e.clazz||"")+" "+cbw0x).trim();eq0x=eo0x+"-show"+(!eq0x?"":" ")+eq0x;g8c=a7h.ds0x(e8e.tag||"span",eq0x);bJ9A.appendChild(g8c)}var eq0x=e8e.clazz;if(!!eq0x){eq0x=(eq0x||"").trim().split(ho1x)[0]+"-parent";a7h.w8o(bJ9A,eq0x)}return g8c}}();a7h.u8m=di9Z.u8m=function(){var bol0x={},fr0x="data-",dr9i=/\-(.{1})/gi;var od3x=function(H8z){var D8v=a7h.mu2x(H8z);if(!!bol0x[D8v])return;var bB9s={};k8c.bf8X(H8z.attributes,function(g8c){var K8C=g8c.nodeName;if(K8C.indexOf(fr0x)!=0)return;K8C=K8C.replace(fr0x,"").replace(dr9i,function($1,$2){return $2.toUpperCase()});bB9s[K8C]=g8c.nodeValue||""});bol0x[D8v]=bB9s};return function(H8z,K8C,C8u){H8z=a7h.A8s(H8z);if(!H8z)return null;var beb6V=H8z.dataset;if(!beb6V){od3x(H8z);beb6V=bol0x[H8z.id]}if(C8u!==undefined)beb6V[K8C]=C8u;return beb6V[K8C]}}();a7h.hl1x=di9Z.hl1x=function(H8z,Y8Q,C8u){H8z=a7h.A8s(H8z);if(!H8z)return"";if(C8u!==undefined&&!!H8z.setAttribute)H8z.setAttribute(Y8Q,C8u);return bg8Y.bnl0x(H8z,Y8Q)};a7h.pa3x=function(eg0x){var te4i=document.createElement("div");te4i.innerHTML=eg0x;var j8b=a7h.dn9e(te4i);return j8b.length>1?te4i:j8b[0]};a7h.cNa9R=di9Z.cNa9R=function(H8z){H8z=a7h.A8s(H8z);return!H8z?"":bg8Y.bmi0x(H8z)};a7h.ccw1x=function(Fw8o){Fw8o=(Fw8o||"").trim();return!Fw8o?null:bg8Y.bmk0x(Fw8o)};a7h.cMW9N=function(cM9D,t8l){cM9D=cM9D||"";switch(t8l){case"xml":cM9D=a7h.ccw1x(cM9D);break;case"json":try{cM9D=JSON.parse(cM9D)}catch(ex){cM9D=null}break}return cM9D};a7h.ir1x=di9Z.ir1x=function(){var cMR9I=function(H8z){return H8z==document.body||H8z==document.documentElement};return function(ej0x,oe3x){ej0x=a7h.A8s(ej0x);if(!ej0x)return null;oe3x=a7h.A8s(oe3x)||null;var m8e={x:0,y:0},boo0x,dA0x,bhT8L;while(!!ej0x&&ej0x!=oe3x){boo0x=cMR9I(ej0x);dA0x=boo0x?0:ej0x.scrollLeft;bhT8L=parseInt(a7h.dp9g(ej0x,"borderLeftWidth"))||0;m8e.x+=ej0x.offsetLeft+bhT8L-dA0x;dA0x=boo0x?0:ej0x.scrollTop;bhT8L=parseInt(a7h.dp9g(ej0x,"borderTopWidth"))||0;m8e.y+=ej0x.offsetTop+bhT8L-dA0x;ej0x=ej0x.offsetParent}return m8e}}();a7h.om3x=di9Z.om3x=function(H8z){var bl8d=a7h.ir1x(H8z);window.scrollTo(bl8d.x,bl8d.y);return this};a7h.cPw9n=function(qz3x){qz3x=(qz3x||"").trim();return bg8Y.bQc7V(qz3x)};a7h.cMM9D=di9Z.cMM9D=function(H8z,Y8Q,bB9s){H8z=a7h.A8s(H8z);if(!H8z)return this;var C8u=bg8Y.bLY6S(Y8Q,bB9s);if(!C8u)return this;a7h.bd8V(H8z,"transform",C8u);return this};a7h.fv0x=di9Z.fv0x=function(H8z,bB9s){H8z=a7h.A8s(H8z);if(!!H8z)k8c.eR0x(bB9s,function(C8u,Y8Q){a7h.bd8V(H8z,Y8Q,C8u)});return this};a7h.cMJ9A=di9Z.cMJ9A=function(gF1x,e8e){gF1x=a7h.A8s(gF1x);if(!gF1x)return{start:0,end:0};if(k8c.uR5W(e8e))e8e={start:e8e,end:e8e};if(e8e!=null){if(e8e.end==null)e8e.end=e8e.start||0;bg8Y.bma0x(gF1x,e8e)}else{e8e=bg8Y.bmd0x(gF1x)}return e8e};a7h.bd8V=di9Z.bd8V=function(H8z,Y8Q,C8u){H8z=a7h.A8s(H8z);if(!!H8z)bg8Y.bmT0x(H8z,Y8Q,C8u);return this};a7h.dp9g=di9Z.dp9g=function(H8z,Y8Q){H8z=a7h.A8s(H8z);if(!H8z)return"";var hJ1x=!window.getComputedStyle?H8z.currentStyle||be8W:window.getComputedStyle(H8z,null);return hJ1x[bg8Y.bMF6z(Y8Q)]||""};a7h.ccN1x=function(){var dr9i=/[\s\r\n]+/gi;return function(cm9d){cm9d=(cm9d||"").trim().replace(dr9i," ");if(!cm9d)return;var g8c=a7h.ds0x("style");document.head.appendChild(g8c);bg8Y.bnh0x(g8c,bg8Y.cAn6h(cm9d));return g8c}}();a7h.cdv1x=function(AC7v){try{AC7v=AC7v.trim();if(!!AC7v)return(new Function(AC7v))()}catch(ex){console.error(ex.message);console.error(ex.stack)}};a7h.uJ5O=function(){var dr9i=/#<.*?>/g,hb1x=+(new Date);return function(lb2x){if(!Qa1x)Qa1x=[];var gj0x="auto-"+hb1x++;Qa1x.push(lb2x.replace(dr9i,gj0x));return gj0x}}();a7h.cbq0x=function(){if(!!Qa1x){a7h.ccN1x(Qa1x.join(""));Qa1x=null}return this};a7h.cPy9p=function(cm9d,lb2x){cm9d=a7h.A8s(cm9d);return!cm9d?null:bg8Y.bnj0x(cm9d,lb2x)};a7h.w8o=di9Z.w8o=function(){bg8Y.blL0x.apply(bg8Y,arguments);return this};a7h.y8q=di9Z.y8q=function(){bg8Y.blN0x.apply(bg8Y,arguments);return this};a7h.fx0x=di9Z.fx0x=function(){bg8Y.Zv4z.apply(bg8Y,arguments);return this};a7h.bG9x=di9Z.bG9x=function(){return bg8Y.blO0x.apply(bg8Y,arguments)};if(!document.head)document.head=document.getElementsByTagName("head")[0]||document.body;di9Z.isChange=!0})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,fN0x=NEJ.R,bs8k=NEJ.F,a7h=c8g("nej.e"),bg8Y=c8g("nej.h"),k8c=c8g("nej.u");var HP9G=function(i8a,t8l){try{t8l=t8l.toLowerCase();if(i8a===null)return t8l=="null";if(i8a===undefined)return t8l=="undefined";return be8W.toString.call(i8a).toLowerCase()=="[object "+t8l+"]"}catch(e){return!1}};k8c.hf1x=function(i8a){return HP9G(i8a,"function")};k8c.fX0x=function(i8a){return HP9G(i8a,"string")};k8c.uR5W=function(i8a){return HP9G(i8a,"number")};k8c.cPz9q=function(i8a){return HP9G(i8a,"boolean")};k8c.IC9t=function(i8a){return HP9G(i8a,"date")};k8c.el0x=function(i8a){return HP9G(i8a,"array")};k8c.mz2x=function(i8a){return HP9G(i8a,"object")};k8c.fS0x=function(){var dr9i=/[^\x00-\xfff]/g;return function(bt9k){return(""+(bt9k||"")).replace(dr9i,"**").length}}();k8c.du0x=function(j8b,p8h){var ek0x=k8c.hf1x(p8h)?p8h:function(C8u){return C8u===p8h},r8j=k8c.eR0x(j8b,ek0x);return r8j!=null?r8j:-1};k8c.cPB9s=function(){var cdH1x;var Yv3x=function(j8b,qm3x,ql3x){if(qm3x>ql3x)return-1;var JY9P=Math.ceil((qm3x+ql3x)/2),m8e=cdH1x(j8b[JY9P],JY9P,j8b);if(m8e==0)return JY9P;if(m8e<0)return Yv3x(j8b,qm3x,JY9P-1);return Yv3x(j8b,JY9P+1,ql3x)};return function(j8b,Qb1x){cdH1x=Qb1x||bs8k;return Yv3x(j8b,0,j8b.length-1)}}();k8c.or3x=function(j8b,cJ9A,O8G){if(!j8b||!j8b.length||!k8c.hf1x(cJ9A))return null;for(var i=j8b.length-1;i>=0;i--)if(!!cJ9A.call(O8G,j8b[i],i,j8b))return i;return null};k8c.bf8X=function(j8b,cJ9A,O8G){if(!j8b||!j8b.length||!k8c.hf1x(cJ9A))return this;if(!!j8b.forEach){j8b.forEach(cJ9A,O8G);return this}for(var i=0,l=j8b.length;i<l;i++)cJ9A.call(O8G,j8b[i],i,j8b);return this};k8c.eR0x=function(j8b,cJ9A,O8G){if(!j8b||!k8c.hf1x(cJ9A))return null;if(j8b.length!=null){if(j8b.length>0)for(var i=0,l=j8b.length;i<l;i++)if(!!cJ9A.call(O8G,j8b[i],i,j8b))return i}if(k8c.mz2x(j8b)){for(var x in j8b)if(j8b.hasOwnProperty(x)&&!!cJ9A.call(O8G,j8b[x],x,j8b))return x}return null};k8c.cMo9f=function(jS1x,cMn9e,e8e){jS1x=jS1x||[];e8e=e8e||be8W;var cdL1x=!!e8e.union,yI6C=!!e8e.begin,bdo5t=e8e.compare,cMl9c=cdL1x&&yI6C?k8c.or3x:k8c.bf8X;cMl9c(cMn9e,function(p8h){if(!!bdo5t)bdo5t=bdo5t.eO0x(p8h);var r8j=k8c.du0x(jS1x,bdo5t||p8h);if(r8j>=0)jS1x.splice(r8j,1);if(cdL1x)jS1x[yI6C?"unshift":"push"](p8h)});return jS1x};k8c.DN8F=function(bB9s,bt9k){if(!bB9s||!bt9k||!bt9k.replace)return bt9k||"";return bt9k.replace(bB9s.r,function($1){var m8e=bB9s[!bB9s.i?$1.toLowerCase():$1];return m8e!=null?m8e:$1})};k8c.dP0x=function(){var bB9s={r:/\<|\>|\&lt;|\&gt;|\&|\r|\n|\s|\'|\"/g,"<":"&lt;",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;","'":"&#39;","\n":"<br/>","\r":"","&lt;":"&lt;","&gt;":"&gt;"};return function(bt9k){return k8c.DN8F(bB9s,bt9k)}}();k8c.DM8E=function(){var bB9s={r:/\&(?:lt|gt|amp|nbsp|#39|quot)\;|\<br\/\>/gi,"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&#39;":"'","&quot;":'"',"<br/>":"\n"};return function(bt9k){return k8c.DN8F(bB9s,bt9k)}}();k8c.iv1x=function(){var bB9s={i:!0,r:/\byyyy|yy|MM|cM|eM|M|dd|d|HH|H|mm|ms|ss|m|s|w|ct|et\b/g},cMk9b=["上午","下午"],cMj9a=["A.M.","P.M."],bor0x=["日","一","二","三","四","五","六"],cMc9T=["一","二","三","四","五","六","七","八","九","十","十一","十二"],cLZ9Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];var Yu3x=function(hB1x){hB1x=parseInt(hB1x)||0;return(hB1x<10?"0":"")+hB1x};var cLY9P=function(qY4c){return qY4c<12?0:1};return function(bA9r,PN1x,cLW9N){if(!bA9r||!PN1x)return"";bA9r=k8c.bhP8H(bA9r);bB9s.yyyy=bA9r.getFullYear();bB9s.yy=(""+bB9s.yyyy).substr(2);bB9s.M=bA9r.getMonth()+1;bB9s.MM=Yu3x(bB9s.M);bB9s.eM=cLZ9Q[bB9s.M-1];bB9s.cM=cMc9T[bB9s.M-1];bB9s.d=bA9r.getDate();bB9s.dd=Yu3x(bB9s.d);bB9s.H=bA9r.getHours();bB9s.HH=Yu3x(bB9s.H);bB9s.m=bA9r.getMinutes();bB9s.mm=Yu3x(bB9s.m);bB9s.s=bA9r.getSeconds();bB9s.ss=Yu3x(bB9s.s);bB9s.ms=bA9r.getMilliseconds();bB9s.w=bor0x[bA9r.getDay()];var bEN4R=cLY9P(bB9s.H);bB9s.ct=cMk9b[bEN4R];bB9s.et=cMj9a[bEN4R];if(!!cLW9N){bB9s.H=bB9s.H%12}return k8c.DN8F(bB9s,PN1x)}}();k8c.bhP8H=function(bA9r){var dj9a=bA9r;if(k8c.fX0x(bA9r))dj9a=new Date(Date.parse(bA9r));if(!k8c.IC9t(bA9r))dj9a=new Date(bA9r);return dj9a};k8c.PU1x=function(cLT9K,cLL9C){return(new Number(cLT9K)).toFixed(cLL9C)};k8c.box0x=function(){var ho1x=/([^\/:])\/.*$/,lp2x=/\/[^\/]+$/,Ju9l=/[#\?]/,boy0x=location.href.split(/[?#]/)[0],vV5a=document.createElement("a");var boB0x=function(jO1x){return(jO1x||"").indexOf("://")>0};var bGc4g=function(jO1x){return(jO1x||"").split(Ju9l)[0].replace(lp2x,"/")};var cLD9u=function(jO1x,gz1x){if(jO1x.indexOf("/")==0)return gz1x.replace(ho1x,"$1")+jO1x;return bGc4g(gz1x)+jO1x};boy0x=bGc4g(boy0x);return function(jO1x,gz1x){jO1x=(jO1x||"").trim();if(!boB0x(gz1x))gz1x=boy0x;if(!jO1x)return gz1x;if(boB0x(jO1x))return jO1x;jO1x=cLD9u(jO1x,gz1x);vV5a.href=jO1x;jO1x=vV5a.href;return boB0x(jO1x)?jO1x:vV5a.getAttribute("href",4)}}();k8c.cLz9q=function(){var dr9i=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(Z8R){if(dr9i.test(Z8R||""))return RegExp.$1.toLowerCase();return""}}();k8c.bGo4s=function(I8A,iS1x){if(!I8A)return iS1x;var Y8Q=I8A.tagName.toLowerCase(),j8b=a7h.dn9e(I8A);if(!j8b||!j8b.length){iS1x[Y8Q]=I8A.textContent||I8A.text||"";return iS1x}var cl9c={};iS1x[Y8Q]=cl9c;k8c.bf8X(j8b,function(g8c){k8c.bGo4s(g8c,cl9c)});return iS1x};k8c.cPC0x=function(Fw8o){try{return k8c.bGo4s(a7h.ccw1x(Fw8o),{})}catch(ex){return null}};k8c.Yq3x=function(iJ1x,Yp3x){var iS1x={};k8c.bf8X((iJ1x||"").split(Yp3x),function(Y8Q){var bbs5x=Y8Q.split("=");if(!bbs5x||!bbs5x.length)return;var K8C=bbs5x.shift();if(!K8C)return;iS1x[decodeURIComponent(K8C)]=decodeURIComponent(bbs5x.join("="))});return iS1x};k8c.xz6t=function(gQ1x,Yp3x,tO4S){if(!gQ1x)return"";var bv9m=[];for(var x in gQ1x){bv9m.push(encodeURIComponent(x)+"="+(!!tO4S?encodeURIComponent(gQ1x[x]):gQ1x[x]))}return bv9m.join(Yp3x||",")};k8c.ha1x=function(bx9o){return k8c.Yq3x(bx9o,"&")};k8c.cE9v=function(gQ1x){return k8c.xz6t(gQ1x,"&",!0)};k8c.cPD0x=function(gQ1x){return bg8Y.Qv1x(gQ1x)};k8c.cPE0x=function(j8b,ek0x){var m8e={};k8c.bf8X(j8b,function(p8h){var K8C=p8h;if(!!ek0x){K8C=ek0x(p8h)}m8e[K8C]=p8h});return m8e};k8c.cPH0x=function(hB1x,gx1x){var cLk9b=(""+hB1x).length,cLj9a=Math.max(1,parseInt(gx1x)||0),dA0x=cLj9a-cLk9b;if(dA0x>0){hB1x=(new Array(dA0x+1)).join("0")+hB1x}return""+hB1x};k8c.bcH5M=function(gQ1x,Y8Q){if(!k8c.el0x(Y8Q)){try{delete gQ1x[Y8Q]}catch(e){gQ1x[Y8Q]=undefined}return this}k8c.bf8X(Y8Q,k8c.bcH5M.f8d(k8c,gQ1x));return this};k8c.YQ4U=function(){var bHx5C="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";return function(br8j){br8j=br8j||10;var m8e=[];for(var i=0,bHG5L;i<br8j;++i){bHG5L=Math.floor(Math.random()*bHx5C.length);m8e.push(bHx5C.charAt(bHG5L))}return m8e.join("")}}();k8c.Dx7q=function(fH0x,fk0x){return Math.floor(Math.random()*(fk0x-fH0x)+fH0x)};k8c.oP3x=function(br8j){br8j=Math.max(0,Math.min(br8j||8,30));var fH0x=Math.pow(10,br8j-1),fk0x=fH0x*10;return k8c.Dx7q(fH0x,fk0x).toString()};k8c.bdl5q=function(){var hb1x=+(new Date);return function(){return""+hb1x++}}()})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,fN0x=NEJ.R,bs8k=NEJ.F,h8b=c8g("nej.v"),k8c=c8g("nej.u"),P8H=c8g("nej.ut"),qj3x;if(!!P8H.cO9F)return;P8H.cO9F=NEJ.C();qj3x=P8H.cO9F.prototype;P8H.cO9F.B8t=function(e8e){e8e=e8e||{};var cN9E=!!this.Dw7p&&this.Dw7p.shift();if(!cN9E){cN9E=new this(e8e);this.cLe9V=(this.cLe9V||0)+1}cN9E.bp8h(e8e);return cN9E};P8H.cO9F.W8O=function(){var Yk3x=function(p8h,r8j,j8b){p8h.W8O();j8b.splice(r8j,1)};return function(cN9E){if(!cN9E)return null;if(!k8c.el0x(cN9E)){if(!(cN9E instanceof this)){var gj0x=cN9E.constructor;if(!!gj0x.W8O)gj0x.W8O(cN9E);return null}if(cN9E==this.fF0x)delete this.fF0x;if(cN9E==this.Du7n)delete this.Du7n;cN9E.bC9t();if(!this.Dw7p)this.Dw7p=[];if(k8c.du0x(this.Dw7p,cN9E)<0){this.Dw7p.push(cN9E)}return null}k8c.or3x(cN9E,Yk3x,this)}}();P8H.cO9F.fW0x=function(e8e){e8e=e8e||{};if(!this.fF0x)this.fF0x=this.B8t(e8e);return this.fF0x};P8H.cO9F.bHN5S=function(e8e,tK4O){e8e=e8e||{};if(!!tK4O&&!!this.Du7n){this.Du7n.W8O();delete this.Du7n}if(!this.Du7n){this.Du7n=this.B8t(e8e)}else{this.Du7n.bp8h(e8e)}return this.Du7n};qj3x.cC9t=function(){var hb1x=+(new Date);return function(){this.id=hb1x++;this.mM2x={};this.bHQ5V={}}}();qj3x.bp8h=function(e8e){this.boO0x(e8e)};qj3x.bC9t=function(){this.hE1x();this.PL1x()};qj3x.bZ9Q=function(){var hb1x=+(new Date);var cKU8M=function(bj8b){if(!bj8b||bj8b.length<3)return;this.bHQ5V["de-"+hb1x++]=bj8b;h8b.s8k.apply(h8b,bj8b)};return function(j8b){k8c.bf8X(j8b,cKU8M,this)}}();qj3x.PL1x=function(){var cKT8L=function(bj8b,K8C,bB9s){delete bB9s[K8C];h8b.nt3x.apply(h8b,bj8b)};return function(){k8c.eR0x(this.bHQ5V,cKT8L)}}();qj3x.cPK0x=function(ek0x){ek0x=ek0x||bs8k;k8c.eR0x(this,function(GJ8B,K8C,bB9s){if(!!GJ8B&&!!GJ8B.W8O&&!ek0x(GJ8B)){delete bB9s[K8C];GJ8B.W8O()}})};qj3x.W8O=function(){this.constructor.W8O(this)};qj3x.boP0x=function(t8l){var d8f=this.mM2x[t8l.toLowerCase()];return!!d8f&&d8f!==bs8k};qj3x.s8k=function(t8l,d8f){this.ze6Y.apply(this,arguments);return this};qj3x.nt3x=function(t8l,d8f){var t8l=(t8l||"").toLowerCase(),cr9i=this.mM2x[t8l];if(!k8c.el0x(cr9i)){if(cr9i==d8f)delete this.mM2x[t8l];return}k8c.or3x(cr9i,function(eK0x,r8j,j8b){if(eK0x==d8f)j8b.splice(r8j,1)})};qj3x.ze6Y=function(t8l,d8f){if(!!t8l&&k8c.hf1x(d8f))this.mM2x[t8l.toLowerCase()]=d8f;return this};qj3x.boO0x=function(){var cKQ8I=function(d8f,t8l){this.ze6Y(t8l,d8f)};return function(cr9i){k8c.eR0x(cr9i,cKQ8I,this);return this}}();qj3x.hE1x=function(){var boQ0x=function(d8f,t8l){this.hE1x(t8l)};return function(t8l){var t8l=(t8l||"").toLowerCase();if(!!t8l){delete this.mM2x[t8l]}else{k8c.eR0x(this.mM2x,boQ0x,this)}return this}}();qj3x.boR0x=function(t8l,d8f){if(!t8l||!k8c.hf1x(d8f))return this;t8l=t8l.toLowerCase();var cr9i=this.mM2x[t8l];if(!cr9i){this.mM2x[t8l]=d8f;return this}if(!k8c.el0x(cr9i)){this.mM2x[t8l]=[cr9i]}this.mM2x[t8l].push(d8f);return this};qj3x.z8r=function(t8l){var d8f=this.mM2x[(t8l||"").toLowerCase()];if(!d8f)return this;var bj8b=fN0x.slice.call(arguments,1);if(!k8c.el0x(d8f))return d8f.apply(this,bj8b);k8c.bf8X(d8f,function(dG0x){try{dG0x.apply(this,bj8b)}catch(ex){console.error(ex.message);console.error(ex.stack)}},this);return this};P8H.bjG9x=function(){var Q8I={};return function(D8v,gj0x,e8e){var fA0x=gj0x.cKM8E;if(!fA0x){fA0x=k8c.YQ4U(10);gj0x.cKM8E=fA0x}var K8C=D8v+"-"+fA0x,cN9E=Q8I[K8C];if(!!e8e&&!cN9E){cN9E=gj0x.B8t(e8e);cN9E.W8O=cN9E.W8O.eT0x(function(d8f){delete Q8I[K8C];delete cN9E.W8O});Q8I[K8C]=cN9E}return cN9E}}()})();
(function(){var o=NEJ.O,u=NEJ.P("nej.u"),j=NEJ.P("nej.j");j.gW1x=function(){var dj9a=new Date,cKL8D=+dj9a,boS0x=864e5;var cKI8A=function(Y8Q){var ty4C=document.cookie,uz5E="\\b"+Y8Q+"=",bbm5r=ty4C.search(uz5E);if(bbm5r<0)return"";bbm5r+=uz5E.length-2;var zg6a=ty4C.indexOf(";",bbm5r);if(zg6a<0)zg6a=ty4C.length;return ty4C.substring(bbm5r,zg6a)||""};return function(Y8Q,i8a){if(i8a===undefined)return cKI8A(Y8Q);if(u.fX0x(i8a)){if(!!i8a){document.cookie=Y8Q+"="+i8a+";";return i8a}i8a={expires:-100}}i8a=i8a||o;var ty4C=Y8Q+"="+(i8a.value||"")+";";delete i8a.value;if(i8a.expires!==undefined){dj9a.setTime(cKL8D+i8a.expires*boS0x);i8a.expires=dj9a.toGMTString()}ty4C+=u.xz6t(i8a,";");document.cookie=ty4C}}()})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,eC0x=c8g("nej.c"),dZ0x=c8g("nej.g"),a7h=c8g("nej.e"),v8n=c8g("nej.j"),G8y=c8g("nej.ut"),P8H=c8g("nej.ut.j"),k8c=c8g("nej.u"),b8h;if(!!P8H.PE1x)return;P8H.PE1x=NEJ.C();b8h=P8H.PE1x.M8E(G8y.cO9F);b8h.bp8h=function(e8e){this.bq8i(e8e);this.qR4V={noescape:false,url:"",sync:!1,cookie:!1,type:"text",method:"GET",timeout:6e4};NEJ.EX(this.qR4V,e8e);var FP8H=eC0x.A8s("csrf");if((/^\/[^\/]/.test(this.qR4V.url)||this.qR4V.url.indexOf(location.protocol+"//"+location.host)==0)&&!!FP8H.cookie&&!!FP8H.param){var bx9o=encodeURIComponent(FP8H.param)+"="+encodeURIComponent(v8n.gW1x(FP8H.cookie)||""),Yp3x=this.qR4V.url.indexOf("?")<0?"?":"&";this.qR4V.url+=Yp3x+bx9o}this.bbQ5V=e8e.headers||{};var bt9k=this.bbQ5V[dZ0x.Am6g];if(bt9k==null)this.bbQ5V[dZ0x.Am6g]=dZ0x.crA4E};b8h.bC9t=function(){this.bH9y();delete this.Dn7g;delete this.qR4V;delete this.bbQ5V};b8h.cKG8y=function(bt9k){var bB9s={r:/\<|\>/g,"<":"&lt;",">":"&gt;"};if(!this.qR4V.noescape){return k8c.DN8F(bB9s,bt9k)}else{return bt9k}};b8h.wM5R=function(d8f){var dW0x=d8f.status;if(dW0x==-1){this.z8r("onerror",{code:dZ0x.bOq6k,message:"请求["+this.qR4V.url+"]超时！"});return}if((""+dW0x).indexOf("2")!=0){this.z8r("onerror",{data:dW0x,code:dZ0x.blx0x,message:"服务器返回异常状态["+dW0x+"]!",extData:d8f.result});return}this.z8r("onload",a7h.cMW9N(this.cKG8y(d8f.result),this.qR4V.type))};b8h.cp9g=bs8k;b8h.boU0x=function(i8a){var Z8R=this.qR4V.url;if(!Z8R){this.z8r("onerror",{code:dZ0x.blr0x,message:"没有输入请求地址！"});return this}try{this.qR4V.data=i8a==null?null:i8a;var d8f={request:this.qR4V,headers:this.bbQ5V};try{this.z8r("onbeforerequest",d8f)}catch(ex){console.error(ex.message);console.error(ex.stack)}this.cp9g(d8f)}catch(e){this.z8r("onerror",{code:dZ0x.blx0x,message:"请求["+Z8R+"]失败:"+e.message+"！"})}return this};b8h.lk2x=bs8k})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,bg8Y=c8g("nej.h"),dZ0x=c8g("nej.g"),k8c=c8g("nej.u"),P8H=c8g("nej.ut.j"),Q8I={},XU3x;if(!!P8H.bcX5c)return;P8H.bcX5c=NEJ.C();XU3x=P8H.bcX5c.M8E(P8H.PE1x);XU3x.bC9t=function(){this.bH9y();window.clearTimeout(this.dM0x);delete this.dM0x;try{this.tr4v.onreadystatechange=bs8k;this.tr4v.abort()}catch(e){}delete this.tr4v};XU3x.cp9g=function(){var cKE8w=function(C8u,K8C){this.tr4v.setRequestHeader(K8C,C8u)};return function(e8e){var gh0x=e8e.request,qh3x=e8e.headers;this.tr4v=bg8Y.boW0x();if(qh3x[dZ0x.Am6g]===dZ0x.IA9r){delete qh3x[dZ0x.Am6g];this.tr4v.upload.onprogress=this.gK1x.f8d(this,1);if(gh0x.data.tagName==="FORM")gh0x.data=new FormData(gh0x.data)}this.tr4v.onreadystatechange=this.gK1x.f8d(this,2);if(gh0x.timeout!=0){this.dM0x=window.setTimeout(this.gK1x.f8d(this,3),gh0x.timeout)}this.tr4v.open(gh0x.method,gh0x.url,!gh0x.sync);k8c.eR0x(qh3x,cKE8w,this);if(!!this.qR4V.cookie&&"withCredentials"in this.tr4v)this.tr4v.withCredentials=!0;this.tr4v.send(gh0x.data)}}();XU3x.gK1x=function(t8l){switch(t8l){case 1:this.z8r("onuploading",arguments[1]);break;case 2:if(this.tr4v.readyState==4)this.wM5R({status:this.tr4v.status,result:this.tr4v.responseText||""});break;case 3:this.wM5R({status:-1});break}};XU3x.lk2x=function(){this.wM5R({status:0});return this}})();
(function(){if(typeof TrimPath==="undefined"){TrimPath={};if(typeof exports!=="undefined")TrimPath=exports}var XT3x={},bdZ6T=[],bIs5x=/\s+/g,hb1x=+(new Date),PC1x,bU9L,iq1x;var GT8L=function(){var ho1x=/^\s*[\[\{'"].*?[\]\}'"]\s*$/,lp2x=/[\&\|\<\>\+\-\*\/\%\,\(\)\[\]\?\:\!\=\;\s]/,Ju9l=/^(?:defined|null|undefined|true|false|instanceof|new|this|typeof|\$v|[\d]+)$/i,bpe0x=/^new\s+/,cKl8d=/['"]/;var cKj8b=function(C8u){if(ho1x.test(C8u))return;C8u=C8u.split(".")[0].trim();if(!C8u||cKl8d.test(C8u))return;C8u=C8u.replace(bpe0x,"");try{if(Ju9l.test(C8u))return;iq1x[C8u]=1}catch(e){}};return function(bt9k){bt9k=bt9k||"";if(!bt9k||ho1x.test(bt9k))return;var bv9m=bt9k.split(lp2x);for(var i=0,l=bv9m.length;i<l;i++)cKj8b(bv9m[i])}}();var cKf8X=function(dS0x){if(dS0x[2]!="in")throw"bad for loop statement: "+dS0x.join(" ");bdZ6T.push(dS0x[1]);GT8L(dS0x[3]);return"var __HASH__"+dS0x[1]+" = "+dS0x[3]+","+dS0x[1]+","+dS0x[1]+"_count=0;"+"if (!!__HASH__"+dS0x[1]+")"+"for(var "+dS0x[1]+"_key in __HASH__"+dS0x[1]+"){"+dS0x[1]+" = __HASH__"+dS0x[1]+"["+dS0x[1]+"_key];"+"if (typeof("+dS0x[1]+')=="function") continue;'+dS0x[1]+"_count++;"};var cKe8W=function(){var dS0x=bdZ6T[bdZ6T.length-1];return"}; if(!__HASH__"+dS0x+"||!"+dS0x+"_count){"};var cKc8U=function(){bdZ6T.pop();return"};"};var cKa8S=function(dS0x){if(dS0x[2]!="as")throw"bad for list loop statement: "+dS0x.join(" ");var XO3x=dS0x[1].split("..");if(XO3x.length>1){GT8L(XO3x[0]);GT8L(XO3x[1]);return"for(var "+dS0x[3]+","+dS0x[3]+"_index=0,"+dS0x[3]+"_beg="+XO3x[0]+","+dS0x[3]+"_end="+XO3x[1]+","+dS0x[3]+"_length=parseInt("+dS0x[3]+"_end-"+dS0x[3]+"_beg+1);"+dS0x[3]+"_index<"+dS0x[3]+"_length;"+dS0x[3]+"_index++){"+dS0x[3]+" = "+dS0x[3]+"_beg+"+dS0x[3]+"_index;"}else{GT8L(dS0x[1]);return"for(var __LIST__"+dS0x[3]+" = "+dS0x[1]+","+dS0x[3]+","+dS0x[3]+"_index=0,"+dS0x[3]+"_length=__LIST__"+dS0x[3]+".length;"+dS0x[3]+"_index<"+dS0x[3]+"_length;"+dS0x[3]+"_index++){"+dS0x[3]+" = __LIST__"+dS0x[3]+"["+dS0x[3]+"_index];"}};var cJZ8R=function(dS0x){if(!dS0x||!dS0x.length)return;dS0x.shift();var Y8Q=dS0x[0].split("(")[0];return"var "+Y8Q+" = function"+dS0x.join("").replace(Y8Q,"")+"{var __OUT=[];"};var cJY8Q=function(dS0x){if(!dS0x[1])throw"bad include statement: "+dS0x.join(" ");return'if (typeof inline == "function"){__OUT.push(inline('};var bpl0x=function(lj2x,dS0x){GT8L(dS0x.slice(1).join(" "));return lj2x};var cJR8J=function(dS0x){return bpl0x("if(",dS0x)};var cJQ8I=function(dS0x){return bpl0x("}else if(",dS0x)};var cJP8H=function(dS0x){return bpl0x("var ",dS0x)};bU9L={blk:/^\{(cdata|minify|eval)/i,tag:"forelse|for|list|if|elseif|else|var|macro|break|notrim|trim|include",def:{"if":{pfix:cJR8J,sfix:"){",pmin:1},"else":{pfix:"}else{"},elseif:{pfix:cJQ8I,sfix:"){",pdft:"true"},"/if":{pfix:"}"},"for":{pfix:cKf8X,pmin:3},forelse:{pfix:cKe8W},"/for":{pfix:cKc8U},list:{pfix:cKa8S,pmin:3},"/list":{pfix:"};"},"break":{pfix:"break;"},"var":{pfix:cJP8H,sfix:";"},macro:{pfix:cJZ8R},"/macro":{pfix:'return __OUT.join("");};'},trim:{pfix:function(){PC1x=!0}},"/trim":{pfix:function(){PC1x=null}},inline:{pfix:cJY8Q,pmin:1,sfix:"));}"}},ext:{seed:function(lj2x){return(lj2x||"")+""+hb1x},"default":function(C8u,kW2x){return C8u||kW2x}}};var cJM8E=function(){var cJL8D=/\\([\{\}])/g;return function(bt9k,kp2x){bt9k=bt9k.replace(cJL8D,"$1");var dS0x=bt9k.slice(1,-1).split(bIs5x),bk8c=bU9L.def[dS0x[0]];if(!bk8c){bik9b(bt9k,kp2x);return}if(!!bk8c.pmin&&bk8c.pmin>=dS0x.length)throw"Statement needs more parameters:"+bt9k;kp2x.push(!!bk8c.pfix&&typeof bk8c.pfix!="string"?bk8c.pfix(dS0x):bk8c.pfix||"");if(!!bk8c.sfix){if(dS0x.length<=1){if(!!bk8c.pdft)kp2x.push(bk8c.pdft)}else{for(var i=1,l=dS0x.length;i<l;i++){if(i>1)kp2x.push(" ");kp2x.push(dS0x[i])}}kp2x.push(bk8c.sfix)}}}();var bJI5N=function(Px1x,kp2x){if(!Px1x||!Px1x.length)return;if(Px1x.length==1){var bpp0x=Px1x.pop();GT8L(bpp0x);kp2x.push(bpp0x==""?'""':bpp0x);return}var bpq0x=Px1x.pop().split(":");kp2x.push("__MDF['"+bpq0x.shift()+"'](");bJI5N(Px1x,kp2x);if(bpq0x.length>0){var bj8b=bpq0x.join(":");GT8L(bj8b);kp2x.push(","+bj8b)}kp2x.push(")")};var bik9b=function(bt9k,kp2x){if(!bt9k)return;var zC6w=bt9k.split("\n");if(!zC6w||!zC6w.length)return;for(var i=0,l=zC6w.length,ie1x;i<l;i++){ie1x=zC6w[i];if(!!PC1x){ie1x=ie1x.trim();if(!ie1x)continue}cJH8z(ie1x,kp2x);if(!!PC1x&&i<l-1)kp2x.push("__OUT.push('\\n');")}};var cJH8z=function(){var cJG8y=/\|\|/g,cJE8w=/#@@#/g;return function(bt9k,kp2x){var XF3x="}",XE3x=-1,br8j=bt9k.length,yI6C,dt0x,Pu1x,baw4A,Xz3x;while(XE3x+XF3x.length<br8j){yI6C="${";dt0x="}";Pu1x=bt9k.indexOf(yI6C,XE3x+XF3x.length);if(Pu1x<0)break;if(bt9k.charAt(Pu1x+2)=="%"){yI6C="${%";dt0x="%}"}baw4A=bt9k.indexOf(dt0x,Pu1x+yI6C.length);if(baw4A<0)break;baW5b(bt9k.substring(XE3x+XF3x.length,Pu1x),kp2x);Xz3x=bt9k.substring(Pu1x+yI6C.length,baw4A).replace(cJG8y,"#@@#").split("|");for(var i=0,l=Xz3x.length;i<l;Xz3x[i]=Xz3x[i].replace(cJE8w,"||"),i++);kp2x.push("__OUT.push(");bJI5N(Xz3x,kp2x);kp2x.push(");");XF3x=dt0x;XE3x=baw4A}baW5b(bt9k.substring(XE3x+XF3x.length),kp2x)}}();var baW5b=function(){var bB9s={r:/\n|\\|\'/g,"\n":"\\n","\\":"\\\\","'":"\\'"};var cJw8o=function(bt9k){return(bt9k||"").replace(bB9s.r,function($1){return bB9s[$1]||$1})};return function(bt9k,kp2x){if(!bt9k)return;kp2x.push("__OUT.push('"+cJw8o(bt9k)+"');")}}();var cJv8n=function(){var cJo8g=/\t/g,cJn8f=/\n/g,cJm8e=/\r\n?/g;var bKl5q=function(bt9k,yI6C){var r8j=bt9k.indexOf("}",yI6C+1);while(bt9k.charAt(r8j-1)=="\\"){r8j=bt9k.indexOf("}",r8j+1)}return r8j};var cJj8b=function(){var bv9m=[],KR0x=arguments[0];for(var x in KR0x){x=(x||"").trim();if(!x)continue;bv9m.push(x+"=$v('"+x+"')")}return bv9m.length>0?"var "+bv9m.join(",")+";":""};return function(bt9k){iq1x={};bt9k=bt9k.replace(cJm8e,"\n").replace(cJo8g,"    ");var sY4c=["if(!__CTX) return '';",""];sY4c.push("function $v(__NAME){var v = __CTX[__NAME];return v==null?window[__NAME]:v;};");sY4c.push("var defined=function(__NAME){return __CTX[__NAME]!=null;},");sY4c.push("__OUT=[];");var KZ0x=-1,br8j=bt9k.length;var nW3x,Pr1x,Xu3x,Xt3x,CO7H,Xs3x,bpD1x,Xr3x;while(KZ0x+1<br8j){nW3x=KZ0x;nW3x=bt9k.indexOf("{",nW3x+1);while(nW3x>=0){Pr1x=bKl5q(bt9k,nW3x);Xu3x=bt9k.substring(nW3x,Pr1x);Xt3x=Xu3x.match(bU9L.blk);if(!!Xt3x){CO7H=Xt3x[1].length+1;Xs3x=bt9k.indexOf("}",nW3x+CO7H);if(Xs3x>=0){bpD1x=Xs3x-nW3x-CO7H<=0?"{/"+Xt3x[1]+"}":Xu3x.substr(CO7H+1);CO7H=bt9k.indexOf(bpD1x,Xs3x+1);if(CO7H>=0){bik9b(bt9k.substring(KZ0x+1,nW3x),sY4c);Xr3x=bt9k.substring(Xs3x+1,CO7H);switch(Xt3x[1]){case"cdata":baW5b(Xr3x,sY4c);break;case"minify":baW5b(Xr3x.replace(cJn8f," ").replace(bIs5x," "),sY4c);break;case"eval":if(!!Xr3x)sY4c.push("__OUT.push((function(){"+Xr3x+"})());");break}nW3x=KZ0x=CO7H+bpD1x.length-1}}}else if(bt9k.charAt(nW3x-1)!="$"&&bt9k.charAt(nW3x-1)!="\\"&&Xu3x.substr(Xu3x.charAt(1)=="/"?2:1).search(bU9L.tag)==0){break}nW3x=bt9k.indexOf("{",nW3x+1)}if(nW3x<0)break;Pr1x=bKl5q(bt9k,nW3x);if(Pr1x<0)break;bik9b(bt9k.substring(KZ0x+1,nW3x),sY4c);cJM8E(bt9k.substring(nW3x,Pr1x+1),sY4c);KZ0x=Pr1x}bik9b(bt9k.substring(KZ0x+1),sY4c);sY4c.push(';return __OUT.join("");');sY4c[1]=cJj8b(iq1x);iq1x=null;return new Function("__CTX","__MDF",sY4c.join(""))}}();TrimPath.seed=function(){return hb1x};TrimPath.merge=function(){var Xo3x={};TrimPath.dump=function(){return{func:Xo3x,text:XT3x}};return function(fA0x,i8a,ke2x){try{i8a=i8a||{};if(!Xo3x[fA0x]&&!XT3x[fA0x])return"";if(!Xo3x[fA0x]){Xo3x[fA0x]=cJv8n(XT3x[fA0x]);delete XT3x[fA0x]}if(!!ke2x){for(var x in bU9L.ext)if(!ke2x[x])ke2x[x]=bU9L.ext[x]}return Xo3x[fA0x](i8a,ke2x||bU9L.ext)}catch(ex){return ex.message||""}}}();TrimPath.parse=function(){var cIX8P=+(new Date);return function(bt9k,fA0x){if(!bt9k)return"";fA0x=fA0x||"ck_"+cIX8P++;XT3x[fA0x]=bt9k;return fA0x}}()})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),k8c=c8g("nej.u"),eh0x={},bLg6a={};a7h.Pq1x=TrimPath.seed;a7h.cf9W=function(){var bLR6L=function(D8v){return!a7h.iN1x?"":a7h.iN1x(D8v)};return function(fA0x,i8a,ke2x){i8a=NEJ.X(NEJ.X({},bLg6a),i8a);i8a.inline=bLR6L;ke2x=NEJ.X(NEJ.X({},eh0x),ke2x);ke2x.rand=k8c.oP3x;ke2x.format=k8c.iv1x;ke2x.escape=k8c.dP0x;ke2x.inline=bLR6L;return TrimPath.merge(fA0x,i8a,ke2x)}}();a7h.eA0x=function(bt9k,cIE8w){if(!bt9k)return"";var fA0x,H8z=a7h.A8s(bt9k);if(!!H8z){fA0x=H8z.id;bt9k=H8z.value||H8z.innerText;if(!cIE8w)a7h.cV9M(H8z)}return TrimPath.parse(bt9k,fA0x)};a7h.dI0x=function(bJ9A,fA0x,i8a,ke2x){bJ9A=a7h.A8s(bJ9A);if(!!bJ9A)bJ9A.innerHTML=a7h.cf9W(fA0x,i8a,ke2x);return this};a7h.cPV0x=function(bB9s){NEJ.X(eh0x,bB9s)};a7h.cIC8u=function(bB9s){NEJ.X(bLg6a,bB9s)};c8g("dbg").dumpJST=function(){return TrimPath.dump()}})();
(function(){var cG9x=NEJ.P("nej.p"),P8H=window,mf2x=cG9x.QA1x,bMs6m=mf2x.ipad||mf2x.iphone;if(!bMs6m&&!!P8H.requestAnimationFrame&&!!P8H.cancelRequestAnimationFrame)return;var lj2x=cG9x.dC0x.prefix.pro;if(!bMs6m&&!!P8H[lj2x+"RequestAnimationFrame"]&&!!P8H[lj2x+"CancelRequestAnimationFrame"]){P8H.requestAnimationFrame=P8H[lj2x+"RequestAnimationFrame"];P8H.cancelRequestAnimationFrame=P8H[lj2x+"CancelRequestAnimationFrame"];return}var bdX6R=mf2x.desktop?80:mf2x.ios?50:30;P8H.requestAnimationFrame=function(cJ9A){return window.setTimeout(function(){try{cJ9A(+(new Date))}catch(ex){}},1e3/bdX6R)};P8H.cancelRequestAnimationFrame=function(D8v){window.clearTimeout(D8v);return this}})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,k8c=c8g("nej.u"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),bg8Y=c8g("nej.h"),di9Z=c8g("nej.x"),sx4B=c8g("nej.ut.j.cb"),gJ1x;if(!!a7h.tW5b)return;a7h.tW5b=di9Z.tW5b=function(){var Q8I={},ho1x=/^(?:mouse.*|(?:dbl)?click)$/i;window.onflashevent=function(d8f){var D8v=decodeURIComponent(d8f.target),t8l=d8f.type.toLowerCase();var dG0x=Q8I[D8v+"-on"+t8l];if(!!dG0x){try{dG0x(d8f)}catch(e){}return}var cL9C=Q8I[D8v+"-tgt"];if(!!cL9C&&ho1x.test(t8l)){bME6y(cL9C,d8f)}};var bpV1x=function(e8e){var bJ9A=a7h.A8s(e8e.parent)||document.body,eg0x=a7h.cf9W(gJ1x,e8e);bJ9A.insertAdjacentHTML(!e8e.hidden?"beforeEnd":"afterBegin",eg0x)};var bME6y=function(D8v,d8f){var t8l=d8f.type.toLowerCase();requestAnimationFrame(function(){h8b.z8r(D8v,t8l)})};var cIq8i=function(iy1x){return!!iy1x&&!!iy1x.inited&&!!iy1x.inited()};var Xg3x=function(D8v){var bv9m=[document.embeds[D8v],a7h.A8s(D8v),document[D8v],window[D8v]],r8j=k8c.eR0x(bv9m,cIq8i),iy1x=bv9m[r8j],bpW1x=D8v+"-count";Q8I[bpW1x]++;if(!!iy1x||Q8I[bpW1x]>100){Q8I[D8v](iy1x);delete Q8I[D8v];delete Q8I[bpW1x];return}window.setTimeout(Xg3x.f8d(null,D8v),300)};var cIj8b=function(e8e){var D8v=e8e.id,cq9h=e8e.params;if(!cq9h){cq9h={};e8e.params=cq9h}var iq1x=cq9h.flashvars||"";iq1x+=(!iq1x?"":"&")+("id="+D8v);if(!e8e.hidden&&(!!e8e.target||bg8Y.bag4k(cq9h.wmode))){var iB1x=a7h.mu2x(e8e.target)||a7h.mu2x(e8e.parent),bgj6d=k8c.bdl5q();sx4B["cb"+bgj6d]=bME6y.f8d(null,iB1x);iq1x+="&onevent=nej.ut.j.cb.cb"+bgj6d;Q8I[D8v+"-tgt"]=iB1x}cq9h.flashvars=iq1x;k8c.eR0x(e8e,function(C8u,K8C){if(k8c.hf1x(C8u)&&K8C!="onready"){Q8I[D8v+"-"+K8C]=C8u}})};return function(e8e){e8e=NEJ.X({},e8e);if(!e8e.src)return;var D8v="flash_"+k8c.bdl5q();e8e.id=D8v;cIj8b(e8e);bpV1x(e8e);if(!e8e.onready)return;Q8I[D8v]=e8e.onready;Q8I[D8v+"-count"]=0;Xg3x(D8v)}}();gJ1x=a7h.eA0x('{var hide  = defined("hidden")&&!!hidden}{var param = defined("params")&&params||NEJ.O}{var width = !hide?width:"1px",height = !hide?height:"1px"}{if hide}<div style="position:absolute;top:0;left:0;width:1px;height:1px;z-index:10000;overflow:hidden;">{/if}<object classid = "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"codebase = "http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"width = "${width|default:"100px"}"height = "${height|default:"100px"}" id="${id}"><param value="${src}" name="movie">{for x in param}<param value="${x}" name="${x_key}"/>{/for}<embed src="${src}" name="${id}"width="${width|default:"100px"}"height="${height|default:"100px"}"pluginspage="http://www.adobe.com/go/getflashplayer"type="application/x-shockwave-flash"{for x in param}${x_key}="${x}" {/for}></embed></object>{if hide}</div>{/if}');di9Z.isChange=!0})();
(function(){var c8g=NEJ.P,eC0x=c8g("nej.c"),a7h=c8g("nej.e"),k8c=c8g("nej.u"),P8H=c8g("nej.ut.j"),sx4B=c8g("nej.ut.j.cb"),Q8I={},hb1x=+(new Date),bqh1x;if(!!P8H.bqj1x)return;sx4B["ld"+hb1x]=function(K8C,cM9D){var kL2x=Q8I[K8C];if(!kL2x)return;delete Q8I[K8C];kL2x.wM5R({status:200,result:cM9D})};sx4B["er"+hb1x]=function(K8C,dW0x){var kL2x=Q8I[K8C];if(!kL2x)return;delete Q8I[K8C];kL2x.wM5R({status:dW0x||0})};P8H.bqj1x=NEJ.C();bqh1x=P8H.bqj1x.M8E(P8H.PE1x);bqh1x.cp9g=function(e8e){var iy1x=Q8I.flash;if(k8c.el0x(iy1x)){iy1x.push(this.cp9g.f8d(this,e8e));return}if(!iy1x){Q8I.flash=[this.cp9g.f8d(this,e8e)];a7h.tW5b({hidden:!0,src:eC0x.A8s("ajax.swf"),onready:function(iy1x){if(!iy1x)return;var j8b=Q8I.flash;Q8I.flash=iy1x;k8c.or3x(j8b,function(dG0x){try{dG0x()}catch(e){}})}});return}this.Dn7g="swf-"+k8c.oP3x();Q8I[this.Dn7g]=this;var i8a=NEJ.EX({url:"",data:null,method:"GET"},e8e.request);i8a.key=this.Dn7g;i8a.headers=e8e.headers;i8a.onerror="nej.ut.j.cb.er"+hb1x;i8a.onloaded="nej.ut.j.cb.ld"+hb1x;var bOg6a=eC0x.coO3x(i8a.url);if(!!bOg6a)i8a.policyURL=bOg6a;iy1x.request(i8a)};bqh1x.lk2x=function(){delete Q8I[this.Dn7g];this.wM5R({status:0});return this}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bg8Y=c8g("nej.h");bg8Y.bOh6b=function(){var dr9i=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(lA2x){lA2x=lA2x||"";if(dr9i.test(lA2x))return RegExp.$1;return"*"}}();bg8Y.bqo1x=function(i8a){return i8a};bg8Y.bqp1x=function(bhB8t,e8e){if(!bhB8t.postMessage)return;e8e=e8e||be8W;bhB8t.postMessage(bg8Y.bqo1x(e8e.data),bg8Y.bOh6b(e8e.origin))}})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),P8H=c8g("nej.ut"),b8h;if(!!P8H.fV0x)return;P8H.fV0x=NEJ.C();b8h=P8H.fV0x.M8E(P8H.cO9F);b8h.cC9t=function(){this.U8M={};this.cK9B()};b8h.bp8h=function(e8e){this.bq8i(e8e);this.Xe3x=a7h.A8s(e8e.element)||window;this.bOK7D(e8e.event);this.cHg8Y();this.z8r("oninit")};b8h.bC9t=function(){var Kn9e=function(C8u,K8C,bB9s){if(!k8c.el0x(C8u)){k8c.bcH5M(this.Xe3x,K8C)}delete bB9s[K8C]};return function(){this.bH9y();k8c.eR0x(this.U8M,Kn9e,this);delete this.Xe3x}}();b8h.bil9c=function(H8z,t8l){H8z=a7h.A8s(H8z);return H8z==this.Xe3x&&(!t8l||!!this.U8M["on"+t8l])};b8h.bOK7D=function(d8f){if(k8c.fX0x(d8f)){var Y8Q="on"+d8f;if(!this.U8M[Y8Q]){this.U8M[Y8Q]=this.cHf8X.f8d(this,d8f)}this.bPd7W(d8f);return}if(k8c.el0x(d8f)){k8c.bf8X(d8f,this.bOK7D,this)}};b8h.bPd7W=function(t8l){var d8f="on"+t8l,dG0x=this.Xe3x[d8f],bPo7h=this.U8M[d8f];if(dG0x!=bPo7h){this.biU9L(t8l);if(!!dG0x&&dG0x!=bs8k)this.bPr7k(t8l,dG0x);this.Xe3x[d8f]=bPo7h}};b8h.bPr7k=function(t8l,dG0x,cGv7o){var j8b=this.U8M[t8l];if(!j8b){j8b=[];this.U8M[t8l]=j8b}if(k8c.hf1x(dG0x)){!cGv7o?j8b.push(dG0x):j8b.unshift(dG0x)}};b8h.biU9L=function(t8l,dG0x){var j8b=this.U8M[t8l];if(!j8b||!j8b.length)return;if(!dG0x){delete this.U8M[t8l];return}k8c.or3x(j8b,function(C8u,r8j,Po1x){if(dG0x===C8u){Po1x.splice(r8j,1);return!0}})};b8h.cHf8X=function(t8l,d8f){d8f=d8f||{noargs:!0};d8f.type=t8l;this.z8r("ondispatch",d8f);if(!!d8f.stopped)return;k8c.bf8X(this.U8M[t8l],function(dG0x){try{dG0x(d8f)}catch(ex){console.error(ex.message);console.error(ex.stack)}})};b8h.cHg8Y=function(){var bqO1x=function(d8f){var bj8b=d8f.args,t8l=bj8b[1].toLowerCase();if(this.bil9c(bj8b[0],t8l)){d8f.stopped=!0;this.bPd7W(t8l);this.bPr7k(t8l,bj8b[2],bj8b[3]);this.z8r("oneventadd",{type:t8l,listener:bj8b[2]})}};var cGf7Y=function(d8f){var bj8b=d8f.args,t8l=bj8b[1].toLowerCase();if(this.bil9c(bj8b[0],t8l)){d8f.stopped=!0;this.biU9L(t8l,bj8b[2])}};var boQ0x=function(d8f){var bj8b=d8f.args,t8l=(bj8b[1]||"").toLowerCase();if(this.bil9c(bj8b[0])){if(!!t8l){this.biU9L(t8l);return}k8c.eR0x(this.U8M,function(C8u,K8C){if(k8c.el0x(C8u)){this.biU9L(K8C)}},this)}};var cGc7V=function(d8f){var bj8b=d8f.args,t8l=bj8b[1].toLowerCase();if(this.bil9c(bj8b[0],t8l)){d8f.stopped=!0;bj8b[0]["on"+t8l].apply(bj8b[0],bj8b.slice(2))}};return function(){if(!!this.cFS7L)return;this.cFS7L=true;h8b.s8k=h8b.s8k.eT0x(bqO1x.f8d(this));h8b.nt3x=h8b.nt3x.eT0x(cGf7Y.f8d(this));h8b.hE1x=h8b.hE1x.eT0x(boQ0x.f8d(this));h8b.z8r=h8b.z8r.eT0x(cGc7V.f8d(this))}}()})();
(function(){var c8g=NEJ.P,P8H=c8g("nej.p"),bg8Y=c8g("nej.h"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),G8y=c8g("nej.ut");if(P8H.oG3x.trident)return;if(!!window.postMessage){bg8Y.bqo1x=bg8Y.bqo1x.eT0x(function(d8f){d8f.stopped=!0;d8f.value=JSON.stringify(d8f.args[0])});return}var K8C="MSG|",kS2x=[];var cFR7K=function(){var Y8Q=unescape(window.name||"").trim();if(!Y8Q||Y8Q.indexOf(K8C)!=0)return;window.name="";var m8e=k8c.Yq3x(Y8Q.replace(K8C,""),"|"),lA2x=(m8e.origin||"").toLowerCase();if(!!lA2x&&lA2x!="*"&&location.href.toLowerCase().indexOf(lA2x)!=0)return;h8b.z8r(window,"message",{data:JSON.parse(m8e.data||"null"),source:window.frames[m8e.self]||m8e.self,origin:bg8Y.bOh6b(m8e.ref||document.referrer)})};var cFQ7J=function(){var bjJ9A;var cFP7I=function(bB9s,r8j,j8b){if(k8c.du0x(bjJ9A,bB9s.w)<0){bjJ9A.push(bB9s.w);j8b.splice(r8j,1);bB9s.w.name=bB9s.d}};return function(){bjJ9A=[];k8c.or3x(kS2x,cFP7I);bjJ9A=null}}();bg8Y.bqp1x=function(){var cFN7G=function(i8a){var m8e={};i8a=i8a||be8W;m8e.origin=i8a.origin||"";m8e.ref=location.href;m8e.self=i8a.source;m8e.data=JSON.stringify(i8a.data);return K8C+k8c.xz6t(m8e,"|",!0)};return bg8Y.bqp1x.eT0x(function(d8f){d8f.stopped=!0;var bj8b=d8f.args;kS2x.unshift({w:bj8b[0],d:escape(cFN7G(bj8b[1]))})})}();G8y.fV0x.B8t({element:window,event:"message"});window.setInterval(cFQ7J,100);window.setInterval(cFR7K,20)})();
(function(){var c8g=NEJ.P,bg8Y=c8g("nej.h"),a7h=c8g("nej.e"),v8n=c8g("nej.j");v8n.cFI7B=function(){var fB0x=window.name||"_parent",cFG7z={gU1x:window.top,fB0x:window,bJ9A:window.parent};return function(cL9C,e8e){if(typeof cL9C=="string"){cL9C=cFG7z[cL9C]||window.frames[cL9C];if(!cL9C)return this}var i8a=NEJ.X({origin:"*",source:fB0x},e8e);bg8Y.bqp1x(cL9C,i8a);return this}}()})();
(function(){var c8g=NEJ.P,eC0x=c8g("nej.c"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v8n=c8g("nej.j"),P8H=c8g("nej.ut.j"),Q8I={},baH5M;if(!!P8H.bqY1x)return;P8H.bqY1x=NEJ.C();baH5M=P8H.bqY1x.M8E(P8H.PE1x);baH5M.cC9t=function(){var ft0x="NEJ-AJAX-DATA:",od3x=!1;var brh1x=function(d8f){var i8a=d8f.data;if(i8a.indexOf(ft0x)!=0)return;i8a=JSON.parse(i8a.replace(ft0x,""));var kL2x=Q8I[i8a.key];if(!kL2x)return;delete Q8I[i8a.key];i8a.result=decodeURIComponent(i8a.result||"");kL2x.wM5R(i8a)};var brj1x=function(){if(!od3x){od3x=!0;h8b.s8k(window,"message",brh1x)}};return function(){this.cK9B();brj1x()}}();baH5M.cp9g=function(e8e){var gh0x=e8e.request,kL2x=eC0x.coy3x(gh0x.url),eI0x=Q8I[kL2x];if(k8c.el0x(eI0x)){eI0x.push(this.cp9g.f8d(this,e8e));return}if(!eI0x){Q8I[kL2x]=[this.cp9g.f8d(this,e8e)];a7h.bbH5M({src:kL2x,visible:!1,onload:function(d8f){var j8b=Q8I[kL2x];Q8I[kL2x]=h8b.ba8S(d8f).contentWindow;k8c.or3x(j8b,function(dG0x){try{dG0x()}catch(e){}})}});return}this.Dn7g="frm-"+k8c.oP3x();Q8I[this.Dn7g]=this;var i8a=NEJ.EX({url:"",data:null,timeout:0,method:"GET"},gh0x);i8a.key=this.Dn7g;i8a.headers=e8e.headers;v8n.cFI7B(Q8I[kL2x],{data:i8a})};baH5M.lk2x=function(){delete Q8I[this.Dn7g];this.wM5R({status:0});return this}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,dZ0x=c8g("nej.g"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v8n=c8g("nej.j"),P8H=c8g("nej.ut.j"),Q8I={},Pk1x;if(!!P8H.brk1x)return;P8H.brk1x=NEJ.C();Pk1x=P8H.brk1x.M8E(P8H.PE1x);Pk1x.cC9t=function(){var ft0x="NEJ-UPLOAD-RESULT:",od3x=!1;var brh1x=function(d8f){var i8a=d8f.data;if(i8a.indexOf(ft0x)!=0)return;i8a=JSON.parse(i8a.replace(ft0x,""));var kL2x=Q8I[i8a.key];if(!kL2x)return;delete Q8I[i8a.key];kL2x.wM5R(decodeURIComponent(i8a.result))};var brj1x=function(){if(!od3x){od3x=!0;h8b.s8k(window,"message",brh1x)}};return function(){this.cK9B();brj1x()}}();Pk1x.bC9t=function(){this.bH9y();a7h.cV9M(this.brm1x);delete this.brm1x;window.clearTimeout(this.dM0x);delete this.dM0x};Pk1x.wM5R=function(cM9D){var T8L;try{T8L=JSON.parse(cM9D);this.z8r("onload",T8L)}catch(e){this.z8r("onerror",{code:dZ0x.cqI4M,message:cM9D})}};Pk1x.cp9g=function(){var cFu7n=function(){var nx3x,cM9D;try{var nx3x=this.brm1x.contentWindow.document.body,cM9D=nx3x.innerText||nx3x.textContent}catch(e){return}this.wM5R(cM9D)};var brp1x=function(Z8R,eE0x,ty4C){v8n.bm8e(Z8R,{type:"json",method:"POST",cookie:ty4C,mode:parseInt(eE0x)||0,onload:function(i8a){if(!this.dM0x)return;this.z8r("onuploading",i8a);this.dM0x=window.setTimeout(brp1x.f8d(this,Z8R,eE0x,ty4C),1e3)}.f8d(this),onerror:function(bV9M){if(!this.dM0x)return;this.dM0x=window.setTimeout(brp1x.f8d(this,Z8R,eE0x,ty4C),1e3)}.f8d(this)})};return function(e8e){var gh0x=e8e.request,qh3x=e8e.headers,fy0x=gh0x.data,Y8Q="fom-"+k8c.oP3x();Q8I[Y8Q]=this;fy0x.target=Y8Q;fy0x.method="POST";fy0x.enctype=dZ0x.IA9r;fy0x.encoding=dZ0x.IA9r;var Z8R=fy0x.action||"",mG2x=Z8R.indexOf("?")<=0?"?":"&";fy0x.action=Z8R+mG2x+"_proxy_=form";this.brm1x=a7h.bbH5M({name:Y8Q,onload:function(d8f){var eI0x=h8b.ba8S(d8f);h8b.s8k(eI0x,"load",cFu7n.f8d(this));fy0x.submit();var bSX8P=(fy0x.nej_query||be8W).value;if(!bSX8P)return;var eE0x=(fy0x.nej_mode||be8W).value,ty4C=(fy0x.nej_cookie||be8W).value=="true";this.dM0x=window.setTimeout(brp1x.f8d(this,bSX8P,eE0x,ty4C),100)}.f8d(this)})}}();Pk1x.lk2x=function(){this.z8r("onerror",{code:dZ0x.cri4m,message:"客户端终止文件上传"});return this}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bg8Y=c8g("nej.h"),P8H=c8g("nej.ut.j");bg8Y.boW0x=function(){return new XMLHttpRequest};bg8Y.brr1x=function(eE0x,bbP5U,e8e){var bB9s=!!bbP5U?{2:P8H.brk1x}:{2:P8H.bqY1x,3:P8H.bqj1x};return(bB9s[eE0x]||P8H.bcX5c).B8t(e8e)}})();
(function(){var c8g=NEJ.P,P8H=c8g("nej.p"),bg8Y=c8g("nej.h");if(P8H.oG3x.trident)return;bg8Y.boW0x=function(){var Zc4g=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP.4.0","Msxml2.XMLHTTP.5.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];var cFn7g=function(){for(var i=0,l=Zc4g.length;i<l;i++){try{return new ActiveXObject(Zc4g[i])}catch(e){}}return null};return bg8Y.boW0x.eT0x(function(d8f){if(!!window.XMLHttpRequest)return;d8f.stopped=!0;d8f.value=cFn7g()})}();bg8Y.brr1x=function(){var Kg9X={0:2,1:3};return bg8Y.brr1x.eT0x(function(d8f){var bj8b=d8f.args,eE0x=bj8b[0]||0;bj8b[0]=!!bj8b[1]?2:Kg9X[eE0x]||eE0x})}()})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,bg8Y=c8g("nej.h"),dZ0x=c8g("nej.g"),k8c=c8g("nej.u"),v8n=c8g("nej.j"),P8H=c8g("nej.ut.j"),pu3x={},Qd1x=bs8k;v8n.lk2x=function(fA0x){var Q8I=pu3x[fA0x];if(!Q8I)return this;Q8I.req.lk2x();return this};v8n.bbW5b=function(ek0x){Qd1x=ek0x||bs8k;return this};v8n.bm8e=function(){var kh2x=(location.protocol+"//"+location.host).toLowerCase();var cFk7d=function(Z8R){var lA2x=k8c.cLz9q(Z8R);return!!lA2x&&lA2x!=kh2x};var cFj7c=function(qh3x){return(qh3x||be8W)[dZ0x.Am6g]==dZ0x.IA9r};var cFi7b=function(e8e){var bbP5U=cFj7c(e8e.headers);if(!cFk7d(e8e.url)&&!bbP5U)return P8H.bcX5c.B8t(e8e);return bg8Y.brr1x(e8e.mode,bbP5U,e8e)};var Kn9e=function(fA0x){var Q8I=pu3x[fA0x];if(!Q8I)return;if(!!Q8I.req)Q8I.req.W8O();delete pu3x[fA0x]};var bTA9r=function(fA0x,t8l){var Q8I=pu3x[fA0x];if(!Q8I)return;Kn9e(fA0x);try{var d8f={type:t8l,result:arguments[2]};Qd1x(d8f);if(!d8f.stopped)(Q8I[t8l]||bs8k)(d8f.result)}catch(ex){console.error(ex.message);console.error(ex)}};var Cv7o=function(fA0x,i8a){bTA9r(fA0x,"onload",i8a)};var zH6B=function(fA0x,bV9M){bTA9r(fA0x,"onerror",bV9M)};return function(Z8R,e8e){e8e=e8e||{};var fA0x=k8c.oP3x(),Q8I={onload:e8e.onload||bs8k,onerror:e8e.onerror||bs8k};pu3x[fA0x]=Q8I;e8e.onload=Cv7o.f8d(null,fA0x);e8e.onerror=zH6B.f8d(null,fA0x);if(!!e8e.query){var mG2x=Z8R.indexOf("?")<0?"?":"&",bx9o=e8e.query;if(k8c.mz2x(bx9o))bx9o=k8c.cE9v(bx9o);if(!!bx9o)Z8R+=mG2x+bx9o}e8e.url=Z8R;Q8I.req=cFi7b(e8e);Q8I.req.boU0x(e8e.data);return fA0x}}();v8n.iw1x=function(fy0x,e8e){var dU0x={mode:0,type:"json",query:null,cookie:!1,headers:{},onload:null,onerror:null,onuploading:null,onbeforerequest:null};NEJ.EX(dU0x,e8e);dU0x.data=fy0x;dU0x.method="POST";dU0x.timeout=0;dU0x.headers[dZ0x.Am6g]=dZ0x.IA9r;return v8n.bm8e(fy0x.action,dU0x)}})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,dZ0x=c8g("nej.g"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),P8H=c8g("nej.ut.j"),nM3x,hq1x=6e4;if(!!P8H.WK3x)return;P8H.WK3x=NEJ.C();nM3x=P8H.WK3x.M8E(G8y.cO9F);nM3x.cC9t=function(){this.cK9B();this.WJ3x={onerror:this.cFa7T.f8d(this),onloaded:this.cEY7R.f8d(this)};if(!this.constructor.U8M)this.constructor.U8M={loaded:{}}};nM3x.bp8h=function(e8e){this.bq8i(e8e);this.Pi1x=e8e.version;this.brC1x=e8e.timeout;this.WJ3x.version=this.Pi1x;this.WJ3x.timeout=this.brC1x};nM3x.bUb9S=function(K8C){delete this.constructor.U8M[K8C]};nM3x.CZ7S=function(K8C){return this.constructor.U8M[K8C]};nM3x.bUe9V=function(K8C,i8a){this.constructor.U8M[K8C]=i8a};nM3x.bdW6Q=bs8k;nM3x.bUg9X=function(gh0x){h8b.hE1x(gh0x)};nM3x.brE1x=function(gh0x){gh0x.src=this.lI2x;document.head.appendChild(gh0x)};nM3x.Da7T=function(){var Q8I=this.CZ7S(this.lI2x);if(!Q8I)return;window.clearTimeout(Q8I.timer);this.bUg9X(Q8I.request);delete Q8I.bind;delete Q8I.timer;delete Q8I.request;this.bUb9S(this.lI2x);this.CZ7S("loaded")[this.lI2x]=!0};nM3x.bek6e=function(Y8Q){var Q8I=this.CZ7S(this.lI2x);if(!Q8I)return;var j8b=Q8I.bind;this.Da7T();if(!!j8b&&j8b.length>0){var cN9E;while(j8b.length){cN9E=j8b.shift();try{cN9E.z8r(Y8Q,arguments[1])}catch(ex){console.error(ex.message);console.error(ex.stack)}cN9E.W8O()}}};nM3x.dY0x=function(bV9M){this.bek6e("onerror",bV9M)};nM3x.bUO9F=function(){this.bek6e("onloaded")};nM3x.cEK7D=function(Z8R){this.constructor.B8t(this.WJ3x).Pg1x(Z8R)};nM3x.bUW9N=function(bV9M){var Q8I=this.CZ7S(this.zz6t);if(!Q8I)return;if(!!bV9M)Q8I.error++;Q8I.loaded++;if(Q8I.loaded<Q8I.total)return;this.bUb9S(this.zz6t);this.z8r(Q8I.error>0?"onerror":"onloaded")};nM3x.cFa7T=function(bV9M){this.bUW9N(!0)};nM3x.cEY7R=function(){this.bUW9N()};nM3x.Pg1x=function(Z8R){Z8R=k8c.box0x(Z8R);if(!Z8R){this.z8r("onerror",{code:dZ0x.blr0x,message:"请指定要载入的资源地址！"});return this}this.lI2x=Z8R;if(!!this.Pi1x)this.lI2x+=(this.lI2x.indexOf("?")<0?"?":"&")+this.Pi1x;if(this.CZ7S("loaded")[this.lI2x]){try{this.z8r("onloaded")}catch(ex){console.error(ex.message);console.error(ex.stack)}this.W8O();return this}var Q8I=this.CZ7S(this.lI2x),gh0x;if(!!Q8I){Q8I.bind.unshift(this);Q8I.timer=window.clearTimeout(Q8I.timer)}else{gh0x=this.bdW6Q();Q8I={request:gh0x,bind:[this]};this.bUe9V(this.lI2x,Q8I);h8b.s8k(gh0x,"load",this.bUO9F.f8d(this));h8b.s8k(gh0x,"error",this.dY0x.f8d(this,{code:dZ0x.blx0x,message:"无法加载指定资源文件["+this.lI2x+"]！"}))}if(this.brC1x!=0)Q8I.timer=window.setTimeout(this.dY0x.f8d(this,{code:dZ0x.bOq6k,message:"指定资源文件["+this.lI2x+"]载入超时！"}),this.brC1x||hq1x);if(!!gh0x)this.brE1x(gh0x);this.z8r("onloading");return this};nM3x.bVc9T=function(j8b){if(!j8b||!j8b.length){this.z8r("onerror",{code:dZ0x.blr0x,message:"请指定要载入的资源队列！"});return this}this.zz6t=k8c.oP3x();var Q8I={error:0,loaded:0,total:j8b.length};this.bUe9V(this.zz6t,Q8I);for(var i=0,l=j8b.length;i<l;i++){if(!j8b[i]){Q8I.total--;continue}this.cEK7D(j8b[i])}this.z8r("onloading");return this}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,a7h=c8g("nej.e"),bg8Y=c8g("nej.h"),P8H=c8g("nej.ut.j"),WB3x;if(!!P8H.brR1x)return;P8H.brR1x=NEJ.C();WB3x=P8H.brR1x.M8E(P8H.WK3x);WB3x.bdW6Q=function(){var fb0x=a7h.ds0x("iframe");fb0x.width=0;fb0x.height=0;fb0x.style.display="none";return fb0x};WB3x.brE1x=function(gh0x){gh0x.src=this.lI2x;document.body.appendChild(gh0x)};WB3x.dY0x=function(bV9M){var fb0x=(this.CZ7S(this.lI2x)||be8W).request;this.bek6e("onerror",bV9M);bg8Y.bbr5w(fb0x)};WB3x.bUO9F=function(){var nx3x=null,fb0x=(this.CZ7S(this.lI2x)||be8W).request;try{nx3x=fb0x.contentWindow.document.body}catch(ex){}this.bek6e("onloaded",nx3x);bg8Y.bbr5w(fb0x)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),P8H=c8g("nej.ut.j"),brS1x;if(!!P8H.bfP6J)return;P8H.bfP6J=NEJ.C();brS1x=P8H.bfP6J.M8E(P8H.WK3x);brS1x.bdW6Q=function(){return a7h.ds0x("link")};brS1x.brE1x=function(gh0x){gh0x.href=this.lI2x;document.head.appendChild(gh0x)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),P8H=c8g("nej.ut.j"),bfT6N;if(!!P8H.bgd6X)return;P8H.bgd6X=NEJ.C();bfT6N=P8H.bgd6X.M8E(P8H.WK3x);bfT6N.bp8h=function(e8e){this.bq8i(e8e);this.bVI9z=e8e.async;this.brX1x=e8e.charset;this.WJ3x.async=!1;this.WJ3x.charset=this.brX1x};bfT6N.bdW6Q=function(){var gh0x=a7h.ds0x("script");if(this.bVI9z!=null)gh0x.async=!!this.bVI9z;if(this.brX1x!=null)gh0x.charset=this.brX1x;return gh0x};bfT6N.bUg9X=function(gh0x){a7h.cV9M(gh0x)}})();
(function(){var c8g=NEJ.P,v8n=c8g("nej.j"),P8H=c8g("nej.ut.j");v8n.cEr7k=function(Z8R,e8e){P8H.bgd6X.B8t(e8e).Pg1x(Z8R);return this};v8n.cEp7i=function(j8b,e8e){P8H.bgd6X.B8t(e8e).bVc9T(j8b);return this};v8n.cQE0x=function(Z8R,e8e){P8H.bfP6J.B8t(e8e).Pg1x(Z8R);return this};v8n.cDV7O=function(j8b,e8e){P8H.bfP6J.B8t(e8e).bVc9T(j8b);return this};v8n.bWM9D=function(Z8R,e8e){P8H.brR1x.B8t(e8e).Pg1x(Z8R);return this}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v8n=c8g("nej.j"),G8y=c8g("nej.ut"),Q8I={},up5u=+(new Date)+"-";a7h.da9R=function(){var cn9e=0;var Wv3x=function(){if(cn9e>0)return;cn9e=0;h8b.z8r(document,"templateready");h8b.hE1x(document,"templateready")};var bhM8E=function(gF1x,e8e){var dd9U=a7h.u8m(gF1x,"src");if(!dd9U)return;e8e=e8e||be8W;var gz1x=e8e.root;if(!gz1x){gz1x=gF1x.ownerDocument.location.href}else{gz1x=k8c.box0x(gz1x)}dd9U=dd9U.split(",");k8c.bf8X(dd9U,function(C8u,r8j,j8b){j8b[r8j]=k8c.box0x(C8u,gz1x)});return dd9U};var cDA7t=function(gF1x,e8e){if(!gF1x)return;var dd9U=bhM8E(gF1x,e8e);if(!!dd9U)v8n.cDV7O(dd9U,{version:a7h.u8m(gF1x,"version")});a7h.ccN1x(gF1x.value)};var cDr7k=function(C8u){cn9e--;a7h.cdv1x(C8u);Wv3x()};var cDi7b=function(gF1x,e8e){if(!gF1x)return;var dd9U=bhM8E(gF1x,e8e),fK0x=gF1x.value;if(!!dd9U){cn9e++;var e8e={version:a7h.u8m(gF1x,"version"),onloaded:cDr7k.f8d(null,fK0x)};window.setTimeout(v8n.cEp7i.f8d(v8n,dd9U,e8e),0);return}a7h.cdv1x(fK0x)};var cDh7a=function(nx3x){cn9e--;a7h.da9R(nx3x);Wv3x()};var cCK7D=function(gF1x,e8e){if(!gF1x)return;var dd9U=bhM8E(gF1x,e8e)[0];if(!!dd9U){cn9e++;var e8e={version:a7h.u8m(gF1x,"version"),onloaded:cDh7a};window.setTimeout(v8n.bWM9D.f8d(v8n,dd9U,e8e),0)}};var cCJ7C=function(D8v,cM9D){cn9e--;a7h.Pb1x(D8v,cM9D||"");Wv3x()};var cCE7x=function(gF1x,e8e){if(!gF1x||!gF1x.id)return;var D8v=gF1x.id,dd9U=bhM8E(gF1x,e8e)[0];if(!!dd9U){cn9e++;var Z8R=dd9U+(dd9U.indexOf("?")<0?"?":"&")+(a7h.u8m(gF1x,"version")||""),e8e={type:"text",method:"GET",onload:cCJ7C.f8d(null,D8v)};window.setTimeout(v8n.bm8e.f8d(v8n,Z8R,e8e),0)}};var cCD7w=function(g8c,e8e){var t8l=g8c.name.toLowerCase();switch(t8l){case"jst":a7h.eA0x(g8c,!0);return;case"txt":a7h.Pb1x(g8c.id,g8c.value||"");return;case"ntp":a7h.jU2x(g8c.value||"",g8c.id);return;case"js":cDi7b(g8c,e8e);return;case"css":cDA7t(g8c,e8e);return;case"html":cCK7D(g8c,e8e);return;case"res":cCE7x(g8c,e8e);return}};G8y.fV0x.B8t({element:document,event:"templateready",oneventadd:Wv3x});return function(H8z,e8e){H8z=a7h.A8s(H8z);if(!!H8z){var j8b=H8z.tagName=="TEXTAREA"?[H8z]:H8z.getElementsByTagName("textarea");k8c.bf8X(j8b,function(g8c){cCD7w(g8c,e8e)});a7h.cV9M(H8z,!0)}Wv3x();return this}}();a7h.Pb1x=function(K8C,C8u){Q8I[K8C]=C8u||"";return this};a7h.iN1x=function(K8C){return Q8I[K8C]||""};a7h.jU2x=function(H8z,K8C){K8C=K8C||k8c.oP3x();H8z=a7h.A8s(H8z)||H8z;a7h.Pb1x(up5u+K8C,H8z);a7h.nq3x(H8z);return K8C};a7h.dH0x=function(K8C){if(!K8C)return null;K8C=up5u+K8C;var C8u=a7h.iN1x(K8C);if(!C8u)return null;if(k8c.fX0x(C8u)){C8u=a7h.pa3x(C8u);a7h.Pb1x(K8C,C8u)}return C8u.cloneNode(!0)};a7h.Dj7c=function(){var Qd1x=function(C8u,K8C){return K8C=="offset"||K8C=="limit"};return function(j8b,p8h,e8e){var bv9m=[];if(!j8b||!j8b.length||!p8h)return bv9m;e8e=e8e||be8W;var do9f=j8b.length,kz2x=parseInt(e8e.offset)||0,dt0x=Math.min(do9f,kz2x+(parseInt(e8e.limit)||do9f)),cA9r={total:j8b.length,range:[kz2x,dt0x]};NEJ.X(cA9r,e8e,Qd1x);for(var i=kz2x,cN9E;i<dt0x;i++){cA9r.index=i;cA9r.data=j8b[i];cN9E=p8h.B8t(cA9r);var D8v=cN9E.Hl9c();Q8I[D8v]=cN9E;cN9E.W8O=cN9E.W8O.eT0x(function(D8v,cN9E){delete Q8I[D8v];delete cN9E.W8O}.f8d(null,D8v,cN9E));bv9m.push(cN9E)}return bv9m}}();a7h.bZa0x=function(D8v){return Q8I[D8v]};a7h.cRc0x=function(eq0x,e8e){e8e=e8e||be8W;a7h.da9R(e8e.tid||"template-box");h8b.s8k(document,"templateready",function(){eq0x.B8t().z8r("onshow",e8e)})};c8g("dbg").dumpTC=function(){return Q8I}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,a7h=c8g("nej.e"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),P8H=c8g("nej.ui"),b8h;if(!!P8H.eu0x)return;P8H.eu0x=NEJ.C();b8h=P8H.eu0x.M8E(G8y.cO9F);b8h.cC9t=function(){this.cK9B();a7h.cbq0x();this.ci9Z();this.bY9P()};b8h.bp8h=function(e8e){this.bq8i(e8e);this.cCr6l(e8e.clazz);this.bZx0x(e8e.parent)};b8h.bC9t=function(){this.bH9y();this.bZF0x();delete this.gI1x;a7h.nq3x(this.o8g);a7h.y8q(this.o8g,this.bst1x);delete this.bst1x};b8h.ci9Z=bs8k;b8h.bY9P=function(){if(!this.cg9X)this.OY1x();this.o8g=a7h.dH0x(this.cg9X);if(!this.o8g)this.o8g=a7h.ds0x("div",this.ng2x);a7h.w8o(this.o8g,this.ng2x)};b8h.OY1x=bs8k;b8h.cCr6l=function(eo0x){this.bst1x=eo0x||"";a7h.w8o(this.o8g,this.bst1x)};b8h.cCl6f=function(){if(!this.ng2x)return;a7h.w8o(this.gI1x,this.ng2x+"-parent")};b8h.bZF0x=function(){if(!this.ng2x)return;a7h.y8q(this.gI1x,this.ng2x+"-parent")};b8h.mq2x=function(){return this.o8g};b8h.bZx0x=function(bJ9A){if(!this.o8g)return this;this.bZF0x();if(k8c.hf1x(bJ9A)){this.gI1x=bJ9A(this.o8g)}else{this.gI1x=a7h.A8s(bJ9A);if(!!this.gI1x)this.gI1x.appendChild(this.o8g)}this.cCl6f();return this};b8h.J8B=function(){if(!this.gI1x||!this.o8g||this.o8g.parentNode==this.gI1x)return this;this.gI1x.appendChild(this.o8g);return this};b8h.bu9l=function(){a7h.nq3x(this.o8g);return this}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,a7h=c8g("nej.e"),k8c=c8g("nej.u"),bg8Y=c8g("nej.h"),P8H=c8g("nej.ui"),zt6n,can0x;if(!!P8H.Wm3x)return;P8H.Wm3x=NEJ.C();zt6n=P8H.Wm3x.M8E(P8H.eu0x);can0x=P8H.Wm3x.cx9o;zt6n.bp8h=function(e8e){this.bq8i(e8e);this.ze6Y("oncontentready",e8e.oncontentready||this.cCe6Y.f8d(this));this.cCd6X=!!e8e.nohack;this.cCc6W=!!e8e.destroyable;this.OX1x(e8e.content)};zt6n.bC9t=function(){this.z8r("onbeforerecycle");this.bH9y();this.bbl5q();this.OX1x("");a7h.fv0x(this.o8g,{top:"",left:""})};zt6n.cCe6Y=bs8k;zt6n.OW1x=bs8k;zt6n.bbl5q=function(){a7h.nq3x(this.o8g);if(!!this.oX3x){this.oX3x=bg8Y.bmt0x(this.o8g);delete this.oX3x}};zt6n.OX1x=function(bt9k){if(!this.o8g||!this.Dl7e||bt9k==null)return this;bt9k=bt9k||"";k8c.fX0x(bt9k)?this.Dl7e.innerHTML=bt9k:this.Dl7e.appendChild(bt9k);this.z8r("oncontentready",this.Dl7e);return this};zt6n.hi1x=function(bl8d){var C8u=bl8d.top;if(C8u!=null){C8u+="px";a7h.bd8V(this.o8g,"top",C8u);a7h.bd8V(this.oX3x,"top",C8u)}var C8u=bl8d.left;if(C8u!=null){C8u+="px";a7h.bd8V(this.o8g,"left",C8u);a7h.bd8V(this.oX3x,"left",C8u)}return this};zt6n.J8B=function(){a7h.bd8V(this.o8g,"visibility","hidden");can0x.J8B.apply(this,arguments);this.OW1x();a7h.bd8V(this.o8g,"visibility","");if(!this.cCd6X){this.oX3x=bg8Y.oX3x(this.o8g)}return this};zt6n.bu9l=function(){this.cCc6W?this.W8O():this.bbl5q();return this}})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,k8c=c8g("nej.u"),a7h=c8g("nej.e"),P8H=c8g("nej.ui"),Do7h;if(!!P8H.bbz5E)return;P8H.bbz5E=NEJ.C();Do7h=P8H.bbz5E.M8E(P8H.eu0x);Do7h.bp8h=function(e8e){this.Wh3x();this.bq8i(this.cCb6V(e8e));this.ck9b.onbeforerecycle=this.W8O.f8d(this);this.pU3x=this.bsy1x()};Do7h.bC9t=function(){this.z8r("onbeforerecycle");this.bH9y();delete this.ck9b;a7h.nq3x(this.o8g);var zn6h=this.pU3x;if(!!zn6h){delete this.pU3x;zn6h.W8O()}};Do7h.bsy1x=bs8k;Do7h.cCb6V=function(e8e){var m8e={};k8c.eR0x(e8e,function(p8h,K8C){this.ck9b.hasOwnProperty(K8C)?this.ck9b[K8C]=p8h:m8e[K8C]=p8h},this);return m8e};Do7h.Wh3x=function(){this.ck9b={clazz:"",parent:null,content:this.o8g,destroyable:!1,oncontentready:null,nohack:!1}};Do7h.J8B=function(){if(!!this.pU3x)this.pU3x.J8B();this.z8r("onaftershow");return this};Do7h.bu9l=function(){if(!!this.pU3x)this.pU3x.bu9l();return this}})();
(function(){var c8g=NEJ.P,dZ0x=c8g("nej.g"),bg8Y=c8g("nej.h"),a7h=c8g("nej.e"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),P8H=c8g("nej.ui"),Wf3x,cap0x;if(!!P8H.OT1x)return;var jx1x=a7h.uJ5O(".#<uispace>{position:fixed;_position:absolute;z-index:100;top:0;bottom:0;left:0;right:0;width:100%;height:100%;background-image:url("+dZ0x.bly0x+");}");P8H.OT1x=NEJ.C();Wf3x=P8H.OT1x.M8E(P8H.eu0x);cap0x=P8H.OT1x.cx9o;Wf3x.bp8h=function(e8e){this.bq8i(e8e);var bt9k=e8e.content||"&nbsp;";k8c.fX0x(bt9k)?this.o8g.innerHTML=bt9k:this.o8g.appendChild(bt9k)};Wf3x.bC9t=function(){this.bH9y();this.o8g.innerHTML="&nbsp;"};Wf3x.ci9Z=function(){this.ng2x=jx1x};Wf3x.J8B=function(){bg8Y.bmn0x(this.o8g);cap0x.J8B.apply(this,arguments);return this}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),P8H=c8g("nej.ut"),zh6b;if(!!P8H.xf5k)return;P8H.xf5k=NEJ.C();zh6b=P8H.xf5k.M8E(P8H.cO9F);zh6b.bp8h=function(e8e){this.bq8i(e8e);this.cBV6P=!!e8e.overflow;this.o8g=a7h.A8s(e8e.body);this.Dr7k=a7h.A8s(e8e.view)||a7h.bVp9g(this.o8g);this.caG0x=a7h.A8s(e8e.mbar)||this.o8g;this.bct5y=parseInt(e8e.direction)||0;if(!!e8e.isRelative){this.o8g.style.position="relative";this.bsG1x=true;this.bsH1x()}this.bZ9Q([[document,"mouseup",this.bsI1x.f8d(this)],[document,"mousemove",this.bsJ1x.f8d(this)],[this.caG0x,"mousedown",this.Wc3x.f8d(this)]])};zh6b.bsH1x=function(){if(!!this.bsG1x){this.OS1x=a7h.ir1x(this.o8g,this.Dr7k);this.OS1x.x-=parseInt(a7h.dp9g(this.o8g,"left"))||0;this.OS1x.y-=parseInt(a7h.dp9g(this.o8g,"top"))||0}};zh6b.bC9t=function(){this.bH9y();delete this.o8g;delete this.caG0x;delete this.Dr7k};zh6b.bsM1x=function(){return{x:Math.max(this.Dr7k.clientWidth,this.Dr7k.scrollWidth)-this.o8g.offsetWidth,y:Math.max(this.Dr7k.clientHeight,this.Dr7k.scrollHeight)-this.o8g.offsetHeight}};zh6b.Wc3x=function(d8f){h8b.bi8a(d8f);if(!!this.iC1x)return;this.iC1x={x:h8b.kr2x(d8f),y:h8b.nf2x(d8f)};this.cbE0x=this.bsM1x();this.z8r("ondragstart",d8f)};zh6b.bsJ1x=function(d8f){if(!this.iC1x)return;var bl8d={x:h8b.kr2x(d8f),y:h8b.nf2x(d8f)};var rd4h=bl8d.x-this.iC1x.x,rb4f=bl8d.y-this.iC1x.y,C8u={top:(parseInt(a7h.dp9g(this.o8g,"top"))||0)+rb4f,left:(parseInt(a7h.dp9g(this.o8g,"left"))||0)+rd4h};if(this.bsG1x){this.bsH1x();C8u.top=C8u.top+this.OS1x.y;C8u.left=C8u.left+this.OS1x.x}this.iC1x=bl8d;this.hi1x(C8u)};zh6b.bsI1x=function(d8f){if(!this.iC1x)return;delete this.cbE0x;delete this.iC1x;this.z8r("ondragend",this.bsQ1x())};zh6b.hi1x=function(d8f){if(!this.cBV6P){var cbQ0x=this.cbE0x||this.bsM1x();d8f.top=Math.min(cbQ0x.y,Math.max(0,d8f.top));d8f.left=Math.min(cbQ0x.x,Math.max(0,d8f.left))}var cm9d=this.o8g.style;if(this.bsG1x){this.bsH1x();d8f.top=d8f.top-this.OS1x.y;d8f.left=d8f.left-this.OS1x.x}if(this.bct5y==0||this.bct5y==2)cm9d.top=d8f.top+"px";if(this.bct5y==0||this.bct5y==1)cm9d.left=d8f.left+"px";this.z8r("onchange",d8f);return this};zh6b.bsQ1x=function(){return{left:parseInt(a7h.dp9g(this.o8g,"left"))||0,top:parseInt(a7h.dp9g(this.o8g,"top"))||0}}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,a7h=NEJ.P("nej.e"),h8b=NEJ.P("nej.v"),k8c=NEJ.P("nej.u"),G8y=NEJ.P("nej.ut"),P8H=NEJ.P("nej.ui"),jx1x,gJ1x,b8h,L8D;if(!!P8H.bdS5X)return;P8H.bdS5X=NEJ.C();b8h=P8H.bdS5X.M8E(P8H.Wm3x);L8D=P8H.bdS5X.cx9o;b8h.cC9t=function(){this.tp4t={};this.lJ2x={onchange:this.bsJ1x.f8d(this)};this.cK9B()};b8h.bp8h=function(e8e){this.bq8i(e8e);this.cBC6w(e8e.mask);this.cBB6v(e8e.align);this.Dy7r(e8e.title);if(!e8e.draggable)return;this.jC1x=G8y.xf5k.B8t(this.lJ2x)};b8h.bC9t=function(){this.bH9y();delete this.sE4I;delete this.VZ3x;if(!!this.Dz7s){this.Dz7s.W8O();delete this.Dz7s}if(!!this.jC1x){this.jC1x.W8O();delete this.jC1x}};b8h.ci9Z=function(){this.ng2x=jx1x;this.cg9X=gJ1x};b8h.bY9P=function(){this.cj9a();var j8b=a7h.dn9e(this.o8g);this.Dl7e=j8b[1];this.lJ2x.mbar=j8b[0];this.lJ2x.body=this.o8g;h8b.s8k(j8b[2],"mousedown",this.cBA6u.f8d(this));h8b.s8k(this.lJ2x.mbar,"mousedown",this.Wc3x.f8d(this));this.cbY1x=a7h.dn9e(this.lJ2x.mbar)[0]};b8h.cBA6u=function(d8f){h8b.bi8a(d8f);this.z8r("onclose",d8f);if(!d8f.stopped){this.bu9l()}};b8h.Wc3x=function(d8f){h8b.z8r(document,"click")};b8h.bsJ1x=function(d8f){if(!this.oX3x)return;a7h.fv0x(this.oX3x,{top:d8f.top+"px",left:d8f.left+"px"})};b8h.OW1x=function(){var eK0x=[function(){return 0},function(pn3x,iX1x,bl8d,K8C){if(K8C=="top"&&window.top!=window.self){var bfi6c=0,Gy8q=0;if(top.g_topBarHeight)bfi6c=top.g_topBarHeight;if(top.g_bottomBarShow&&top.g_bottomBarHeight)Gy8q=top.g_bottomBarHeight;if(pn3x.top<=bfi6c){var bsV1x=Math.max(0,(iX1x.height-(bfi6c-pn3x.top)-Gy8q-bl8d.height)/2);return bsV1x+bfi6c}else{var bsV1x=Math.max(0,(iX1x.height-Gy8q-bl8d.height)/2);return bsV1x+pn3x.top}}return Math.max(0,pn3x[K8C]+(iX1x[jh1x[K8C]]-bl8d[jh1x[K8C]])/2)},function(pn3x,iX1x,bl8d,K8C){return pn3x[K8C]+(iX1x[jh1x[K8C]]-bl8d[jh1x[K8C]])}],cBy6s=["left","top"],jh1x={left:"width",top:"height"};return function(){var C8u={},cm9d=this.o8g.style,km2x=a7h.qv3x(),pn3x={left:km2x.scrollLeft,top:km2x.scrollTop},iX1x={width:km2x.clientWidth,height:km2x.clientHeight},bl8d={width:this.o8g.offsetWidth,height:this.o8g.offsetHeight},dA0x={left:km2x.clientWidth-this.o8g.offsetWidth,top:km2x.clientHeight-this.o8g.offsetHeight};k8c.bf8X(cBy6s,function(K8C,r8j){var dG0x=eK0x[this.sE4I[r8j]];if(!dG0x)return;C8u[K8C]=dG0x(pn3x,iX1x,bl8d,K8C)},this);this.hi1x(C8u)}}();b8h.cBq6k=function(){if(!this.Dz7s){if(!this.VZ3x)return;this.tp4t.parent=this.gI1x;this.Dz7s=this.VZ3x.B8t(this.tp4t)}this.Dz7s.J8B()};b8h.bbl5q=function(){if(!!this.Dz7s)this.Dz7s.bu9l();L8D.bbl5q.apply(this,arguments)};b8h.cBC6w=function(mb2x){if(!!mb2x){if(mb2x instanceof P8H.OT1x){this.Dz7s=mb2x;return}if(k8c.hf1x(mb2x)){this.VZ3x=mb2x;return}this.VZ3x=P8H.OT1x;if(k8c.fX0x(mb2x))this.tp4t.clazz=mb2x;return}this.VZ3x=null};b8h.Dy7r=function(ez0x,eg0x){if(!!this.cbY1x){var ber6l=!eg0x?"innerText":"innerHTML";this.cbY1x[ber6l]=ez0x||"标题"}return this};b8h.cBB6v=function(){var dr9i=/\s+/,cBp6j={left:0,center:1,right:2,auto:3},cBm6g={top:0,middle:1,bottom:2,auto:3};return function(ph3x){this.sE4I=(ph3x||"").split(dr9i);var cl9c=cBp6j[this.sE4I[0]];if(cl9c==null)cl9c=1;this.sE4I[0]=cl9c;var cl9c=cBm6g[this.sE4I[1]];if(cl9c==null)cl9c=1;this.sE4I[1]=cl9c;return this}}();b8h.J8B=function(){L8D.J8B.apply(this,arguments);this.cBq6k();return this};jx1x=a7h.uJ5O(".#<uispace>{position:absolute;z-index:1000;border:1px solid #aaa;background:#fff;}.#<uispace> .zbar{line-height:30px;background:#8098E7;border-bottom:1px solid #aaa;}.#<uispace> .zcnt{padding:10px 5px;}.#<uispace> .zttl{margin-right:20px;text-align:left;}.#<uispace> .zcls{position:absolute;top:5px;right:0;width:20px;height:20px;line-height:20px;cursor:pointer;}");gJ1x=a7h.jU2x('<div class="'+jx1x+'"><div class="zbar"><div class="zttl f-thide">标题</div></div><div class="zcnt"></div><span class="zcls" title="关闭窗体">×</span></div>')})();
(function(){var c8g=NEJ.P,k8c=c8g("nej.u"),P8H=c8g("nej.ui"),bsX1x;if(!!P8H.bgr6l)return;P8H.bgr6l=NEJ.C();bsX1x=P8H.bgr6l.M8E(P8H.bbz5E);bsX1x.bsy1x=function(){return P8H.bdS5X.B8t(this.ck9b)};bsX1x.Wh3x=function(){P8H.bgr6l.cx9o.Wh3x.apply(this,arguments);this.ck9b.mask=null;this.ck9b.title="标题";this.ck9b.align="";this.ck9b.draggable=!1;this.ck9b.onclose=null}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),bc8U=c8g("nej.ui"),n8f=c8g("nm.l"),b8h,L8D;n8f.es0x=NEJ.C();b8h=n8f.es0x.M8E(bc8U.bgr6l);b8h.bp8h=function(e8e){e8e.clazz="m-layer z-show "+(e8e.clazz||"");e8e.nohack=true;e8e.draggable=true;this.bq8i(e8e)};b8h.ed0x=function(g8c,bF9w){if(!g8c)return;a7h.bd8V(g8c,"display",!bF9w?"none":"");g8c.lastChild.innerText=bF9w||""};b8h.ee0x=function(he1x,dk9b,VQ3x,VO3x){var eq0x="js-lock";if(dk9b===undefined)return a7h.bG9x(he1x,eq0x);!dk9b?a7h.y8q(he1x,eq0x):a7h.w8o(he1x,eq0x);he1x.firstChild.innerText=!dk9b?VQ3x:VO3x};n8f.es0x.J8B=function(e8e){e8e=e8e||{};if(e8e.mask===undefined)e8e.mask="m-mask";if(e8e.parent===undefined)e8e.parent=document.body;if(e8e.draggable===undefined)e8e.draggable=true;!!this.fF0x&&this.fF0x.W8O();this.fF0x=this.B8t(e8e);this.fF0x.J8B(e8e);return this.fF0x};n8f.es0x.bu9l=function(){!!this.fF0x&&this.fF0x.W8O()}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),n8f=c8g("nm.l"),b8h,L8D;n8f.bsY1x=NEJ.C();b8h=n8f.bsY1x.M8E(n8f.es0x);L8D=n8f.bsY1x.cx9o;b8h.bp8h=function(e8e){this.bq8i(e8e);if(e8e.bubble===undefined)e8e.bubble=true;this.VL3x=e8e.bubble;this.sk4o=e8e.message||""};b8h.ci9Z=function(){this.cg9X=a7h.jU2x('<div class="lyct f-cb f-tc"></div>')};b8h.bY9P=function(){this.cj9a();h8b.s8k(this.o8g,"click",this.cR9I.f8d(this))};b8h.cR9I=function(d8f){var g8c=h8b.ba8S(d8f,"d:action");if(!g8c)return;if(g8c.href)h8b.cu9l(d8f);if(a7h.u8m(g8c,"action")=="close")this.bu9l();if(this.VL3x===!1)h8b.uQ5V(d8f);this.z8r("onaction",a7h.u8m(g8c,"action"))};b8h.J8B=function(){L8D.J8B.call(this);this.o8g.innerHTML=this.sk4o};var hb1x=a7h.eA0x('<div class="f-fs1" style="line-height:22px;">${message|default:""}</div><div class="lybtn">{list buttons as item}<a hidefocus="true" class="u-btn2 ${item.klass} {if item.style}${item.style}{else}u-btn2-w2{/if}" href="javascript:;" {if !!item.action}data-action="${item.action}"{/if}><i>${item.text}</i></a>{/list}</div>');l8d.oc3x=function(){var et0x;var cN9E;var btb1x=function(eS0x,X8P){if(k8c.hf1x(eS0x,"function")&&eS0x(X8P)!=-1)cN9E.W8O()};var DE7x=function(){!!cN9E&&cN9E.bu9l()};return function(e8e){clearTimeout(et0x);e8e=e8e||{};e8e.title=e8e.title||"提示";e8e.clazz=e8e.clazz||"";e8e.parent=e8e.parent||document.body;e8e.buttons=e8e.buttons||[];e8e.message=a7h.cf9W(hb1x,e8e);e8e.onaction=btb1x.f8d(null,e8e.action);if(e8e.mask===undefined)e8e.mask=true;if(e8e.draggable===undefined)e8e.draggable=true;!!cN9E&&cN9E.W8O();cN9E=n8f.bsY1x.B8t(e8e);cN9E.J8B();if(e8e.autoclose)et0x=setTimeout(DE7x.f8d(null),2e3);return cN9E}}();l8d.eX0x=function(e8e){e8e=e8e||{};e8e.clazz=e8e.clazz||"m-layer-w1";e8e.buttons=[{klass:"u-btn2-2",action:"close",text:e8e.btntxt||"确定"}];var cN9E=l8d.oc3x(e8e);return cN9E};l8d.hT1x=function(e8e){e8e=e8e||{};e8e.clazz=e8e.clazz||"m-layer-w2";e8e.buttons=[{klass:"u-btn2-2",action:"ok",text:e8e.btnok||"确定",style:e8e.okstyle||""},{klass:"u-btn2-1",action:"close",text:e8e.btncc||"取消",style:e8e.ccstyle||""}];var cN9E=l8d.oc3x(e8e);return cN9E}})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u");a7h.cBh6b=function(){var ho1x=/[\r\n]/gi,Q8I={};var cBg6a=function(cT9K){return(cT9K||"").replace(ho1x,"aa").length};var ccP1x=function(D8v){var bk8c=Q8I[D8v],ccS1x=a7h.A8s(D8v),sd4h=a7h.A8s(D8v+"-counter");if(!ccS1x||!bk8c)return;var d8f={input:ccS1x.value};d8f.length=bk8c.onlength(d8f.input);d8f.delta=bk8c.max-d8f.length;bk8c.onchange(d8f);sd4h.innerHTML=d8f.value||"剩余"+d8f.delta+"个字"};return function(H8z,e8e){var D8v=a7h.mu2x(H8z);if(!D8v||!!Q8I[D8v])return;var bk8c=NEJ.X({},e8e);bk8c.onchange=bk8c.onchange||bs8k;bk8c.onlength=cBg6a;if(!bk8c.max){var ccT1x=parseInt(a7h.hl1x(D8v,"maxlength")),ccX1x=parseInt(a7h.u8m(D8v,"maxLength"));bk8c.max=ccT1x||ccX1x||100;if(!ccT1x&&!!ccX1x)bk8c.onlength=k8c.fS0x}Q8I[D8v]=bk8c;h8b.s8k(D8v,"input",ccP1x.f8d(null,D8v));var g8c=a7h.PS1x(D8v,{nid:bk8c.nid||"js-counter",clazz:bk8c.clazz});bk8c.xid=D8v+"-counter";g8c.id=bk8c.xid;ccP1x(D8v)}}()})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),bg8Y=c8g("nej.h");bg8Y.bte1x=function(H8z,eo0x){}})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,P8H=c8g("nej.p"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),bg8Y=c8g("nej.h");if(P8H.oG3x.trident)return;bg8Y.bte1x=function(){var Q8I={};var Qr1x=function(d8f){var cY9P=h8b.ba8S(d8f);if(!!cY9P.value)return;a7h.bd8V(a7h.PS1x(cY9P),"display","none")};var Ig9X=function(d8f){var cY9P=h8b.ba8S(d8f);if(!!cY9P.value)return;a7h.bd8V(a7h.PS1x(cY9P),"display","")};var cBa6U=function(cY9P,eo0x){var D8v=a7h.mu2x(cY9P),jH1x=a7h.PS1x(cY9P,{tag:"label",clazz:eo0x});jH1x.htmlFor=D8v;var cM9D=a7h.hl1x(cY9P,"placeholder")||"";jH1x.innerText=cM9D=="null"?"":cM9D;var cb9S=cY9P.offsetHeight+"px";a7h.fv0x(jH1x,{left:0,display:!cY9P.value?"":"none"})};return bg8Y.bte1x.eT0x(function(d8f){d8f.stopped=!0;var bj8b=d8f.args,cY9P=a7h.A8s(bj8b[0]);if(!!Q8I[cY9P.id])return;cBa6U(cY9P,bj8b[1]);Q8I[cY9P.id]=!0;h8b.s8k(cY9P,"blur",Ig9X.f8d(null));h8b.s8k(cY9P,"focus",Qr1x.f8d(null))})}()})();
(function(){var c8g=NEJ.P,bg8Y=c8g("nej.h"),a7h=c8g("nej.e"),di9Z=c8g("nej.x");a7h.hh1x=di9Z.hh1x=function(H8z,eo0x){bg8Y.bte1x(H8z,a7h.u8m(H8z,"holder")||eo0x||"js-placeholder");return this};di9Z.isChange=!0})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),P8H=c8g("nej.ut"),iu1x;if(!!P8H.VG3x)return;P8H.VG3x=NEJ.C();iu1x=P8H.VG3x.M8E(P8H.cO9F);iu1x.cC9t=function(){this.cK9B();this.Jy9p={tp:{nid:"js-nej-tp"},ok:{nid:"js-nej-ok"},er:{nid:"js-nej-er"}}};iu1x.bp8h=function(e8e){this.bq8i(e8e);this.gP1x=document.forms[e8e.form]||a7h.A8s(e8e.form);this.bZ9Q([[this.gP1x,"keypress",this.cAX6R.f8d(this)]]);this.sk4o=e8e.message||{};this.sk4o.pass=this.sk4o.pass||"&nbsp;";var eE0x=this.qH4L(this.gP1x,"focusMode",1);if(!isNaN(eE0x)){this.cdt1x={mode:eE0x,clazz:e8e.focus}}this.DG7z=e8e.holder;this.Jy9p.tp.clazz="js-mhd "+(e8e.tip||"js-tip");this.Jy9p.ok.clazz="js-mhd "+(e8e.pass||"js-pass");this.Jy9p.er.clazz="js-mhd "+(e8e.error||"js-error");this.cdB1x=e8e.invalid||"js-invalid";this.cAQ6K(e8e);this.hd1x();if(!!this.DJ7C)this.DJ7C.focus()};iu1x.bC9t=function(){this.bH9y();delete this.sk4o;delete this.DJ7C;delete this.Ke9V;delete this.gP1x;delete this.cdT1x;delete this.VF3x};iu1x.qH4L=function(g8c,yN6H,t8l){var C8u=a7h.u8m(g8c,yN6H);switch(t8l){case 1:return parseInt(C8u);case 2:return(C8u||"").toLowerCase()=="true";case 3:return this.btq1x(C8u)}return C8u};iu1x.DK7D=function(C8u,t8l){if(t8l=="date")return this.btq1x(C8u);return parseInt(C8u)};iu1x.bby5D=function(){var lp2x=/^button|submit|reset|image|hidden|file$/i;return function(g8c){g8c=this.A8s(g8c)||g8c;var t8l=g8c.type;return!!g8c.name&&!lp2x.test(g8c.type||"")}}();iu1x.cAN6H=function(){var lp2x=/^hidden$/i;return function(g8c){if(this.bby5D(g8c))return!0;g8c=this.A8s(g8c)||g8c;var t8l=g8c.type||"";return lp2x.test(t8l)}}();iu1x.btq1x=function(){var dr9i=/[-\/]/;var cAM6G=function(C8u){if(!C8u)return"";C8u=C8u.split(dr9i);C8u.push(C8u.shift());return C8u.join("/")};return function(C8u){if((C8u||"").toLowerCase()=="now")return+(new Date);return Date.parse(cAM6G(C8u))}}();iu1x.cAX6R=function(d8f){if(d8f.keyCode!=13)return;this.z8r("onenter",d8f)};iu1x.cAL6F=function(D8v,Y8Q){var tb4f=this.VF3x[Y8Q],C8u=this.qH4L(D8v,Y8Q);if(!C8u||!tb4f)return;this.bbN5S(D8v,tb4f);this.btr1x(D8v,Y8Q,C8u)};iu1x.cAG6A=function(D8v,Y8Q){try{var bEt4x=this.qH4L(D8v,Y8Q);if(!bEt4x)return;var C8u=new RegExp(bEt4x);this.btr1x(D8v,Y8Q,C8u);this.bbN5S(D8v,this.VF3x[Y8Q])}catch(e){}};iu1x.cAE6y=function(D8v,Y8Q){var tb4f=this.VF3x[Y8Q];if(!!tb4f&&this.qH4L(D8v,Y8Q,2))this.bbN5S(D8v,tb4f)};iu1x.btt1x=function(D8v,Y8Q,C8u){C8u=parseInt(C8u);if(isNaN(C8u))return;this.btr1x(D8v,Y8Q,C8u);this.bbN5S(D8v,this.VF3x[Y8Q])};iu1x.bEw4A=function(D8v,Y8Q){this.btt1x(D8v,Y8Q,this.qH4L(D8v,Y8Q))};iu1x.bEB4F=function(D8v,Y8Q){this.btt1x(D8v,Y8Q,a7h.hl1x(D8v,Y8Q))};iu1x.bEC4G=function(D8v,Y8Q,t8l){var C8u=this.DK7D(this.qH4L(D8v,Y8Q),this.qH4L(D8v,"type"));this.btt1x(D8v,Y8Q,C8u)};iu1x.cAz6t=function(){var ho1x=/^input|textarea$/i;var Qr1x=function(d8f){this.rq4u(h8b.ba8S(d8f))};var Ig9X=function(d8f){var g8c=h8b.ba8S(d8f);if(!this.qH4L(g8c,"ignore",2)){this.bEG4K(g8c)}};return function(g8c){if(this.qH4L(g8c,"autoFocus",2))this.DJ7C=g8c;var sA4E=a7h.hl1x(g8c,"placeholder");if(!!sA4E&&sA4E!="null")a7h.hh1x(g8c,this.DG7z);if(!!this.cdt1x&&ho1x.test(g8c.tagName))a7h.nn3x(g8c,this.cdt1x);var D8v=a7h.mu2x(g8c);this.cAE6y(D8v,"required");this.cAL6F(D8v,"type");this.cAG6A(D8v,"pattern");this.bEB4F(D8v,"maxlength");this.bEB4F(D8v,"minlength");this.bEw4A(D8v,"maxLength");this.bEw4A(D8v,"minLength");this.bEC4G(D8v,"min");this.bEC4G(D8v,"max");var Y8Q=g8c.name;this.sk4o[Y8Q+"-tip"]=this.qH4L(g8c,"tip");this.sk4o[Y8Q+"-error"]=this.qH4L(g8c,"message");this.rq4u(g8c);var R8J=this.Ke9V[D8v],i8a=(R8J||be8W).data||be8W,Vr3x=this.qH4L(g8c,"counter",2);if(Vr3x&&(i8a.maxlength||i8a.maxLength)){a7h.cBh6b(D8v,{nid:this.Jy9p.tp.nid,clazz:"js-counter"})}if(!!R8J&&ho1x.test(g8c.tagName)){this.bZ9Q([[g8c,"focus",Qr1x.f8d(this)],[g8c,"blur",Ig9X.f8d(this)]])}else if(this.qH4L(g8c,"focus",2)){this.bZ9Q([[g8c,"focus",Qr1x.f8d(this)]])}}}();iu1x.cAQ6K=function(){var Gp8h={number:/^[\d]+$/i,url:/^[a-z]+:\/\/(?:[\w-]+\.)+[a-z]{2,6}.*$/i,email:/^[\w-\.]+@(?:[\w-]+\.)+[a-z]{2,6}$/i,date:function(v){return!v||!isNaN(this.btq1x(v))}};var cAs6m={required:function(g8c){var t8l=g8c.type,czX6R=!g8c.value,czr6l=(t8l=="checkbox"||t8l=="radio")&&!g8c.checked;if(czr6l||czX6R)return-1},type:function(g8c,e8e){var dr9i=this.cdT1x[e8e.type],fK0x=g8c.value.trim(),czp6j=!!dr9i.test&&!dr9i.test(fK0x),czj6d=k8c.hf1x(dr9i)&&!dr9i.call(this,fK0x);if(czp6j||czj6d)return-2},pattern:function(g8c,e8e){if(!e8e.pattern.test(g8c.value))return-3},maxlength:function(g8c,e8e){if(g8c.value.length>e8e.maxlength)return-4},minlength:function(g8c,e8e){if(g8c.value.length<e8e.minlength)return-5},maxLength:function(g8c,e8e){if(k8c.fS0x(g8c.value)>e8e.maxLength)return-4},minLength:function(g8c,e8e){if(k8c.fS0x(g8c.value)<e8e.minLength)return-5},min:function(g8c,e8e){var hB1x=this.DK7D(g8c.value,e8e.type);if(isNaN(hB1x)||hB1x<e8e.min)return-6},max:function(g8c,e8e){var hB1x=this.DK7D(g8c.value,e8e.type);if(isNaN(hB1x)||hB1x>e8e.max)return-7}};return function(e8e){this.cdT1x=NEJ.X(NEJ.X({},Gp8h),e8e.type);this.VF3x=NEJ.X(NEJ.X({},cAs6m),e8e.attr)}}();iu1x.bbN5S=function(D8v,AJ7C){if(!k8c.hf1x(AJ7C))return;var R8J=this.Ke9V[D8v];if(!R8J||!R8J.func){R8J=R8J||{};R8J.func=[];this.Ke9V[D8v]=R8J}R8J.func.push(AJ7C)};iu1x.btr1x=function(D8v,Y8Q,C8u){if(!Y8Q)return;var R8J=this.Ke9V[D8v];if(!R8J||!R8J.data){R8J=R8J||{};R8J.data={};this.Ke9V[D8v]=R8J}R8J.data[Y8Q]=C8u};iu1x.bEG4K=function(g8c){g8c=this.A8s(g8c)||g8c;var R8J=this.Ke9V[a7h.mu2x(g8c)];if(!g8c||!R8J||!this.bby5D(g8c))return!0;var m8e;k8c.eR0x(R8J.func,function(eK0x){m8e=eK0x.call(this,g8c,R8J.data);return m8e!=null},this);if(m8e==null){var d8f={target:g8c,form:this.gP1x};this.z8r("oncheck",d8f);m8e=d8f.value}var d8f={target:g8c,form:this.gP1x};if(m8e!=null){d8f.code=m8e;this.z8r("oninvalid",d8f);if(!d8f.stopped){this.cyZ6T(g8c,d8f.value||this.sk4o[g8c.name+m8e])}}else{this.z8r("onvalid",d8f);if(!d8f.stopped)this.cyX6R(g8c,d8f.value)}return m8e==null};iu1x.AF7y=function(){var cyQ6K=function(bbC5H,bbD5I){return bbC5H==bbD5I?"block":"none"};var cyO6I=function(g8c,t8l,bF9w){var sA4E=bGn4r.call(this,g8c,t8l);if(!sA4E&&!!bF9w)sA4E=a7h.PS1x(g8c,this.Jy9p[t8l]);return sA4E};var bGn4r=function(g8c,t8l){var sA4E;if(t8l=="tp")sA4E=a7h.A8s(g8c.name+"-tip");if(!sA4E)sA4E=a7h.F8x(g8c.parentNode,this.Jy9p[t8l].nid)[0];return sA4E};return function(g8c,bF9w,t8l){g8c=this.A8s(g8c)||g8c;if(!g8c)return;t8l=="er"?a7h.w8o(g8c,this.cdB1x):a7h.y8q(g8c,this.cdB1x);var sA4E=cyO6I.call(this,g8c,t8l,bF9w);if(!!sA4E&&!!bF9w)sA4E.innerHTML=bF9w;k8c.eR0x(this.Jy9p,function(C8u,K8C){a7h.bd8V(bGn4r.call(this,g8c,K8C),"display",cyQ6K(t8l,K8C))},this)}}();iu1x.rq4u=function(g8c,bF9w){this.AF7y(g8c,bF9w||this.sk4o[g8c.name+"-tip"],"tp");return this};iu1x.cyX6R=function(g8c,bF9w){this.AF7y(g8c,bF9w||this.sk4o[g8c.name+"-pass"]||this.sk4o.pass,"ok");return this};iu1x.cyZ6T=function(g8c,bF9w){this.AF7y(g8c,bF9w||this.sk4o[g8c.name+"-error"],"er");return this};iu1x.jy1x=function(){var ho1x=/^(?:radio|checkbox)$/i;var cyH6B=function(C8u){return C8u==null?"":C8u};var bGu4y=function(C8u,g8c){if(ho1x.test(g8c.type||"")){g8c.checked=C8u==g8c.value}else{g8c.value=cyH6B(C8u)}};return function(Y8Q,C8u){var g8c=this.A8s(Y8Q);if(!g8c)return this;if(g8c.tagName=="SELECT"||!g8c.length){bGu4y(C8u,g8c)}else{k8c.bf8X(g8c,bGu4y.f8d(null,C8u))}return this}}();iu1x.A8s=function(Y8Q){return this.gP1x.elements[Y8Q]};iu1x.cRT0x=function(){return this.gP1x};iu1x.bdR5W=function(){var ho1x=/^radio|checkbox$/i,lp2x=/^number|date$/;var cyB6v=function(bB9s,g8c){var Y8Q=g8c.name,C8u=g8c.value,R8J=bB9s[Y8Q],t8l=this.qH4L(g8c,"type");if(lp2x.test(t8l))C8u=this.DK7D(C8u,t8l);if(ho1x.test(g8c.type)&&!g8c.checked){C8u=this.qH4L(g8c,"value");if(!C8u)return}if(!!R8J){if(!k8c.el0x(R8J)){R8J=[R8J];bB9s[Y8Q]=R8J}R8J.push(C8u)}else{bB9s[Y8Q]=C8u}};return function(){var m8e={};k8c.bf8X(this.gP1x.elements,function(g8c){if(this.cAN6H(g8c))cyB6v.call(this,m8e,g8c)},this);return m8e}}();iu1x.Vl2x=function(){var cyA6u=function(g8c){if(this.bby5D(g8c))this.rq4u(g8c)};return function(){this.gP1x.reset();k8c.bf8X(this.gP1x.elements,cyA6u,this);return this}}();iu1x.cRU0x=function(){this.gP1x.submit();return this};iu1x.hd1x=function(){var cyx6r=function(g8c){if(this.bby5D(g8c))this.cAz6t(g8c)};return function(){this.Ke9V={};k8c.bf8X(this.gP1x.elements,cyx6r,this);return this}}();iu1x.cyw6q=function(g8c){g8c=this.A8s(g8c)||g8c;if(!!g8c)return this.bEG4K(g8c);var m8e=!0;k8c.bf8X(this.gP1x.elements,function(g8c){var iK1x=this.cyw6q(g8c);m8e=m8e&&iK1x},this);return m8e}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),G8y=c8g("nej.ut"),k8c=c8g("nej.u"),l8d=c8g("nm.x"),n8f=c8g("nm.l"),b8h,L8D;n8f.bej6d=NEJ.C();b8h=n8f.bej6d.M8E(n8f.es0x);L8D=n8f.bej6d.cx9o;b8h.bY9P=function(){this.cj9a();h8b.s8k(this.o8g,"click",this.cR9I.f8d(this));h8b.s8k(document,"mousewheel",this.DQ8I.f8d(this));if(!!document.body.addEventListener)document.body.addEventListener("DOMMouseScroll",this.DQ8I.f8d(this))};b8h.bp8h=function(e8e){this.bq8i(e8e);if(e8e.jst){this.o8g.innerHTML=a7h.cf9W(e8e.jst,e8e.data)}else if(e8e.ntp){this.o8g.appendChild(a7h.dH0x(e8e.ntp))}else if(e8e.txt){this.o8g.innerHTML=a7h.iN1x(e8e.txt)}else if(e8e.html){this.o8g.innerHTML=e8e.html}var Vk2x=this.o8g.getElementsByTagName("form");if(Vk2x.length){this.gP1x=G8y.VG3x.B8t({form:Vk2x[0]})}this.Hp9g=a7h.dn9e(this.o8g)[0]};b8h.bC9t=function(){this.z8r("ondestroy");this.bH9y();this.o8g.innerHTML="";delete this.Hp9g};b8h.cR9I=function(d8f){var g8c=h8b.ba8S(d8f,"d:action"),i8a=this.gP1x?this.gP1x.bdR5W():null,d8f={action:a7h.u8m(g8c,"action")};if(i8a)d8f.data=i8a;if(d8f.action){this.z8r("onaction",d8f);if(d8f.stopped)return;this.bu9l()}};b8h.DQ8I=function(d8f){if(!this.Hp9g)return;h8b.bi8a(d8f);var dA0x=d8f.wheelDelta||-d8f.detail;this.Hp9g.scrollTop-=dA0x};l8d.kI2x=function(e8e){e8e.destroyable=e8e.destroyable||true;e8e.title=e8e.title||"提示";e8e.draggable=true;e8e.parent=e8e.parent||document.body;e8e.mask=e8e.mask||true;var zn6h=n8f.bej6d.B8t(e8e);zn6h.J8B();return zn6h}})();
(function(){var p=NEJ.P("nej.u");var bGA4E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vi2x={},Hv9m={};for(var i=0,l=bGA4E.length,c;i<l;i++){c=bGA4E.charAt(i);Vi2x[i]=c;Hv9m[c]=i}var cyi6c=function(jk1x){var r8j=0,c,m8e=[];while(r8j<jk1x.length){c=jk1x[r8j];if(c<128){m8e.push(String.fromCharCode(c));r8j++}else if(c>191&&c<224){m8e.push(String.fromCharCode((c&31)<<6|jk1x[r8j+1]&63));r8j+=2}else{m8e.push(String.fromCharCode((c&15)<<12|(jk1x[r8j+1]&63)<<6|jk1x[r8j+2]&63));r8j+=3}}return m8e.join("")};var cyc6W=function(){var ie1x=/\r\n/g;return function(i8a){i8a=i8a.replace(ie1x,"\n");var m8e=[],nE3x=String.fromCharCode(237);if(nE3x.charCodeAt(0)<0)for(var i=0,l=i8a.length,c;i<l;i++){c=i8a.charCodeAt(i);c>0?m8e.push(c):m8e.push(256+c>>6|192,256+c&63|128)}else for(var i=0,l=i8a.length,c;i<l;i++){c=i8a.charCodeAt(i);if(c<128)m8e.push(c);else if(c>127&&c<2048)m8e.push(c>>6|192,c&63|128);else m8e.push(c>>12|224,c>>6&63|128,c&63|128)}return m8e}}();var OE1x=function(jk1x){var r8j=0,m8e=[],eE0x=jk1x.length%3;if(eE0x==1)jk1x.push(0,0);if(eE0x==2)jk1x.push(0);while(r8j<jk1x.length){m8e.push(Vi2x[jk1x[r8j]>>2],Vi2x[(jk1x[r8j]&3)<<4|jk1x[r8j+1]>>4],Vi2x[(jk1x[r8j+1]&15)<<2|jk1x[r8j+2]>>6],Vi2x[jk1x[r8j+2]&63]);r8j+=3}if(eE0x==1)m8e[m8e.length-1]=m8e[m8e.length-2]="=";if(eE0x==2)m8e[m8e.length-1]="=";return m8e.join("")};var bGL4P=function(){var tK4O=/\n|\r|=/g;return function(i8a){var r8j=0,m8e=[];i8a=i8a.replace(tK4O,"");for(var i=0,l=i8a.length;i<l;i+=4)m8e.push(Hv9m[i8a.charAt(i)]<<2|Hv9m[i8a.charAt(i+1)]>>4,(Hv9m[i8a.charAt(i+1)]&15)<<4|Hv9m[i8a.charAt(i+2)]>>2,(Hv9m[i8a.charAt(i+2)]&3)<<6|Hv9m[i8a.charAt(i+3)]);var br8j=m8e.length,eE0x=i8a.length%4;if(eE0x==2)m8e=m8e.slice(0,br8j-2);if(eE0x==3)m8e=m8e.slice(0,br8j-1);return m8e}}();p.cSi0x=function(i8a){return cyi6c(bGL4P(i8a))};p.cxT5Y=function(i8a){var jk1x=bGL4P(i8a),do9f=jk1x.length,eC0x;var r8j=0;while(eC0x=jk1x[r8j]){if(eC0x>128){jk1x[r8j]=eC0x-256}r8j++}return jk1x};p.cxQ5V=function(i8a){try{return window.btoa(i8a)}catch(ex){return OE1x(cyc6W(i8a))}}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,h8b=c8g("nej.v"),a7h=c8g("nej.e"),v8n=c8g("nej.j"),P8H=c8g("nej.p"),k8c=c8g("nej.u"),n8f=c8g("nm.l"),x8p=c8g("nm.w"),bD9u=c8g("nej.ui"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),b8h,L8D;var TYPE_MAP={13:"playlist",17:"program",18:"song",19:"album"};n8f.bGU5Z=NEJ.C();b8h=n8f.bGU5Z.M8E(n8f.es0x);b8h.ci9Z=function(){this.cg9X="m-download-layer"};b8h.bY9P=function(){this.cj9a();var j8b=a7h.F8x(this.o8g,"j-flag");this.bup2x=j8b[0];this.buz2x=j8b[1];this.bHq5v=j8b[2];v8n.bm8e("/client/version/get",{type:"json",onload:this.cxo5t.f8d(this)});if(P8H.QA1x.mac){a7h.y8q(this.bup2x.parentNode,"f-hide");a7h.w8o(this.buz2x.parentNode,"f-hide");a7h.w8o(this.bHq5v,"f-hide")}else{a7h.w8o(this.bup2x.parentNode,"f-hide");a7h.y8q(this.buz2x.parentNode,"f-hide");a7h.y8q(this.bHq5v,"f-hide")}};b8h.bp8h=function(e8e){e8e.clazz=" m-layer-down";e8e.parent=e8e.parent||document.body;e8e.title="下载";e8e.draggable=!0;e8e.destroyalbe=!0;e8e.mask=true;this.bq8i(e8e);this.bZ9Q([[this.o8g,"click",this.bT9K.f8d(this)]]);this.eL0x=TYPE_MAP[e8e.type];this.hD1x=e8e.id};b8h.bC9t=function(){this.bH9y()};b8h.DU8M=function(){this.bu9l()};b8h.Iq9h=function(d8f){this.z8r("onok",C8u);this.bu9l()};b8h.bT9K=function(d8f){var g8c=h8b.ba8S(d8f,"d:action");switch(a7h.u8m(g8c,"action")){case"download":this.bu9l();window.open(a7h.u8m(g8c,"src"));break;case"orpheus":this.bu9l();location.href="orpheus://"+k8c.cxQ5V(JSON.stringify({type:this.eL0x,id:this.hD1x,cmd:"download"}));break}};b8h.cxo5t=function(d8f){if((d8f||be8W).code==200){this.Pi1x=d8f.data;this.bup2x.innerText="V"+this.Pi1x.mac;this.buz2x.innerText="V"+this.Pi1x.pc}};l8d.OB1x=function(e8e){n8f.bGU5Z.B8t(e8e).J8B()}})();
(function(){var c8g=NEJ.P,l8d=c8g("nm.x");var FullscreenApi={};var apiMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var specApi=apiMap[0];var browserApi;for(var i=0;i<apiMap.length;i++){if(apiMap[i][1]in document){browserApi=apiMap[i];break}}if(browserApi){for(var i=0;i<browserApi.length;i++){FullscreenApi[specApi[i]]=browserApi[i]}}l8d.Iy9p=FullscreenApi})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,k8c=c8g("nej.u"),q8i=c8g("nm.d"),bU9L={};q8i.A8s=function(K8C){return bU9L[K8C]};q8i.nL3x=function(K8C,bk8c){bU9L[K8C]=bk8c};q8i.fD0x=function(i8a){k8c.eR0x(i8a,function(p8h,K8C){var bk8c=bU9L[K8C]||{};NEJ.X(bk8c,p8h);bU9L[K8C]=bk8c})}})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,bg8Y=c8g("nej.h");bg8Y.bhj8b=function(K8C){return localStorage.getItem(K8C)};bg8Y.bhr8j=function(K8C,C8u){localStorage.setItem(K8C,C8u)};bg8Y.buD2x=function(K8C){localStorage.removeItem(K8C)};bg8Y.buF2x=function(){localStorage.clear()};bg8Y.cxa5f=function(){var m8e=[];for(var i=0,l=localStorage.length;i<l;i++)m8e.push(localStorage.key(i));return m8e};bg8Y.buJ2x=function(){(document.onstorageready||bs8k)()};bg8Y.buK2x=function(){return!0}})();
(function(){var c8g=NEJ.P,P8H=c8g("nej.p"),eC0x=c8g("nej.c"),bg8Y=c8g("nej.h"),vc5h;if(P8H.oG3x.trident||!!window.localStorage)return;var cwP5U=function(){var te4i,et0x;var bpV1x=function(){te4i=document.createElement("div");NEJ.X(te4i.style,{position:"absolute",top:0,left:0,width:"1px",height:"1px",zIndex:1e4,overflow:"hidden"});document.body.insertAdjacentElement("afterBegin",te4i);te4i.innerHTML='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="1" height="1"id="f-'+ +(new Date)+'" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"><param name="movie" value="'+eC0x.A8s("storage.swf")+'"/><param name="AllowScriptAccess" value="sameDomain"/></object>'};var Xg3x=function(){et0x=window.clearTimeout(et0x);var iy1x=te4i.getElementsByTagName("object")[0];if(!!iy1x.initStorage){delete te4i;vc5h=iy1x;vc5h.initStorage("nej-storage");(document.onstorageready||bs8k)();return}et0x=window.setTimeout(Xg3x,500)};return function(){if(!!vc5h)return;bpV1x();Xg3x()}}();bg8Y.bhj8b=bg8Y.bhj8b.eT0x(function(d8f){d8f.stopped=!0;if(!vc5h)return;d8f.value=vc5h.getItem(d8f.args[0])});bg8Y.bhr8j=bg8Y.bhr8j.eT0x(function(d8f){d8f.stopped=!0;if(!vc5h)return;var bj8b=d8f.args;vc5h.setItem(bj8b[0],bj8b[1])});bg8Y.buD2x=bg8Y.buD2x.eT0x(function(d8f){d8f.stopped=!0;if(!vc5h)return;vc5h.removeItem(d8f.args[0])});bg8Y.buF2x=bg8Y.buF2x.eT0x(function(d8f){d8f.stopped=!0;if(!!vc5h)vc5h.clear()});bg8Y.buJ2x=bg8Y.buJ2x.eT0x(function(d8f){d8f.stopped=!0;cwP5U()});bg8Y.buK2x=bg8Y.buK2x.eT0x(function(d8f){d8f.stopped=!0;d8f.value=!!vc5h})})();
(function(){var c8g=NEJ.P,k8c=c8g("nej.u"),h8b=c8g("nej.v"),bg8Y=c8g("nej.h"),v8n=c8g("nej.j"),G8y=c8g("nej.ut"),Q8I={};v8n.xR6L=function(K8C,C8u){var bHP5U=JSON.stringify(C8u);try{bg8Y.bhr8j(K8C,bHP5U)}catch(ex){console.error(ex.message);console.error(ex)}if(bHP5U!=bg8Y.bhj8b(K8C))Q8I[K8C]=C8u;return this};v8n.vj5o=function(K8C){var i8a=JSON.parse(bg8Y.bhj8b(K8C)||"null");return i8a==null?Q8I[K8C]:i8a};v8n.bHR5W=function(K8C,C8u){var i8a=v8n.vj5o(K8C);if(i8a==null){i8a=C8u;v8n.xR6L(K8C,i8a)}return i8a};v8n.Oz1x=function(K8C){delete Q8I[K8C];bg8Y.buD2x(K8C);return this};v8n.cSB0x=function(){var buO2x=function(p8h,K8C,bB9s){delete bB9s[K8C]};return function(){k8c.eR0x(Q8I,buO2x);bg8Y.buF2x();return this}}();v8n.cSD0x=function(m8e){m8e=m8e||{};k8c.bf8X(bg8Y.cxa5f(),function(K8C){m8e[K8C]=v8n.vj5o(K8C)});return m8e};G8y.fV0x.B8t({element:document,event:"storageready",oneventadd:function(){if(bg8Y.buK2x()){document.onstorageready()}}});var cwC5H=function(){var cws5x=function(C8u,K8C,bB9s){bg8Y.bhr8j(K8C,JSON.stringify(C8u));delete bB9s[K8C]};return function(){k8c.eR0x(Q8I,cws5x)}}();h8b.s8k(document,"storageready",cwC5H);bg8Y.buJ2x()})();
(function(){var c8g=NEJ.P,h8b=c8g("nej.v"),k8c=c8g("nej.u"),P8H=c8g("nej.ut"),Oy1x;if(!!P8H.buX2x)return;P8H.buX2x=NEJ.C();Oy1x=P8H.buX2x.M8E(P8H.cO9F);Oy1x.cC9t=function(){var hb1x=+(new Date),os3x="dat-"+hb1x;return function(){this.cK9B();var Q8I=this.constructor[os3x];if(!Q8I){Q8I={};this.constructor[os3x]=Q8I}this.U8M=Q8I}}();Oy1x.A8s=function(K8C){return this.U8M[K8C]};Oy1x.nL3x=function(K8C,C8u){var ou3x=this.U8M[K8C];this.U8M[K8C]=C8u;h8b.z8r(localCache,"cachechange",{key:K8C,type:"set",oldValue:ou3x,newValue:C8u});return this};Oy1x.cV9M=function(K8C){var ou3x=this.U8M[K8C];k8c.bcH5M(this.U8M,K8C);h8b.z8r(localCache,"cachechange",{key:K8C,type:"delete",oldValue:ou3x,newValue:undefined});return ou3x};Oy1x.biV9M=function(Ku9l){return NEJ.Q(this.U8M,Ku9l)};window.localCache=P8H.buX2x.B8t();P8H.fV0x.B8t({element:localCache,event:"cachechange"})})();
(function(){var c8g=NEJ.P,fN0x=NEJ.R,bs8k=NEJ.F,k8c=c8g("nej.u"),v8n=c8g("nej.j"),P8H=c8g("nej.ut"),os3x="dat-"+ +(new Date),ov3x;if(!!P8H.buZ2x)return;P8H.buZ2x=NEJ.C();ov3x=P8H.buZ2x.M8E(P8H.cO9F);ov3x.cC9t=function(){this.cK9B();this.U8M=this.constructor[os3x];if(!this.U8M){this.U8M={};this.U8M[os3x+"-l"]={};this.constructor[os3x]=this.U8M}};ov3x.sU4Y=function(K8C){return this.U8M[K8C]};ov3x.qU4Y=function(K8C,C8u){this.U8M[K8C]=C8u};ov3x.mF2x=function(K8C,kW2x){var i8a=this.sU4Y(K8C);if(i8a==null){i8a=kW2x;this.qU4Y(K8C,i8a)}return i8a};ov3x.cwm5r=function(K8C){if(K8C!=null){delete this.U8M[K8C];return}k8c.eR0x(this.U8M,function(p8h,K8C){if(K8C==os3x+"-l")return;this.cwm5r(K8C)},this)};ov3x.cSH0x=function(K8C){if(!!v8n.Oz1x)return v8n.Oz1x(K8C)};ov3x.cwh5m=function(K8C){if(!!v8n.vj5o)return v8n.vj5o(K8C)};ov3x.cwg5l=function(K8C,C8u){if(!!v8n.xR6L)v8n.xR6L(K8C,C8u)};ov3x.JH9y=function(K8C,kW2x){var i8a=this.UT2x(K8C);if(i8a==null){i8a=kW2x;this.yx6r(K8C,i8a)}return i8a};ov3x.UT2x=function(K8C){var i8a=this.sU4Y(K8C);if(i8a!=null)return i8a;i8a=this.cwh5m(K8C);if(i8a!=null)this.qU4Y(K8C,i8a);return i8a};ov3x.yx6r=function(K8C,C8u){this.cwg5l(K8C,C8u);this.qU4Y(K8C,C8u)};ov3x.bIA5F=function(K8C){if(K8C!=null){delete this.U8M[K8C];if(!!v8n.Oz1x)v8n.Oz1x(K8C);return}k8c.eR0x(this.U8M,function(p8h,K8C){if(K8C==os3x+"-l")return;this.bIA5F(K8C)},this)};ov3x.cSJ0x=function(){this.bIA5F();return this};ov3x.cSL0x=function(K8C){var i8a=this.U8M[os3x+"-l"];delete i8a[K8C]};ov3x.bvm2x=function(K8C){var i8a=this.U8M[os3x+"-l"],bj8b=fN0x.slice.call(arguments,1);k8c.bf8X(i8a[K8C],function(cJ9A){try{cJ9A.apply(null,bj8b)}catch(ex){console.error(ex.message);console.error(ex.stack)}});delete i8a[K8C]};ov3x.bvq2x=function(K8C,cJ9A){cJ9A=cJ9A||bs8k;var j8b=this.U8M[os3x+"-l"][K8C];if(!j8b){j8b=[cJ9A];this.U8M[os3x+"-l"][K8C]=j8b;return!1}j8b.push(cJ9A);return!0};ov3x.cvQ5V=function(j8b,bl8d,gx1x){if(!j8b)return!1;bl8d=parseInt(bl8d)||0;gx1x=parseInt(gx1x)||0;if(!gx1x){if(!j8b.loaded)return!1;gx1x=j8b.length}if(!!j8b.loaded)gx1x=Math.min(gx1x,j8b.length-bl8d);for(var i=0;i<gx1x;i++)if(!j8b[bl8d+i])return!1;return!0}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,k8c=c8g("nej.u"),P8H=c8g("nej.ut"),b8h,L8D;if(!!P8H.UP2x)return;P8H.UP2x=NEJ.C();b8h=P8H.UP2x.M8E(P8H.buZ2x);L8D=P8H.UP2x.cx9o;b8h.bp8h=function(e8e){this.bq8i(e8e);this.zz6t=e8e.key||"id";this.bh8Z=e8e.data||be8W;this.cvP5U=!!e8e.autogc;this.cvO5T(e8e.id)};b8h.bC9t=function(){this.bH9y();if(!!this.dM0x){this.bJf5k()}};b8h.cvO5T=function(D8v){var Q8I;if(!!D8v){Q8I=this.U8M[D8v];if(!Q8I){Q8I={};this.U8M[D8v]=Q8I}}Q8I=Q8I||this.U8M;Q8I.hash=Q8I.hash||{};this.UL2x=Q8I};b8h.bJf5k=function(){this.dM0x=window.clearTimeout(this.dM0x);var bB9s={};k8c.eR0x(this.UL2x,function(j8b,K8C){if(K8C=="hash")return;if(!k8c.el0x(j8b))return;k8c.bf8X(j8b,function(p8h){if(!p8h)return;bB9s[p8h[this.zz6t]]=!0},this)},this);k8c.eR0x(this.baO5T(),function(p8h,D8v,cZ9Q){if(!bB9s[D8v]){delete cZ9Q[D8v]}})};b8h.cvB5G=function(){if(!!this.dM0x){this.dM0x=window.clearTimeout(this.dM0x)}this.dM0x=window.setTimeout(this.bJf5k.f8d(this),150)};b8h.Em8e=function(p8h,baV5a){p8h=this.bJl5q(p8h,baV5a)||p8h;if(!p8h)return null;var K8C=p8h[this.zz6t];if(K8C!=null){var gT1x=this.baO5T()[K8C];if(!!gT1x)p8h=NEJ.X(gT1x,p8h);this.baO5T()[K8C]=p8h}delete p8h.bJs5x;return p8h};b8h.bJl5q=bs8k;b8h.bvF2x=function(K8C,p8h){if(!p8h)return;if(!k8c.el0x(p8h)){var j8b=this.hY1x(K8C),p8h=this.Em8e(p8h,K8C);if(!!p8h)j8b.unshift(p8h);return}k8c.or3x(p8h,this.bvF2x.f8d(this,K8C))};b8h.UF2x=function(K8C,cI9z){var j8b=this.hY1x(K8C);j8b.length=Math.max(j8b.length,cI9z);this.bvG2x(K8C);return this};b8h.lY2x=function(K8C){return this.hY1x(K8C).length};b8h.bvG2x=function(K8C,pF3x){this.hY1x(K8C).loaded=pF3x!=!1;return this};b8h.bbq5v=function(K8C){return!!this.hY1x(K8C).loaded};b8h.th4l=function(K8C,j8b){this.ya6U(K8C);this.bvH2x({key:K8C,offset:0,limit:j8b.length+1},{list:j8b,total:j8b.length})};b8h.hY1x=function(){var KW0x=function(K8C){return(K8C||"")+(!K8C?"":"-")+"list"};return function(K8C){var K8C=KW0x(K8C),j8b=this.UL2x[K8C];if(!j8b){j8b=[];this.UL2x[K8C]=j8b}return j8b}}();b8h.baO5T=function(){var cZ9Q=this.UL2x.hash;if(!cZ9Q){cZ9Q={};this.UL2x.hash=cZ9Q}return cZ9Q};b8h.bvI2x=function(){var KW0x=function(e8e){return"r-"+e8e.key};return function(e8e){var jz1x=NEJ.X({},e8e),pc3x=KW0x(jz1x);if(!this.bvq2x(pc3x,this.z8r.f8d(this))){jz1x.rkey=pc3x;jz1x.onload=this.cvc5h.f8d(this,jz1x);this.z8r("dopullrefresh",jz1x)}return this}}();b8h.cvc5h=function(e8e,j8b){this.bvF2x(e8e.key,j8b);this.bvm2x(e8e.rkey,"onpullrefresh",e8e)};b8h.mp2x=function(){var KW0x=function(e8e){return"r-"+e8e.key+"-"+e8e.offset+"-"+e8e.limit};return function(e8e){e8e=e8e||be8W;var jz1x={key:""+e8e.key||"",ext:e8e.ext||null,data:e8e.data||null,offset:parseInt(e8e.offset)||0,limit:parseInt(e8e.limit)||0},j8b=this.hY1x(jz1x.key);if(this.cvQ5V(j8b,jz1x.offset,jz1x.limit)){this.z8r("onlistload",jz1x);return this}var pc3x=KW0x(jz1x);if(!this.bvq2x(pc3x,this.z8r.f8d(this))){jz1x.rkey=pc3x;jz1x.onload=this.bvH2x.f8d(this,jz1x);this.z8r("doloadlist",jz1x)}return this}}();b8h.bvH2x=function(){var Kn9e=function(p8h,r8j,j8b){if(!!p8h){return!0}j8b.splice(r8j,1)};return function(e8e,m8e){e8e=e8e||be8W;var K8C=e8e.key,bl8d=e8e.offset,bJH5M=this.hY1x(K8C);var j8b=m8e||[];if(!k8c.el0x(j8b)){j8b=m8e.result||m8e.list||[];var cI9z=parseInt(m8e.total);if(!isNaN(cI9z)||cI9z>j8b.length){this.UF2x(K8C,cI9z)}}k8c.bf8X(j8b,function(p8h,r8j){bJH5M[bl8d+r8j]=this.Em8e(p8h,K8C)},this);if(j8b.length<e8e.limit){this.bvG2x(K8C);k8c.or3x(bJH5M,Kn9e)}this.bvm2x(e8e.rkey,"onlistload",e8e)}}();b8h.ya6U=function(){var Kn9e=function(p8h,r8j,j8b){j8b.splice(r8j,1)};return function(K8C){var j8b=this.hY1x(K8C);k8c.or3x(j8b,Kn9e);this.bvG2x(K8C,!1);if(this.cvP5U){this.cvB5G()}return this}}();b8h.bJK5P=function(p8h,baV5a){return!p8h.bJs5x};b8h.eY0x=function(D8v){return this.baO5T()[D8v]};b8h.cSZ0x=function(D8v){var p8h=this.eY0x(D8v);if(!!p8h)p8h.bJs5x=!0};b8h.bbV5a=function(){var KW0x=function(e8e){return"r-"+e8e.key+"-"+e8e.id};return function(e8e){e8e=e8e||be8W;var D8v=e8e[this.zz6t],jz1x={id:D8v,ext:e8e.ext,data:e8e.data||{},key:""+e8e.key||""};p8h=this.eY0x(D8v);jz1x.data[this.zz6t]=D8v;if(!!p8h&&this.bJK5P(p8h,jz1x.key)){this.z8r("onitemload",jz1x);return this}var pc3x=KW0x(jz1x);if(!this.bvq2x(pc3x,this.z8r.f8d(this))){jz1x.rkey=pc3x;jz1x.onload=this.cuX5c.f8d(this,jz1x);this.z8r("doloaditem",jz1x)}return this}}();b8h.cuX5c=function(e8e,p8h){e8e=e8e||be8W;this.Em8e(p8h,e8e.key);this.bvm2x(e8e.rkey,"onitemload",e8e)};b8h.ka2x=function(e8e){e8e=NEJ.X({},e8e);e8e.onload=this.zY6S.f8d(this,e8e);this.z8r("doadditem",e8e)};b8h.zY6S=function(e8e,p8h){var K8C=e8e.key;p8h=this.Em8e(p8h,K8C);if(!!p8h){var ft0x=0,j8b=this.hY1x(K8C);if(!e8e.push){ft0x=-1;var bl8d=e8e.offset||0;j8b.splice(bl8d,0,p8h)}else if(j8b.loaded){ft0x=1;j8b.push(p8h)}else{j8b.length++}}var d8f={key:K8C,flag:ft0x,data:p8h,action:"add",ext:e8e.ext};this.z8r("onitemadd",d8f);return d8f};b8h.Op1x=function(e8e){e8e=NEJ.X({},e8e);e8e.onload=this.bvN2x.f8d(this,e8e);this.z8r("dodeleteitem",e8e)};b8h.bvN2x=function(e8e,bJT5Y){var p8h,K8C=e8e.key;if(!!bJT5Y){p8h=this.eY0x(e8e.id)||null;var D8v=e8e.id,cuR5W=this.zz6t,j8b=this.hY1x(K8C),r8j=k8c.du0x(j8b,function(gT1x){return!!gT1x&&gT1x[cuR5W]==D8v});if(r8j>=0)j8b.splice(r8j,1)}var d8f={key:K8C,data:p8h,action:"delete",ext:e8e.ext};this.z8r("onitemdelete",d8f);return d8f};b8h.bco5t=function(e8e){e8e=NEJ.X({},e8e);e8e.onload=this.cuM5R.f8d(this,e8e);this.z8r("doupdateitem",e8e)};b8h.cuM5R=function(e8e,p8h){var K8C=e8e.key;if(!!p8h)p8h=this.Em8e(p8h,K8C);var d8f={key:K8C,data:p8h,action:"update",ext:e8e.ext};this.z8r("onitemupdate",d8f);return d8f}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,k8c=c8g("nej.u"),P8H=c8g("nej.ut"),b8h;if(!!P8H.bvS2x)return;P8H.bvS2x=NEJ.C();b8h=P8H.bvS2x.M8E(P8H.UP2x);b8h.bp8h=function(e8e){this.bq8i(e8e);this.boO0x({doloadlist:this.bcu5z.f8d(this),doloaditem:this.bvU2x.f8d(this),doadditem:this.bKg5l.f8d(this),dodeleteitem:this.bcx5C.f8d(this),doupdateitem:this.bcy5D.f8d(this),dopullrefresh:this.bKi5n.f8d(this)})};b8h.bcu5z=bs8k;b8h.bKi5n=bs8k;b8h.bvU2x=bs8k;b8h.bKg5l=bs8k;b8h.bcx5C=bs8k;b8h.bcy5D=bs8k})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,k8c=c8g("nej.u"),h8b=c8g("nej.v"),v8n=c8g("nej.j"),G8y=c8g("nej.ut"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),b8h,L8D;q8i.if1x=NEJ.C();b8h=q8i.if1x.M8E(G8y.bvS2x);b8h.cp9g=function(){var yn6h=location.protocol+"//"+location.host;var cuD5I=function(bv9m,i8a){var bB9s={conf:{},data:{},urls:[]};k8c.bf8X(bv9m,function(K8C,r8j,j8b){var bk8c=q8i.A8s(K8C);if(!bk8c)return;var bvZ2x=bKo5t(bk8c.url,i8a[K8C]);bB9s.urls.push(bvZ2x);bB9s.conf[bvZ2x]=bk8c;bB9s.data[bvZ2x]=JSON.stringify(i8a[K8C]==null?"":i8a[K8C])});return bB9s};var bKo5t=function(Z8R,i8a){return Z8R.replace(/\{(.*?)\}/gi,function($1,$2){return i8a[$2]||$1})};var bKA6u=function(bk8c,e8e,d8f){h8b.z8r(window,"requesterror",d8f);if(!!d8f.stopped)return;var Er8j=bk8c.onerror||e8e.onerror;if(k8c.fX0x(Er8j)){this.z8r(Er8j,d8f,e8e)}else{(Er8j||bs8k).call(this,d8f,e8e)}var d8f={result:d8f,option:e8e};this.z8r("onerror",d8f);if(!d8f.stopped)(bk8c.onmessage||bs8k).call(this,d8f.result.code,d8f.result)};var bKE6y=function(T8L,bk8c,e8e){var m8e=T8L;if(k8c.hf1x(bk8c.format)){m8e=bk8c.format.call(this,T8L,e8e)}return m8e};var Cv7o=function(T8L,bk8c,e8e,wg5l){if(k8c.hf1x(bk8c.beforeload)){bk8c.beforeload.call(this,T8L,e8e,bk8c)}if(T8L&&T8L.code!=null&&T8L.code!=200){bKA6u.call(this,bk8c,e8e,{key:e8e.key,code:T8L.code,message:T8L.message||"",captchaId:T8L.captchaId,ext:T8L});return}var m8e=T8L;if(!wg5l){m8e=bKE6y.call(this,T8L,bk8c,e8e)}else if(k8c.hf1x(bk8c.format)){var bwf2x=[];k8c.bf8X(wg5l.urls,function(Z8R){bwf2x.push(bKE6y.call(this,T8L[Z8R],wg5l.conf[Z8R],e8e))},this);bwf2x.push(e8e);m8e=bk8c.format.apply(this,bwf2x)}var pv3x=bk8c.onload||e8e.onload,bKG6A=bk8c.finaly||e8e.finaly||bs8k;if(k8c.fX0x(pv3x)){bKG6A.call(this,this.z8r(pv3x,m8e),e8e)}else{bKG6A.call(this,(pv3x||bs8k).call(this,m8e),e8e)}};var zH6B=function(bk8c,e8e,bV9M){bKA6u.call(this,bk8c,e8e,{key:e8e.key,code:bV9M.code||-1,message:bV9M.message||""})};return function(bk8c,e8e){if(k8c.fX0x(bk8c)){bk8c=q8i.A8s(bk8c)}delete e8e.value;(bk8c.filter||bs8k).call(this,e8e,bk8c);var T8L=e8e.value;if(!!T8L){Cv7o.call(this,T8L,bk8c,e8e);return}var batchrequest=function(){var Z8R,i8a=e8e.data||be8W,CB7u={cookie:!0,type:bk8c.rtype||"json",method:bk8c.type||"POST",onerror:zH6B.f8d(this,bk8c,e8e),noescape:bk8c.noescape};if(k8c.el0x(bk8c.url)){var wg5l=cuD5I(bk8c.url,i8a);Z8R=yn6h+"/api/batch";CB7u.data=k8c.cE9v(wg5l.data);CB7u.onload=Cv7o.eO0x(this,bk8c,e8e,wg5l);CB7u.headers={"batch-method":"POST"};delete wg5l.data}else{var lj2x=bk8c.url.indexOf(":")<0?yn6h:"";Z8R=bKo5t(lj2x+bk8c.url,i8a);CB7u.data=k8c.cE9v(e8e.data);CB7u.onload=Cv7o.eO0x(this,bk8c,e8e)}if(CB7u.method=="GET")CB7u.query=CB7u.data;return v8n.bm8e(Z8R,CB7u)}.bind(this);if(e8e.cb){return e8e.cb(batchrequest)}else{return batchrequest()}}}();b8h.Hh9Y=function(){var ho1x=/^get|list|pull$/i;return function(bKI6C,e8e){var K8C=e8e.key,bk8c=q8i.A8s(K8C.split("-")[0]+"-"+bKI6C);if(ho1x.test(bKI6C)&&K8C.indexOf("post-")<0)bk8c.type="GET";this.cp9g(bk8c,e8e)}}();b8h.cTC0x=function(K8C,j8b){var cI9z=j8b.length;this.bvH2x({key:K8C,offset:0,limit:cI9z+1},{list:j8b,total:cI9z})};b8h.bcu5z=function(e8e){this.Hh9Y("list",e8e)};b8h.bvU2x=function(e8e){this.Hh9Y("get",e8e)};b8h.bKi5n=function(e8e){this.Hh9Y("pull",e8e)};b8h.bKg5l=function(e8e){this.Hh9Y("add",e8e)};b8h.bcx5C=function(e8e){this.Hh9Y("del",e8e)};b8h.bcy5D=function(e8e){this.Hh9Y("update",e8e)};b8h.cum5r=function(p8h){this.Em8e(p8h)};G8y.fV0x.B8t({element:window,event:"requesterror"})})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,h8b=c8g("nej.v"),G8y=c8g("nej.ut"),q8i=c8g("nm.d"),bwm2x={},b8h,L8D;var yc6W=function(m8e,e8e){m8e.conf=e8e.conf;return m8e};q8i.fD0x({"res-mv-get":{type:"GET",url:"/api/v1/mv/detail",format:function(T8L,e8e){return yc6W({mv:T8L},e8e)}},"res-song-get":{type:"GET",url:"/api/song/detail",format:function(m8e,e8e){if(!!m8e.songs&&m8e.songs.length>0)m8e.song=m8e.songs[0];else m8e.song=bwm2x;delete m8e.songs;return yc6W(m8e,e8e)},filter:function(e8e){e8e.data.ids="["+e8e.data.id+"]"}},"res-program-get":{type:"GET",url:"/api/dj/program/detail",format:yc6W},"res-album-get":{type:"GET",url:"/api/album/{id}",format:yc6W},"res-playlist-get":{type:"GET",url:"/api/playlist/detail",format:function(m8e,e8e){m8e.playlist=m8e.result;delete m8e.result;return yc6W(m8e,e8e)}},"res-mv-play":{type:"GET",url:"/api/song/mv/play",format:yc6W},"res-playlist-play":{type:"GET",url:"/api/playlist/update/playcount",format:yc6W},"res-program-play":{type:"GET",url:"/api/dj/program/listen",format:yc6W},"res-djradio-get":{type:"GET",url:"/api/dj/program/byradio",filter:function(e8e){var j8b=e8e.data.id.split("-");e8e.data.radioId=j8b[0];e8e.data.asc=j8b[1]==2;e8e.data.limit=1e3;delete e8e.data.id},format:function(T8L,e8e){var cuh5m={id:e8e.data.radioId,programs:T8L.programs};return yc6W({djradio:cuh5m},e8e)}},"res-hotSongs-get":{type:"GET",url:"/api/artist/{id}",format:yc6W},"res-lyric-get":{type:"GET",url:"/api/song/lyric",filter:function(e8e){e8e.data.lv=0;e8e.data.tv=0},format:function(m8e,e8e){var yt6n={lyric:"",nolyric:true};if(m8e.code==200&&m8e.lrc&&m8e.lrc.lyric){yt6n.lyric=m8e.lrc.lyric;yt6n.nolyric=false}else{yt6n.nolyric=true}return yc6W({lyric:yt6n},e8e)}}});q8i.yu6o=NEJ.C();b8h=q8i.yu6o.M8E(q8i.if1x);b8h.cug5l=function(t8l,dc9T){return this.sU4Y(this.bdU5Z(t8l,dc9T))};b8h.Up2x=function(t8l,dc9T,e8e){e8e=e8e||{};var i8a=this.sU4Y(this.bdU5Z(t8l,dc9T));if(i8a&&(t8l!=13&&t8l!=19||e8e.conf&&e8e.conf.useCache)){this.z8r("onresourceload",t8l,dc9T,i8a,e8e.conf);return}e8e.data={id:dc9T};e8e.onload=this.cuf5k.f8d(this,t8l,dc9T);e8e.onerror=this.cuc5h.f8d(this,t8l,dc9T);this.cp9g("res-"+this.EB8t(t8l)+"-get",e8e)};b8h.cuf5k=function(t8l,dc9T,m8e){var i8a=m8e[this.EB8t(t8l)];this.qU4Y(this.bdU5Z(t8l,dc9T),i8a);this.z8r("onresourceload",t8l,dc9T,i8a,m8e.conf)};b8h.cuc5h=function(t8l,dc9T,m8e,e8e){if(m8e.code!=404){this.z8r("onresourceerror",t8l,dc9T,m8e.code);return}this.qU4Y(this.bdU5Z(t8l,dc9T),bwm2x);this.z8r("onresourceload",t8l,dc9T,bwm2x,e8e.conf)};b8h.cTK0x=function(t8l,e8e){this.cp9g("res-"+this.EB8t(t8l)+"-play",e8e)};b8h.bdU5Z=function(t8l,dc9T){return"res-"+this.EB8t(t8l)+"-"+dc9T};b8h.EB8t=function(t8l){var bB9s={2:"hotSongs",13:"playlist",17:"program",18:"song",19:"album",21:"mv",41:"lyric",70:"djradio"};return bB9s[t8l]};q8i.yu6o.On1x=function(t8l,dc9T){if(!this.fF0x)this.fF0x=q8i.yu6o.B8t({});return this.fF0x.cug5l(t8l,dc9T)}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,h8b=c8g("nej.v"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),bwr2x=/^[1-9][0-9]*$/,b8h,L8D;var LOCAL_LOG_KEY="local-log";q8i.fD0x({"bi-log":{url:"/api/feedback/weblog"},"bi-batch-log":{url:"/api/feedback/weblog"},"plus-mv-count":{url:"/api/song/mv/play"},"plus-song-count":{url:"/api/song/play"},"plus-dj-count":{type:"GET",url:"/api/dj/program/listen"},"plus-playlist-count":{type:"GET",url:"/api/playlist/update/playcount"}});q8i.ij1x=NEJ.C();b8h=q8i.ij1x.M8E(q8i.if1x);b8h.fa0x=function(X8P,bk8c){if(!X8P||!bk8c)return;if(k8c.fX0x(bk8c)){try{bk8c=JSON.parse(bk8c)}catch(_e){if(console&&console.warn){console.warn("bilog error: ",a7h)}}}if(!k8c.mz2x(bk8c))return;this.cp9g("bi-log",{data:{logs:JSON.stringify([{action:X8P,json:bk8c}])}});if(typeof GEnvType=="string"&&GEnvType=="local"){console.log("[BI LOG] action="+X8P+", json="+JSON.stringify(bk8c))}};b8h.beq6k=function(oV3x){if(!k8c.el0x(oV3x))return;this.cp9g("bi-batch-log",{data:{logs:JSON.stringify(oV3x)}})};b8h.bLF6z=function(bk8c){if(!bk8c||!bk8c.type||!bk8c.rid)return;var oW3x=bk8c.type;if(bwr2x.test(oW3x)){oW3x=this.EB8t(oW3x)}if(!oW3x)return;if(oW3x=="playlist")oW3x="list";this.fa0x("search",{type:oW3x,id:bk8c.rid||null,keyword:bk8c.keyword||null})};b8h.Uh2x=function(){var ctR5W=/^\/m\/(song|album|playlist)\?id=(\d+)/;return function(bk8c){if(!bk8c||!bk8c.type||!bk8c.rid)return;if(bk8c.play===undefined)bk8c.play=true;var oW3x=bk8c.type;if(bwr2x.test(oW3x)){oW3x=this.EB8t(oW3x)}if(!oW3x)return;if(oW3x=="playlist")oW3x="list";var T8L={id:bk8c.rid,type:oW3x};if(oW3x=="song"&&bk8c.source){T8L.source=this.bLQ6K(bk8c.source);if(!!bk8c.sourceid)T8L.sourceid=bk8c.sourceid}this.fa0x(!bk8c.play?"addto":"play",T8L);if(oW3x=="song"&&bk8c.hash&&bk8c.hash.match(ctR5W)){this.fa0x(!bk8c.play?"addto":"play",{type:RegExp.$1,id:RegExp.$2})}}}();b8h.bwE2x=function(D8v,bA9r,ej0x,Ij9a){var T8L={type:"song",wifi:0,download:0};var ctL5Q={1:"ui",2:"playend",3:"interrupt",4:"exception"};T8L.id=D8v;T8L.time=Math.round(bA9r);T8L.end=k8c.fX0x(Ij9a)?Ij9a:ctL5Q[Ij9a]||"";if(ej0x&&ej0x.fid){T8L.source=this.bLQ6K(ej0x.fid);T8L.sourceId=ej0x.fdata}this.fa0x("play",T8L)};b8h.bLW6Q=function(t8l,dc9T){if(!t8l||!dc9T)return;if(bwr2x.test(t8l))t8l=this.EB8t(t8l);if(t8l!="playlist"&&t8l!="dj")return;var bk8c=q8i.A8s("plus-"+t8l+"-count");if(!bk8c)return!1;this.cp9g(bk8c,{data:{id:dc9T}});var Q8I=this.mF2x("play-hist-"+t8l,[]);if(k8c.du0x(Q8I,dc9T)<0){Q8I.push(dc9T);return!0}return!1};b8h.EB8t=function(t8l){var bB9s={1:"user",2:"artist",13:"playlist",17:"dj",18:"song",19:"album",21:"mv",31:"toplist"};return bB9s[t8l]};b8h.bLQ6K=function(Om1x){var bB9s={1:"user",2:"artist",13:"list",17:"dj",18:"song",19:"album",21:"mv",31:"toplist",32:"search",33:"search",34:"event",35:"msg"};return bB9s[Om1x]};b8h.bLX6R=function(hs1x){var oV3x=this.JH9y(LOCAL_LOG_KEY,[]);oV3x.unshift(hs1x);if(oV3x.length>200){oV3x.length=200}this.yx6r(LOCAL_LOG_KEY,oV3x)};b8h.cty4C=function(){return this.UT2x(LOCAL_LOG_KEY)};b8h.ey0x=function(T8L){this.fa0x("play",T8L)};var bMn6h=q8i.ij1x.fW0x();l8d.sV4Z=function(){bMn6h.fa0x.apply(bMn6h,arguments)}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,h8b=c8g("nej.v"),v8n=c8g("nej.j"),G8y=c8g("nej.ut"),a7h=c8g("nej.e"),k8c=c8g("nej.u"),n8f=c8g("nm.l"),l8d=c8g("nm.x"),q8i=c8g("nm.d");var FullscreenApi=l8d.Iy9p||{};if(!q8i.yu6o)return;var Q8I=q8i.yu6o.B8t({onresourceload:ctr4v});var xS6M=q8i.ij1x.fW0x();function ctr4v(t8l,dc9T,i8a,bk8c){var j8b=[];switch(parseInt(t8l)){case 2:j8b=i8a;break;case 13:j8b=i8a.tracks;break;case 18:j8b.push(i8a);break;case 19:j8b=i8a.songs;break;case 21:if(i8a.mp&&i8a.mp.fee&&i8a.mp.pl<=0){l8d.bfV6P(i8a.data.id,i8a.mp.fee);return}break}if(l8d.Ol1x(j8b,true,null,t8l==19?{source:"album",sourceid:dc9T}:null)==0){return}l8d.eX0x({clazz:"m-layer-w2",bubble:!1,message:bk8c.message})}function cth4l(d8f,pk3x,BL7E,eh0x){eh0x=eh0x||{};if(d8f.action=="ok"){if(BL7E){location.dispatch2("/payfee?songId="+BL7E)}else{location.dispatch2("/payfee?fee="+pk3x||1)}xS6M.fa0x("click",{type:"tobuyvip",name:"box",source:eh0x.source||"song",sourceid:eh0x.sourceid||BL7E||0})}else if(d8f.action=="song"){location.dispatch2("/payfee?singleSong=true&songId="+BL7E);xS6M.fa0x("click",{type:"tobuyone",name:"box",source:eh0x.source||"song",sourceid:eh0x.sourceid||BL7E||0})}}function Ud2x(bF9w){l8d.eX0x({clazz:"m-layer-w2",bubble:!1,message:bF9w,btntxt:"知道了"})}function Uc2x(bF9w,T8L){Ud2x((T8L||be8W).toast||bF9w)}l8d.jc1x=function(bF9w,D8v,t8l,ctg4k,bn8f){bF9w=bF9w||"由于版权保护，您所在的地区暂时无法使用。";if(ctg4k&&bn8f&&bn8f.privilege&&bn8f.privilege.toast){v8n.bm8e("/api/song/toast",{query:{id:bn8f.id},type:"json",onload:Uc2x.f8d(this,bF9w),onerror:Uc2x.f8d(this,bF9w)})}else if(D8v&&t8l){Q8I.Up2x(t8l,D8v,{conf:{message:bF9w,useCache:t8l!=18}})}else{Ud2x(bF9w)}};l8d.xM6G=function(pk3x,BL7E,t8l,eh0x,oE3x){var bU9L,qy3x="m-popup-info",bwR2x="单首购买",bwS2x="马上去开通",cU9L="唱片公司要求，当前歌曲须付费使用。",bMD6x=true;try{bU9L=top.api.feeMessage||{}}catch(e){bU9L={}}if(pk3x==1||pk3x==8||pk3x==16){if(t8l=="song"){qy3x="m-popup-song-buy";cU9L=bU9L["vip2"]||cU9L;bwS2x=bU9L["vip2button"]||"包月购买";bwR2x=bU9L["vip2link"]||bwR2x;if(oE3x&&oE3x.flag!==undefined){var bv9m=oE3x.flag.toString(2).split("");if(parseInt(bv9m.pop(),10)==1){bMD6x=false}}}else{cU9L=bU9L["vip"]||cU9L}}else if(pk3x==4){cU9L=bU9L["album"]||cU9L;bwS2x="立即订购"}else{cU9L=bU9L["unknow"]||cU9L}l8d.kI2x({clazz:"m-layer-w5",html:a7h.cf9W(qy3x,{songTxt:bwR2x,tip:cU9L,oktext:bwS2x,cctext:"以后再说",showSongText:bMD6x}),onaction:cth4l.eO0x(null,pk3x,BL7E,eh0x)})};l8d.bMJ6D=function(ic1x,gH1x){l8d.hT1x({title:"提示",message:"唱片公司要求，该歌曲须下载后播放",btnok:"下载",btncc:"取消",okstyle:"u-btn2-w1",ccstyle:"u-btn2-w1",action:function(t8l){if(t8l=="ok"){l8d.OB1x({id:ic1x,type:gH1x})}}})};l8d.bfV6P=function(lf2x,pk3x){var bU9L,cU9L="唱片公司要求，当前歌曲须付费使用。";try{bU9L=top.api.feeMessage||{}}catch(e){bU9L={}}if(pk3x==1||pk3x==8){cU9L=bU9L["vip"]||cU9L}else if(pk3x==4){cU9L=bU9L["album"]||cU9L}else{cU9L=bU9L["unknow"]||cU9L}return l8d.kI2x({parent:document[FullscreenApi.fullscreenElement]||document.body,clazz:"m-layer-w5",html:a7h.cf9W("m-popup-info",{tip:cU9L,oktext:"马上去开通",cctext:"以后再说"}),onaction:function(d8f){if(d8f.action=="ok"){location.dispatch2("/payfee?mvId="+lf2x);xS6M.fa0x("click",{type:"tobuyone",name:"box",source:"mv",sourceid:lf2x||0})}}})};l8d.Ol1x=function(){function compareFee(csW4a,csN4R){var bB9s={1:99,8:99,4:88,16:99};return(bB9s[csW4a]||0)-(bB9s[csN4R]||0)}return function(j8b,cU9L,tJ4N,eh0x){tJ4N=tJ4N||{};var AJ7C=[],Oj1x={},bMQ6K=0,bMZ6T=0,Oi1x=null;if(!j8b||!j8b.length)return AJ7C;k8c.bf8X(j8b,function(bn8f){var fP0x=l8d.qJ4N(bn8f);if(fP0x==0){AJ7C.push(bn8f)}else if(fP0x==10){if(bn8f.privilege){bn8f.fee=bn8f.privilege.fee}if(compareFee(bn8f.fee,Oj1x.fee)>0){Oj1x=bn8f}}else if(fP0x==11){++bMQ6K;if(!tJ4N.play)AJ7C.push(bn8f)}else if(fP0x==1e3){++bMZ6T;if(!tJ4N.download)AJ7C.push(bn8f)}else if(fP0x==100){Oi1x=bn8f}});if(AJ7C.length==0&&cU9L){if(bMQ6K==j8b.length){var vN5S=j8b[0].privilege||{};if(vN5S.payed){l8d.jc1x("唱片公司要求，该歌曲须下载后播放")}else{l8d.xM6G(vN5S.fee,null,null,eh0x)}}else if(bMZ6T==j8b.length){l8d.jc1x("因版权方要求，该歌曲不支持下载")}else if(Oj1x.id){l8d.xM6G(Oj1x.fee,Oj1x.id,null,eh0x,Oj1x.privilege)}else{if(Oi1x&&j8b.length==1&&Oi1x.privilege&&Oi1x.privilege.st<0&&Oi1x.privilege.toast){l8d.jc1x(null,null,null,true,Oi1x)}else{l8d.jc1x()}}}return AJ7C}}();l8d.qJ4N=function(bn8f){if(!bn8f)return 0;var fP0x=bn8f.privilege;if(bn8f.program)return 0;if(window.GAbroad)return 100;if(fP0x){if(fP0x.st!=null&&fP0x.st<0){return 100}if(fP0x.fee>0&&fP0x.fee!=8&&fP0x.payed==0&&fP0x.pl<=0)return 10;if(fP0x.fee==16)return 11;if((fP0x.fee==0||fP0x.payed)&&fP0x.pl>0&&fP0x.dl==0)return 1e3;if(fP0x.pl==0&&fP0x.dl==0)return 100;return 0}else{var dW0x=bn8f.status!=null?bn8f.status:bn8f.st!=null?bn8f.st:0;if(bn8f.status>=0)return 0;if(bn8f.fee>0)return 10;return 100}}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,fN0x=NEJ.R,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),x8p=c8g("nm.w"),b8h;if(!!x8p.bxg2x)return;var cl9c=~[];cl9c={ku2x:++cl9c,bxl2x:(![]+"")[cl9c],db9S:++cl9c,mZ2x:(![]+"")[cl9c],yL6F:(cl9c[cl9c]+"")[cl9c],ul5q:++cl9c,biy9p:({}+"")[cl9c],bxm2x:(cl9c[cl9c]+"")[cl9c],uo5t:(![]+"")[cl9c],mX2x:++cl9c,kZ2x:(!""+"")[cl9c],hm1x:++cl9c,ew0x:++cl9c,Og1x:({}+"")[cl9c],jg1x:++cl9c,iG1x:++cl9c,cTW0x:++cl9c,cTX0x:++cl9c};cl9c.Of1x=(cl9c.Of1x=cl9c+"")[cl9c.ew0x]+(cl9c.EU8M=cl9c.Of1x[cl9c.db9S])+(cl9c.tS4W=(cl9c.TQ2x+"")[cl9c.db9S])+(cl9c.csk4o=(!cl9c+"")[cl9c.mX2x])+(cl9c.op3x=cl9c.Of1x[cl9c.jg1x])+(cl9c.TQ2x=(!""+"")[cl9c.db9S])+(cl9c.bNw6q=(!""+"")[cl9c.ul5q])+cl9c.Of1x[cl9c.ew0x]+cl9c.op3x+cl9c.EU8M+cl9c.TQ2x;cl9c.tS4W=cl9c.TQ2x+(!""+"")[cl9c.mX2x]+cl9c.op3x+cl9c.bNw6q+cl9c.TQ2x+cl9c.tS4W;cl9c.uG5L=cl9c.ku2x[cl9c.Of1x][cl9c.Of1x];x8p.bxg2x=cl9c})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,h8b=c8g("nej.v"),a7h=c8g("nej.e"),P8H=c8g("nej.ui"),b8h;if(!!P8H.bjL9C)return;var jx1x=a7h.uJ5O(".#<uispace>{position:absolute;background:#fff;}");P8H.bjL9C=NEJ.C();b8h=P8H.bjL9C.M8E(P8H.Wm3x);b8h.bp8h=function(e8e){this.bq8i(e8e);this.bZ9Q([[document,"click",this.uH5M.f8d(this)]]);this.csg4k=!!e8e.nostop;this.bNB6v={top:e8e.top,left:e8e.left}};b8h.bC9t=function(){delete this.Bf7Y;delete this.bxw2x;delete this.sE4I;delete this.bNN6H;delete this.bai4m;delete this.bNB6v;this.bH9y()};b8h.ci9Z=function(){this.ng2x=jx1x};b8h.bY9P=function(){this.cj9a();this.Dl7e=this.o8g;h8b.s8k(this.o8g,"click",this.crN4R.f8d(this))};b8h.uH5M=function(d8f){if(d8f.button!=2)this.bu9l()};b8h.crN4R=function(d8f){if(this.csg4k)return;h8b.uQ5V(d8f);var H8z=h8b.ba8S(d8f);if(H8z.tagName=="A")h8b.cu9l(d8f)};b8h.crK4O=function(){var dr9i=/\s+/i;return function(ph3x){ph3x=(ph3x||"").trim().toLowerCase().split(dr9i);ph3x[0]=ph3x[0]||"bottom";ph3x[1]=ph3x[1]||"left";this.sE4I=ph3x}}();b8h.crJ4N=function(ph3x){var m8e={},ow3x=this.bxw2x,cUb1x=a7h.qv3x(),cB9s=this.o8g.offsetWidth,cb9S=this.o8g.offsetHeight;switch(ph3x[0]){case"top":m8e.top=ow3x.top-cb9S;m8e.left=ph3x[1]=="right"?ow3x.left+ow3x.width-cB9s:ow3x.left;break;case"left":m8e.left=ow3x.left-cB9s;m8e.top=ph3x[1]=="bottom"?ow3x.top+ow3x.height-cb9S:ow3x.top;break;case"right":m8e.left=ow3x.left+ow3x.width;m8e.top=ph3x[1]=="bottom"?ow3x.top+ow3x.height-cb9S:ow3x.top;break;default:m8e.top=ow3x.top+ow3x.height;m8e.left=ph3x[1]=="right"?ow3x.left+ow3x.width-cB9s:ow3x.left;break}return m8e};b8h.OW1x=function(){if(!this.bNN6H){this.hi1x(this.bNB6v);return}if(!!this.bai4m){this.hi1x(this.Bf7Y);return}if(!!this.bxw2x)this.hi1x(this.crJ4N(this.sE4I))};b8h.crB4F=function(H8z,dA0x,d8f){dA0x=dA0x||be8W;var bOa6U=a7h.qv3x(),di9Z=h8b.kr2x(d8f)+(dA0x.left||0),hW1x=h8b.nf2x(d8f)+(dA0x.top||0),cB9s=H8z.offsetWidth+(dA0x.right||0),cb9S=H8z.offsetHeight+(dA0x.bottom||0),Od1x=bOa6U.scrollWidth,bxF2x=bOa6U.scrollHeight,bxJ2x=di9Z+cB9s,bxL2x=hW1x+cb9S;switch(this.sE4I[0]){case"top":hW1x=bxL2x>bxF2x?hW1x-cb9S:hW1x;if(this.sE4I[1]=="right"){di9Z=di9Z-cB9s<0?0:di9Z-cB9s}else{di9Z=bxJ2x>Od1x?Od1x-cB9s:di9Z}break;case"left":di9Z=bxJ2x>Od1x?Od1x-cB9s:di9Z;if(this.sE4I[1]=="top"){hW1x=bxL2x>bxF2x?hW1x-cb9S:hW1x}else{hW1x=hW1x-cb9S<0?hW1x:hW1x-cb9S}break;case"right":di9Z=di9Z-cB9s<0?0:di9Z-cB9s;if(this.sE4I[1]=="top"){hW1x=bxL2x>bxF2x?hW1x-cb9S:hW1x}else{hW1x=hW1x-cb9S<0?hW1x:hW1x-cb9S}break;default:hW1x=hW1x-cb9S<0?hW1x:hW1x-cb9S;if(this.sE4I[1]=="left"){di9Z=bxJ2x>Od1x?Od1x-cB9s:di9Z}else{di9Z=di9Z-cB9s<0?0:di9Z-cB9s}break}return{top:hW1x,left:di9Z}};b8h.bxM2x=function(){var crm4q=function(H8z,dA0x){H8z=a7h.A8s(H8z);if(!H8z)return;dA0x=dA0x||be8W;var bl8d=a7h.ir1x(H8z);return{top:bl8d.y-(dA0x.top||0),left:bl8d.x-(dA0x.left||0),width:H8z.offsetWidth+(dA0x.right||0),height:H8z.offsetHeight+(dA0x.bottom||0)}};return function(e8e){e8e=e8e||be8W;this.bai4m=e8e.event;this.crK4O(e8e.align);if(!!this.bai4m)this.Bf7Y=this.crB4F(e8e.target,e8e.delta,this.bai4m);this.bxw2x=crm4q(e8e.target,e8e.delta);this.bNN6H=!!e8e.fitable;this.J8B();return this}}()})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),P8H=c8g("nej.ui"),b8h,L8D;if(!!P8H.EY8Q)return;P8H.EY8Q=NEJ.C();b8h=P8H.EY8Q.M8E(P8H.bbz5E);L8D=P8H.EY8Q.cx9o;P8H.EY8Q.cUf1x=function(){var crk4o=function(d8f,D8v,gj0x,kU2x,TB2x){var cN9E,K8C=D8v+"-i",Q8I=gj0x.AP7I,bOt6n=!!kU2x.noclear,bOv6p=!!kU2x.toggled;if(k8c.hf1x(kU2x.onbeforeclick)){var bbk5p=kU2x.noclear,crg4k=kU2x.toggled;try{kU2x.onbeforeclick(kU2x)}catch(e){}bOt6n=!!kU2x.noclear;bOv6p=!!kU2x.toggled;kU2x.toggled=crg4k;kU2x.noclear=bbk5p}var GJ8B=Q8I[K8C];if(bOv6p&&!!GJ8B){GJ8B.bu9l();return}h8b.bi8a(d8f);if(!bOt6n){h8b.z8r(document,"click");cN9E=gj0x.B8t(kU2x)}else{cN9E=gj0x.bHN5S(kU2x,!0)}Q8I[K8C]=cN9E;cN9E.ze6Y("onbeforerecycle",function(){delete Q8I[K8C]});cN9E.bxM2x(TB2x)};return function(g8c,e8e){g8c=a7h.A8s(g8c);if(!g8c)return this;if(!this.AP7I)this.AP7I={};var D8v=a7h.mu2x(g8c);if(!!this.AP7I[D8v])return this;e8e=NEJ.X({},e8e);var TB2x=NEJ.EX({align:"",delta:null,fitable:!1},e8e);TB2x.target=D8v;e8e.destroyable=!0;if(!e8e.fixed){TB2x.fitable=!0;e8e.parent=document.body}this.AP7I[D8v]=[D8v,e8e.event||"click",crk4o.eO0x(null,D8v,this,e8e,TB2x)];h8b.s8k.apply(h8b,this.AP7I[D8v]);return this}}();P8H.EY8Q.cUh1x=function(g8c){if(!this.AP7I)return this;var D8v=a7h.mu2x(g8c),d8f=this.AP7I[D8v];if(!d8f)return this;delete this.AP7I[D8v];h8b.nt3x.apply(h8b,d8f);var cN9E=this.AP7I[D8v+"-i"];if(!!cN9E)cN9E.bu9l();return this};b8h.bsy1x=function(){return P8H.bjL9C.B8t(this.ck9b)};b8h.Wh3x=function(){L8D.Wh3x.apply(this,arguments);this.ck9b.top=null;this.ck9b.left=null;this.ck9b.nostop=!1};b8h.bxM2x=function(e8e){if(!!this.pU3x)this.pU3x.bxM2x(e8e);return this}})();
(function(){var c8g=NEJ.P,bc8U=c8g("nej.ui"),n8f=c8g("nm.l"),b8h,L8D;n8f.bxQ2x=NEJ.C();b8h=n8f.bxQ2x.M8E(bc8U.EY8Q);b8h.bp8h=function(e8e){e8e.nohack=true;this.bq8i(e8e)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),n8f=c8g("nm.l"),l8d=c8g("nm.x"),b8h,L8D;var FullscreenApi=l8d.Iy9p||{};n8f.bb8T=NEJ.C();b8h=n8f.bb8T.M8E(n8f.bxQ2x);L8D=n8f.bb8T.cx9o;b8h.bp8h=function(e8e){this.bq8i(e8e);this.eL0x=e8e.type||1};b8h.bY9P=function(){this.cj9a();this.o8g=a7h.pa3x(this.crb4f());var j8b=a7h.dn9e(this.o8g);this.ss4w=j8b[0];this.cS9J=j8b[1]};b8h.crb4f=function(){return'<div class="sysmsg"><i class="u-icn u-icn-31"></i><span></span></div>'};b8h.OW1x=function(){var C8u={},cm9d=this.o8g.style,km2x=a7h.qv3x(),pn3x={left:km2x.scrollLeft,top:km2x.scrollTop},dA0x={left:km2x.clientWidth-this.o8g.offsetWidth,top:km2x.clientHeight-this.o8g.offsetHeight};C8u.top=Math.max(0,pn3x.top+dA0x.top/2);C8u.left=Math.max(0,pn3x.left+dA0x.left/2);this.pU3x.hi1x(C8u)};b8h.J8B=function(e8e){L8D.J8B.call(this);this.OW1x();this.eL0x==1?a7h.fx0x(this.ss4w,"u-icn-32","u-icn-31"):a7h.fx0x(this.ss4w,"u-icn-31","u-icn-32");this.cS9J.innerHTML=e8e.tip||""};window.g_showTipCard=n8f.bb8T.J8B=function(){var et0x;return function(e8e){clearTimeout(et0x);if(e8e.parent===undefined)e8e.parent=document[FullscreenApi.fullscreenElement]||document.body;if(e8e.autoclose===undefined)e8e.autoclose=true;e8e.clazz="m-sysmsg";!!this.fF0x&&this.fF0x.W8O();this.fF0x=this.B8t(e8e);this.fF0x.J8B(e8e);if(e8e.autoclose)et0x=setTimeout(this.bu9l.f8d(this),2e3)}.f8d(n8f.bb8T)}();n8f.bb8T.bu9l=function(){!!this.fF0x&&this.fF0x.bu9l()}})();
(function(){var c8g=NEJ.P,v8n=c8g("nej.j"),k8c=c8g("nej.u");if(window["GRef"]&&window["GRef"]=="mail"){v8n.bm8e=v8n.bm8e.eT0x(function(d8f){e8e=d8f.args[1];e8e.query=e8e.query||{};if(k8c.fX0x(e8e.query))e8e.query=k8c.ha1x(e8e.query);e8e.query.ref="mail"})}})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,fN0x=NEJ.R,G8y=c8g("nej.ut"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),v8n=c8g("nej.j"),q8i=c8g("nm.d"),n8f=c8g("nm.l"),l8d=c8g("nm.x"),K8C="playlist-tracks_",b8h;q8i.fD0x({"playlist_my-list":{url:"/api/user/playlist",type:"GET",format:function(T8L,e8e){this.cra4e(T8L.playlist);return{total:0,list:fN0x}},onerror:function(){this.z8r("onlisterror")}},"playlist_new-add":{url:"/api/playlist/create",format:function(T8L,e8e){var oo3x=T8L.playlist;oo3x.creator=GUser;oo3x.isHost=!0;oo3x.typeFlag="playlist";return oo3x},finaly:function(d8f,e8e){h8b.z8r(q8i.iF1x,"listchange",d8f)},onmessage:function(){var mJ2x={507:"歌单数量超过上限！",405:"你操作太快了，请休息一会再试！",406:"你操作太快了，请休息一会再试！"};return function(cd9U){n8f.bb8T.J8B({tip:mJ2x[cd9U]||"创建失败",type:2})}}()},"playlist_new-del":{url:"/api/playlist/delete",type:"GET",filter:function(e8e){e8e.id=e8e.data.pid},finaly:function(d8f,e8e){h8b.z8r(q8i.iF1x,"listchange",d8f)},onmessage:function(){var mJ2x={404:"歌单不存在！",405:"你操作太快了，请休息一会再试！",406:"你操作太快了，请休息一会再试！"};return function(cd9U){n8f.bb8T.J8B({tip:mJ2x[cd9U]||"删除失败",type:2})}}()},"playlist_fav-add":{type:"GET",url:"/api/playlist/subscribe",filter:function(e8e){var eh0x=e8e.ext||{};e8e.ext=NEJ.X(eh0x,e8e.data);e8e.data={id:e8e.ext.id}},format:function(T8L,e8e){n8f.bb8T.J8B({tip:"收藏成功"+(T8L.point>0?' 获得<em class="s-fc6">'+T8L.point+"积分</em>":"")});var p8h=e8e.ext;p8h.subscribedCount++;return p8h},finaly:function(d8f,e8e){h8b.z8r(q8i.cqW4a,"listchange",d8f);h8b.z8r(q8i.cqW4a,"itemchange",{attr:"subscribedCount",data:d8f.data})},onmessage:function(){var mJ2x={404:"歌单不存在！",501:"歌单已经收藏！",506:"歌单收藏数量超过上限！"};return function(cd9U){n8f.bb8T.J8B({type:2,tip:mJ2x[cd9U]||"收藏失败，请稍后再试！"})}}()},"playlist_fav-del":{url:"/api/playlist/unsubscribe",type:"GET",filter:function(e8e){e8e.id=e8e.data.id=e8e.data.pid},finaly:function(d8f,e8e){h8b.z8r(q8i.iF1x,"listchange",d8f)},onmessage:function(){var mJ2x={404:"歌单不存在！",405:"你操作太快了，请休息一会再试！",406:"你操作太快了，请休息一会再试！"};return function(cd9U){n8f.bb8T.J8B({tip:mJ2x[cd9U],type:2})}}()},"playlist_new-update":{url:["playlist-update-name","playlist-update-tag","playlist-update-desc"],filter:function(e8e){var i8a=e8e.data,bbM5R={};bbM5R["playlist-update-name"]={id:i8a.id,name:i8a.name};bbM5R["playlist-update-tag"]={id:i8a.id,tags:i8a.tags.join(";")};e8e.cb=function(callback){function setUpdate(token){bbM5R["playlist-update-desc"]={id:i8a.id,desc:i8a.description,checkToken:token};callback()}l8d.lF2x(setUpdate.bind(this))}.bind(this);e8e.data=bbM5R;e8e.ext=i8a},format:function(Y8Q,rY4c,Ty2x,e8e){if(Y8Q.code==200&&rY4c.code==200&&Ty2x.code==200){e8e.ext.allSuccess=true;n8f.bb8T.J8B({tip:"保存成功"})}else if(Y8Q.code==407||rY4c.code==407||Ty2x.code==407){e8e.ext.allSuccess=false;n8f.bb8T.J8B({type:2,tip:"输入内容包含关键字"})}else{e8e.ext.allSuccess=false;n8f.bb8T.J8B({type:2,tip:"保存失败"})}return this.eY0x(e8e.ext.id)},finaly:function(d8f,e8e){h8b.z8r(q8i.iF1x,"listchange",d8f)},onmessage:function(cd9U){n8f.bb8T.J8B({type:2,tip:"保存失败"})}},"playlist-update-name":{url:"/api/playlist/update/name",format:function(T8L,e8e){var p8h=this.eY0x(e8e.ext.id);if(T8L.code==200)p8h.name=e8e.ext.name;return T8L}},"playlist-update-tag":{url:"/api/playlist/tags/update",format:function(T8L,e8e){var p8h=this.eY0x(e8e.ext.id);if(T8L.code==200)p8h.tags=e8e.ext.tags;return T8L}},"playlist-update-desc":{url:"/api/playlist/desc/update",format:function(T8L,e8e){var p8h=this.eY0x(e8e.ext.id);if(T8L.code==200)p8h.description=e8e.ext.description;return T8L}},"playlist-update-cover":{url:"/api/playlist/cover/update",filter:function(e8e){e8e.url=e8e.data.url;delete e8e.data.url},format:function(T8L,e8e){n8f.bb8T.J8B({tip:"保存成功"});var p8h=this.eY0x(e8e.data.id);p8h.coverImgUrl=e8e.url;e8e.ext=p8h;return p8h},onmessage:function(cd9U){n8f.bb8T.J8B({type:2,tip:"保存失败"})},finaly:function(d8f,e8e){h8b.z8r(q8i.iF1x,"itemchange",{attr:"coverImgUrl",data:e8e.ext})}},"playlist-upcount":{url:"/api/playlist/update/playcount",type:"GET",format:function(T8L,e8e){var oo3x=this.eY0x(e8e.data.id);if(!oo3x)return;oo3x.playCount++;h8b.z8r(q8i.iF1x,"itemchange",{attr:"playcount",data:oo3x})}}});q8i.iF1x=NEJ.C();b8h=q8i.iF1x.M8E(q8i.if1x);b8h.cC9t=function(){this.cK9B();l8d.kl2x()};b8h.bOM7F=function(){var dy0x=GUser.userId;this.mp2x({limit:1001,key:"playlist_my-"+dy0x,data:{offset:0,limit:1001,uid:dy0x}})};b8h.cra4e=function(j8b){var dy0x=GUser.userId,jN1x=[],bPa7T=[];k8c.bf8X(j8b,function(p8h){p8h.typeFlag="playlist";if(p8h.creator&&p8h.creator.userId==dy0x){if(p8h.specialType==5)p8h.name="我喜欢的音乐";p8h.isHost=!0;jN1x.push(p8h)}else{bPa7T.push(p8h)}});this.th4l("playlist_new-"+dy0x,jN1x);this.th4l("playlist_fav-"+dy0x,bPa7T)};b8h.cqP4T=function(i8a){this.cp9g("playlist-update-cover",{data:i8a})};b8h.cUi1x=function(){var Tx2x=this.cqN4R.A8s("host-plist");if(Tx2x.length==0){return}if(Tx2x.length==1&&Tx2x[0].trackCount<=0){return}for(var i=0,len=Tx2x.length;i<len;i++){var p8h=Tx2x[i];if(p8h.trackCount>0)return p8h.id}return this.cqN4R.A8s("host-plist")[0].id};b8h.cqM4Q=function(D8v){if(GUser&&GUser.userId>0){this.cp9g("playlist-upcount",{data:{id:D8v}})}};b8h.Hx9o=function(){if(GUser&&GUser.userId>0){return!0}else{top.login();return!1}};b8h.cUj1x=function(){return GUser.userId};b8h.Hz9q=function(p8h){if(p8h.userId==GUser.userId&&p8h.specialType==5)p8h.name="我喜欢的音乐";h8b.z8r(this.constructor,"itemchange",{data:this.Em8e(p8h)});return p8h};G8y.fV0x.B8t({element:q8i.iF1x,event:["listchange","playcountchange","itemchange"]})})();
(function(){var c8g=NEJ.P,fN0x=NEJ.R,bs8k=NEJ.F,be8W=NEJ.O,G8y=c8g("nej.ut"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),n8f=c8g("nm.l"),b8h,L8D;q8i.fD0x({"program-get":{url:"/api/dj/program/detail",format:function(T8L){return T8L.program}},"program_djradio-list":{type:"GET",url:"/api/dj/program/byradio",filter:function(e8e){e8e.data.limit=1e3;delete e8e.data.id},format:function(T8L,e8e){var bPm7f=[],rs4w=T8L.programs;if(rs4w){for(var i=0,l=rs4w.length;i<l;i++){if(rs4w[i].programFeeType<10||rs4w[i].buyed){bPm7f.push(rs4w[i])}}}return bPm7f}},"program_fav-list":{url:"/api/djprogram/subscribed/paged",format:function(T8L,e8e){return T8L.programs},onerror:"onlisterror"},"program_fav-add":{url:"/api/djprogram/subscribe",filter:function(e8e){e8e.ext=e8e.data;e8e.data={id:e8e.ext.id};e8e.id=e8e.data.id},format:function(T8L,e8e){n8f.bb8T.J8B({tip:"收藏成功"});var p8h=e8e.ext;p8h.subscribedCount++;p8h.subscribed=!0;return p8h},finaly:function(d8f,e8e){h8b.z8r(q8i.sJ4N,"listchange",d8f)},onmessage:function(){var mJ2x={404:"节目不存在！",501:"节目已收藏！"};return function(cd9U){n8f.bb8T.J8B({type:2,tip:mJ2x[cd9U]||"收藏失败！"})}}()},"program_fav-del":{url:"/api/djprogram/unsubscribe",finaly:function(d8f,e8e){h8b.z8r(q8i.sJ4N,"listchange",d8f)},onmessage:function(){var mJ2x={404:"节目不存在！",502:"没有收藏此节目！"};return function(cd9U){l8d.byp3x({txt:mJ2x[cd9U]||"取消收藏失败！"})}}()},"program-update-count":{type:"GET",url:"/api/dj/program/listen",filter:function(e8e){var p8h=this.eY0x(e8e.data.id)||be8W;e8e.ext=(p8h.listenerCount||0)+1},format:function(T8L,e8e){var p8h=this.eY0x(e8e.data.id);if(!!p8h){p8h.listenerCount=Math.max(e8e.ext,p8h.listenerCount||0)}},finaly:function(d8f,e8e){h8b.z8r(q8i.sJ4N,"itemchange",{attr:"playCount",data:this.eY0x(e8e.data.id)})}},"program-like":{url:"/api/resource/like",filter:function(e8e){e8e.data={threadId:"A_DJ_1_"+e8e.id}},format:function(T8L,e8e){var p8h=e8e.ext.data||this.eY0x(e8e.id);p8h.liked=true;p8h.likedCount++;e8e.ext.data=p8h;try{top.player.setLike(p8h)}catch(e){}return p8h},finaly:function(d8f,e8e){h8b.z8r(q8i.sJ4N,"itemchange",{attr:"likedCount",data:e8e.ext.data})}},"program-unlike":{url:"/api/resource/unlike",filter:function(e8e){e8e.data={threadId:"A_DJ_1_"+e8e.id}},format:function(T8L,e8e){var p8h=e8e.ext.data||this.eY0x(e8e.id);p8h.liked=false;p8h.likedCount--;e8e.ext.data=p8h;try{top.player.setLike(p8h)}catch(e){}return p8h},finaly:function(d8f,e8e){h8b.z8r(q8i.sJ4N,"itemchange",{attr:"likedCount",data:e8e.ext.data})}}});q8i.sJ4N=NEJ.C();b8h=q8i.sJ4N.M8E(q8i.if1x);b8h.cUn1x=function(){var dy0x=GUser.userId;this.mp2x({limit:1001,key:"program_fav-"+dy0x,data:{offset:0,limit:1e3,uid:dy0x}})};b8h.cUo1x=function(dh9Y){var pm3x=dh9Y[this.zz6t];l8d.cqw4A(4,function(Q8I){Q8I.th4l("track_program-"+pm3x,dh9Y.songs)});delete dh9Y.songs;var bR9I=dh9Y.mainSong;l8d.cqw4A(4,function(Q8I){Q8I.th4l("track_program_main-"+pm3x,!bR9I?[]:[bR9I])});dh9Y.mainSong=(bR9I||be8W).id};b8h.cUr1x=function(D8v){var dh9Y=this.eY0x(D8v),dy0x=localCache.biV9M("host.profile.userId");return!!dh9Y&&dh9Y.dj.userId==dy0x};b8h.cUt1x=function(D8v){return!1};b8h.Hz9q=function(p8h){h8b.z8r(this.constructor,"itemchange",{attr:"detail",data:this.Em8e(p8h)});return p8h};b8h.cqM4Q=function(D8v){this.cp9g("program-update-count",{data:{id:D8v}})};l8d.bPJ7C=function(e8e){var Q8I=q8i.sJ4N.B8t({onitemadd:function(){(e8e.onsuccess||bs8k)()},onerror:function(){(e8e.onerror||bs8k)()}});if(e8e.data.liked){Q8I.xr6l(e8e.data)}else{Q8I.pD3x(e8e.data)}};b8h.pD3x=function(dh9Y){if(!l8d.hp1x())return;var cA9r={ext:{}};if(k8c.mz2x(dh9Y)){cA9r.id=dh9Y.id;cA9r.ext.data=dh9Y}else{cA9r.id=dh9Y}this.cp9g("program-like",cA9r)};b8h.xr6l=function(dh9Y){if(!l8d.hp1x())return;var cA9r={ext:{}};if(k8c.mz2x(dh9Y)){cA9r.id=dh9Y.id;cA9r.ext.data=dh9Y}else{cA9r.id=dh9Y}this.cp9g("program-unlike",cA9r)};G8y.fV0x.B8t({element:q8i.sJ4N,event:["listchange","itemchange"]})})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,fN0x=NEJ.R,G8y=c8g("nej.ut"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),v8n=c8g("nej.j"),q8i=c8g("nm.d"),n8f=c8g("nm.l"),l8d=c8g("nm.x"),K8C="playlist-tracks_",l8d=c8g("nm.x"),b8h;q8i.fD0x({"track-get":{url:"/api/v3/song/detail",filter:function(e8e){e8e.data.c=JSON.stringify([{id:e8e.data.id}])},format:function(T8L,e8e){var bn8f=l8d.Ap6j(T8L.songs[0]);bn8f.privilege=T8L.privileges[0];return bn8f}},"track_playlist-list":{url:"/api/v3/playlist/detail",filter:function(e8e){e8e.data.n=1e3},format:function(T8L,e8e){var id1x=[];this.ut5y.Hz9q(T8L.playlist);k8c.bf8X(T8L.playlist.tracks,function(bR9I,r8j){var bPK7D=l8d.Ap6j(bR9I);bPK7D.privilege=T8L.privileges[r8j];id1x.push(bPK7D)},this);return id1x}},"track_album-list":{url:"/api/v1/album/{id}",format:function(T8L,e8e){var id1x=[];k8c.bf8X(T8L.songs,function(bn8f){id1x.push(l8d.Ap6j(bn8f))});return id1x}},"track_playlist-add":{url:"/api/playlist/manipulate/tracks",filter:function(e8e){var bB9s={},i8a=e8e.data,cql4p=this.hY1x(e8e.key)||[];It9k=[];k8c.bf8X(cql4p,function(bR9I){var D8v=k8c.mz2x(bR9I)?bR9I.id:bR9I;bB9s[D8v]=true});e8e.ext=[];k8c.bf8X(i8a.tracks,function(bR9I){var D8v=k8c.mz2x(bR9I)?bR9I.id:bR9I;if(!bB9s[D8v]){It9k.push(D8v);bB9s[D8v]=true;e8e.ext.push(bR9I)}});i8a.trackIds=JSON.stringify(It9k);i8a.op="add";if(!It9k.length){e8e.value={code:502}}},format:function(T8L,e8e){n8f.bb8T.J8B({tip:"已添加至歌单"});var oo3x=this.ut5y.eY0x(e8e.data.pid);if(!!T8L.coverImgUrl)oo3x.coverImgUrl=T8L.coverImgUrl;k8c.or3x(e8e.ext,function(bR9I){this.zY6S(e8e,k8c.mz2x(bR9I)?bR9I:null);if(!!oo3x)oo3x.trackCount++},this);h8b.z8r(q8i.iF1x,"itemchange",{data:oo3x||{},cmd:"add"});this.z8r("onaddsuccess");return null},finaly:function(d8f,e8e){h8b.z8r(q8i.vo5t,"listchange",{key:e8e.key,action:"refresh"});var pm3x=e8e.data.pid,cI9z=this.lY2x(e8e.key)},onmessage:function(){var mJ2x={502:"歌曲已存在！",505:"歌单已满！"};return function(cd9U){setTimeout(function(){n8f.bb8T.J8B({tip:mJ2x[cd9U]||"添加失败，请稍后再试！",type:2})},0)}}()},"track_playlist-del":{url:"/api/playlist/manipulate/tracks",filter:function(e8e){var i8a=e8e.data;e8e.ext=i8a.trackIds;i8a.trackIds=JSON.stringify(i8a.trackIds);i8a.op="del"},format:function(T8L,e8e){var oo3x=this.ut5y.eY0x(e8e.data.pid);k8c.bf8X(e8e.ext,function(D8v){this.bvN2x({id:D8v,key:"track_playlist-"+e8e.data.pid},!0);if(!!oo3x)oo3x.trackCount=Math.max(0,oo3x.trackCount-1)},this);h8b.z8r(q8i.iF1x,"itemchange",{data:oo3x||{},cmd:"del"});return null},finaly:function(d8f,e8e){h8b.z8r(q8i.vo5t,"listchange",{key:e8e.key,action:"refresh"})},onmessage:function(cd9U){l8d.byp3x({text:"歌曲删除失败！"})}},"track_program-list":{url:"/api/dj/program/detail",format:function(T8L,e8e){return this.bPN7G.Hz9q(T8L.program).songs},onerror:"onlisterror"},"track_listen_record-list":{url:"/api/v1/play/record",format:function(T8L,e8e){var j8b=[];if(e8e.data.type==-1){if(T8L.weekData&&T8L.weekData.length){e8e.data.type=1}else{e8e.data.type=0}}if(e8e.data.type==1){j8b=this.bPP7I(T8L.weekData)}else{j8b=this.bPP7I(T8L.allData)}return j8b},onerror:"onlisterror"},"track_day-list":{url:"/api/v2/discovery/recommend/songs",format:function(T8L,e8e){var oV3x=[],j8b=T8L.recommend||[];k8c.bf8X(j8b,function(bn8f,r8j){oV3x.push({action:"recommendimpress",json:{alg:bn8f.alg,scene:"user-song",position:r8j,id:bn8f.id}})});this.lq2x.beq6k(oV3x);e8e.limit=j8b.length;return j8b},onerror:"onlisterror"},"track_lyric-get":{type:"GET",url:"/api/song/lyric",filter:function(e8e){e8e.data.lv=0;e8e.data.tv=0},format:function(m8e,e8e){return m8e},onload:"onlyricload",onerror:"onlyricerror"}});q8i.vo5t=NEJ.C();b8h=q8i.vo5t.M8E(q8i.if1x);b8h.cC9t=function(){this.cK9B();this.ut5y=q8i.iF1x.B8t();this.bPN7G=q8i.sJ4N.B8t();this.lq2x=q8i.ij1x.B8t()};b8h.bPP7I=function(j8b){var m8e=[],fk0x=0;k8c.bf8X(j8b,function(p8h,r8j){var bn8f=l8d.Ap6j(p8h.song);if(r8j==0){fk0x=p8h.score}bn8f.max=fk0x;bn8f.playCount=p8h.playCount;bn8f.score=p8h.score;m8e.push(bn8f)});return m8e};G8y.fV0x.B8t({element:q8i.vo5t,event:["listchange"]})})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,cz9q=c8g("nm.pc");var byA3x={playlist:"A_PL_0_",dj:"A_DJ_1_",program:"A_DJ_1_",album:"R_AL_3_",song:"R_SO_4_"};var oT3x=function(bU9L){var yn6h="orpheus://orpheus";window.top.postMessage(JSON.stringify(bU9L),yn6h)};var cqb4f=function(mY2x){var lA2x="http://"+location.host+"/",Tq2x=/(igame|music)\.163\.com\/(song|album|playlist|dj|event|artist|mv|djradio|topic|video|program|user\/home|activity)\?id=(\w+)(&uid=(\d+))?/,ea0x=Tq2x.exec(mY2x);if(!ea0x)return cqa4e(mY2x);var gH1x=ea0x[2],ic1x=ea0x[3],dy0x=ea0x[4]||"",jW2x="";switch(gH1x){case"album":jW2x="#/m/album/comment/?rid="+byA3x[gH1x]+ic1x+"&id="+ic1x;break;case"playlist":jW2x="#/m/playlist/comment/?rid="+byA3x[gH1x]+ic1x+"&id="+ic1x;break;case"song":case"dj":case"program":jW2x="#/m/song?rid="+byA3x[gH1x]+ic1x;break;case"event":jW2x="#/m/friend/event/?id="+ic1x+"&uid="+dy0x;break;case"user/home":jW2x="#/m/personal/?uid="+ic1x;break;case"mv":jW2x="#/m2/mv/?id="+ic1x;break;case"activity":jW2x="#/m/friend/activity?id="+ic1x;break;case"video":jW2x="#/m2/mv/?id="+ic1x+"&type=1";break;default:jW2x="#/m/"+gH1x+"/?id="+ic1x}return lA2x+jW2x};var cqa4e=function(mY2x){var cpY4c=/http:\/\/player\.youku\.com\/embed\/(.+)/;var ea0x=cpY4c.exec(mY2x);if(ea0x)return"http://v.youku.com/v_show/id_"+ea0x[1];return mY2x};cz9q.ey0x=function(gH1x,ic1x){oT3x({name:"play",args:{type:gH1x,id:ic1x}})};cz9q.fT0x=function(){oT3x({name:"pause"})};cz9q.Fh8Z=function(mY2x){oT3x({name:"open",args:{link:cqb4f(mY2x)}})};cz9q.lE2x=function(gH1x,ic1x,cM9D){oT3x({name:"share",args:{type:gH1x,id:ic1x,shareContent:cM9D}})};cz9q.bQa7T=function(gH1x,ic1x){oT3x({name:"comment",args:{type:gH1x,id:ic1x}})};cz9q.cpS4W=function(){oT3x({name:"init"})};cz9q.Fk8c=function(cb9S){oT3x({name:"setHeight",args:{height:cb9S}})};cz9q.ii1x=function(bF9w,V8N){oT3x({name:"toast",args:{message:bF9w||"",state:V8N}})};cz9q.Jj9a=function(mY2x){oT3x({name:"login",args:{link:mY2x}})};cz9q.bQj7c=function(Fl8d){oT3x({name:"topbar",args:{show:!!Fl8d}})};cz9q.cpK4O=function(R8J){oT3x({name:"refreshtopbar",args:{info:R8J}})};cz9q.cpI4M=function(bv9m,r8j){oT3x({name:"big",args:{arr:bv9m,index:r8j}})};cz9q.OB1x=function(cD9u){oT3x({name:"download",args:{img:cD9u}})};cz9q.bQp7i=function(cpC4G){oT3x({name:"scrollable",args:{scrollable:cpC4G}})}})();
(function(){function J(){var d="6skV4PUYecGhx07l".split("");this.d=function(f){if(null==f||void 0==f)return f;if(0!=f.length%2)throw Error("1100");for(var b=[],c=0;c<f.length;c++){0==c%2&&b.push("%");for(var g=d,a=0;a<g.length;a++)if(f.charAt(c)==g[a]){b.push(a.toString(16));break}}return decodeURIComponent(b.join(""))}}var k=(new J).d,d=(new J).d,e=(new J).d,f=(new J).d,g=(new J).d;(function(){var B=[e("44UsY4UP"),e("40UcU7UcUkUsYkP6UxYPUYUcU7"),d("U4UPUVUlU4UPPPPk4c4VUlU0Y6UlU7UPU7Y4"),f("47P6P6UxUsYcUPYkPVUeUPUxUx"),f("40PVk6PkUPUUUPYkUPU7UVUPk6PVUsU7YVk6PVUPYkUcUU"),e("4eUcYkUsUYUcU7Ulk6PVUsU7YVk64Y4k"),d("YVUPYkUcUU"),g("UYUPY44VUlU7Y4UPYeY4")],J=[g("YPU7UcUUUlYkU0VkUU")],b=[d(""),g("4YYkUsYcP4UPYeY4"),k("Y6UsYkUPU7Y4"),e("7Phchx7PcxeU"),k("Y6UxYPUYUcU7YV"),d("4sU4UlUkUP4PYe40UsU744UPY4UPUVY4"),e("V6V6VsV6"),d("4YUlUlUYUxUPk64PUsYkY4Uek6P6UxYPUYUcU7"),k("PUUPUPY4UxUPk6P4PUk64VUlYkUP"),f("V6V6V6VY"),f("V6V6V6V4"),d("V6V6V6Vk"),d("V6V6V6VV"),g("V6V6V6V6"),e("V6V6V6Vs"),g("PPU7UcY4Yck6P6UxUsYcUPYk"),d("PVUhYcY6UPk6PYUPUkk6P6UxYPUYUcU7"),d("PYUPUk4hUcY4k0UcU7Y4UPUYYkUcUPYkY4UPk6P6444U"),e("4kUPUxUxk640P4"),e("V6V6V6Ve"),g("UYUPY4PVYPY6Y6UlYkY4UPU44PYeY4UPU7YVUcUlU7YV"),d("YVUPY4P4UcU0UP"),e("V6V6V6Vc"),g("PVUsUUUPPVUPUsYkUVUe"),d("kk"),f("k4"),f("PPU7UcYUUPYkYV"),e("kP"),e("kU"),f("kY"),f("VsVsVsV6"),d("UYUPY4k6Y6UxYPUYUcU7k6YVY4YkUcU7UYk6UPYeUVUPY6Y4UcUlU7"),e("P4UeYkUPUP44PVUeUsU4UlYY"),g("kh"),f("kx"),d("k0"),f("4sYkUsUk"),g("7eehhc7Uc7cx74heh07YhheU7PG7eh"),d("k7"),g("4UPPPG4PPVUeUsYkUP"),g("kl"),d("V6"),k("Vs"),f("Vk"),e("VV"),e("V4"),e("74hhhl7PG7ehPl4Y4kVkVVVsVk"),g("VP"),f("VU"),e("4cU7UsUVY4UcYUUP4VUsY6Y4UcUlU7P4UPYeY4"),f("VY"),d("PY4P4kPG4P47k64kYkUlYYYVUPYkk64PYeY4UPU7YVUcUlU7"),f("Ve"),e("Vc"),g("VG"),g("44UcYUPek64kYkUlYYYVUPYkk6P6UxYPUYk04cU7"),k("Vh"),g("V0"),d("PPY6UxUsYck6P64V"),e("UVUsU7YUUsYVk6UPYeUVUPY6Y4UcUlU7"),f("4s"),k("4k"),g("4V"),g("44"),g("4P"),f("7Ph7G77eh0Gl7ccheP7chhcs"),e("4U"),k("4eUsYkYkUcU7UYY4UlU7"),f("4Y"),f("4e"),f("4c"),k("4G"),e("4YU7UlU0UPk6PVUeUPUxUxk64cU7Y4UPUYYkUsY4UcUlU7"),f("4h"),f("4x"),f("40"),e("47"),f("4l"),k("P6"),d("Ps"),k("Pk"),d("PV"),g("47UcUsUYUsYkUsk6PVUlUxUcU4"),g("P4"),e("PVUPUU4VUxUcUPU7Y4k6P6UxYPUYUcU7"),d("PP"),e("PU"),d("VsVsVsVs"),e("PY"),d("Pe"),g("Pc"),k("PG"),e("4YUlYPU4Yck64lUxU4k6PVY4YcUxUP"),k("Px"),g("PkUlUkUxUlYek64xUsYPU7UVUeUPYkk6P6UxYPUYUcU7"),d("40UcUVYkUlYVUlUUY4k64lUUUUUcUVUPk6VkV6VsVV"),f("PsPs40YPYVUcUV"),k("Us"),e("4PYPYkUlYVY4UcUxUP"),e("Uk"),k("YkU0UlUVYek7PkUPUsUxP6UxUsYcUPYkk64YVkk64VUlU7Y4YkUlUxk7Vs"),k("UV"),d("PVUVYkUcY6Y4UcU7UYk744UcUVY4UcUlU7UsYkYc"),f("U4"),f("74hhhl7PG7eh"),f("UP"),k("UU"),k("UY"),e("Ue"),d("40Usk04VUlU7UUUcUYk7UVUlU0k6Y6UxYPUYUcU7"),d("Uc"),g("VsV6VsV6"),d("4VUsYVYPUsUx"),d("UG"),e("Uh"),e("Ux"),d("U0"),g("U7"),e("Ul"),d("Y6"),k("VsV6V6Ve"),f("UVY4"),d("U4Ul47UlY4P4YkUsUVUh"),g("Ys"),d("YVUPY4P4UcU0UPUlYPY4"),f("74heh07PG7ehk6P6YkUl"),e("Yk"),k("4YUcYVUeUs"),k("UYUPY4P4UcU0UPYGUlU7UP4lUUUUYVUPY4"),g("YV"),d("VsV6V6VP"),g("VsV6V6V4"),k("Y4"),k("YP"),g("VsV6V6VV"),f("YU"),f("VsV6V6Vs"),d("YY"),e("Ye"),e("U4YkUsYY4sYkYkUsYcYV"),g("Yc"),e("YG"),f("Yh"),g("Y0"),k("Y7"),d("UUUlU7Y4"),g("VsV6V6Vc"),k("V0U7YPUxUxVhk6Y6UsY4UeV0klVhk6UPYeY6UcYkUPYVV0"),f("PVUeUPUxUxk7PP4c4eUPUxY6UPYk"),f("Y4Ul44UsY4UsPPPk4x"),f("PYUcU7U4UlYYP4UPYeY4"),e("UxUsU7UYYPUsUYUP"),g("U4Ul"),f("74heh07chhcsk6P6YkUl"),e("4eUcUYUeUxUcUYUeY4P4UPYeY4"),k("U4UcYU"),g("40UPU7YPP4UPYeY4"),e("4s4l4xk640UPU4UcUsk6P6UxUsYcUkUsUVUhk6P6UxYPUYUcU7"),f("4VUcY4YkUcYek6UlU7UxUcU7UPk6Y6UxYPUYk0UcU7"),f("UPUV"),f("44UPYVU4UPU0UlU7Us"),k("4cU7UsUVY4UcYUUP4kUlYkU4UPYk"),f("PkUPUsUxP6UxUsYcUPYk"),d("4e4P4x4x4l"),f("kxk6kYUVUlU4UPkYVG"),k("UPU0"),f("U7Y6P4UlU7UYUkYP4sU4U4UcU7"),e("UVYkUPUsY4UP4PUxUPU0UPU7Y4"),g("Y6UeUsU7Y4UlU0"),k("40PVk6P640UcU7UVUeUl"),d("7UGPhY74h0cV"),d("UPYUUsUx"),f("UPYe"),k("44UcYUPek6PU4l44k64eUPUxY6UPYkk6P6UxYPUYk0UcU7"),f("7UcUh67YhheU7Ucee774h0cV"),d("PsYPUcUVUhP4UcU0UP4VUeUPUVUh4lUkUGUPUVY4k7PsYPUcUVUhP4UcU0UP4VUeUPUVUhk7Vs"),k("4UUxYc4lYk44UcUPk64YUsU0UPYVk6P6UxYPUYUcU7"),e("UsY4Y4UsUVUePVUeUsU4UPYk"),e("P6UxUsYc4lU7k6P6UxYPUYk0UcU7"),f("UYUPY4P4UcU0UP"),e("Vsk7V6Vs"),e("4kYkUlUsU4YYUsYc"),k("UUY6"),e("4sUxUsYYUsYkk647P64sP64ck6YPY4UcUxYV"),d("4UUlYkY4UP"),g("UeUsYVUe4VUlU4UP"),e("7UcUhc7UG0GV7PGYcG74h0cV"),e("4PPV47k6PVUlU7UsYkk64sP64c"),k("4eP644UPY4UPUVY4"),e("4kUcY4U4UPUUUPU7U4UPYkk6PsYPUcUVUhPVUVUsU7"),k("4c4Pk6P4UsUkk6Y6UxYPUYUcU7"),g("kYkx"),k("4kYPY4Y4UlU74UUsUVUP"),e("UVY6YP4VUxUsYVYV"),g("4VUPU7Y4YPYkYck64YUlY4UeUcUV"),f("4lU7UxUcU7UPk6PVY4UlYkUsUYUPk6Y6UxYPUYk0UcU7"),k("PVUsUUUPYkk6PPY6U4UsY4UP"),d("40YVYeU0UxVkk7444l4044UlUVYPU0UPU7Y4"),d("4PU7UYYkUsYUUPYkYVk640P4"),d("PVUcUxYUUPYkUxUcUYUeY4k6P6UxYPUYk04cU7"),g("4YUlUlUYUxUPk64YUPUsYkYVk6V6k7VPk7VVVVk7V6"),g("4VUcY4YkUcYek64c4V4sk64VUxUcUPU7Y4"),d("UsUxY6UeUsUkUPY4UcUV"),k("PU44UlYYU7UxUlUsU4UPYk"),e("7Pe0e77UcUeY7UGPhY74h0cV"),f("UsY4Y4YkPUUPYkY4UPYe"),g("7PG7eh74h0cV"),f("UVUlUlUhUcUP"),g("kPVkVk"),k("kPVkVU"),g("4VUPU7Y4UsYPYk"),g("V4UYUsU0UP"),e("PkUlUVUhYYUPUxUx"),e("4xUlUY40UP4cU7k6P6UxYPUYUcU7k6Vsk7V6k7V6k7VcVUVs"),g("4lUVY4UlYVUeUsY6UPk6PVY4YkUPUsU0UcU7UYk6PVUPYkYUUcUVUPYV"),e("Y4Ul4Y40P4PVY4YkUcU7UY"),d("Y4UeV0kl"),d("PVYPU0UsY4YkUsP6444Uk64kYkUlYYYVUPYkk6P6UxYPUYUcU7"),k("P6444Uk7P6U4UU4VY4YkUx"),g("UUUcUxUxPVY4YcUxUP"),d("UGUP"),f("4sU4UlUkUPk640UcU7UYk6PVY4U4"),g("P4UlYkUVUe4eUPUxY6UPYk"),e("4UYkUsU7UhUxUcU7k64YUlY4UeUcUVk64eUPUsYUYc"),f("7Pe0e77UcUeY74hhhl7PG7eh"),g("4eUsYkU0UlU7Yck6P6UxYPUYk04cU7"),d("4YUcUYUc"),f("YUVsk7Vs"),g("4hUcU7Ulk640P4"),f("PVUcU04eUPUc"),k("4sUxUcPVPV4l4xUlUYUcU7k6Y6UxYPUYUcU7"),k("PkUPUsUxP6UxUsYcUPYkk7PkUPUsUxP6UxUsYcUPYkkeY4U0kck64sUVY4UcYUUPPek64VUlU7Y4YkUlUxk6keVVVkk0UkUcY4kc"),d("PcUsU7U4UPYek6P6444Uk6PUUcUPYYUPYk"),g("4VUcY4YkUcYek6PkUPUVUPUcYUUPYkk6P6UxYPUYk0UcU7"),g("U0UsUc"),g("Y4UlY6"),d("4sUVYkUlP6444Uk7P6444U"),g("UVUsU7YUUsYVk6UsY6Uck6UPYeUVUPY6Y4UcUlU7"),d("4cU7UsUVY4UcYUUP4VUsY6Y4UcUlU7"),g("40UPU7YP"),d("Y6YkUPUVUcYVUcUlU7k6U0UPU4UcYPU0Y6k6UUUxUlUsY4Vhk6YUUsYkYcUcU7UYk6YUUPUVVkk6YUUsYkYcUcU7P4UPYe4VUlUlYkU4UcU7UsY4UPVhk6YUUlUcU4k6U0UsUcU7kekck6Yhk6k6k6UYUxPl4UYkUsUY4VUlUxUlYkk6V0k6YUUPUVV4keYUUsYkYcUcU7P4UPYe4VUlUlYkU4UcU7UsY4UPkxk6V6kxk6VskcVhk6Y0"),g("PsPsVkV6VsVVk64UUcYkUPUUUlYek6P6UxYPUYUcU7"),f("4YUlUlUYUxUPk6PPY6U4UsY4UP"),k("7Pe0e77UcUeY7Ph0Gc74hGcs"),k("UP40YPYVUcUVP6UxYPUYUcU7k6444x40VU"),f("PYUPUkk64VUlU0Y6UlU7UPU7Y4YV"),e("4kUsUkYcUxUlU7k6P4UlUlUx4kUsYk"),g("4VUlUlYYUlU7k6PPY6U4UsY4UP"),k("4cU7UUUlP4UPYeY4"),f("YkU0UlUVYek7PkUPUsUxP6UxUsYcUPYkk64YVkk64VUlU7Y4YkUlUx"),d("Uc40UPYVUek6Y6UxYPUYUcU7"),e("PkUPUsUx44UlYYU7UxUlUsU4UPYkk6P6UxYPUYUcU7"),e("PVYcU0UsU7Y4UPUVk6P64h4ck64VUxUcUPU7Y4"),g("PlY6UeUsU7Y4UlU0"),g("4Y444xk64lUkUGUPUVY4k6PYUPUkk6P6UxYPUYk0UcU7k6VsVUk7V6V6"),d("YYUPUkUYUx"),k("7Pe0e77UcUeY7PG7eh74h0cV"),g("YVUVYkUPUPU7"),k("UkUlU4Yc"),f("P4Pk4c4s474Y4x4PPlPVP4Pk4cP6"),k("U7V0"),d("P4UxYYUY40UlU7Ul"),f("kYVGkY"),k("4xUlUY40UP4cU7k6P6UxYPUYUcU7k6Vsk7V6k7V6k7VcVVVP"),d("UUYPU7UVY4UcUlU7"),e("UVUlU7Y4UPYeY4k7UeUsYVUe4VUlU4UP"),k("4sYkUVUeUc4V4s44"),g("PU4PPkP44PPePlPV4e4s444PPk"),k("PPUkYPU7Y4YP"),d("4UUsUVUPUkUlUlUhk6P6UxYPUYUcU7"),e("4sUVY4UcYUUP4VUsY6Y4UcUlU7"),g("7YhheU7Ucee774h0cV"),k("40UsUxUYYPU7k64YUlY4UeUcUV"),e("47UPYYYVk64YUlY4UeUcUVk640P4"),e("4VUsY6Y4UcUlU7P4UPYeY4"),k("UsPGUkPcV6UVPeU4PYVsUPPUUUVkPPUYVVP4UeV4PVUcPkVPUGPsUhVUP6Ux4lVYU047U7Ve40Ul4xVcY64hYs4GYk4cYV4eY44YYP4UYU4PYY44Ye4VYc4kYG4s"),e("44UPUGUsPUYPk64x4Y4Vk6PVUsU7YVk640UlU7Ul"),k("4VUlY6Y6UPYkY6UxUsY4UPk64YUlY4UeUcUVk64xUcUYUeY4"),e("PVUPUYUlUPk6P6YkUcU7Y4"),g("PVUsYYUsYVU4UPUP"),d("4kUsYPUeUsYPYVk6VcVV"),f("4VUeUsUxUhU4YPYVY4UPYk"),g("4sUkUsU4Uck640P4k64VUlU7U4UPU7YVUPU4k64xUcUYUeY4"),f("4xYPUVUcU4Usk64kYkUcUYUeY4"),g("PYUcU4UPk64xUsY4UcU7"),g("UUUlU7Y4k6U4UPY4UPUVY4k6UPYkYkUlYk"),f("4hUlYGYPUhUsk64YUlY4UeUcUVk6P6YkVU47"),d("4eY4U0UxVPk6UxUlUVUsY4UcUlU7k6Y6YkUlYUUcU4UPYk"),f("44UcYUPek6P6UxYPYVk6PYUPUkk6P6UxUsYcUPYk"),f("PUUxUsU4UcU0UcYkk6PVUVYkUcY6Y4"),d("4UUcUxUPk644UlYYU7UxUlUsU4UPYkk6P6UxYPUYk0UcU7"),f("UlUk"),d("4sU4UlU4Ukk7PVY4YkUPUsU0"),d("40UPU7UxUl"),e("UVUsUxUxP6UeUsU7Y4UlU0"),k("PYUlUxUUYkUsU0k640UsY4UeUPU0UsY4UcUVUs"),e("4VUsY4UsUxUcU7Us4YYkUlYPY6k6PPY6U4UsY4UP"),k("4PYkUsYVk64kUlUxU4k64cP44V"),e("44UPYUUsUxPUPkPe4VY4YkUxk744UPYUUsUxPUPkPe4VY4YkUxk7Vs"),k("4GPV4PPVPV4c4l474c44k0PYPcPcPc"),g("7Pe0e77UcUeY7YhheU7chhcs"),k("UsU4U44kUPUeUsYUUcUlYk"),k("Y6Us"),k("4kUcY4YVY4YkUPUsU0k6PUUPYkUsk6PVUPYkUcUU"),d("keUUYPU7UVY4UcUlU7kekcYhYkUPY4YPYkU7k6VsVkVVVhY0kckekcVh"),d("Y6Uc"),d("P4UPU7UVUPU7Y4k64UP447k6Y6UxYPUYk0UcU7"),k("YkUPU0UlYUUP4VUeUcUxU4"),f("4UUlUxYek6VVk64kYkUlYYYVUPYkk6P6UxYPUYUcU7"),k("YPYVUPP6YkUlUYYkUsU0"),f("UeUlYVY4U7UsU0UP"),f("Y6UeUsU7Y4UlU0k7UcU7UGUPUVY44GYV"),f("PVUeUlUVUhYYUsYUUP4UUxUsYVUek7PVUeUlUVUhYYUsYUUP4UUxUsYVUe"),d("YkUYUkUskeVsV6Vkkxk6VkV6V4kxk6V6kxk6V6k7VYkc"),e("4sU4UkUxUlUVUhP6UxYPUYUcU7"),e("4kUsUVUhUYYkUlYPU7U4"),g("4sUY4VUlU7Y4YkUlUxk74sUY4VUlU7Y4YkUlUx"),e("P6UeUlY4Ul4VUPU7Y4UPYkP6UxYPUYUcU7Vsk7Vsk7Vkk7Vk"),g("4YYPU7UYPVUPUl"),e("YVV0"),d("U4UPUVUlU4UPPPPk4c"),g("7UcUhc7UG0GV7eeeck74h0cV"),d("7Pe0e77UcUeY7UcUh67cG0el"),d("VsVkVV"),g("YYUPUkUYUxk6UPYeUVUPY6Y4UcUlU7"),f("YkUP"),k("PY40P6UxUsYcUPYkk74l4VPe"),e("VYVkY6Ye"),f("4sY6Y6PYUlYkUhYVY6UsUVUP"),d("4eUcUYUeUxUcUYUeY4"),e("U4UlUVYPU0UPU7Y4"),d("PcUsU7U4UPYek640UPU4UcUsk6P6UxYPUYUcU7"),e("4PPV47k64xUsYPU7UVUek640UlYGUcUxUxUsk6P6UxYPUYUcU7"),d("VYV6Y6Yek6kY4sYkUcUsUxkY"),k("UcU7UGUPUVY44GYV"),g("4xUlU0Us"),d("4kUcY44VUlU0UPY44sUYUPU7Y4"),f("4VUsUxUcUkYkUc"),f("4kUlUlUhU0UsU7k64lUxU4k6PVY4YcUxUP"),d("YVUPYVYVUcUlU7PVY4UlYkUsUYUP"),f("PPY4UlY6UcUs"),k("UVUlU0Y6UcUxUPPVUeUsU4UPYk"),e("UPYVUVUsY6UP"),d("PVUVYkUlUxUxUkUsYk"),g("PYUcU7U4UlYY"),d("VsV4VYV4V4U4VcVPVVVeVVUVU4VVV6VYVP444sV4Vk4VVcVVUV44Us4sUPVYV4VUVP4V4U4sVPUU4VV64kVcVV4kVs"),d("7ccGhU74hcGU"),d("4hUsYVY6UPYkYVUhYck6P6UsYVYVYYUlYkU4k640UsU7UsUYUPYk"),e("40UcU7UY4xUcPPk04PYeY44k"),d("UYUPY4k6YVYcYVY4UPU0k6UVUlUxUlYkYVk6UPYeUVUPY6Y4UcUlU7"),d("PVUhYcY6UPk744UPY4UPUVY4UcUlU7"),k("4UUcUxUP4xUsUkk6Y6UxYPUYUcU7"),e("U7Y64sP64ck6P6UxYPUYUcU7"),g("U7UlY4PlUPYeUcYVY4PlUeUlYVY4"),e("VkU4"),d("4sUVY4UcYUUPPe4lUkUGUPUVY4"),k("44UlY4YPU0"),d("P6444Uk0Pe4VUeUsU7UYUPk6PUUcUPYYUPYk"),d("P640UcU7UY4xUcPP"),k("UVUlUxUlYk44UPY6Y4Ue")],c=[f("47UlUhUcUsk6PVYPUcY4UPk64PU7UsUkUxUPYkk6P6UxYPUYUcU7"),k("PkUPUsUxPUUcU4UPUlk7PkUPUsUxPUUcU4UPUlkeY4U0kck64sUVY4UcYUUPPek64VUlU7Y4YkUlUxk6keVVVkk0UkUcY4kc"),k("40UsUYU7UPY4Ul"),e("4sU4UlUkUP4PYe40UsU74V4V44UPY4UPUVY4"),f("4YUsUkYkUcUlUxUs"),k("P6UxUsYcUkUcUxUx"),e("U7UsYUUcUYUsY4UlYk"),g("PkUsUVUeUsU7Us"),e("P4YYk64VUPU7k640P4k64VUlU7U4UPU7YVUPU4k64PYeY4YkUsk64kUlUxU4"),e("PsPs40UcU7Uc444xk6P6UxYPUYUcU7"),f("kVUUVUV6"),f("UUUcUxUxPkUPUVY4"),e("V0U7YPUxUxVhk6Y6UsY4UeV0klVhk6U4UlU0UsUcU7V0"),d("44UPUUUsYPUxY4k64kYkUlYYYVUPYkk64eUPUxY6UPYk"),d("4UYkUPU7UVUek6PVUVYkUcY6Y4k640P4"),g("7UG6eY7UGPhY74h0cV"),g("UPU7UVUlU4UPPPPk4c"),e("PPU0Y6YPYVUe"),k("UcUVY6"),f("7Pe0e77UcUeY7Yc6GP7Yele6"),k("UVYkUPUsY4UPP6YkUlUYYkUsU0"),g("U0UlU7UlYVY6UsUVUP"),k("4kYPY4Y4UlU7PVUeUsU4UlYY"),k("4kUlU4UlU7Uck640P4"),g("PVP44sP44c4VPl44Pk4sPY"),e("7chhcs74h0cV"),k("U4UlYYU7UxUlUsU4PPY6U4UsY4UPYk"),k("4sUxUcUPU4UcY4k6P6UxYPUYk04cU7"),d("P6444Uk6UcU7Y4UPUYYkUsU4Ulk6U4Ulk6PYUPUk4hUcY4"),k("YPU7UcUUUlYkU04lUUUUYVUPY4"),k("UPU7UVUlU4UPPPPk4c4VUlU0Y6UlU7UPU7Y4"),f("P6UcUVUsYVUs"),f("4sU4UlUkUPk64UUsU7UYYVUlU7UYk6PVY4U4"),k("UkUcU7U44kYPUUUUUPYk"),g("4sPU4Yk6PVUcY4UPPVUsUUUPY4Yck6Y6UxYPUYUcU7"),f("4lYkUkUcY4k644UlYYU7UxUlUsU4UPYk"),d("UVUlUxUlYk"),f("UeUcU4U4UPU7"),f("UxUlUVUsUxPVY4UlYkUsUYUP"),e("4YUlUlUYUxUPk6P4UsUxUhk64PUUUUUPUVY4YVk6P6UxYPUYUcU7"),d("UcU7U4UPYeUPU4444k"),g("4xYPUVUcU4Usk64UUsYe"),g("4sU0UsYGUlU740P6VV44UlYYU7UxUlUsU4UPYkP6UxYPUYUcU7"),k("UVYkUPUsY4UP4kYPUUUUUPYk"),f("4VUsYVY4UPUxUxUsYk"),k("UxUcU7UhP6YkUlUYYkUsU0"),f("4VUsUxUcUUUlYkU7UcUsU7k64U4k"),f("P4UeYkUPUP444eUcUYUeUxUcUYUeY4"),g("UVYkUPUsY4UPPVUeUsU4UPYk"),f("4YYPUxUcU0"),f("47YcYe4xUsYPU7UVUeUPYk"),d("PcUlYPP4YPUkUPk6P6UxYPUYk0UcU7"),e("7UGPhY74h0cVPl4Y4kVkVVVsVk"),g("PVPY4VY4Uxk7PVPY4VY4Ux"),f("4YUlUlUYUxUPk64PUsYkY4Uek6P6UxYPUYk0UcU7"),k("PsPs44UlYYU7UxUlUsU4k6P6UxYPUYUcU7"),k("k7U0YPYVUcUVk7VsVUVVk7UVUlU0Vhk7UcUYUsU0UPk7VsVUVVk7UVUlU0Vhk7U0YPYVUcUVk7UeYGk7U7UPY4UPUsYVUPk7UVUlU0"),k("47UlYkY4UlU7k64cU4UPU7Y4UcY4Yck6PVUsUUUP"),d("Y6UsYkYVUP4cU7Y4"),f("PVUcU0Y6UxUPk6P6UsYVYV"),d("4VUlUxUlU7U7Usk640P4"),k("YGUsUhUl"),k("UYUPY4PPU7UcUUUlYkU04xUlUVUsY4UcUlU7"),e("YVUeUsU4UPYkPVUlYPYkUVUP"),d("44UlYYU7UxUlUsU4UPYkYVk6Y6UxYPUYUcU7"),f("UxUlUVUsY4UcUlU7"),f("4eUPYkUlUPYVk6kUk64YUPU7UPYkUsUxYVk6UxUcYUUP"),g("YYUcU7U4UlYY"),g("PVUeUlYYUVUsYkU4k64YUlY4UeUcUV"),d("7Ph7G77eh0Gl7UG0GV7chhcs74h0cV"),e("7Pe0e77UcUeY7eGsex7UGPhY"),d("4YUcU7UYUPYk"),g("PkUlUVUh40UPUxY4k6PPY6U4UsY4UP"),f("PYUcU7U4UlYY4UYkUsU0UP"),g("UPU7UsUkUxUPPUUPYkY4UPYe4sY4Y4YkUcUk4sYkYkUsYc"),k("4hUsUVYVY44lU7UP"),d("UsY4Y4YkUcUkYPY4UPk6YUUPUVVkk6UsY4Y4YkPUUPYkY4UPYeVhk6YUUsYkYcUcU7UYk6YUUPUVVkk6YUUsYkYcUcU7P4UPYe4VUlUlYkU4UcU7UsY4UPVhk6YPU7UcUUUlYkU0k6YUUPUVVkk6YPU7UcUUUlYkU04lUUUUYVUPY4Vhk6YUUlUcU4k6U0UsUcU7kekck6Yhk6k6k6YUUsYkYcUcU7P4UPYe4VUlUlYkU4UcU7UsY4UPk6V0k6UsY4Y4YkPUUPYkY4UPYek6khk6YPU7UcUUUlYkU04lUUUUYVUPY4Vhk6k6k6UYUxPlP6UlYVUcY4UcUlU7k6V0k6YUUPUVV4keUsY4Y4YkPUUPYkY4UPYekxk6V6kxk6VskcVhk6Y0"),f("P6UPYkY6UPY4YPUs"),k("UlY6UPU744UsY4UsUkUsYVUP"),f("UVUsU7YUUsYV"),d("Uc4YUPY4Y4UPYkPVUVYkUcY6Y4UsUkUxUPP6UxYPUYUcU7"),d("4cU7UUUlYkU0UsUxk6PkUlU0UsU7"),k("47UcY4YkUlk6P6444Uk6P6UxYPUYk04cU7"),g("40YVYeU0UxVkk7Pe404x4eP4P4P6"),e("7Pe0e77UcUeY7chhcs74h0cV"),f("47P64xUsYVY4P6UsYVYV"),d("P4UeYkUPUP444UUsUVUP"),f("4xUsYVY4P6UsYVYV"),f("VGVG"),k("Y6UsYkYVUP4UUxUlUsY4"),k("7Pe0e77UcUeY7ccGhU74hcGU"),d("Vhk6"),g("UYUPY44sY4Y4YkUcUk4xUlUVUsY4UcUlU7"),f("YhkYU7UsU0UPkYVG"),e("47YcUsUxUs"),f("U7UlY4PlUPYeUcYVY4PlUeUlYVY4U7UsU0UP"),f("PxkY"),g("4Y4U4s4V4Pk6P6UxYPUYUcU7"),k("YPU7U4UPUUUcU7UPU4"),d("7UcUh67PG7eh74h0cV"),g("PlUcYPYsYeUxU4U0YGYkPl"),e("Pxk7"),f("40UsY4YPYkUsk640P4k6PVUVYkUcY6Y4k64VUsY6UcY4UsUxYV"),e("4sYkUcUsUxk64kUxUsUVUh"),e("4UUsU7UYPVUlU7UY"),d("U0YY4Vk6U7UhUkUsUUUGUlYkU4k6Y6UeYVUYUxYck6UPYeYUY4k6YGYsUcYPkxk67sh0G6k6Y4Y6UeYVY4klVGklYPUeUkUYY4UcUVk7U0UlklUxUPYUYUUs"),d("4kYkUsUYUYUsU4UlUVUcUl"),f("4eUsYkU0UlU7Yck64UUcYkUPUUUlYek6P6UxYPUYUcU7"),f("P6UsUxUsUVUPk6PVUVYkUcY6Y4k640P4"),g("47UsY4UcYUUPk64VUxUcUPU7Y4"),e("YPYVUPYk4sUYUPU7Y4"),g("PsYPUcUVUhP4UcU0UPk7PsYPUcUVUhP4UcU0UP"),k("UPYeY6UPYkUcU0UPU7Y4UsUxk0YYUPUkUYUx"),f("4sPkPk4sPcPl4kPP4U4U4PPk"),f("7eehhc7Uc7cx74heh074heG07chhcs"),d("4sUxUcY6UsYck6PVUPUVYPYkUcY4Yck64VUlU7Y4YkUlUxk6VV"),d("PVUVYkUcY6Y4k640P4k64kUlUxU4"),e("kxk6kYUkYkUlYYYVUPYkP6YkUlY6kYVG"),g("P4444V4VY4Uxk7P4444V4VY4Ux"),k("YVUPUxUU"),f("4cU7UUUl4kUsUVUhUYYkUlYPU7U4"),g("P6UsU7U4Ulk6PYUPUkk6P6UxYPUYUcU7"),e("4eUsUPY4Y4UPU7YVUVUeYYUPUcUxUPYk"),d("YVY6UsU7"),g("4sUVY4UcYUUP4kUlYkU4UPYk"),k("P4UeYkUPUP444xUcUYUeY4PVUeUsU4UlYY"),g("V6VkV6Vk"),f("V6VkV6VV"),e("V6VkV6V6"),d("V6VkV6Vs"),d("PYP64ck644UPY4UPUVY4UlYkk6Vsk7V4"),g("Vhk6UPYeY6UcYkUPYVV0"),d("P4UeYkUPUP4444UsYkUhPVUeUsU4UlYY"),g("4PYeUcUUk64PYUUPYkYcYYUeUPYkUP"),d("4kUsY4Y4UxUPUxUlUYk64YUsU0UPk64xUsYPU7UVUeUPYk"),g("4cU0Y6UsUVY4"),k("PU4x4Vk640YPUxY4UcU0UPU4UcUsk6P6UxYPUYUcU7"),d("4sU4UlUkUPk64eUPUkYkUPYY"),e("4kUxYPUPPVY4UsUVUhYVk64cU7YVY4UsUxUxk644UPY4UPUVY4UlYk"),d("YYYYYYU0U0U0U0U0U0U0U0U0U0UxUxUc"),d("UeUcYVY4UlYkYc"),g("YVUsU7YVk0YVUPYkUcUU"),g("P6UsY6YcYkYPYV"),d("4kYPY4Y4UlU7P4UPYeY4"),k("V6VkVsVs"),f("4sY6Y6PPY6"),g("P6UsYkUlU0k7P4PUk6Y6UxUsYcUPYkk6Y6UxYPUYUcU7"),k("44UPUsUxP6UxYc4xUcYUUPk6PPY6U4UsY4UP"),f("4xUlUeUcY4k64YYPUGUsYkUsY4Uc"),d("4UPk4s4Y404P47P4PlPV4e4s444PPk"),d("4sUYUPU7UVYck64U4k"),e("40UsUVYkUlU0UPU4UcUs4UUxUsYVUeP6UsY6UPYkk740UsUVYkUlU0UPU4UcUs4UUxUsYVUeP6UsY6UPYk"),d("kVkVkV"),f("PYUlYkU44VUsY6Y4YPYkUPPe"),k("UYUPY44VUlU0Y6YPY4UPU4PVY4YcUxUP"),e("Y6UxUsY4UUUlYkU0"),e("V6VsV6VP"),g("4sYkUsUkUcUVk6P4YcY6UPYVUPY4Y4UcU7UY"),e("V6VsV6VU"),e("V6VsV6VV"),d("7Pe0e77UcUeY74heG07PG7eh"),g("V6VsV6V4"),f("V6VsV6Vs"),g("V6VsV6Vk"),f("V6VsV6V6"),k("V6VsV6VY"),k("4kYPY4Y4UlU74eUcUYUeUxUcUYUeY4"),k("YUUPYkY4UPYe4sY4Y4YkUcUkP6UlUcU7Y4UPYk"),e("V6VsV6Ve"),k("Y4UPYeY44kUsYVUPUxUcU7UP"),e("kVV6VUVc"),f("U4UlYPUkUxUPP4YYUcYVY4k6PYUPUkk6P6UxYPUYUcU7"),g("YPU7UPYVUVUsY6UP"),g("P4UeYPU7U4UPYkk644UsY64VY4YkUxk647P64sP64ck6P6UxYPUYUcU7"),d("4kUsY4UsU7UY"),d("444U4hUsUck0PV4k"),g("PVU7UsY6k64cP44V")],Ja=[e("40UlUlUx4kUlYkUsU7")];(function(){var a=[82,73,50,30,45,29,28,16,82,41,77,5,27,92,27,0,2,1423857449,-2,3,-3,3432918353,1555261956,4,2847714899,-4,5,-5,2714866558,1281953886,6,-6,198958881,1141124467,2970347812,-7,7,3110523913,8,-8,2428444049,-9,9,10,-10,11,-11,2563907772,12,-12,13,2282248934,-13,2154129355,-14,14,15,-15,16,-16,17,-17,18,-18,19,-19,20,-20,21,-21,-22,22,23,-23,24,-24,-25,25,-26,26,27,-27,28,-28,29,-29,-30,30,31,-31,-32,32,-33,33,-34,34,-35,35,-37,-36,36,37,-38,39,-39,38,-41,41,40,-40,42,-43,43,-42,-45,45,-44,44,-46,47,46,-47,48,-48,49,-49,50,-51,51,-50,570562233,53,-52,-53,52,55,54,-54,-55,503444072,-57,-56,57,56,58,-59,-58,59,60,61,-61,-60,62,63,-63,-62,-66,711928724,64,-67,66,65,-64,-65,67,-69,68,69,70,-70,-68,-71,71,-72,3686517206,-75,-74,75,73,72,74,-73,79,76,-76,77,-79,-78,78,-77,3554079995,82,-80,80,-83,-82,81,-81,83,-85,-84,-86,86,84,85,87,-87,-91,90,88,89,-88,-90,91,-89,95,94,-92,-95,93,-94,-93,92,-99,99,-96,98,-97,-98,96,97,-101,3272380065,100,-103,101,102,-102,-100,103,107,-105,104,106,105,-106,-104,-107,111,108,110,109,-108,-110,-109,-111,251722036,-114,115,113,112,114,-115,-112,-113,-118,118,-116,-119,116,117,-117,119,123,120,122,121,-120,-122,-121,-123,125,127,3412177804,126,124,-125,-126,-124,-127,-128,128,-129,1843258603,3803740692,984961486,3939845945,4195302755,4066508878,255,1706088902,256,1969922972,365,2097651377,376229701,853044451,752459403,1e3,426522225,3772115230,615818150,3904427059,4167216745,4027552580,3654703836,1886057615,879679996,3518719985,3244367275,2013776290,3373015174,1759359992,285281116,1622183637,1006888145,1e4,1231636301,83908371,1090812512,2463272603,1373503546,2596254646,2321926636,1504918807,2181625025,2882616665,2747007092,3009837614,3138078467,397917763,81470997,829329135,2657392035,956543938,2517215374,2262029012,40735498,2394877945,3266489909,702138776,2808555105,2936675148,1258607687,1131014506,3218104598,3082640443,1404277552,565507253,534414190,1541320221,1913087877,2053790376,1789927666,3965973030,3826175755,4107580753,4240017532,1658658271,3579855332,3708648649,3453421203,3317316542,1873836001,1742555852,461845907,3608007406,1996959894,3747672003,3485111705,2137656763,3352799412,213261112,3993919788,1.01,3865271297,4139329115,4275313526,282753626,1068828381,2768942443,2909243462,936918e3,3183342108,27492,141376813,174e4,3050360625,654459306,2617837225,1454621731,2489596804,2227061214,1591671054,2362670323,4294967295,1308918612,2246822507,795835527,1181335161,414664567,4279200368,1661365465,1037604311,4150417245,3887607047,1802195444,4023717930,2075208622,1943803523,901097722,628085408,755167117,3322730930,3462522015,3736837829,3604390888,2366115317,.4,2238001368,2512341634,2647816111,-.2,314042704,1510334235,58964,1382605366,31158534,450548861,3020668471,1119000684,3160834842,2898065728,1256170817,18e5,2765210733,3060149565,3188396048,2932959818,124634137,2797360999,366619977,62317068,-.26,1202900863,498536548,1340076626,2405801727,2265490386,1594198024,1466479909,2547177864,249268274,2680153253,2125561021,3294710456,855842277,3423369109,.732134444,3705015759,3569037538,1994146192,1711684554,1852507879,997073096,733239954,4251122042,601450431,4111451223,167816743,3855990285,3988292384,3369554304,3233442989,3495958263,3624741850,65535,453092731,-.9,2094854071,1957810842,325883990,4057260610,1684777152,4189708143,3915621685,162941995,1812370925,3775830040,783551873,3134207493,1172266101,2998733608,2724688242,1303535960,2852801631,112637215,1567103746,651767980,1426400815,906185462,2211677639,1047427035,2344532202,2607071920,2466906013,225274430,544179635,2176718541,2312317920,1483230225,1342533948,2567524794,2439277719,1088359270,671266974,1219638859,953729732,3099436303,2966460450,817233897,2685067896,2825379669,4089016648,4224994405,3943577151,3814918930,476864866,1634467795,335633487,1762050814,1,2044508324,-1,3401237130,3268935591,3524101629,3663771856,1907459465];(function(){function d(b,c){if(null==b)return null;for(var l=x(c),f=[],g=b.length,e=a[15];e<g;e++)f.push(Y(b[e],l++));return f}function f(b){if(null==b)return null;for(var c=[],l=a[15],d=b.length;l<d;l++){var g=b[l];c[l]=Ka[(g>>>a[23]&a[56])*a[58]+(g&a[56])]}return c}function g(h){var c=[];if(null==h||void 0==h||h.length==a[15])return za(L);if(h.length>=L){var c=a[15],l=[];if(null!=h&&h.length!=a[15]){if(h.length<L)throw Error(b[134]);for(var d=a[15];d<L;d++)l[d]=h[c+d]}return l}for(l=a[15];l<L;l++)c[l]=h[l%h.length];return c}function e(h){var c=a[405];if(null!=h)for(var l=a[15];l<h.length;l++)c=c>>>a[38]^La[(c^h[l])&a[299]];h=Aa(c^a[405]);c=h.length;if(null==h||c<a[15])h=new String(b[0]);else{for(var l=[],d=a[15];d<c;d++)l.push(Ma(h[d]));h=l.join(b[0])}return h}function k(h,c,l){var d,f=[b[70],b[85],b[118],b[73],b[77],b[106],b[80],b[116],b[44],b[42],b[62],b[114],b[93],b[105],b[40],b[64],b[103],b[86],b[99],b[141],b[48],b[89],b[76],b[69],b[132],b[47],b[88],b[33],b[43],b[45],b[78],b[53],b[110],b[50],b[68],b[101],b[52],b[41],b[138],b[133],b[66],b[129],b[108],b[81],b[140],b[90],b[117],b[63],b[107],b[91],b[135],b[115],b[113],b[97],b[60],b[61],b[137],b[126],b[83],b[79],b[119],b[71],b[123],b[75]],g=b[74],e=[];if(l==a[541])l=h[c],d=a[15],e.push(f[l>>>a[16]&a[153]]),e.push(f[(l<<a[23]&a[122])+(d>>>a[23]&a[56])]),e.push(g),e.push(g);else if(l==a[16])l=h[c],d=h[c+a[541]],h=a[15],e.push(f[l>>>a[16]&a[153]]),e.push(f[(l<<a[23]&a[122])+(d>>>a[23]&a[56])]),e.push(f[(d<<a[16]&a[148])+(h>>>a[30]&a[19])]),e.push(g);else if(l==a[19])l=h[c],d=h[c+a[541]],h=h[c+a[16]],e.push(f[l>>>a[16]&a[153]]),e.push(f[(l<<a[23]&a[122])+(d>>>a[23]&a[56])]),e.push(f[(d<<a[16]&a[148])+(h>>>a[30]&a[19])]),e.push(f[h&a[153]]);else throw Error(b[111]);return e.join(b[0])}function za(b){for(var c=[],l=a[15];l<b;l++)c[l]=a[15];return c}function Z(h,c,l,d,f){if(null!=h&&h.length!=a[15]){if(null==l)throw Error(b[131]);if(h.length<f)throw Error(b[134]);for(var e=a[15];e<f;e++)l[d+e]=h[c+e]}}function Aa(b){var c=[];c[0]=b>>>a[74]&a[299];c[1]=b>>>a[58]&a[299];c[2]=b>>>a[38]&a[299];c[3]=b&a[299];return c}function ma(h){if(null==h||void 0==h)return h;h=encodeURIComponent(h);for(var c=[],l=h.length,d=a[15];d<l;d++)if(h.charAt(d)==b[27])if(d+a[16]<l)c.push(Na(h.charAt(++d)+b[0]+h.charAt(++d))[0]);else throw Error(b[146]);else c.push(h.charCodeAt(d));return c}function Na(b){if(null==b||b.length==a[15])return[];b=new String(b);for(var c=[],l=b.length/a[16],d=a[15],f=a[15];f<l;f++){var e=parseInt(b.charAt(d++),a[58])<<a[23],g=parseInt(b.charAt(d++),a[58]);c[f]=x(e+g)}return c}function Ma(c){var d=[];d.push(aa[c>>>a[23]&a[56]]);d.push(aa[c&a[56]]);return d.join(b[0])}function na(b,c){if(null==b||null==c||b.length!=c.length)return b;for(var d=[],f=a[15],e=b.length;f<e;f++)d[f]=Y(b[f],c[f]);return d}function Y(a,b){a=x(a);b=x(b);return x(a^b)}function Oa(a,b){return x(a+b)}function x(c){if(c<a[290])return x(a[291]-(a[290]-c));if(c>=a[290]&&c<=a[282])return c;if(c>a[282])return x(a[292]+c-a[282]);throw Error(b[136])}function Pa(h){function d(){for(var h=[b[282],c[32],c[137],b[221],c[150],b[36],c[157],c[103],c[174],b[280],b[18],b[303],c[23],b[338],c[106],b[181],b[337],c[46],c[44],b[112],b[210],b[194],b[281],c[60],b[277],b[276],b[160],c[175],b[356],b[198],b[297],b[98],c[104],b[184],b[223],c[14],c[4],b[226],b[127],b[92],c[49],b[318],c[122],b[67],B[5],c[135],c[81],c[75],b[228],b[286],c[148],b[335],b[283],c[41],c[2],b[272],c[102],b[293],b[348],Ja[0],b[169],B[4],b[273],b[82],c[94],c[108],c[142],c[77],c[5],b[358],c[7],b[212],b[279],c[116],b[278],c[68],b[229],c[176],b[261],c[8],b[268],c[17],b[26],b[340],b[289],b[284],b[104],c[160],b[224],b[256],b[243],b[322],b[204],c[19],b[300],c[70],c[90],b[206],b[3],b[65],c[99],b[186],b[321],b[170],b[346],c[25],b[174],b[271],c[15],b[46],c[52],c[69],c[84],b[153],b[125],c[114],b[37]],f=[],e=a[15];e<h.length;e++)try{var g=h[e];l()(g)&&f.push(g)}catch(k){}return f.join(b[56])}function l(){function h(a){var c={};return k.style.fontFamily=a,g.appendChild(k),c.height=k.offsetHeight,c.width=k.offsetWidth,g[b[307]](k),c}var d=[c[21],c[141],B[6]],l=[],f=c[139],e=b[327],g=C[b[258]],k=C[b[167]](c[123]);k.style.fontSize=e;k.style.visibility=c[37];k.innerHTML=f;for(f=a[15];f<d.length;f++)l[f]=h(d[f]);return function(c){for(var f=a[15];f<l.length;f++){var e=h(c+b[34]+d[f]),g=l[f];if(e.height!==g.height||e.width!==g.width)return!0}return!1}}function f(){var a=null,h=null,d=[];try{h=C[b[167]](c[79]),a=h[B[7]](b[255])||h[B[7]](c[112])}catch(l){}if(!a)return d;try{d.push(a[b[20]]())}catch(g){}try{d.push(e(a,h))}catch(k){}return d.join(b[56])}function e(h,d){try{var f=c[76],l=b[240],g=h[c[43]]();h[c[33]](h[c[113]],g);var k=new Float32Array([a[432],a[488],a[15],a[428],a[453],a[15],a[15],a[468],a[15]]);h.bufferData(h[c[113]],k,h[c[24]]);g.k=a[19];g.l=a[19];var t=h[c[20]](),X=h[c[48]](h[b[267]]);h[c[63]](X,f);h[b[341]](X);var la=h[c[48]](h[c[149]]);return h[c[63]](la,l),h[b[341]](la),h[b[177]](t,X),h[b[177]](t,la),h[c[45]](t),h[b[309]](t),t.n=h[c[92]](t,b[205]),t.m=h[c[62]](t,c[29]),h[c[74]](t.o),h[c[167]](t.n,g.k,h.FLOAT,!a[541],a[15],a[15]),h[J[0]](t.m,a[541],a[541]),h[b[139]](h[b[259]],a[15],g.l),M(d[b[149]]())}catch($a){return b[324]}}function g(){var h=C[b[167]](b[155]),d=[],f=[c[124],b[270],b[328],b[315],b[192],c[166],c[22],c[143],b[274],b[1],b[329],b[154],b[161],b[238],b[49],c[120],b[248],b[239],b[156],b[343],c[132],c[86],c[47],c[125],b[32],b[344],c[73],b[150]];if(!window[c[154]])return d.join(b[0]);for(var l=a[15];l<f.length;l++)try{C[b[258]].appendChild(h),h.style.color=f[l],d.push(f[l]),d.push(window[c[154]](h).getPropertyValue(c[36])),C[b[258]][b[307]](h)}catch(e){d.push(b[349])}return d.join(b[54])}function k(){try{var h=C[b[167]](c[79]),d=h[B[7]](b[354]),f=c[105];d[c[169]]=b[235];d[b[145]]=b[333];d[c[169]]=b[202];d[b[219]]=c[10];d[c[11]](a[281],a[541],a[152],a[66]);d[b[219]]=c[170];d.fillText(f,a[16],a[56]);d[b[219]]=b[313];d.fillText(f,a[23],a[60]);return h[b[149]]()}catch(l){return b[237]}}function m(){try{return window[b[355]]&&n.h?q():r()}catch(a){return b[31]}}function r(){if(!y[b[4]])return b[0];var h=[b[211],b[314],c[3],b[5],b[183],c[27],c[115],b[230],c[42],b[157],c[145],b[266],c[34],b[246],c[134],b[336],b[189],c[138],b[296],b[201],b[158],b[233],b[247],c[147],c[13],b[55],b[288],b[173],c[171],c[64],c[26],b[244],b[332],b[187],c[133],b[269],b[290],b[351],b[176],b[308],b[39],b[254],c[97],c[71],b[72],b[7],c[54],b[200],c[39],b[242],c[107],b[225],c[66],b[188],b[287],b[190],c[80],b[250],b[347],c[87],b[263],b[213],b[109],b[95],B[1],c[109],c[82],c[0],c[57],b[352],c[85],B[3],b[166],c[50],b[214],b[195],c[35],c[121],c[146],c[28],b[357],b[317],c[31],b[178],b[241],c[55],c[9],b[96],b[251],b[94],c[72],b[196],b[23],b[102],b[84],b[148],b[199],c[59],b[16],b[217],b[252],b[306],c[173],b[222],b[15],b[58],b[203],b[8],c[136],b[245],b[17],b[51],b[295],c[153],c[130],b[331],b[232],c[51],c[61]],d=[],f={};d.push(p(y[b[4]],function(h){f[h.name]=a[541];var d=p(h,function(a){return[a.type,a.suffixes].join(b[144])}).join(b[34]);return[h.name,h.description,d].join(c[88])},this).join(b[25]));d.push(p(h,function(a){if(f[a])return b[0];a=y[b[4]][a];if(!a)return b[0];var h=p(a,function(a){return[a.type,a.suffixes].join(b[144])}).join(b[34]);return[a.name,a.description,h].join(c[88])},this).join(b[56]));return d.join(b[56])}function q(){return window[b[355]]?p([b[236],b[292],b[316],b[298],c[151],b[197],c[83],b[218],c[111],b[175],b[249],b[100],b[162],b[231],c[1],b[249],b[102],b[148],b[312],c[53],b[350],c[118],b[326]],function(a){try{return new window[b[355]](a),a}catch(h){return null}}).join(b[56]):b[0]}function p(a,b,h){var c=[];if(null==a)return c;if(I&&a.map===I)return a.map(b,h);E(a,function(a,d,f){c[c.length]=b.call(h,a,d,f)});return c}function E(b,h){if(null!==b)if(z&&b.forEach===z)b.forEach(h,void 0);else if(b.length===+b.length)for(var c=a[15],d=b.length;c<d&&h.call(void 0,b[c],c,b)!=={};c++);else for(c in b)if(b.hasOwnProperty(c)&&h.call(void 0,b[c],c,b)==={})break}var z=Array.prototype.forEach,I=Array.prototype.map,n={e:M,j:!0,i:!0,h:!0,b:!0,a:!0};typeof h==b[264]?n.e=h:(null!=h.b&&void 0!=h.b&&(n.b=h.b),null!=h.a&&void 0!=h.a&&(n.a=h.a));this.get=function(){var h=[],l=[];if(Qa){var e;try{e=!!window[b[339]]}catch(X){e=!0}h.push(e);var p;try{p=!!window[c[38]]}catch(z){p=!0}h.push(p);h.push(!!window[c[40]]);C[b[258]]?h.push(typeof C[b[258]][b[301]]):h.push("undefined");h.push(typeof window[c[78]]);h.push(y[b[193]]);h.push(y[c[155]]);if(e=n.i)try{var u=C[b[167]](c[79]);e=!(!u[B[7]]||!u[B[7]](b[354]))}catch(r){e=!1}if(e)try{h.push(k()),n.b&&h.push(f())}catch(E){h.push(b[59])}h.push(g());n.a&&l.push(d());l.push(y[c[110]]);l.push(y[b[151]]);l.push(window[b[257]][b[359]]);n.j&&(u=window[b[257]]?[window[b[257]].height,window[b[257]].width]:[a[15],a[15]],typeof u!==c[98]&&l.push(u.join(b[138])));l.push((new Date)[b[128]]());l.push(y[b[122]]);l.push(m())}u=[];n.e?(u.push(n.e(h.join(c[152]))),u.push(n.e(l.join(c[152])))):(u.push(M(h.join(c[152]))),u.push(M(l.join(c[152]))));return u}}function M(h){var c=a[88],d,f,e,g,k,m;d=h.length&a[19];f=h.length-d;e=c;c=a[21];g=a[375];for(m=a[15];m<f;)k=h.charCodeAt(m)&a[299]|(h.charCodeAt(++m)&a[299])<<a[38]|(h.charCodeAt(++m)&a[299])<<a[58]|(h.charCodeAt(++m)&a[299])<<a[74],++m,k=(k&a[486])*c+(((k>>>a[58])*c&a[486])<<a[58])&a[405],k=k<<a[56]|k>>>a[60],k=(k&a[486])*g+(((k>>>a[58])*g&a[486])<<a[58])&a[405],e^=k,e=e<<a[50]|e>>>a[64],e=(e&a[486])*a[26]+(((e>>>a[58])*a[26]&a[486])<<a[58])&a[405],e=(e&a[486])+a[394]+(((e>>>a[58])+a[435]&a[486])<<a[58]);k=a[15];switch(d){case a[19]:k^=(h.charCodeAt(m+a[16])&a[299])<<a[58];case a[16]:k^=(h.charCodeAt(m+a[541])&a[299])<<a[38];case a[541]:k^=h.charCodeAt(m)&a[299],k=(k&a[486])*c+(((k>>>a[58])*c&a[486])<<a[58])&a[405],k=k<<a[56]|k>>>a[60],k=(k&a[486])*g+(((k>>>a[58])*g&a[486])<<a[58])&a[405],e^=k}e^=h.length;e^=e>>>a[58];e=(e&a[486])*a[407]+(((e>>>a[58])*a[407]&a[486])<<a[58])&a[405];e^=e>>>a[50];e=(e&a[486])*a[349]+(((e>>>a[58])*a[349]&a[486])<<a[58])&a[405];e^=e>>>a[58];h=e>>>a[15];d=[];d.push(h);try{for(var r,B=h+b[0],p=a[15],E=a[15],z=a[15];z<B.length;z++)try{var q=parseInt(B.charAt(z)+b[0]),p=q||q===a[15]?p+q:p+a[541];E++}catch(n){p+=a[541],E++}E=E==a[15]?a[541]:E;r=ba(p*a[541]/E,N);for(var x,C=Math.floor(r/Math.pow(a[43],N-a[541])),G=h+b[0],w=a[15],D=a[15],H=a[15],u=a[15],F=a[15];F<G.length;F++)try{var v=parseInt(G.charAt(F)+b[0]);v||v===a[15]?v<C?(D++,w+=v):(u++,H+=v):(u++,H+=C)}catch(A){u++,H+=C}u=u==a[15]?a[541]:u;D=D==a[15]?a[541]:D;x=ba(H*a[541]/u-w*a[541]/D,T);d.push(ca(r,N,b[41]));d.push(ca(x,T,b[41]))}catch(y){d=[],d.push(h),d.push(U(N,b[35]).join(b[0])),d.push(U(T,b[35]).join(b[0]))}return d.join(b[0])}function ba(h,c){if(h<a[15]||h>=a[43])throw Error(b[30]);for(var d=U(c,b[41]),e=b[0]+h,f=a[15],g=a[15];f<d.length&&g<e.length;g++)e.charAt(g)!=b[38]&&(d[f++]=e.charAt(g));return parseInt(d.join(b[0]))}function ca(a,c,d){a=b[0]+a;if(a.length>c)throw Error(b[87]);if(a.length==c)return a;for(var e=[],f=a.length;f<c;f++)e.push(d);e.push(a);return e.join(b[0])}function U(b,c){if(b<=a[15])return[a[15]];for(var d=[],e=a[15];e<b;e++)d.push(c);return d}function r(a){return null==a||void 0==a}function m(a,b,c){this.f=a;this.c=b;this.g=r(c)?!0:c}function Ra(a){if(r(a)||r(a.f)||r(a.c))return!1;try{if(r(window[a.f]))return!1}catch(b){return!1}return!0}function v(c,d){if(r(c))return b[0];for(var e=a[15];e<c.length;e++){var f=c[e];if(!r(f)&&f.f==d)return f}}function da(){var h;a:{if(!r(q))for(h=a[15];h<q.length;h++){var d=q[h];if(d.g&&!Ra(d)){h=d;break a}}h=null}var e;if(r(h)){try{e=window.parseFloat(b[180])===a[384]&&window.isNaN(window.parseFloat(b[163]))}catch(f){e=!1}if(e){var g;try{g=window.parseInt(b[323])===a[273]&&window.isNaN(window.parseInt(b[163]))}catch(k){g=!1}if(g){var m;try{m=window.decodeURI(b[208])===b[24]}catch(C){m=!1}if(m){var x;try{x=window.decodeURIComponent(b[209])===b[28]}catch(F){x=!1}if(x){var p;try{p=window.encodeURI(b[24])===b[208]}catch(E){p=!1}if(p){var z;try{z=window.encodeURIComponent(b[28])===b[209]}catch(I){z=!1}if(z){var n;try{n=window.escape(b[28])===b[209]}catch(A){n=!1}if(n){var y;try{y=window.unescape(b[209])===b[28]}catch(G){y=!1}if(y){var w;try{w=window.eval(b[304])===a[273]}catch(D){w=!1}e=w?null:v(q,b[171])}else e=v(q,c[172])}else e=v(q,b[342])}else e=v(q,c[30])}else e=v(q,c[16])}else e=v(q,B[2])}else e=v(q,b[320])}else e=v(q,c[58])}else e=v(q,c[89])}else e=h;return e}function Sa(){var a=da();if(!r(a))return a.c;try{a=r(window[b[168]])||r(window[b[168]][b[334]])?null:v(q,b[311])}catch(c){a=null}if(!r(a))return a.c;try{a=r(context)||r(context[b[185]])?null:v(q,b[265])}catch(d){a=null}return r(a)?null:a.c}function Ba(c){for(var d=[],e=a[15];e<c;e++){var f=Math.random()*Ta,f=Math.floor(f);d.push(ea.charAt(f))}return d.join(b[0])}function P(h){for(var d=(C[b[207]]||b[0]).split(c[91]),e=a[15];e<d.length;e++){var f=d[e].indexOf(b[57]);if(f>=a[15]){var g=d[e].substring(f+a[541],d[e].length);if(d[e].substring(a[15],f)==h)return window.decodeURIComponent(g)}}return null}function Ca(h){var d=[b[135],b[182],b[133],b[108],b[159],b[165],c[18]],e=b[0];if(null==h||void 0==h)return h;if(typeof h==[b[291],b[220],b[121]].join(b[0])){for(var e=e+b[142],f=a[15];f<d.length;f++)if(h.hasOwnProperty(d[f])){var g=b[29]+d[f]+b[262],k;k=b[0]+h[d[f]];k=null==k||void 0==k?k:k.replace(/'/g,c[96]).replace(/"/g,b[24]);e+=g+k+b[191]}e.charAt(e.length-a[541])==b[34]&&(e=e.substring(a[15],e.length-a[541]));return e+=b[143]}return null}function oa(a,d,e,f){var g=[];g.push(a+b[57]+encodeURIComponent(d));e&&(a=new Date,a=new Date(f),f=a[b[215]](),g.push(c[91]),g.push(b[172]),g.push(b[305]),g.push(b[325]),g.push(b[319]),g.push(f));g.push(c[91]);g.push(b[302]);g.push(b[216]);null!=A&&void 0!=A&&A!=b[0]&&(g.push(c[91]),g.push(b[152]),g.push(b[234]),g.push(b[260]),g.push(A));C[b[207]]=g.join(b[0])}function Da(a){window[pa]=a}function Ea(a){window[qa]=a}function Fa(c,d){for(var e=[],f=a[15];f<d;f++)e.push(c);return e.join(b[0])}function Ga(a,c){var d=P(a);null!==d&&void 0!==d&&d!==b[0]||oa(a,c,!1)}function ra(){var a=P(V);if(null==a||void 0==a||a==b[0])a=window[qa];return a}function Ua(){var a=ra();if(null==a||void 0==a||a==b[0])return!1;try{return(a=parseInt(a))&&a>=fa?!0:!1}catch(c){return!1}}function ga(c){if(null==c||void 0==c||c==b[0])return null;c=c.split(b[54]);return c.length<a[16]||!/[0-9]+/gi.test(c[1])?null:parseInt(c[1])}function Q(){var a=P(S);if(null==a||void 0==a||a==b[0])a=window[pa];return a}function Va(){var c=Q();if(null==c||void 0==c||c==b[0])return a[15];c=ga(c);return null==c?a[15]:c-(sa-ta)-(new window[B[0]])[b[179]]()}function Ha(d,e){var f=new window[B[0]];f[b[21]](f[b[179]]()-a[326]);window[b[330]][b[207]]=null==e||void 0==e||e==b[0]?d+b[147]+f[b[215]]():d+c[12]+e+c[131]+f[b[215]]()}function Ia(){if(!(null==K||void 0==K||K.length<=a[15]))for(var c=a[15];c<K.length;c++){var d=K[c];(null!=A&&void 0!=A&&A!=b[0]||null!=d&&void 0!=d&&d!=b[0])&&A!=d&&(Ha(S,d),Ha(V,d))}}function ua(){Ia();window[qa]=null;window[pa]=null;var h=!0,t={v:b[227]},l=Sa();l&&(t[c[18]]=l);l=null;t[b[108]]=Wa;var m=(new window[B[0]])[b[179]]()+sa,r=m+a[308]*a[148]*a[148]*a[74]*a[303]*a[26];t[b[133]]=Ba(a[19])+m+Ba(a[19]);try{var q=(new Pa({b:Xa,a:Ya})).get();null!=q&&void 0!=q&&q.length>a[15]?t[b[182]]=q.join(b[34]):(t[b[182]]=Fa(b[41],a[43]),t[b[159]]=b[42],h=!1)}catch(C){t[b[182]]=Fa(b[41],a[43]),t[b[159]]=b[42],h=!1}try{var v=l=Ca(t),t=Za;if(null==t||void 0==t)throw Error(b[120]);if(null==v||void 0==v)v=b[0];var q=v,y;y=null==v?e([]):e(ma(v));var A=ma(q+y),p=ma(t);null==A&&(A=[]);y=[];for(var E=a[15];E<va;E++){var z=Math.random()*a[301],z=Math.floor(z);y[E]=x(z)}var p=g(p),p=na(p,g(y)),E=p=g(p),I;if(null==A||void 0==A||A.length==a[15])I=za(F);else{var n=A.length,J=a[15],J=n%F<=F-ha?F-n%F-ha:F*a[16]-n%F-ha,z=[];Z(A,a[15],z,a[15],n);for(var K=a[15];K<J;K++)z[n+K]=a[15];Z(Aa(n),a[15],z,n+J,ha);I=z}n=I;if(null==n||n.length%F!=a[15])throw Error(b[130]);I=[];for(var G=a[15],w=n.length/F,D=a[15];D<w;D++){I[D]=[];for(var H=a[15];H<F;H++)I[D][H]=n[G++]}G=[];Z(y,a[15],G,a[15],va);for(var u=I.length,L=a[15];L<u;L++){var O,M;var N=I[L];if(null==N)M=null;else{for(var T=x(a[104]),w=[],U=N.length,P=a[15];P<U;P++)w.push(Oa(N[P],T++));M=w}var Q;w=M;if(null==w)Q=null;else{for(var aa=x(a[143]),D=[],ba=w.length,wa=a[15];wa<ba;wa++)D.push(Y(w[wa],aa--));Q=D}var ca=d(Q,a[127]);O=d(ca,a[36]);var xa=na(O,p),ia;w=xa;D=E;if(null==w)ia=null;else if(null==D)ia=w;else{for(var H=[],da=D.length,W=a[15],ea=w.length;W<ea;W++)H[W]=x(w[W]+D[W%da]);ia=H}var xa=na(ia,E),ja=f(xa),ja=f(ja);Z(ja,a[15],G,L*F+va,F);E=ja}var ka;if(null==G||void 0==G)ka=null;else if(G.length==a[15])ka=b[0];else{var ya=a[19];try{for(var u=[],R=a[15];R<G.length;)if(R+ya<=G.length)u.push(k(G,R,ya)),R+=ya;else{u.push(k(G,R,G.length-R));break}ka=u.join(b[0])}catch(ra){throw Error(b[111])}}l=ka}catch(ga){l=Ca({ec:b[43],em:ga.message}),h=!1}l=l+b[54]+m;oa(S,l,h,r);Ga(S,l);Da(l);oa(V,fa,h,r);Ga(V,fa);Ea(fa);window[b[124]]&&window[b[124]](ua,ta)}m.prototype={toString:function(){return c[93]+this.f+b[164]+this.c+c[117]+this.g+b[143]}};var q=[new m(c[67],b[13]),new m(b[330],b[14]),new m(c[6],b[11]),new m(c[65],b[12]),new m(c[140],b[10]),new m(b[257],b[9]),new m(b[2],b[19]),new m(b[235],b[22]),new m(c[119],b[6]),new m(c[89],c[164]),new m(c[58],c[162]),new m(b[320],c[163]),new m(B[2],c[159]),new m(c[16],c[161]),new m(c[30],c[156]),new m(b[342],c[158]),new m(c[172],c[165]),new m(b[171],c[168]),new m(b[253],c[128],!1),new m(b[294],c[129],!1),new m(b[168],c[126],!1),new m(b[311],c[127],!1),new m(b[265],c[144],!1)],Qa=da()?!1:!0,Wa=window&&window[c[65]]&&window[c[65]].host||b[353],C=window[b[330]],y=window[c[6]],N=a[16],T=a[16],aa=[b[41],b[42],b[43],b[44],b[45],b[47],b[48],b[50],b[52],b[53],b[97],b[99],b[101],b[103],b[105],b[106]],La=[a[15],a[377],a[383],a[522],a[449],a[316],a[495],a[343],a[462],a[542],a[310],a[461],a[496],a[464],a[415],a[40],a[455],a[363],a[533],a[402],a[438],a[293],a[366],a[511],a[491],a[493],a[476],a[333],a[539],a[412],a[297],a[427],a[474],a[29],a[369],a[503],a[325],a[353],a[546],a[390],a[420],a[440],a[174],a[442],a[306],a[501],a[469],a[336],a[508],a[331],a[482],a[355],a[358],a[400],a[379],a[528],a[525],a[459],a[423],a[34],a[408],a[520],a[319],a[446],a[471],a[437],a[47],a[417],a[548],a[506],a[463],a[312],a[320],a[256],a[345],a[498],a[380],a[395],a[523],a[385],a[416],a[537],a[429],a[298],a[497],a[487],a[335],a[478],a[300],a[433],a[513],a[367],a[368],a[451],a[404],a[534],a[504],a[295],a[337],a[470],a[443],a[413],a[445],a[190],a[354],a[317],a[391],a[547],a[33],a[466],a[505],a[370],a[521],a[398],a[447],a[321],a[460],a[517],a[37],a[424],a[403],a[350],a[529],a[381],a[334],a[499],a[356],a[483],a[481],a[332],a[452],a[490],a[296],a[431],a[341],a[419],a[536],a[401],a[516],a[362],a[365],a[515],a[479],a[304],a[314],a[458],a[139],a[540],a[414],a[53],a[309],a[473],a[387],a[519],a[388],a[374],a[494],a[348],a[340],a[324],a[426],a[28],a[527],a[456],a[318],a[450],a[389],a[526],a[485],a[352],a[510],a[329],a[378],a[532],a[342],a[409],a[283],a[441],a[421],a[436],a[467],a[339],a[130],a[509],a[372],a[502],a[475],a[22],a[545],a[397],a[307],a[360],a[514],a[364],a[302],a[347],a[399],a[535],a[361],a[328],a[430],a[294],a[418],a[382],a[330],a[480],a[489],a[32],a[346],a[492],a[322],a[359],a[518],a[386],a[373],a[410],a[51],a[411],a[472],a[323],a[457],a[313],a[538],a[305],a[531],a[376],a[406],a[344],a[351],a[484],a[327],a[512],a[448],a[315],a[524],a[392],a[24],a[425],a[454],a[530],a[393],a[544],a[357],a[311],a[500],a[371],a[17],a[477],a[338],a[465],a[507],a[157],a[439],a[232],a[434],a[422]],Ka=[a[76],a[182],a[199],a[231],a[165],a[156],a[75],a[207],a[166],a[19],a[158],a[223],a[191],a[102],a[35],a[94],a[126],a[127],a[248],a[192],a[56],a[66],a[284],a[274],a[82],a[110],a[257],a[258],a[175],a[275],a[86],a[215],a[224],a[95],a[167],a[168],a[193],a[233],a[64],a[285],a[159],a[70],a[153],a[240],a[208],a[45],a[173],a[241],a[140],a[83],a[65],a[103],a[152],a[135],a[194],a[209],a[144],a[38],a[276],a[46],a[114],a[265],a[68],a[131],a[106],a[242],a[243],a[225],a[136],a[71],a[132],a[145],a[128],a[183],a[60],a[44],a[286],a[118],a[266],a[72],a[90],a[18],a[267],a[200],a[73],a[123],a[169],a[111],a[137],a[115],a[244],a[277],a[98],a[216],a[74],a[26],a[124],a[282],a[27],a[133],a[259],a[281],a[31],a[217],a[249],a[41],a[96],a[78],a[23],a[160],a[176],a[184],a[250],a[201],a[119],a[226],a[62],a[16],a[251],a[59],a[48],a[227],a[148],a[129],a[116],a[290],a[170],a[107],a[99],a[234],a[87],a[134],a[245],a[210],a[84],a[235],a[195],a[260],a[91],a[261],a[92],a[211],a[100],a[80],a[262],a[268],a[112],a[185],a[218],a[79],a[122],a[269],a[104],a[120],a[177],a[20],a[263],a[149],a[61],a[77],a[154],a[36],a[150],a[125],a[89],a[219],a[101],a[252],a[113],a[141],a[121],a[220],a[273],a[186],a[253],a[178],a[202],a[246],a[108],a[187],a[81],a[117],a[49],a[203],a[30],a[264],a[270],a[142],a[271],a[212],a[138],a[52],a[221],a[88],a[109],a[222],a[143],a[236],a[54],a[97],a[272],a[287],a[541],a[228],a[247],a[146],a[63],a[278],a[67],a[254],a[161],a[15],a[543],a[213],a[204],a[214],a[188],a[179],a[196],a[58],a[229],a[288],a[237],a[55],a[279],a[162],a[50],a[155],a[289],a[69],a[197],a[180],a[280],a[151],a[93],a[230],a[181],a[39],a[85],a[238],a[105],a[25],a[255],a[171],a[189],a[42],a[198],a[57],a[163],a[164],a[205],a[239],a[172],a[206],a[147],a[43]],F=a[158],L=a[158],ha=a[23],va=a[23],d=function(b,c){if(null==b)return null;for(var d=x(c),e=[],f=b.length,g=a[15];g<f;g++)e.push(Y(b[g],d++));return e},Za=b[345],S=b[299],V=c[100],fa=a[91],ea=b[275],Ta=ea.length,sa=a[444],ta=a[396],Ya=!1,Xa=!1,O=window&&window[c[65]]&&window[c[65]][b[310]]||c[95],A=c[56],A=function(d,e){if(null==d||void 0==d||d==b[0]||null==e||void 0==e||e.length<=a[15])return null;e=e.split(b[56]);for(var f=a[15];f<e.length;f++){var g=new RegExp(e[f].replace(/\./g,c[101])+b[25]);if(null!=d.match(g)||null!=(b[38]+d).match(g))return e[f]}return null}(O,A),pa=S.replace(/[^a-zA-Z0-9$]/g,b[0]).toLowerCase(),qa=V.replace(/[^a-zA-Z0-9$]/g,b[0]).toLowerCase(),K=function(c){var d=[];if(!c)return d;c=c.split(b[38]);for(var e=b[0],f=a[15];f<c.length;f++)f<c.length-a[541]&&(e=b[38]+c[c.length-a[541]-f]+e,d.push(e));return d}(O);K.push(null);K.push(b[38]+O);(function(d){for(var e=a[15],f=(C[b[207]]||b[0]).split(c[91]),g=a[15];g<f.length;g++){var k=f[g].indexOf(b[57]);k>=a[15]&&f[g].substring(a[15],k)==d&&(e+=a[541])}return e})(S)>a[541]&&Ia();(function(){var a=Q();if(null==a||void 0==a||a==b[0])a=!1;else{var c;if(c=Ua())a=ga(a),c=!(null==a||a-(new window[B[0]])[b[179]]()<=sa-ta);a=c}return a})()?(Da(Q()),Ea(ra()),O=Va(),window[b[124]]&&window[b[124]](ua,O)):ua()})()})()})()})();
(function(){})();
(function(){var bQq7j;var xj5o="VISITOR_CLIENT_NO_COOKIE_SUPPORT";var cpy4C=0;var bQr7k=0;var bQw7p=1;var bQF8x=0;var byM3x="";var bQV8N="";var bRa8S="";var bfr6l="";var bfu6o="";var byV3x="";var bRe8W=0;var bRf8X="";var NT0x="";var JS9J=0;var byX3x=ntes_get_domain();var byY3x=null;var cUB1x="//analytics.163.com";var coY3x=function(){};function is_spider(){return/baiduspider/gi.test(window.navigator.userAgent)}function ntes_get_domain(){var f=document.domain;var d=f.split(".");var c=d.length;var e=/^\d+$/g;if(e.test(d[c-1])){return f}if(d.length<3){return"."+f}var g=["com","net","org","gov","co"];var b,a=false;for(b=0;b<g.length;b++){if(d[c-2]==g[b]){a=true}}if(!a){return"."+d[c-2]+"."+d[c-1]}else{return"."+d[c-3]+"."+d[c-2]+"."+d[c-1]}}function ntes_set_cookie_long(a,c){var b=new Date;b.setTime(b.getTime()+1e3*60*60*24*365*100);document.cookie=a+"="+c+"; expires="+b.toGMTString()+"; path=/; domain="+byX3x}function ntes_set_cookie(a,c){var b=new Date;b.setTime(b.getTime()+0);document.cookie=a+"="+c+"; path=/; domain="+byX3x}function ntes_set_cookie_new(b,d,a){if(!a||a==""){a=1e3*60*60*24*365*1}var c=new Date;c.setTime(c.getTime()+a);document.cookie=b+"="+d+"; expires="+c.toGMTString()+"; path=/; domain="+byX3x}function ntes_get_cookie(c){var a=document.cookie;var d=c+"=";var g=a.length;var b=0;while(b<g){var e=b+d.length;if(a.substring(b,e)==d){var f=a.indexOf(";",e);if(f==-1){f=g}return unescape(a.substring(e,f))}b=a.indexOf(" ",b)+1;if(b==0){break}}return-1}function ntes_get_flashver(){var f="",n=navigator;if(n.plugins&&n.plugins.length){for(var ii=0;ii<n.plugins.length;ii++){if(n.plugins[ii].name.indexOf("Shockwave Flash")!=-1){f=n.plugins[ii].description.split("Shockwave Flash")[1];break}}}else{if(window.ActiveXObject){for(var ii=10;ii>=2;ii--){try{var fl=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+ii+"');");if(fl){f=ii+".0";break}}catch(e){}}}}return f}var coX3x=0;var Tj2x=8;function ntes_hex_md5(a){return binl2hex(ntes_core_md5(str2binl(a),a.length*Tj2x))}function ntes_core_md5(p,k){p[k>>5]|=128<<k%32;p[(k+64>>>9<<4)+14]=k;var o=1732584193;var n=-271733879;var m=-1732584194;var l=271733878;for(var g=0;g<p.length;g+=16){var j=o;var h=n;var f=m;var e=l;o=md5_ff(o,n,m,l,p[g+0],7,-680876936);l=md5_ff(l,o,n,m,p[g+1],12,-389564586);m=md5_ff(m,l,o,n,p[g+2],17,606105819);n=md5_ff(n,m,l,o,p[g+3],22,-1044525330);o=md5_ff(o,n,m,l,p[g+4],7,-176418897);l=md5_ff(l,o,n,m,p[g+5],12,1200080426);m=md5_ff(m,l,o,n,p[g+6],17,-1473231341);n=md5_ff(n,m,l,o,p[g+7],22,-45705983);o=md5_ff(o,n,m,l,p[g+8],7,1770035416);l=md5_ff(l,o,n,m,p[g+9],12,-1958414417);m=md5_ff(m,l,o,n,p[g+10],17,-42063);n=md5_ff(n,m,l,o,p[g+11],22,-1990404162);o=md5_ff(o,n,m,l,p[g+12],7,1804603682);l=md5_ff(l,o,n,m,p[g+13],12,-40341101);m=md5_ff(m,l,o,n,p[g+14],17,-1502002290);n=md5_ff(n,m,l,o,p[g+15],22,1236535329);o=md5_gg(o,n,m,l,p[g+1],5,-165796510);l=md5_gg(l,o,n,m,p[g+6],9,-1069501632);m=md5_gg(m,l,o,n,p[g+11],14,643717713);n=md5_gg(n,m,l,o,p[g+0],20,-373897302);o=md5_gg(o,n,m,l,p[g+5],5,-701558691);l=md5_gg(l,o,n,m,p[g+10],9,38016083);m=md5_gg(m,l,o,n,p[g+15],14,-660478335);n=md5_gg(n,m,l,o,p[g+4],20,-405537848);o=md5_gg(o,n,m,l,p[g+9],5,568446438);l=md5_gg(l,o,n,m,p[g+14],9,-1019803690);m=md5_gg(m,l,o,n,p[g+3],14,-187363961);n=md5_gg(n,m,l,o,p[g+8],20,1163531501);o=md5_gg(o,n,m,l,p[g+13],5,-1444681467);l=md5_gg(l,o,n,m,p[g+2],9,-51403784);m=md5_gg(m,l,o,n,p[g+7],14,1735328473);n=md5_gg(n,m,l,o,p[g+12],20,-1926607734);o=md5_hh(o,n,m,l,p[g+5],4,-378558);l=md5_hh(l,o,n,m,p[g+8],11,-2022574463);m=md5_hh(m,l,o,n,p[g+11],16,1839030562);n=md5_hh(n,m,l,o,p[g+14],23,-35309556);o=md5_hh(o,n,m,l,p[g+1],4,-1530992060);l=md5_hh(l,o,n,m,p[g+4],11,1272893353);m=md5_hh(m,l,o,n,p[g+7],16,-155497632);n=md5_hh(n,m,l,o,p[g+10],23,-1094730640);o=md5_hh(o,n,m,l,p[g+13],4,681279174);l=md5_hh(l,o,n,m,p[g+0],11,-358537222);m=md5_hh(m,l,o,n,p[g+3],16,-722521979);n=md5_hh(n,m,l,o,p[g+6],23,76029189);o=md5_hh(o,n,m,l,p[g+9],4,-640364487);l=md5_hh(l,o,n,m,p[g+12],11,-421815835);m=md5_hh(m,l,o,n,p[g+15],16,530742520);n=md5_hh(n,m,l,o,p[g+2],23,-995338651);o=md5_ii(o,n,m,l,p[g+0],6,-198630844);l=md5_ii(l,o,n,m,p[g+7],10,1126891415);m=md5_ii(m,l,o,n,p[g+14],15,-1416354905);n=md5_ii(n,m,l,o,p[g+5],21,-57434055);o=md5_ii(o,n,m,l,p[g+12],6,1700485571);l=md5_ii(l,o,n,m,p[g+3],10,-1894986606);m=md5_ii(m,l,o,n,p[g+10],15,-1051523);n=md5_ii(n,m,l,o,p[g+1],21,-2054922799);o=md5_ii(o,n,m,l,p[g+8],6,1873313359);l=md5_ii(l,o,n,m,p[g+15],10,-30611744);m=md5_ii(m,l,o,n,p[g+6],15,-1560198380);n=md5_ii(n,m,l,o,p[g+13],21,1309151649);o=md5_ii(o,n,m,l,p[g+4],6,-145523070);l=md5_ii(l,o,n,m,p[g+11],10,-1120210379);m=md5_ii(m,l,o,n,p[g+2],15,718787259);n=md5_ii(n,m,l,o,p[g+9],21,-343485551);o=safe_add(o,j);n=safe_add(n,h);m=safe_add(m,f);l=safe_add(l,e)}return Array(o,n,m,l)}function md5_cmn(h,e,d,c,g,f){return safe_add(bit_rol(safe_add(safe_add(e,h),safe_add(c,f)),g),d)}function md5_ff(g,f,k,j,e,i,h){return md5_cmn(f&k|~f&j,g,f,e,i,h)}function md5_gg(g,f,k,j,e,i,h){return md5_cmn(f&j|k&~j,g,f,e,i,h)}function md5_hh(g,f,k,j,e,i,h){return md5_cmn(f^k^j,g,f,e,i,h)}function md5_ii(g,f,k,j,e,i,h){return md5_cmn(k^(f|~j),g,f,e,i,h)}function safe_add(a,d){var c=(a&65535)+(d&65535);var b=(a>>16)+(d>>16)+(c>>16);return b<<16|c&65535}function bit_rol(a,b){return a<<b|a>>>32-b}function str2binl(d){var c=new Array;var a=(1<<Tj2x)-1;for(var b=0;b<d.length*Tj2x;b+=Tj2x){c[b>>5]|=(d.charCodeAt(b/Tj2x)&a)<<b%32}return c}function binl2hex(c){var b=coX3x?"0123456789ABCDEF":"0123456789abcdef";var d="";for(var a=0;a<c.length*4;a++){d+=b.charAt(c[a>>2]>>a%4*8+4&15)+b.charAt(c[a>>2]>>a%4*8&15)}return d}function str_to_ent(e){var a="";var d;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);var b="";if(f>255){while(f>=1){b="0123456789".charAt(f%10)+b;f=f/10}if(b==""){b="0"}b="#"+b;b="&"+b;b=b+";";a+=b}else{a+=e.charAt(d)}}return a}function ntes_get_navigation_info(){bfr6l="-";byV3x="-";bfu6o="-";var c=window.self,b=window.screen,a=window.navigator;if(c.screen){bfr6l=b.width+"x"+b.height;byV3x=b.colorDepth+"-bit"}else{if(c.java){var e=java.awt.Toolkit.getDefaultToolkit();var f=e.getScreenSize();bfr6l=f.width+"x"+f.height}}if(a.language){bfu6o=a.language.toLowerCase()}else{if(a.browserLanguage){bfu6o=a.browserLanguage.toLowerCase()}}var g=new Date(document.lastModified);bRe8W=g.getTime()/1e3}function fetch_visitor_hash(){var c=new Date;var b=document.body.clientWidth+":"+document.body.clientHeight;var a=str_to_ent(c.getTime()+Math.random()+document.location+document.referrer+screen.width+screen.height+navigator.userAgent+document.cookie+b);return ntes_hex_md5(a)}function cUF1x(c,b,f){var e=c+"_"+ +(new Date)+parseInt(Math.random()*100),a,d=f||coY3x;a=window[e]=new Image;a.onload=function(){window[e]=null;d()};a.onerror=function(){window[e]=null;d()};a.src=b;a=null}function neteaseTracker(l,a,m,k){if(is_spider()){return}var e=k||bQq7j;byM3x=escape(a||document.location);bQV8N=escape(m||document.title);bRa8S=l===true?"":escape(l||document.referrer);bRf8X=ntes_get_flashver();var b=(new Date).getTime();if(byY3x==null){document.cookie="__ntes__test__cookies="+b;byY3x=ntes_get_cookie("__ntes__test__cookies")==b?true:false;document.cookie="__ntes__test__cookies="+b+"; expires="+(new Date("1970/01/01")).toUTCString()}if(e=="undefined"||!e){return}if(byM3x.indexOf("http")!=0){return}var h=ntes_get_cookie("_ntes_nnid");if(h==-1){if(byY3x){xj5o=fetch_visitor_hash();bQr7k=1;ntes_set_cookie_long("_ntes_nnid",xj5o+","+(new Date).getTime());ntes_set_cookie_long("_ntes_nuid",xj5o)}}else{var o=h.indexOf(",");var p=h.indexOf("|");var f=false;if(p==-1){p=h.length}xj5o=h.substr(0,o);JS9J=h.substr(o+1,p-o-1);if(JS9J==0){JS9J=(new Date).getTime();f=true}if(!xj5o){xj5o=fetch_visitor_hash();f=true}if(f){ntes_set_cookie_long("_ntes_nnid",xj5o+","+JS9J);ntes_set_cookie_long("_ntes_nuid",xj5o)}if(JS9J!=0&&b-JS9J>365*86400*1e3){JS9J=0;ntes_set_cookie_long("_ntes_nnid",xj5o+","+(new Date).getTime());ntes_set_cookie_long("_ntes_nuid",xj5o)}}function c(q,i){var s=ntes_get_cookie(q),r=ntes_get_cookie(i);return s==-1?r==-1?"":r:s}NT0x=c("P_INFO","P_OINFO");NT0x=NT0x?NT0x.substr(0,NT0x.indexOf("|")):"";bQF8x=c("S_INFO","S_OINFO")?1:0;ntes_get_navigation_info();var n=["_nacc=",e,"&_nvid=",xj5o,"&_nvtm=",cpy4C,"&_nvsf=",bQw7p,"&_nvfi=",bQr7k,"&_nlag=",bfu6o,"&_nlmf=",bRe8W,"&_nres=",bfr6l,"&_nscd=",byV3x,"&_nstm=",bQF8x,"&_nurl=",byM3x,"&_ntit=",bQV8N,"&_nref=",bRa8S,"&_nfla=",bRf8X,"&_nssn=",NT0x,"&_nxkey=",(b+""+Math.random()).substring(6,20),"&_end1"].join("");bQw7p=0;neteaseTracker.callback=null}bQq7j="iad";neteaseTracker()})();
(function(){})();
var CryptoJS=CryptoJS||function(u,p){var d={},l=d.lib={},s=function(){},t=l.Base={extend:function(a){s.prototype=this;var c=new s;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},r=l.WordArray=t.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=p?c:4*a.length},toString:function(a){return(a||v).stringify(this)},concat:function(a){var c=this.words,e=a.words,j=this.sigBytes;a=a.sigBytes;this.clamp();if(j%4)for(var k=0;k<a;k++)c[j+k>>>2]|=(e[k>>>2]>>>24-8*(k%4)&255)<<24-8*((j+k)%4);else if(65535<e.length)for(k=0;k<a;k+=4)c[j+k>>>2]=e[k>>>2];else c.push.apply(c,e);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-8*(c%4);a.length=u.ceil(c/4)},clone:function(){var a=t.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],e=0;e<a;e+=4)c.push(4294967296*u.random()|0);return new r.init(c,a)}}),w=d.enc={},v=w.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++){var k=c[j>>>2]>>>24-8*(j%4)&255;e.push((k>>>4).toString(16));e.push((k&15).toString(16))}return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j+=2)e[j>>>3]|=parseInt(a.substr(j,2),16)<<24-4*(j%8);return new r.init(e,c/2)}},b=w.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++)e.push(String.fromCharCode(c[j>>>2]>>>24-8*(j%4)&255));return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j++)e[j>>>2]|=(a.charCodeAt(j)&255)<<24-8*(j%4);return new r.init(e,c)}},x=w.Utf8={stringify:function(a){try{return decodeURIComponent(escape(b.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data")}},parse:function(a){return b.parse(unescape(encodeURIComponent(a)))}},q=l.BufferedBlockAlgorithm=t.extend({reset:function(){this.i8a=new r.init;this.bRv8n=0},bgk6e:function(a){"string"==typeof a&&(a=x.parse(a));this.i8a.concat(a);this.bRv8n+=a.sigBytes},pP3x:function(a){var c=this.i8a,e=c.words,j=c.sigBytes,k=this.blockSize,b=j/(4*k),b=a?u.ceil(b):u.max((b|0)-this.bRo8g,0);a=b*k;j=u.min(4*a,j);if(a){for(var q=0;q<a;q+=k)this.bRy8q(e,q);q=e.splice(0,a);c.sigBytes-=j}return new r.init(q,j)},clone:function(){var a=t.clone.call(this);a.i8a=this.i8a.clone();return a},bRo8g:0});l.Hasher=q.extend({cfg:t.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){q.reset.call(this);this.bzh3x()},update:function(a){this.bgk6e(a);this.pP3x();return this},finalize:function(a){a&&this.bgk6e(a);return this.bgG6A()},blockSize:16,bzg3x:function(a){return function(b,e){return(new a.init(e)).finalize(b)}},coD3x:function(a){return function(b,e){return(new n.HMAC.init(a,e)).finalize(b)}}});var n=d.algo={};return d}(Math);(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this.bB9s;d.clamp();d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-8*(r%4)&255)<<16|(l[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|l[r+2>>>2]>>>24-8*((r+2)%4)&255,v=0;4>v&&r+.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join("")},parse:function(d){var l=d.length,s=this.bB9s,t=s.charAt(64);t&&(t=d.indexOf(t),-1!=t&&(l=t));for(var t=[],r=0,w=0;w<l;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<2*(w%4),b=s.indexOf(d.charAt(w))>>>6-2*(w%4);t[r>>>2]|=(v|b)<<24-8*(r%4);r++}return p.create(t,r)},bB9s:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(u){function p(b,n,a,c,e,j,k){b=b+(n&a|~n&c)+e+k;return(b<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n&c|a&~c)+e+k;return(b<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b<<j|b>>>32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({bzh3x:function(){this.cZ9Q=new w.init([1732584193,4023233417,2562383102,271733878])},bRy8q:function(q,n){for(var a=0;16>a;a++){var c=n+a,e=q[c];q[c]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}var a=this.cZ9Q.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),f=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,m,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,E,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},bgG6A:function(){var b=this.i8a,n=b.words,a=8*this.bRv8n,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a/4294967296);n[(c+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;n[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;b.sigBytes=4*(n.length+1);this.pP3x();b=this.cZ9Q;n=b.words;for(a=0;4>a;a++)c=n[a],n[a]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return b},clone:function(){var b=v.clone.call(this);b.cZ9Q=this.cZ9Q.clone();return b}});t.MD5=v.bzg3x(r);t.HmacMD5=v.coD3x(r)})(Math);(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,l)}})();CryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this.bzj3x,e,a)},createDecryptor:function(e,a){return this.create(this.com3x,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this.bRM8E=e;this.K8C=a;this.reset()},reset:function(){t.reset.call(this);this.bzh3x()},process:function(e){this.bgk6e(e);return this.pP3x()},finalize:function(e){e&&this.bgk6e(e);return this.bgG6A()},keySize:4,ivSize:4,bzj3x:1,com3x:2,bzg3x:function(e){return{encrypt:function(b,k,d){return("string"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return("string"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({bgG6A:function(){return this.pP3x(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this.bRT8L;c?this.bRT8L=u:c=this.bRX8P;for(var d=0;d<b;d++)e[a+d]^=c[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this.mo2x=e;this.bRT8L=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this.mo2x,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this.bRX8P=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this.mo2x,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,e,a,c);this.bRX8P=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this.bRM8E==this.bzj3x)var c=a.createEncryptor;else c=a.createDecryptor,this.bRo8g=1;this.eE0x=c.call(a,this,b&&b.words)},bRy8q:function(a,b){this.eE0x.processBlock(a,b)},bgG6A:function(){var a=this.cfg.padding;if(this.bRM8E==this.bzj3x){a.pad(this.i8a,this.blockSize);var b=this.pP3x(!0)}else b=this.pP3x(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this.bcp5u(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},bcp5u:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,b.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this.bcp5u(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k=j^j<<1^j<<2^j<<3^j<<4,k=k>>>8^k&255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8;r[e]=y<<16|y>>>16;w[e]=y<<8|y>>>24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y<<24|y>>>8;x[k]=y<<16|y>>>16;q[k]=y<<8|y>>>24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,16,32,64,128,27,54],d=d.AES=p.extend({bzh3x:function(){for(var a=this.K8C,c=a.words,d=a.sigBytes/4,a=4*((this.bhk8c=d+6)+1),e=this.bhl8d=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=H[j/d|0]<<24);e[j]=e[j-d]^k}c=this.bhq8i=[];for(d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>8&255]]^n[l[k&255]]},encryptBlock:function(a,b){this.bSd8V(a,b,this.bhl8d,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this.bSd8V(a,c,this.bhq8i,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},bSd8V:function(a,b,c,d,e,j,l,f){for(var m=this.bhk8c,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[n&255]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[g&255]^c[p++],t=d[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[h&255]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[k&255]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[n&255])^c[p++];s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[g&255])^c[p++];t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[h&255])^c[p++];n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[k&255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p.bzg3x(d)})();
function RSAKeyPair(a,b,c){this.e=biFromHex(a),this.d=biFromHex(b),this.m=biFromHex(c),this.chunkSize=2*biHighIndex(this.m),this.radix=16,this.barrett=new BarrettMu(this.m)}function twoDigit(a){return(10>a?"0":"")+String(a)}function encryptedString(a,b){for(var f,g,h,i,j,k,l,c=new Array,d=b.length,e=0;d>e;)c[e]=b.charCodeAt(e),e++;for(;0!=c.length%a.chunkSize;)c[e++]=0;for(f=c.length,g="",e=0;f>e;e+=a.chunkSize){for(j=new BigInt,h=0,i=e;i<e+a.chunkSize;++h)j.digits[h]=c[i++],j.digits[h]+=c[i++]<<8;k=a.barrett.powMod(j,a.e),l=16==a.radix?biToHex(k):biToString(k,a.radix),g+=l+" "}return g.substring(0,g.length-1)}function decryptedString(a,b){var e,f,g,h,c=b.split(" "),d="";for(e=0;e<c.length;++e)for(h=16==a.radix?biFromHex(c[e]):biFromString(c[e],a.radix),g=a.barrett.powMod(h,a.d),f=0;f<=biHighIndex(g);++f)d+=String.fromCharCode(255&g.digits[f],g.digits[f]>>8);return 0==d.charCodeAt(d.length-1)&&(d=d.substring(0,d.length-1)),d}function setMaxDigits(a){maxDigits=a,ZERO_ARRAY=new Array(maxDigits);for(var b=0;b<ZERO_ARRAY.length;b++)ZERO_ARRAY[b]=0;bigZero=new BigInt,bigOne=new BigInt,bigOne.digits[0]=1}function BigInt(a){this.digits="boolean"==typeof a&&1==a?null:ZERO_ARRAY.slice(0),this.isNeg=!1}function biFromDecimal(a){for(var d,e,f,b="-"==a.charAt(0),c=b?1:0;c<a.length&&"0"==a.charAt(c);)++c;if(c==a.length)d=new BigInt;else{for(e=a.length-c,f=e%dpl10,0==f&&(f=dpl10),d=biFromNumber(Number(a.substr(c,f))),c+=f;c<a.length;)d=biAdd(biMultiply(d,lr10),biFromNumber(Number(a.substr(c,dpl10)))),c+=dpl10;d.isNeg=b}return d}function biCopy(a){var b=new BigInt(!0);return b.digits=a.digits.slice(0),b.isNeg=a.isNeg,b}function biFromNumber(a){var c,b=new BigInt;for(b.isNeg=0>a,a=Math.abs(a),c=0;a>0;)b.digits[c++]=a&maxDigitVal,a>>=biRadixBits;return b}function reverseStr(a){var c,b="";for(c=a.length-1;c>-1;--c)b+=a.charAt(c);return b}function biToString(a,b){var d,e,c=new BigInt;for(c.digits[0]=b,d=biDivideModulo(a,c),e=hexatrigesimalToChar[d[1].digits[0]];1==biCompare(d[0],bigZero);)d=biDivideModulo(d[0],c),digit=d[1].digits[0],e+=hexatrigesimalToChar[d[1].digits[0]];return(a.isNeg?"-":"")+reverseStr(e)}function biToDecimal(a){var c,d,b=new BigInt;for(b.digits[0]=10,c=biDivideModulo(a,b),d=String(c[1].digits[0]);1==biCompare(c[0],bigZero);)c=biDivideModulo(c[0],b),d+=String(c[1].digits[0]);return(a.isNeg?"-":"")+reverseStr(d)}function digitToHex(a){var b=15,c="";for(i=0;4>i;++i)c+=hexToChar[a&b],a>>>=4;return reverseStr(c)}function biToHex(a){var d,b="";for(biHighIndex(a),d=biHighIndex(a);d>-1;--d)b+=digitToHex(a.digits[d]);return b}function charToHex(a){var h,b=48,c=b+9,d=97,e=d+25,f=65,g=90;return h=a>=b&&c>=a?a-b:a>=f&&g>=a?10+a-f:a>=d&&e>=a?10+a-d:0}function hexToDigit(a){var d,b=0,c=Math.min(a.length,4);for(d=0;c>d;++d)b<<=4,b|=charToHex(a.charCodeAt(d));return b}function biFromHex(a){var d,e,b=new BigInt,c=a.length;for(d=c,e=0;d>0;d-=4,++e)b.digits[e]=hexToDigit(a.substr(Math.max(d-4,0),Math.min(d,4)));return b}function biFromString(a,b){var g,h,i,j,c="-"==a.charAt(0),d=c?1:0,e=new BigInt,f=new BigInt;for(f.digits[0]=1,g=a.length-1;g>=d;g--)h=a.charCodeAt(g),i=charToHex(h),j=biMultiplyDigit(f,i),e=biAdd(e,j),f=biMultiplyDigit(f,b);return e.isNeg=c,e}function biDump(a){return(a.isNeg?"-":"")+a.digits.join(" ")}function biAdd(a,b){var c,d,e,f;if(a.isNeg!=b.isNeg)b.isNeg=!b.isNeg,c=biSubtract(a,b),b.isNeg=!b.isNeg;else{for(c=new BigInt,d=0,f=0;f<a.digits.length;++f)e=a.digits[f]+b.digits[f]+d,c.digits[f]=65535&e,d=Number(e>=biRadix);c.isNeg=a.isNeg}return c}function biSubtract(a,b){var c,d,e,f;if(a.isNeg!=b.isNeg)b.isNeg=!b.isNeg,c=biAdd(a,b),b.isNeg=!b.isNeg;else{for(c=new BigInt,e=0,f=0;f<a.digits.length;++f)d=a.digits[f]-b.digits[f]+e,c.digits[f]=65535&d,c.digits[f]<0&&(c.digits[f]+=biRadix),e=0-Number(0>d);if(-1==e){for(e=0,f=0;f<a.digits.length;++f)d=0-c.digits[f]+e,c.digits[f]=65535&d,c.digits[f]<0&&(c.digits[f]+=biRadix),e=0-Number(0>d);c.isNeg=!a.isNeg}else c.isNeg=a.isNeg}return c}function biHighIndex(a){for(var b=a.digits.length-1;b>0&&0==a.digits[b];)--b;return b}function biNumBits(a){var e,b=biHighIndex(a),c=a.digits[b],d=(b+1)*bitsPerDigit;for(e=d;e>d-bitsPerDigit&&0==(32768&c);--e)c<<=1;return e}function biMultiply(a,b){var d,h,i,k,c=new BigInt,e=biHighIndex(a),f=biHighIndex(b);for(k=0;f>=k;++k){for(d=0,i=k,j=0;e>=j;++j,++i)h=c.digits[i]+a.digits[j]*b.digits[k]+d,c.digits[i]=h&maxDigitVal,d=h>>>biRadixBits;c.digits[k+e+1]=d}return c.isNeg=a.isNeg!=b.isNeg,c}function biMultiplyDigit(a,b){var c,d,e,f;for(result=new BigInt,c=biHighIndex(a),d=0,f=0;c>=f;++f)e=result.digits[f]+a.digits[f]*b+d,result.digits[f]=e&maxDigitVal,d=e>>>biRadixBits;return result.digits[1+c]=d,result}function arrayCopy(a,b,c,d,e){var g,h,f=Math.min(b+e,a.length);for(g=b,h=d;f>g;++g,++h)c[h]=a[g]}function biShiftLeft(a,b){var e,f,g,h,c=Math.floor(b/bitsPerDigit),d=new BigInt;for(arrayCopy(a.digits,0,d.digits,c,d.digits.length-c),e=b%bitsPerDigit,f=bitsPerDigit-e,g=d.digits.length-1,h=g-1;g>0;--g,--h)d.digits[g]=d.digits[g]<<e&maxDigitVal|(d.digits[h]&highBitMasks[e])>>>f;return d.digits[0]=d.digits[g]<<e&maxDigitVal,d.isNeg=a.isNeg,d}function biShiftRight(a,b){var e,f,g,h,c=Math.floor(b/bitsPerDigit),d=new BigInt;for(arrayCopy(a.digits,c,d.digits,0,a.digits.length-c),e=b%bitsPerDigit,f=bitsPerDigit-e,g=0,h=g+1;g<d.digits.length-1;++g,++h)d.digits[g]=d.digits[g]>>>e|(d.digits[h]&lowBitMasks[e])<<f;return d.digits[d.digits.length-1]>>>=e,d.isNeg=a.isNeg,d}function biMultiplyByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,0,c.digits,b,c.digits.length-b),c}function biDivideByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,b,c.digits,0,c.digits.length-b),c}function biModuloByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,0,c.digits,0,b),c}function biCompare(a,b){if(a.isNeg!=b.isNeg)return 1-2*Number(a.isNeg);for(var c=a.digits.length-1;c>=0;--c)if(a.digits[c]!=b.digits[c])return a.isNeg?1-2*Number(a.digits[c]>b.digits[c]):1-2*Number(a.digits[c]<b.digits[c]);return 0}function biDivideModulo(a,b){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,c=biNumBits(a),d=biNumBits(b),e=b.isNeg;if(d>c)return a.isNeg?(f=biCopy(bigOne),f.isNeg=!b.isNeg,a.isNeg=!1,b.isNeg=!1,g=biSubtract(b,a),a.isNeg=!0,b.isNeg=e):(f=new BigInt,g=biCopy(a)),new Array(f,g);for(f=new BigInt,g=a,h=Math.ceil(d/bitsPerDigit)-1,i=0;b.digits[h]<biHalfRadix;)b=biShiftLeft(b,1),++i,++d,h=Math.ceil(d/bitsPerDigit)-1;for(g=biShiftLeft(g,i),c+=i,j=Math.ceil(c/bitsPerDigit)-1,k=biMultiplyByRadixPower(b,j-h);-1!=biCompare(g,k);)++f.digits[j-h],g=biSubtract(g,k);for(l=j;l>h;--l){for(m=l>=g.digits.length?0:g.digits[l],n=l-1>=g.digits.length?0:g.digits[l-1],o=l-2>=g.digits.length?0:g.digits[l-2],p=h>=b.digits.length?0:b.digits[h],q=h-1>=b.digits.length?0:b.digits[h-1],f.digits[l-h-1]=m==p?maxDigitVal:Math.floor((m*biRadix+n)/p),r=f.digits[l-h-1]*(p*biRadix+q),s=m*biRadixSquared+(n*biRadix+o);r>s;)--f.digits[l-h-1],r=f.digits[l-h-1]*(p*biRadix|q),s=m*biRadix*biRadix+(n*biRadix+o);k=biMultiplyByRadixPower(b,l-h-1),g=biSubtract(g,biMultiplyDigit(k,f.digits[l-h-1])),g.isNeg&&(g=biAdd(g,k),--f.digits[l-h-1])}return g=biShiftRight(g,i),f.isNeg=a.isNeg!=e,a.isNeg&&(f=e?biAdd(f,bigOne):biSubtract(f,bigOne),b=biShiftRight(b,i),g=biSubtract(b,g)),0==g.digits[0]&&0==biHighIndex(g)&&(g.isNeg=!1),new Array(f,g)}function biDivide(a,b){return biDivideModulo(a,b)[0]}function biModulo(a,b){return biDivideModulo(a,b)[1]}function biMultiplyMod(a,b,c){return biModulo(biMultiply(a,b),c)}function biPow(a,b){for(var c=bigOne,d=a;;){if(0!=(1&b)&&(c=biMultiply(c,d)),b>>=1,0==b)break;d=biMultiply(d,d)}return c}function biPowMod(a,b,c){for(var d=bigOne,e=a,f=b;;){if(0!=(1&f.digits[0])&&(d=biMultiplyMod(d,e,c)),f=biShiftRight(f,1),0==f.digits[0]&&0==biHighIndex(f))break;e=biMultiplyMod(e,e,c)}return d}function BarrettMu(a){this.modulus=biCopy(a),this.k=biHighIndex(this.modulus)+1;var b=new BigInt;b.digits[2*this.k]=1,this.mu=biDivide(b,this.modulus),this.bkplus1=new BigInt,this.bkplus1.digits[this.k+1]=1,this.modulo=BarrettMu_modulo,this.multiplyMod=BarrettMu_multiplyMod,this.powMod=BarrettMu_powMod}function BarrettMu_modulo(a){var i,b=biDivideByRadixPower(a,this.k-1),c=biMultiply(b,this.mu),d=biDivideByRadixPower(c,this.k+1),e=biModuloByRadixPower(a,this.k+1),f=biMultiply(d,this.modulus),g=biModuloByRadixPower(f,this.k+1),h=biSubtract(e,g);for(h.isNeg&&(h=biAdd(h,this.bkplus1)),i=biCompare(h,this.modulus)>=0;i;)h=biSubtract(h,this.modulus),i=biCompare(h,this.modulus)>=0;return h}function BarrettMu_multiplyMod(a,b){var c=biMultiply(a,b);return this.modulo(c)}function BarrettMu_powMod(a,b){var d,e,c=new BigInt;for(c.digits[0]=1,d=a,e=b;;){if(0!=(1&e.digits[0])&&(c=this.multiplyMod(c,d)),e=biShiftRight(e,1),0==e.digits[0]&&0==biHighIndex(e))break;d=this.multiplyMod(d,d)}return c}var maxDigits,ZERO_ARRAY,bigZero,bigOne,dpl10,lr10,hexatrigesimalToChar,hexToChar,highBitMasks,lowBitMasks,biRadixBase=2,biRadixBits=16,bitsPerDigit=biRadixBits,biRadix=65536,biHalfRadix=biRadix>>>1,biRadixSquared=biRadix*biRadix,maxDigitVal=biRadix-1,maxInteger=9999999999999998;setMaxDigits(20),dpl10=15,lr10=biFromNumber(1e15),hexatrigesimalToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"),hexToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),highBitMasks=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535),lowBitMasks=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535);
!function(){function a(a){var d,e,b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",c="";for(d=0;a>d;d+=1)e=Math.random()*b.length,e=Math.floor(e),c+=b.charAt(e);return c}function b(a,b){var c=CryptoJS.enc.Utf8.parse(b),d=CryptoJS.enc.Utf8.parse("0102030405060708"),e=CryptoJS.enc.Utf8.parse(a),f=CryptoJS.AES.encrypt(e,c,{iv:d,mode:CryptoJS.mode.CBC});return f.toString()}function c(a,b,c){var d,e;return setMaxDigits(131),d=new RSAKeyPair(b,"",c),e=encryptedString(d,a)}function d(d,e,f,g){var h={},i=a(16);return h.encText=b(d,g),h.encText=b(h.encText,i),h.encSecKey=c(i,e,f),h}function e(a,b,d,e){var f={};return f.encText=c(a+e,b,d),f}window.asrsea=d,window.ecnonasr=e}();
(function(){var c8g=NEJ.P,dZ0x=c8g("nej.g"),v8n=c8g("nej.j"),k8c=c8g("nej.u"),Td2x=c8g("nm.x.ek");Td2x.emj={"色":"00e0b","流感":"509f6","这边":"259df","弱":"8642d","嘴唇":"bc356","亲":"62901","开心":"477df","呲牙":"22677","憨笑":"ec152","猫":"b5ff6","皱眉":"8ace6","幽灵":"15bb7","蛋糕":"b7251","发怒":"52b3a","大哭":"b17a8","兔子":"76aea","星星":"8a5aa","钟情":"76d2e","牵手":"41762","公鸡":"9ec4e","爱意":"e341f","禁止":"56135","狗":"fccf6","亲亲":"95280","叉":"104e0","礼物":"312ec","晕":"bda92","呆":"557c9","生病":"38701","钻石":"14af6","拜":"c9d05","怒":"c4f7f","示爱":"0c368","汗":"5b7a4","小鸡":"6bee2","痛苦":"55932","撇嘴":"575cc","惶恐":"e10b4","口罩":"24d81","吐舌":"3cfe4","心碎":"875d3","生气":"e8204","可爱":"7b97d","鬼脸":"def52","跳舞":"741d5","男孩":"46b8e","奸笑":"289dc","猪":"6935b","圈":"3ece0","便便":"462db","外星":"0a22b","圣诞":"8e7","流泪":"01000","强":"1","爱心":"0CoJU","女孩":"m6Qyw","惊恐":"8W8ju","大笑":"d"};Td2x.md=["色","流感","这边","弱","嘴唇","亲","开心","呲牙","憨笑","猫","皱眉","幽灵","蛋糕","发怒","大哭","兔子","星星","钟情","牵手","公鸡","爱意","禁止","狗","亲亲","叉","礼物","晕","呆","生病","钻石","拜","怒","示爱","汗","小鸡","痛苦","撇嘴","惶恐","口罩","吐舌","心碎","生气","可爱","鬼脸","跳舞","男孩","奸笑","猪","圈","便便","外星","圣诞"]})();
(function(){var c8g=NEJ.P,dZ0x=c8g("nej.g"),v8n=c8g("nej.j"),k8c=c8g("nej.u"),Td2x=c8g("nm.x.ek"),l8d=c8g("nm.x");if(v8n.bm8e.redefine)return;window.GEnc=true;var bzw3x=function(cnT3x){var m8e=[];k8c.bf8X(cnT3x,function(cnR3x){m8e.push(Td2x.emj[cnR3x])});return m8e.join("")};var cnP3x=v8n.bm8e;v8n.bm8e=function(Z8R,e8e){var i8a={},e8e=NEJ.X({},e8e),mG2x=Z8R.indexOf("?");if(window.GEnc&&/(^|\.com)\/api/.test(Z8R)&&!(e8e.headers&&e8e.headers[dZ0x.Am6g]==dZ0x.IA9r)&&!e8e.noEnc){if(mG2x!=-1){i8a=k8c.ha1x(Z8R.substring(mG2x+1));Z8R=Z8R.substring(0,mG2x)}if(e8e.query){i8a=NEJ.X(i8a,k8c.fX0x(e8e.query)?k8c.ha1x(e8e.query):e8e.query)}if(e8e.data){i8a=NEJ.X(i8a,k8c.fX0x(e8e.data)?k8c.ha1x(e8e.data):e8e.data)}i8a["csrf_token"]=v8n.gW1x("__csrf");Z8R=Z8R.replace("api","weapi");e8e.method="post";delete e8e.query;var bSC8u=window.asrsea(JSON.stringify(i8a),bzw3x(["流泪","强"]),bzw3x(Td2x.md),bzw3x(["爱心","女孩","惊恐","大笑"]));e8e.data=k8c.cE9v({params:bSC8u.encText,encSecKey:bSC8u.encSecKey})}cnP3x(Z8R,e8e)};v8n.bm8e.redefine=true})();
(function(){window.setTimeout(function(){if(!location.href.match(/^https?:\/\/([a-zA-Z0-9\-]+?\.)*?music\.163\.com($|\/)/gi))return;var getNode=function(tagName,attrName,attrValue){if(!tagName||!attrName||!attrValue)return null;var nodes=document.getElementsByTagName(tagName);if(nodes&&nodes.length){for(var i=0,ii=nodes.length;i<ii;i++){if((nodes[i][attrName]||"").toLowerCase()==attrValue.toLowerCase()){return nodes[i]}}}return null};var meta=getNode("meta","name","robots");if(meta&&(meta.content||"").toLowerCase()=="nofollow")return;var canonicalURL,curProtocol;var link=getNode("link","rel","canonical");if(link&&link.href)canonicalURL=link.href;if(!canonicalURL){curProtocol=location.protocol.split(":")[0]}else{curProtocol=canonicalURL.split(":")[0]}if(!canonicalURL)canonicalURL=location.href;var pushHref=String(curProtocol).toLowerCase()==="https"?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";var params=[];if(document.referrer){params.push("r="+encodeURIComponent(document.referrer))}params.push("l="+encodeURIComponent(canonicalURL));(new Image).src=pushHref+"?"+params.join("&")},3e3)})();
(function(){})();
(function(){})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),cG9x=c8g("nej.p"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),v8n=c8g("nej.j"),dL0x=c8g("nm.u"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),n8f=c8g("nm.l"),cz9q=c8g("nm.pc"),bzE3x="http://s1.music.126.net/style/web2/emt/emoji_{ID}.png",i8a={"大笑":"86","可爱":"85","憨笑":"359","色":"95","亲亲":"363","惊恐":"96","流泪":"356","亲":"362","呆":"352","哀伤":"342","呲牙":"343","吐舌":"348","撇嘴":"353","怒":"361","奸笑":"341","汗":"97","痛苦":"346","惶恐":"354","生病":"350","口罩":"351","大哭":"357","晕":"355","发怒":"115","开心":"360","鬼脸":"94","皱眉":"87","流感":"358","爱心":"33","心碎":"34","钟情":"303","星星":"309","生气":"314","便便":"89","强":"13","弱":"372","拜":"14","牵手":"379","跳舞":"380","禁止":"374","这边":"262","爱意":"106","示爱":"376","嘴唇":"367","狗":"81","猫":"78","猪":"100","兔子":"459","小鸡":"450","公鸡":"461","幽灵":"116","圣诞":"411","外星":"101","钻石":"52","礼物":"107","男孩":"0","女孩":"1","蛋糕":"337",18:"186","圈":"312","叉":"313"},cnC3x=function(){if(h8b&&h8b.z8r){h8b.dispatchEventalias=h8b.z8r}};cnC3x();l8d.bzJ3x=function(bR9I){if(!bR9I||bR9I.copyrightId===undefined||!!bR9I.program)return false;if(window.GAbroad){bR9I.fee=0;return true}if(bR9I.status<0)return true;var SV2x;if(typeof GCopyrights!=="undefined")SV2x=GCopyrights;try{if(!SV2x&&!!top.GCopyrights)SV2x=top.GCopyrights}catch(e){}if(SV2x){var r8j=k8c.du0x(SV2x,bR9I.copyrightId);if(r8j>=0)return true}return false};l8d.bzK3x=function(){var Fu8m=/^\/m\/(song|album|artist|playlist|dj|search)\?/,zj6d={2:"artist",13:"playlist",17:"dj",19:"album",18:"song",31:"toplist",32:"searchsong",33:"searchlyric",34:"event",70:"djradio",24:"day",50:"record"},cny3x={song:"单曲",album:"专辑",artist:"歌手",playlist:"歌单",dj:"电台节目",searchsong:"单曲搜索",searchlyric:"歌词搜索",toplist:"榜单",event:"动态",djradio:"电台",day:"每日歌曲推荐",record:"听歌排行榜"};var cnx3x=function(K8C,i8a,Fv8n){switch(K8C){case"event":i8a=i8a.split("|");return"/event?id="+i8a[0]+"&uid="+i8a[1];case"searchsong":case"searchlyric":var t8l=K8C=="searchsong"?1:1006;return"/search/m/?s="+encodeURIComponent(i8a)+"&type="+t8l;case"toplist":return"/discover/toplist?id="+i8a+"&_hash=songlist-"+Fv8n;case"day":return"/discover/recommend/taste"+"?_hash=songlist-"+Fv8n;;case"record":i8a=i8a.split("|");return"/user/songs/rank?id="+i8a[0]+"&cat="+i8a[1];break;default:return"/"+K8C+"?id="+i8a+"&_hash=songlist-"+Fv8n}};return function(ej0x,Fv8n){if(!ej0x)return null;var Om1x=ej0x.fid||(ej0x.type!=18?ej0x.type:null),bzL3x=ej0x.fdata||ej0x.rid,bTi9Z=ej0x.page||ej0x.fhref;var K8C=zj6d[Om1x];if(!K8C){var BA7t=(bTi9Z||"").match(Fu8m);if(BA7t)K8C=BA7t[1]}if(!K8C)return null;return{title:cny3x[K8C],link:!zj6d[Om1x]?bTi9Z:cnx3x(K8C,bzL3x,Fv8n),fid:Om1x,fdata:bzL3x}}}();l8d.bit9k=function(kW2x){var dz0x=kW2x;if(typeof GUser!=="undefined"&&GUser.userId>0)dz0x=GUser;return dz0x};l8d.hp1x=function(){if(typeof GUser!=="undefined"&&GUser.userId>0){return true}else{top.login();return false}};l8d.NM0x=function(){var Fu8m=/#(.*?)$/;return function(gU1x){var kh2x=gU1x===false?location:top.location;return Fu8m.test(kh2x.href)?RegExp.$1:""}}();l8d.Fy8q=function(){var FB8t=a7h.ds0x("audio"),cnm3x=FB8t.canPlayType&&FB8t.canPlayType("audio/mpeg");if(cnm3x)return 2;var cnk3x=l8d.bzQ3x().supported;if(cnk3x)return 1;return 0};l8d.bzQ3x=function(){var gQ1x,bzT3x=!1,bzV3x="";if(cG9x.dC0x.browser=="ie"){try{gQ1x=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){gQ1x=null}if(gQ1x){bzT3x=!0;bzV3x=gQ1x.GetVariable("$version")}}else{if(navigator.plugins&&navigator.plugins.length>0){gQ1x=navigator.plugins["Shockwave Flash"];if(gQ1x){bzT3x=!0;bzV3x=gQ1x.description}}}return{supported:bzT3x,version:bzV3x}};l8d.rM4Q=function(){return"网易云音乐"};l8d.cnb3x=function(){return i8a};l8d.bTx9o=function(cM9D){var D8v=i8a[cM9D];return D8v==null?"":bzE3x.replace("{ID}",D8v)};l8d.zo6i=function(bt9k,eq0x,FC8u){if(!bt9k)return"";if(!!FC8u){bt9k=l8d.cmV3x(bt9k)}return l8d.bjk9b(l8d.cmU3x(bt9k,eq0x))};l8d.bju9l=function(){var Tq2x={AT:/(@([\u4e00-\u9fa5A-Za-z0-9-_]{2,})((?=[ :@：])|$))/g,LINK:/(@([\u4e00-\u9fa5A-Za-z0-9-_]{2,})((?=[ :@：])|$))|((http[s]{0,1}):\/\/[\-a-zA-Z0-9\.]+(:(6553[0-5]|655[0-2][0-9]|65[0-4][0-9][0-9]|6[0-4][0-9][0-9][0-9]|\\d{2,4}|[1-9]))?(\/[a-zA-Z0-9\\\.\-~!@#$%\^&\*\+\?:_\/=<>]*)?)/g,ACT_NOLINK:/(@([\u4e00-\u9fa5A-Za-z0-9-_]{2,})((?=[ :@：])|$))|(#[^\[\]\/\\\#\r\n]+?#)/g,ACT:/(@([\u4e00-\u9fa5A-Za-z0-9-_]{2,})((?=[ :@：])|$))|((http[s]{0,1}):\/\/[\-a-zA-Z0-9\.]+(:(6553[0-5]|655[0-2][0-9]|65[0-4][0-9][0-9]|6[0-4][0-9][0-9][0-9]|\\d{2,4}|[1-9]))?(\/[a-zA-Z0-9\\\.\-~!@#$%\^&\*\+\?:_\/=<>]*)?)|(#[^\[\]\/\\\#\r\n]+?#)/g,LING:/\n/g,BLANK:/\s/g,MLINE:/([ \f\r\t\v]*\n){2,}/g},bAd3x={LINK:'<a href="${url}" class="${klass}">${value}</a>',AT:'<a href="${url}" class="${klass}">@${value}</a>',ACT:'<a href="javascript:;" class="${klass}" data-title="${value}" data-action="activity">${value}</a>'},cmH3x={r:/\<|\>|\&lt;|\&gt;|\&|\'|\"/g,"<":"&lt;",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;","'":"&#39;","&lt;":"&lt;","&gt;":"&gt;"},cmC3x=["AT","LINK","ACT_NOLINK","ACT"];var cmz3x=function(dR0x,bAi3x){dR0x=NH0x(dR0x);if(!!bAi3x){dR0x=dR0x.replace(Tq2x.MLINE,"\n\n").replace(Tq2x.LING,"</br>")}dR0x=l8d.bjk9b(dR0x);return dR0x};var NH0x=function(bt9k){return k8c.DN8F(cmH3x,bt9k)};return function(dR0x,e8e,dK0x){e8e=e8e||{};dK0x=dK0x||{};dK0x.actHash={};var cmx3x=!!e8e.parseLink,cmu3x=!!e8e.parseAct,cmr3x=e8e.linkTpl||bAd3x.LINK,cmh3x=e8e.atTpl||bAd3x.AT,cmg3x=e8e.atUrl||"/user/home?nickname=",cmd3x=e8e.actTpl||bAd3x.ACT,bAi3x=!!e8e.keepSpace,bAs3x=e8e.linkKlass||"s-fc7";cUZ1x=e8e.actBiJson||"";if(!dR0x)return"";dR0x=dR0x.trim().replace(/&amp;/g,"&").replace(/&nbsp;/g," ");var mB2x=cmC3x[cmx3x+2*cmu3x],dr9i=Tq2x[mB2x],bv9m=null,kP2x=null,gD1x=0,cVa1x="",cVb1x="";var rz4D=[];dr9i.lastIndex=0;while(bv9m=dr9i.exec(dR0x)){var ea0x={html:"",before:bv9m.index-1,after:bv9m.index+bv9m[0].length};if(bv9m[1]){var kP2x=bv9m[2].replace(/[^\x00-\xff]/g,"**");if(kP2x.length<4||kP2x.length>32){}else{var Hb8T=a7h.eA0x(cmh3x);ea0x.html=a7h.cf9W(Hb8T,{value:NH0x(bv9m[2]),url:encodeURI(cmg3x+bv9m[2]),klass:bAs3x});rz4D.push(ea0x)}}else if(bv9m.length>8&&bv9m[4]){var Hb8T=a7h.eA0x(cmr3x);ea0x.html=a7h.cf9W(Hb8T,{value:NH0x(bv9m[4]),url:bv9m[4],klass:bAs3x});rz4D.push(ea0x)}else{var bUZ9Q=mB2x=="ACT_NOLINK"?4:9;var Hb8T=a7h.eA0x(cmd3x);ea0x.html=a7h.cf9W(Hb8T,{value:NH0x(bv9m[bUZ9Q]),klass:bAs3x});rz4D.push(ea0x);dK0x.actHash[bv9m[bUZ9Q].slice(1,-1)]=true}}var bAC3x=rz4D.length,kW2x={before:dR0x.length-1,after:0},bAN3x="";for(var i=0;i<=bAC3x;i++){var eV0x,dt0x;eV0x=(rz4D[i-1]||kW2x).after;dt0x=(rz4D[i]||kW2x).before;if(dt0x>=eV0x&&eV0x>=0&&dt0x<=dR0x.length-1){bAN3x+=cmz3x(dR0x.substring(eV0x,dt0x+1),bAi3x)}if(rz4D[i]){bAN3x+=rz4D[i].html}}return bAN3x}}();l8d.cmV3x=function(){var dr9i=new RegExp("(http[s]{0,1})://[-a-zA-Z0-9.]+(:(6553[0-5]|655[0-2][0-9]|65[0-4][0-9][0-9]|6[0-4][0-9][0-9][0-9]|\\d{2,4}|[1-9]))?(/[a-zA-Z0-9\\.\\-~!@#$%^&*+?:_/=<>]*)?","g");return function(bt9k){return(bt9k||"").replace(/&amp;/g,"&").replace(/&nbsp;/g," ").replace(dr9i,function($0,$1){return"<a href="+$0+' class="link u-link"><i class="u-dicn u-dicn-28"></i>网页链接</a>'})}}();l8d.cmU3x=function(){var dr9i=/@([a-zA-Z0-9_\-\u4E00-\u9FA5]+)/g;var eK0x=function(kP2x,eq0x){return'<a href="/user/home?nickname='+encodeURIComponent(kP2x)+'" class="'+(eq0x||"")+'">@'+kP2x+"</a>"};return function(bt9k,eq0x){return(bt9k||"").replace(dr9i,function($0,$1){return eK0x($1,eq0x)})}}();l8d.bjk9b=function(){var dr9i=/\[(.*?)\]/g;return function(bt9k){return(bt9k||"").replace(dr9i,function($1,$2){var Z8R=l8d.bTx9o($2);return!Z8R?$1:'<img src="'+Z8R+'"/>'})}}();l8d.Ep8h=function(H8z,eq0x){a7h.bG9x(H8z,eq0x)?a7h.y8q(H8z,eq0x):a7h.w8o(H8z,eq0x)};l8d.NF0x=function(cL9C,lA2x){cL9C=a7h.A8s(cL9C);lA2x=a7h.A8s(lA2x);if(!cL9C||!lA2x)return!1;for(lA2x=lA2x.parentNode;!!lA2x&&lA2x!=cL9C;lA2x=lA2x.parentNode);return lA2x==cL9C};l8d.lW2x=function(){var bVP9G=function(hB1x){return(hB1x<10?"0":"")+hB1x};return function(hu1x){hu1x=parseInt(hu1x)||0;if(!hu1x)return"00:00";var AK7D=Math.floor(hu1x%60),cld3x=Math.floor(hu1x/60);return bVP9G(cld3x)+":"+bVP9G(AK7D)}}();l8d.Ar6l=function(gu1x,zy6s){if(!gu1x||gu1x.length==0)return"";zy6s=zy6s||"/";var bv9m=[];for(var i=gu1x.length-1;i>=0;i--){bv9m.unshift(gu1x[i].name)}return bv9m.join(zy6s)};l8d.tM4Q=function(){var Su2x=function(iO1x,eq0x,cL9C,bbb5g){var eK0x=bbb5g?l8d.bAS3x:k8c.dP0x;if(!iO1x||!iO1x.name)return"";if(!iO1x.id)return'<span class="'+eq0x+'">'+eK0x(iO1x.name)+"</span>";return"<a"+(cL9C?' target="_blank"':"")+' class="'+eq0x+'" href="/artist?id='+iO1x.id+'" hidefocus="true">'+eK0x(iO1x.name)+"</a>"};return function(gu1x,Y8Q,zy6s,cL9C,bWa9R,bbb5g){if(!gu1x||!gu1x.length)return"";zy6s=zy6s||"/";Y8Q=Y8Q||"";ND0x="";var ez0x=[];for(var i=0,j8b=[],vb5g=[],ga0x;i<gu1x.length;++i){ez0x.push(gu1x[i].name);if(!gu1x[i]||gu1x[i].id<=0){vb5g.push(gu1x[i]);continue}if(k8c.hf1x(Y8Q)){ga0x=Y8Q(gu1x[i])}else{ga0x=Su2x(gu1x[i],Y8Q,cL9C,bbb5g)}if(ga0x&&bWa9R&&gu1x[i].tns&&gu1x[i].tns.length>0){ND0x=k8c.dP0x(gu1x[i].tns[0]);ga0x+='<span class="s-fc8" title="'+ND0x+'"> - ('+ND0x+")</span>"}!!ga0x&&j8b.push(ga0x)}for(var i=0,ga0x;i<vb5g.length;++i){if(k8c.hf1x(Y8Q)){ga0x=Y8Q(vb5g[i])}else{ga0x=Su2x(vb5g[i],Y8Q,cL9C,bbb5g)}if(ga0x&&bWa9R&&vb5g[i].tns&&vb5g[i].tns.length>0){ND0x=k8c.dP0x(vb5g[i].tns[0]);ga0x+='<span class="s-fc8" title="'+ND0x+'"> - ('+ND0x+")</span>"}!!ga0x&&j8b.push(ga0x)}return'<span title="'+ez0x.join(zy6s)+'">'+j8b.join(zy6s)+"</span>"}}();l8d.Ac6W=function(fO0x,qE4I){qE4I=qE4I||"86";return!!fO0x&&(qE4I=="86"?/^\d{11}$/:/^\d+$/).test(fO0x)};l8d.cVd1x=function(fO0x){if(!l8d.Ac6W(fO0x))return fO0x;return fO0x.substring(0,3)+"****"+fO0x.substr(7)};l8d.lh2x=function(){var dr9i=/^\s+$/g;return function(iJ1x){return!iJ1x||dr9i.test(iJ1x)}}();l8d.So2x=function(){var bAU3x=/[^\x00-\xfff]/g;return function(iJ1x){var ckI2x=iJ1x.match(bAU3x)||[],do9f=ckI2x.length;return iJ1x.length+do9f}}();l8d.FK8C=function(){var bAU3x=/[^\x00-\xfff]/;return function(iJ1x,eH0x){for(var i=0,len=iJ1x.length;i<len&&eH0x>0;i++){if(bAU3x.test(iJ1x.charAt(i))){eH0x-=2;if(eH0x<0){break}}else{eH0x-=1}}return iJ1x.substring(0,i)}}();l8d.FL8D=function(iJ1x,eH0x,Vr3x){eH0x=eH0x||10;Vr3x=Vr3x||nej.p.dC0x.engine=="trident"&&parseInt(nej.p.dC0x.release)<5;if(Vr3x&&l8d.So2x(iJ1x)>eH0x){return l8d.FK8C(iJ1x,eH0x)+"..."}else{return iJ1x}};l8d.bWo9f=function(g8c){return g8c===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(g8c.type||g8c.href||~g8c.tabIndex)};l8d.ckE2x=function(d8f,cL9C){if(!d8f||!cL9C)return!0;var g8c,t8l=d8f.type.toLowerCase();if(t8l=="mouseout"){g8c=d8f.relatedTarget||d8f.toElement}else if(t8l=="mouseover"){g8c=d8f.relatedTarget||d8f.fromElement}return!g8c||g8c!==cL9C&&!l8d.NF0x(cL9C,g8c)};l8d.vy5D=function(){Q8I={};return function(g8c,eo0x){var D8v=a7h.mu2x(g8c),K8C="hover-"+D8v;if(!eo0x||!D8v||!!Q8I[K8C])return;Q8I[K8C]=!0;h8b.s8k(D8v,"mouseover",function(){var bAY3x=a7h.F8x(g8c,"hshow")||[];var bBb3x=a7h.F8x(g8c,"icn-dislike")||[];a7h.w8o(D8v,"z-hover");a7h.bd8V(bAY3x[0],"display","block");a7h.bd8V(bBb3x[0],"display","block")});h8b.s8k(D8v,"mouseout",function(){var bAY3x=a7h.F8x(g8c,"hshow")||[];var bBb3x=a7h.F8x(g8c,"icn-dislike")||[];a7h.y8q(D8v,"z-hover");a7h.bd8V(bAY3x[0],"display","none");a7h.bd8V(bBb3x[0],"display","none")})}}();l8d.bWE9v=function(){var bB9s={r:/\(|\)|\[|\]|\{|\}|\*|\+|\^|\$|\?|\!|\\|\||\./gi,"(":"\\(",")":"\\)","[":"\\[","]":"\\]","{":"\\{","}":"\\}","*":"\\*","+":"\\+","^":"\\^",$:"\\$","?":"\\?","!":"\\!","\\":"\\\\","|":"\\|",".":"\\."};return function(iJ1x){return k8c.DN8F(bB9s,iJ1x)}}();l8d.CG7z=function(bA9r){if(k8c.IC9t(bA9r))bA9r=bA9r.getTime();var fp0x=new Date,lm2x=fp0x.getTime()-bA9r;if(lm2x<=6e4)return"刚刚";var oA3x=fp0x.getHours()*36e5+fp0x.getMinutes()*6e4+fp0x.getSeconds()*1e3;if(lm2x<=oA3x){if(lm2x<36e5){var Im9d=Math.floor(lm2x/6e4);return Im9d+"分钟前"}return k8c.iv1x(bA9r,"HH:mm")}else{if(lm2x<oA3x+864e5){return"昨天"+k8c.iv1x(bA9r,"HH:mm")}else{var hc1x=fp0x.getFullYear(),Sj2x=new Date(hc1x,0,1);var oA3x=fp0x.getTime()-Sj2x.getTime();if(lm2x<oA3x){return k8c.iv1x(bA9r,"M月d日 HH:mm")}return k8c.iv1x(bA9r,"yyyy年M月d日")}}};l8d.ckm2x=function(bA9r){if(k8c.IC9t(bA9r))bA9r=bA9r.getTime();var fp0x=new Date,lm2x=fp0x.getTime()-bA9r;var oA3x=fp0x.getHours()*36e5+fp0x.getMinutes()*6e4+fp0x.getSeconds()*1e3;if(lm2x<=oA3x){return"今天"+k8c.iv1x(bA9r,"HH:mm")}else{if(lm2x<oA3x+864e5){return"昨天"+k8c.iv1x(bA9r,"HH:mm")}else{return k8c.iv1x(bA9r,"yy-MM-dd HH:mm")}}};l8d.ckl2x=function(bA9r){if(k8c.IC9t(bA9r))bA9r=bA9r.getTime();var fp0x=new Date,lm2x=fp0x.getTime()-bA9r;if(lm2x<=6e4)return"刚刚";var oA3x=fp0x.getHours()*36e5+fp0x.getMinutes()*6e4+fp0x.getSeconds()*1e3;if(lm2x<=oA3x){if(lm2x<36e5){var Im9d=Math.floor(lm2x/6e4);return Im9d+"分钟前"}return k8c.iv1x(bA9r,"HH:mm")}else{if(lm2x<oA3x+864e5){return"昨天"+k8c.iv1x(bA9r,"HH:mm")}else if(lm2x<oA3x+864e5*6){var hc1x=fp0x.getFullYear(),Sj2x=new Date(hc1x,0,1);var oA3x=fp0x.getTime()-Sj2x.getTime();if(lm2x<oA3x){return k8c.iv1x(bA9r,"M月d日 HH:mm")}return k8c.iv1x(bA9r,"yyyy年M月d日")}else{return"最近"}}};l8d.bbZ5e=function(){var dr9i=/\{(.*?)\}/gi;return function(qy3x,i8a){return(qy3x||"").replace(dr9i,function($1,$2){var C8u=i8a[$2];return C8u==null?$1:C8u})}}();l8d.fD0x=function(){var bj8b=Array.prototype.slice.call(arguments,0),qy3x=bj8b.shift();if(qy3x){return qy3x.replace(/{(\d+)}/g,function($1,$2){return $2<bj8b.length?bj8b[$2]:$1})}return""};l8d.Nz0x=function(j8b,eq0x,lj2x){return"";lj2x=lj2x||" - ";if(j8b&&j8b.length){return lj2x+(!!eq0x?'<span class="'+eq0x+'">'+j8b[0]+"</span>":j8b[0])}return""};l8d.bWL9C=function(){if(window.getSelection){var tw4A=window.getSelection();if(tw4A&&tw4A.focusNode&&tw4A.focusNode.tagName){var vE5J=a7h.dn9e(tw4A.focusNode);for(var i=0,Cn7g;i<vE5J.length;++i){Cn7g=vE5J[i].tagName;if(!Cn7g)continue;Cn7g=Cn7g.toLowerCase();if(Cn7g=="textarea"||Cn7g=="input")return!0}}}else if(document.selection){var dm9d=document.selection.createRange();if(dm9d){var g8c=dm9d.parentElement();if(g8c&&g8c.tagName){var Cn7g=g8c.tagName.toLowerCase();if(Cn7g=="textarea"||Cn7g=="input")return!0}}}return!1};l8d.FO8G=function(fU0x){if(/^[A-Z]\:\\/i.test(fU0x)){fU0x=fU0x.split("\\")}else{fU0x=fU0x.split("/")}fU0x=fU0x[fU0x.length-1];return fU0x};l8d.ckc2x=function(){var Gp8h=[13,17,34,19,18,21];return function(D8v){var bv9m=(D8v||"").split("_");return{type:Gp8h[bv9m[2]]||-1,id:bv9m[3]||""}}}();l8d.bXz9q=function(gQ1x){if(!gQ1x){return true}for(var k in gQ1x){return false}return true};l8d.bBy3x=function(dz0x){if(!dz0x){return""}if(4==dz0x.userType){return'<sup class="icn u-icn2 u-icn2-music2"></sup>'}else if(dz0x.authStatus==1){return'<sup class="u-icn u-icn-1"></sup>'}else if(dz0x.expertTags&&dz0x.expertTags.length||!l8d.bXz9q(dz0x.experts)){return'<sup class="u-icn u-icn-84"></sup>'}};l8d.Sc2x=function(hG1x){if(!hG1x)return"";var do9f=hG1x.length,iQ1x=[];iQ1x[0]=do9f/3|0;iQ1x[1]=iQ1x[0]+((do9f-iQ1x[0])/2|0);return hG1x.substring(0,iQ1x[0])+hG1x.substring(iQ1x[0],iQ1x[1]).replace(/\d/g,"*")+hG1x.substring(iQ1x[1],do9f)};l8d.cVi1x=function(r8j,cI9z){return(r8j%cI9z+cI9z)%cI9z};l8d.bBz3x=function(){var Gp8h={0:"playlist",1:"program",2:"event",3:"album",4:"song",5:"mv",6:"topic",62:"video"};return function(D8v){var bv9m=(D8v||"").split("_"),m8e={type:Gp8h[bv9m[2]]||-1,id:bv9m[3]||""};if(m8e.type=="event"){m8e.uid=bv9m[4]||"";return"/"+m8e.type+"?id="+m8e.id+"&uid="+m8e.uid}return"/"+m8e.type+"?id="+m8e.id}}();l8d.bBE3x=function(){var Gp8h={0:"歌单",1:"电台节目",2:"动态",3:"专辑",4:"单曲",5:"MV",6:"专栏文章",62:"视频"};return function(D8v){var bv9m=(D8v||"").split("_");return Gp8h[bv9m[2]]||"资源"}}();l8d.cju2x=function(bx9o){var qs=bx9o.length>0?bx9o.substring(1):"",args={},items=qs.length?qs.split("&"):[],item=null,name=null,value=null,i=0,len=items.length;for(i=0;i<len;i++){item=items[i].split("=");name=decodeURIComponent(item[0]);value=decodeURIComponent(item[1]);if(name.length){args[name]=value}}return args};l8d.bBF3x=function(oO3x,RZ2x){var bcJ5O=0,dW0x=new Array;k8c.bf8X(oO3x,function(Z8R,r8j){var cD9u=a7h.ds0x("img");cD9u.src=Z8R;h8b.s8k(cD9u,"load",function(r8j,d8f){dW0x[r8j]=1;bcJ5O++;if(bcJ5O==oO3x.length)RZ2x(oO3x,dW0x)}.f8d(this,r8j));h8b.s8k(cD9u,"error",function(d8f,r8j){dW0x[r8j]=0;bcJ5O++;if(bcJ5O==oO3x.length)RZ2x(oO3x,dW0x)}.f8d(this,r8j))})};l8d.Nx0x=function(j8b,ek0x){var m8e=[];k8c.bf8X(j8b,function(p8h,r8j,O8G){m8e.push(ek0x(p8h,r8j,O8G))});return m8e};l8d.bbW5b=function(j8b,ek0x,O8G){var m8e=[];k8c.bf8X(j8b,function(p8h,r8j){if(ek0x.call(O8G,p8h,r8j,j8b)){m8e.push(p8h)}});return m8e};l8d.bYd0x=function(bt9k){return k8c.dP0x((bt9k||"").replace(/\s{2,}/g," ").trim())};var cjp2x={r:/\<|\>/g,"<":"&lt;",">":"&gt;"};l8d.cjo2x=function(bt9k){return k8c.DN8F(cjp2x,bt9k)};l8d.bBG3x=function(bn8f){if(bn8f.transNames&&bn8f.transNames.length){return bn8f.transNames[0]}else if(bn8f.alias&&bn8f.alias.length){return bn8f.alias[0]}};l8d.bBI3x=function(Ty2x){if(Ty2x){return Ty2x.replace(/\n{2,}/g,"<br/><br/>").replace(/\n/g,"<br/>").replace(/(<br\/?>){2,}/g,"<br/><br/>")}};l8d.bYt0x=function(g8c){var g8c=a7h.A8s(g8c),cM9D=g8c&&g8c.getElementsByTagName("textarea")[0],K8C=a7h.u8m(g8c,"key"),RV2x=a7h.u8m(g8c,"simple")=="1",bBL3x=a7h.u8m(g8c,"pvnamed")=="1",RT2x=q8i.vo5t.fW0x();if(!(g8c&&cM9D&&K8C))return;var uk5p,bBN3x,bde5j;uk5p=a7h.F8x(a7h.A8s("m-playlist"),"j-img");k8c.bf8X(uk5p,function(jA1x){if(!bde5j&&a7h.u8m(jA1x,"key")){bde5j=a7h.u8m(jA1x,"key");jA1x.removeAttribute("data-key")}});uk5p=a7h.F8x(a7h.A8s("m-playlist"),"m-info");k8c.bf8X(uk5p,function(jA1x){if(!bBN3x&&jA1x.id&&jA1x.id.indexOf("auto-id-")==0){bBN3x=jA1x.id.slice(8,12)}});var C8u=cM9D.value||cM9D.defaultValue;if(bde5j){C8u=decodeURIComponent(k8c.bYC0x(C8u,"param="+bBN3x+bde5j))}C8u=JSON.parse(C8u);if(bBL3x){l8d.bYD0x(C8u)}if(RV2x){C8u=l8d.Ap6j(C8u)}RT2x.th4l(K8C,C8u);g8c.innerHTML="";return K8C};l8d.ciV2x=function(qW4a){if(!qW4a.onbeforelistload){qW4a.onbeforelistload=function(d8f){d8f.value='<div class="u-load s-fc4"><i class="icn"></i> 加载中...</div>'}}if(!qW4a.onemptylist){qW4a.onemptylist=function(d8f){d8f.value='<div class="n-nmusic"><h3 class="f-ff2"><i class="u-icn u-icn-21"></i>'+(qW4a.emptyMsg||"暂时还没有数据")+"</h3></div>"}}return qW4a};l8d.bYD0x=function(id1x){k8c.bf8X(id1x,function(bR9I){bR9I.privilege=bR9I.pv;delete bR9I.pv})};l8d.Ap6j=function(iU1x){if(k8c.el0x(iU1x)){var dK0x=[];k8c.bf8X(iU1x,function(RV2x){dK0x.push(bYG0x(RV2x))});return dK0x}else{return bYG0x(iU1x)}function bYG0x(iU1x){if(!iU1x)return null;var dK0x={album:iU1x.al,alias:iU1x.alia||iU1x.ala||[],artists:iU1x.ar||[],commentThreadId:"R_SO_4_"+iU1x.id,copyrightId:iU1x.cp||0,duration:iU1x.dt||0,id:iU1x.id,mvid:iU1x.mv||0,name:iU1x.name||"",cd:iU1x.cd,position:iU1x.no||0,ringtone:iU1x.rt,rtUrl:iU1x.rtUrl,status:iU1x.st||0,pstatus:iU1x.pst||0,fee:iU1x.fee||0,version:iU1x.v||0,eq:iU1x.eq,songType:iU1x.t||0,mst:iU1x.mst,score:iU1x.pop||0,ftype:iU1x.ftype,rtUrls:iU1x.rtUrls,transNames:iU1x.tns,privilege:iU1x.privilege,lyrics:iU1x.lyrics};return dK0x}};l8d.cVr1x=function(){var g8c=a7h.pa3x('<div class="u-mask u-mask-light"></div>'+'<div class="m-opentip">'+'<div class="lay">'+'<div class="note">'+"<h3>分享打不开？</h3>"+'<p>请点击右上角<br>选择<span class="s-fc5">“分享到...”</span></p>'+"</div></div></div>");document.body.appendChild(g8c);h8b.s8k(g8c,"click",function(d8f){h8b.bi8a(d8f);a7h.cV9M(g8c)})};l8d.jo1x=function(cn9e){if(cn9e<1e5){return cn9e}else if(cn9e<1e8){return Math.floor(cn9e/1e3)/10+"万"}else{return Math.floor(cn9e/1e7)/10+"亿"}};l8d.ww5B=function(cn9e,cM9D){return"<i>"+(cn9e?"("+cn9e+")":cM9D)+"</i>"};l8d.bYH0x=function(t8l,iH1x){var e8e={};if(!k8c.mz2x(iH1x)){return e8e}switch(parseInt(t8l)){case 17:e8e.title=iH1x.name;e8e.author=(iH1x.radio||[]).name;e8e.picUrl=iH1x.coverUrl;e8e.category=iH1x.radio.category;break;case 19:e8e.title=iH1x.name;e8e.author=l8d.Ar6l(iH1x.artists);e8e.authors=l8d.Ar6l(iH1x.artists," / ");e8e.picUrl=iH1x.picUrl;break;case 13:e8e.title=iH1x.name;e8e.author=(iH1x.creator||[]).nickname;e8e.picUrl=iH1x.coverImgUrl;break;case 18:e8e.title=iH1x.name;e8e.author=l8d.Ar6l(iH1x.artists);e8e.picUrl=(iH1x.album||[]).picUrl;break;case 20:e8e.title=iH1x.name;e8e.author="";e8e.picUrl=iH1x.img1v1Url;break;case 21:e8e.title=iH1x.name;e8e.author=iH1x.artistName;e8e.authors=l8d.Ar6l(iH1x.artists," / ");e8e.picUrl=iH1x.newCover||iH1x.cover;break;case 70:e8e.title=iH1x.name;e8e.author=(iH1x.dj||[]).nickname;e8e.picUrl=iH1x.picUrl;e8e.category=iH1x.category;break;default:break}return e8e};l8d.bYN0x=function(){return location.hostname.indexOf("igame.163.com")>=0};l8d.RJ2x=function(eK0x,pb3x,e8e){var bM9D,bj8b,m8e;var hq1x=null;var wt5y=0;if(!e8e)e8e={};var Bh7a=function(){wt5y=e8e.leading===false?0:+(new Date);hq1x=null;m8e=eK0x.apply(bM9D,bj8b);if(!hq1x)bM9D=bj8b=null};return function(){var fp0x=+(new Date);if(!wt5y&&e8e.leading===false)wt5y=fp0x;var JN9E=pb3x-(fp0x-wt5y);bM9D=this;bj8b=arguments;if(JN9E<=0||JN9E>pb3x){if(hq1x){clearTimeout(hq1x);hq1x=null}wt5y=fp0x;m8e=eK0x.apply(bM9D,bj8b);if(!hq1x)bM9D=bj8b=null}else if(!hq1x&&e8e.trailing!==false){hq1x=setTimeout(Bh7a,JN9E)}return m8e}};l8d.Nu0x=function(eK0x,pb3x,qn3x){var hq1x,bj8b,bM9D,FT8L,m8e;var Bh7a=function(){var gD1x=new Date-FT8L;if(gD1x<pb3x&&gD1x>=0){hq1x=setTimeout(Bh7a,pb3x-gD1x)}else{hq1x=null;if(!qn3x){m8e=eK0x.apply(bM9D,bj8b);if(!hq1x)bM9D=bj8b=null}}};return function(){bM9D=this;bj8b=arguments;FT8L=new Date;var RH2x=qn3x&&!hq1x;if(!hq1x)hq1x=setTimeout(Bh7a,pb3x);if(RH2x){m8e=eK0x.apply(bM9D,bj8b);bM9D=bj8b=null}return m8e}};l8d.RF2x=function(g8c,hO1x){if(g8c){var g8c=g8c.firstElementChild;if(g8c){g8c.firstElementChild&&(g8c=g8c.firstElementChild);g8c.setAttribute("xlink:href","/style/pc/svg/"+hO1x)}}};l8d.bYP0x=function(ez0x){if(!ez0x||!ez0x.length){return}ez0x=/^#(.+?)#$/.exec(ez0x)[1];ez0x=ez0x.replace(/\s/g," ");v8n.bm8e("/api/act/detail",{type:"json",method:"post",data:k8c.cE9v({actname:ez0x}),onload:function(T8L){if(!T8L||T8L.code!=200||!T8L.act){n8f.bb8T.J8B({type:2,tip:"该话题暂未创建"})}else{location.dispatch2("/activity?id="+T8L.act.actId)}},onerror:function(bV9M){n8f.bb8T.J8B({type:2,tip:"操作失败，请稍后再试"})}})};l8d.ciM2x=function(ez0x){if(!ez0x||!ez0x.length){return}var RC1x=location.host;ez0x=/^#(.+?)#$/.exec(ez0x)[1];ez0x=ez0x.replace(/\s/g," ");v8n.bm8e("/api/act/detail",{type:"json",method:"post",data:k8c.cE9v({actname:ez0x}),onload:function(T8L){if(!T8L||T8L.code!=200||!T8L.act){cz9q.ii1x("该话题暂未创建")}else{cz9q.Fh8Z(RC1x+"/activity?id="+T8L.act.actId)}},onerror:function(bV9M){cz9q.ii1x("操作失败，请稍后再试")}})};l8d.bBV3x=function(AG7z,tg4k){if(!AG7z||!tg4k)return false;if(AG7z==tg4k)return true;return l8d.bBV3x(AG7z,tg4k.parentNode)};a7h.cQ9H=function(bJ9A,jI1x){if(!bJ9A)return null;if(!jI1x)return bJ9A.firstChild;return a7h.F8x(bJ9A,jI1x)[0]};l8d.bZc0x=function(iJ1x){return/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i.test(iJ1x)};l8d.bZh0x=function(iJ1x,Rz1x){Rz1x=Rz1x||"86";if(Rz1x=="86")return/^\d{11}$/.test(iJ1x);return/^\d+$/.test(iJ1x)};l8d.cVx1x=function(wp5u){if(!wp5u){return"0b"}var ciA2x=["Bytes","KB","MB","GB"];var bc8U=Math.floor(Math.log(wp5u)/Math.log(1024));return(wp5u/Math.pow(1024,Math.floor(bc8U))).toFixed(bc8U==1?0:1)+ciA2x[bc8U]};l8d.bZt0x=function(dR0x,fk0x,civ2x){if(!dR0x)return dR0x;var do9f=k8c.fS0x(dR0x);if(do9f<=fk0x)return dR0x;var bCd3x=do9f-dR0x.length,bCf3x=dR0x.length-bCd3x;var fH0x=Math.ceil(fk0x/2),cin2x=fk0x,bZD0x=0;if(bCd3x<fH0x)fH0x=fk0x-bCd3x;if(bCf3x<fk0x)fk0x=bCf3x+Math.ceil((fk0x-bCf3x)/2);while(fH0x<=fk0x){bZD0x=k8c.fS0x(dR0x.substr(0,fH0x));var bCi3x=cin2x-bZD0x;if(bCi3x==0)break;if(bCi3x==1){var cif2x=k8c.fS0x(dR0x.charAt(fH0x));if(cif2x==1){fH0x++;break}else{break}}fH0x+=Math.floor(bCi3x/2)}return dR0x.substr(0,fH0x)+(!!civ2x?"":"...")};l8d.cic2x=function(br8j){br8j=br8j||10;var cT9K="";for(var i=0;i<br8j;i++){cT9K+=String.fromCharCode(Math.round(Math.random()*20901)+19968)}return cT9K};var chY2x=/([A-Za-z0-9 \.\-\(\)\!\?])/,chV2x=/([\u4e00-\u9fa5\uac00-\ud7af\u3040-\u30ff\u31f0-\u31ff])/,cdY1x=["的","一","是","在","不","了","有","和","人","这","中","大","为","上","个","国","我","以","要","他","时","来","用","们","生","到","作","地","于","出","就","分","对","成","会","可","主","发","年","动","同","工","也","能","下","过","子","说","产","种","面","而","方","后","多","定","行","学","法","所","民","得","经","十","三","之","进","着","等","部","度","家","电","力","里","如","水","化","高","自","二","理","起","小","物","现","实","加","量","都","两","体","制","机","当","使","点","从","业","本","去","把","性","好","应","开","它","合","还","因","由","其","些","然","前","外","天","政","四","日","那","社","义","事","平","形","相","全","表","间","样","与","关","各","重","新","线","内","数","正","心","反","你","明","看","原","又","么","利","比","或","但","质","气","第","向","道","命","此","变","条","只","没","结","解","问","意","建","月","公","无","系","军","很","情","者","最","立","代","想","已","通","并","提","直","题","党","程","展","五","果","料","象","员","革","位","入","常","文","总","次","品","式","活","设","及","管","特","件","长","求","老","头","基","资","边","流","路","级","少","图","山","统","接","知","较","将","组","见","计","别","她","手","角","期","根","论","运","农","指","几","九","区","强","放","决","西","被","干","做","必","战","先","回","则","任","取","据","处","队","南","给","色","光","门","即","保","治","北","造","百","规","热","领","七","海","口","东","导","器","压","志","世","金","增","争","济","阶","油","思","术","极","交","受","联","什","认","六","共","权","收","证","改","清","己","美","再","采","转","更","单","风","切","打","白","教","速","花","带","安","场","身","车","例","真","务","具","万","每","目","至","达","走","积","示","议","声","报","斗","完","类","八","离","华","名","确","才","科","张","信","马","节","话","米","整","空","元","况","今","集","温","传","土","许","步","群","广","石","记","需","段","研","界","拉","林","律","叫","且","究","观","越","织","装","影","算","低","持","音","众","书","布","复","容","儿","须","际","商","非","验","连","断","深","难","近","矿","千","周","委","素","技","备","半","办","青","省","列","习","响","约","支","般","史","感","劳","便","团","往","酸","历","市","克","何","除","消","构","府","称","太","准","精","值","号","率","族","维","划","选","标","写","存","候","毛","亲","快","效","斯","院","查","江","型","眼","王","按","格","养","易","置","派","层","片","始","却","专","状","育","厂","京","识","适","属","圆","包","火","住","调","满","县","局","照","参","红","细","引","听","该","铁","价","严","龙","飞"];var cac0x=function(Gb8T){var br8j=k8c.Dx7q(1,5),chN2x=Math.random()<.5,jN1x="";if(Gb8T){if(chN2x){while(br8j>=0){jN1x+=cdY1x[k8c.Dx7q(0,500)];br8j--}}else{jN1x=l8d.cic2x(br8j)}}else{jN1x=k8c.YQ4U(br8j)}return'<div class="soil">'+jN1x+"</div>"};l8d.bAS3x=function(ex0x){ex0x=k8c.DM8E(ex0x);try{var br8j=ex0x.length,r8j=k8c.Dx7q(1,br8j-1);while(r8j<br8j){if(chV2x.test(ex0x.charAt(r8j))){return k8c.dP0x(ex0x.slice(0,r8j))+cac0x(true)+k8c.dP0x(ex0x.slice(r8j))}else if(chY2x.test(ex0x.charAt(r8j))){return k8c.dP0x(ex0x.slice(0,r8j))+cac0x()+k8c.dP0x(ex0x.slice(r8j))}else{r8j++}}return k8c.dP0x(ex0x)}catch(e){return k8c.dP0x(ex0x)}};l8d.bfR6L=function(nF3x,nu3x){return"//nos.netease.com/"+nF3x+"/"+nu3x};l8d.chJ2x=function(fU0x){var ea0x=/(.+)(\.[^\.]+$)/.exec(fU0x);return ea0x?{filename:ea0x[1],suffix:ea0x[2]}:{filename:fU0x||"",suffix:""}};l8d.cag0x=function(bv9m,chF2x){var dK0x=[];k8c.bf8X(bv9m,function(gT1x){dK0x.push(chF2x(gT1x))});return dK0x};var chE2x={title:"name",durationms:"duration",coverUrl:"cover",playTime:"playCount",vid:"id",subscribed:"subed"};l8d.cal0x=function(Ct7m){var i8a=NEJ.X({},Ct7m);k8c.eR0x(Ct7m,function(p8h,K8C){var cat0x=chE2x[K8C];if(cat0x){i8a[cat0x]=p8h}});var Rp1x=Ct7m.creator||[];if(!k8c.el0x(Rp1x)){Rp1x=[Rp1x]}if(Rp1x){i8a.artists=[];k8c.bf8X(Rp1x,function(p8h){i8a.artists.push({name:p8h.nickname||p8h.userName,id:p8h.userId})})}if(!!Ct7m.aliaName){i8a.alias=[Ct7m.aliaName]}if(!!Ct7m.transName){i8a.transNames=[Ct7m.transName]}return i8a};l8d.cht2x=function(Z8R){return(Z8R||"").replace(/^https?:/,"")};l8d.Hz9q=function(cT9K){if(!k8c.fX0x(cT9K))return cT9K;var dK0x=null;try{dK0x=JSON.parse(cT9K)}catch(_e){}return dK0x};var chs2x='<span class="s-fc7 f-tdn">${value}</span>';l8d.chq2x=function(cM9D,vp5u,e8e){e8e=e8e||{};if(!vp5u){return k8c.dP0x(cM9D)}cM9D=k8c.DM8E(cM9D);var rz4D=[],bv9m=null,Zg4k=new RegExp(l8d.bWE9v(vp5u),"gi"),qy3x=e8e.tpl||chs2x;while(bv9m=Zg4k.exec(cM9D)){var ea0x={html:"",before:bv9m.index-1,after:bv9m.index+bv9m[0].length};var Hb8T=a7h.eA0x(qy3x);ea0x.html=a7h.cf9W(Hb8T,{value:k8c.dP0x(bv9m[0])});rz4D.push(ea0x)}var bAC3x=rz4D.length,kW2x={before:cM9D.length-1,after:0},dK0x="";for(var i=0;i<=bAC3x;i++){var eV0x,dt0x;eV0x=(rz4D[i-1]||kW2x).after;dt0x=(rz4D[i]||kW2x).before;if(dt0x>=eV0x&&eV0x>=0&&dt0x<=cM9D.length-1){dK0x+=k8c.dP0x(cM9D.substring(eV0x,dt0x+1))}if(rz4D[i]){dK0x+=rz4D[i].html}}return dK0x};l8d.kl2x=function(){if(!window.WM){var g8c=document.createElement("script");var tV5a=window.location.hostname;var cVL1x=window.location.protocol;a7h.hl1x(g8c,"type","text/javascript");a7h.hl1x(g8c,"src","https://acstatic-dun.126.net/tool.min.js");g8c.onload=function(data){initWatchman({productNumber:"YD00000558929251",onload:function(instance){window.WM=instance}})};document.body.appendChild(g8c)}};l8d.lF2x=function(pv3x){if(window.WM){window.WM.getToken("bd5d2f973ef74cd2a61325a412ae54d9",pv3x)}};l8d.Gf8X=function(pv3x){if(window.WM){window.WM.getToken("0b0cdd23ed1144a0b78de049edc09824",pv3x)}}})();
(function(){var k8c=NEJ.P("nej.u");function chi2x(){var Gg8Y=function(iL1x){if(iL1x<-128){return Gg8Y(128-(-128-iL1x))}else if(iL1x>=-128&&iL1x<=127){return iL1x}else if(iL1x>127){return Gg8Y(-129+iL1x-127)}else{throw new Error("1001")}};var chg2x=function(iL1x,bl8d){return Gg8Y(iL1x+bl8d)};var chf2x=function(bgM6G,bCD4H){if(bgM6G==null){return null}if(bCD4H==null){return bgM6G}var sG4K=[];var chb2x=bCD4H.length;for(var i=0,br8j=bgM6G.length;i<br8j;i++){sG4K[i]=chg2x(bgM6G[i],bCD4H[i%chb2x])}return sG4K};var cgX2x=function(bhg8Y){if(bhg8Y==null){return bhg8Y}var sG4K=[];var cgP2x=bhg8Y.length;for(var i=0,br8j=cgP2x;i<br8j;i++){sG4K[i]=Gg8Y(0-bhg8Y[i])}return sG4K};var cgG2x=function(bCE4I,Rn1x){bCE4I=Gg8Y(bCE4I);Rn1x=Gg8Y(Rn1x);return Gg8Y(bCE4I^Rn1x)};var caH0x=function(Rm1x,bCG4K){if(Rm1x==null||bCG4K==null||Rm1x.length!=bCG4K.length){return Rm1x}var sG4K=[];var cgx2x=Rm1x.length;for(var i=0,br8j=cgx2x;i<br8j;i++){sG4K[i]=cgG2x(Rm1x[i],bCG4K[i])}return sG4K};var caR0x=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var cgv2x=function(cG9x){var Nr0x=[];Nr0x.push(caR0x[cG9x>>>4&15]);Nr0x.push(caR0x[cG9x&15]);return Nr0x.join("")};var caT0x=function(wp5u){var br8j=wp5u.length;if(wp5u==null||br8j<0){return new String("")}var Nr0x=[];for(var i=0;i<br8j;i++){Nr0x.push(cgv2x(wp5u[i]))}return Nr0x.join("")};var caU0x=function(bhD8v){if(bhD8v==null||bhD8v.length==0){return bhD8v}var bCK4O=new String(bhD8v);var sG4K=[];var br8j=bCK4O.length/2;var bl8d=0;for(var i=0;i<br8j;i++){var ql3x=parseInt(bCK4O.charAt(bl8d++),16)<<4;var qm3x=parseInt(bCK4O.charAt(bl8d++),16);sG4K[i]=Gg8Y(ql3x+qm3x)}return sG4K};var cbb0x=function(cT9K){if(cT9K==null||cT9K==undefined){return cT9K}var Rf1x=encodeURIComponent(cT9K);var wp5u=[];var cbi0x=Rf1x.length;for(var i=0;i<cbi0x;i++){if(Rf1x.charAt(i)=="%"){if(i+2<cbi0x){wp5u.push(caU0x(Rf1x.charAt(++i)+""+Rf1x.charAt(++i))[0])}else{throw new Error("1009")}}else{wp5u.push(Rf1x.charCodeAt(i))}}return wp5u};var cgm1x=function(zP6J){var bc8U=0;bc8U+=(zP6J[0]&255)<<24;bc8U+=(zP6J[1]&255)<<16;bc8U+=(zP6J[2]&255)<<8;bc8U+=zP6J[3]&255;return bc8U};var cWe1x=function(bc8U){var zP6J=[];zP6J[0]=bc8U>>>24&255;zP6J[1]=bc8U>>>16&255;zP6J[2]=bc8U>>>8&255;zP6J[3]=bc8U&255;return zP6J};var cga1x=function(dd9U,bCP4T,br8j){var dK0x=[];if(dd9U==null||dd9U.length==0){return dK0x}if(dd9U.length<br8j){throw new Error("1003")}for(var i=0;i<br8j;i++){dK0x[i]=dd9U[bCP4T+i]}return dK0x};var bCU4Y=function(dd9U,bCP4T,ud5i,cfH1x,br8j){if(dd9U==null||dd9U.length==0){return ud5i}if(ud5i==null){throw new Error("1004")}if(dd9U.length<br8j){throw new Error("1003")}for(var i=0;i<br8j;i++){ud5i[cfH1x+i]=dd9U[bCP4T+i]}return ud5i};var cfF1x=function(br8j){var bv9m=[];for(var i=0;i<br8j;i++){bv9m[i]=0}return bv9m};var cfB1x=[82,9,106,-43,48,54,-91,56,-65,64,-93,-98,-127,-13,-41,-5,124,-29,57,-126,-101,47,-1,-121,52,-114,67,68,-60,-34,-23,-53,84,123,-108,50,-90,-62,35,61,-18,76,-107,11,66,-6,-61,78,8,46,-95,102,40,-39,36,-78,118,91,-94,73,109,-117,-47,37,114,-8,-10,100,-122,104,-104,22,-44,-92,92,-52,93,101,-74,-110,108,112,72,80,-3,-19,-71,-38,94,21,70,87,-89,-115,-99,-124,-112,-40,-85,0,-116,-68,-45,10,-9,-28,88,5,-72,-77,69,6,-48,44,30,-113,-54,63,15,2,-63,-81,-67,3,1,19,-118,107,58,-111,17,65,79,103,-36,-22,-105,-14,-49,-50,-16,-76,-26,115,-106,-84,116,34,-25,-83,53,-123,-30,-7,55,-24,28,117,-33,110,71,-15,26,113,29,41,-59,-119,111,-73,98,14,-86,24,-66,27,-4,86,62,75,-58,-46,121,32,-102,-37,-64,-2,120,-51,90,-12,31,-35,-88,51,-120,7,-57,49,-79,18,16,89,39,-128,-20,95,96,81,127,-87,25,-75,74,13,45,-27,122,-97,-109,-55,-100,-17,-96,-32,59,77,-82,42,-11,-80,-56,-21,-69,60,-125,83,-103,97,23,43,4,126,-70,119,-42,38,-31,105,20,99,85,33,12,125];var Nj0x=64;var bin9e=64;var cbF0x=4;var cft1x=function(sT4X){var ccl1x=[];if(sT4X==null||sT4X==undefined||sT4X.length==0){return cfF1x(bin9e)}if(sT4X.length>=bin9e){return cga1x(sT4X,0,bin9e)}else{for(var i=0;i<bin9e;i++){ccl1x[i]=sT4X[i%sT4X.length]}}return ccl1x};var ceI1x=function(bix9o){if(bix9o==null||bix9o.length%Nj0x!=0){throw new Error("1005")}var bDK4O=[];var bl8d=0;var ceF1x=bix9o.length/Nj0x;for(var i=0;i<ceF1x;i++){bDK4O[i]=[];for(var j=0;j<Nj0x;j++){bDK4O[i][j]=bix9o[bl8d++]}}return bDK4O};var cev1x=function(cdm1x){var ql3x=cdm1x>>>4&15;var qm3x=cdm1x&15;var bl8d=ql3x*16+qm3x;return cfB1x[bl8d]};var cdq1x=function(bDR4V){if(bDR4V==null){return null}var cdx1x=[];for(var i=0,br8j=bDR4V.length;i<br8j;i++){cdx1x[i]=cev1x(bDR4V[i])}return cdx1x};var cdI1x=function(Ni0x,sT4X){if(Ni0x==null){return null}if(Ni0x.length==0){return[]}if(Ni0x.length%Nj0x!=0){throw new Error("1005")}sT4X=cft1x(sT4X);var bEe4i=sT4X;var bEf4j=ceI1x(Ni0x);var QN1x=[];var cdZ1x=bEf4j.length;for(var i=0;i<cdZ1x;i++){var bEk4o=cdq1x(bEf4j[i]);bEk4o=cdq1x(bEk4o);var bEj4n=caH0x(bEk4o,bEe4i);var chU2x=chf2x(bEj4n,cgX2x(bEe4i));bEj4n=caH0x(chU2x,sT4X);bCU4Y(bEj4n,0,QN1x,i*Nj0x,Nj0x);bEe4i=bEf4j[i]}var cdP1x=[];bCU4Y(QN1x,QN1x.length-cbF0x,cdP1x,0,cbF0x);var br8j=cgm1x(cdP1x);if(br8j>QN1x.length){throw new Error("1006")}var sG4K=[];bCU4Y(QN1x,0,sG4K,0,br8j);return sG4K};var ced1x=function(bjr9i,K8C){if(bjr9i==null){return null}var cdN1x=new String(bjr9i);if(cdN1x.length==0){return[]}var Ni0x=caU0x(cdN1x);if(K8C==null||K8C==undefined){throw new Error("1007")}var sT4X=cbb0x(K8C);return cdI1x(Ni0x,sT4X)};this.cee1x=function(bjr9i,K8C){var bDZ4d=ced1x(bjr9i,K8C);var HD9u=new String(caT0x(bDZ4d));var AO7H=[];var bDY4c=HD9u.length/2;var bl8d=0;for(var i=0;i<bDY4c;i++){AO7H.push("%");AO7H.push(HD9u.charAt(bl8d++));AO7H.push(HD9u.charAt(bl8d++))}return AO7H.join("")};k8c.bYC0x=function(bDT4X,K8C){return k8c.cej1x(k8c.cxT5Y(bDT4X),K8C)};k8c.cej1x=function(bDT4X,K8C){var bDZ4d=cdI1x(bDT4X,cbb0x(K8C));var HD9u=new String(caT0x(bDZ4d));var AO7H=[];var bDY4c=HD9u.length/2;var bl8d=0;for(var i=0;i<bDY4c;i++){AO7H.push("%");AO7H.push(HD9u.charAt(bl8d++));AO7H.push(HD9u.charAt(bl8d++))}return AO7H.join("")}}window.settmusic=(new chi2x).cee1x})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,G8y=c8g("nej.ut"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),v8n=c8g("nej.j"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),K8C="Search-tracks_",b8h;q8i.fD0x({"search-suggest":{url:"/api/search/suggest/web",type:"POST",format:function(T8L){return T8L},onerror:function(T8L,e8e){if(T8L.code==407){e8e.onForbidden()}}},"search-multimatch":{url:"/api/search/suggest/multimatch",type:"GET"},"search-list":{url:"/api/cloudsearch/get/web",type:"post",noescape:true,filter:function(e8e,bk8c){window.log&&window.log("searchkeywordclient",{type:this.cek1x(parseInt(e8e.data.type))||"suggest",keyword:e8e.data.s,offset:e8e.offset})},format:function(T8L,e8e){if(T8L.abroad){try{T8L.result=JSON.parse(decodeURIComponent(settmusic(T8L.result,q8i.sk)))}catch(e){}}T8L.result=T8L.result||{};var j8b,cI9z,ih1x=[],rw4A=e8e.data.s||"",gx1x=e8e.data.limit,t8l=parseInt(e8e.data.type)||1,m8e=T8L.result;switch(t8l){case 1:j8b=this.cdr1x(m8e.songs,e8e.data.hlpretag,e8e.data.hlposttag);cI9z=m8e.songCount;break;case 10:j8b=m8e.albums;cI9z=m8e.albumCount;break;case 100:j8b=m8e.artists;cI9z=m8e.artistCount;break;case 1e3:j8b=m8e.playlists;cI9z=m8e.playlistCount;break;case 1002:j8b=m8e.userprofiles;cI9z=m8e.userprofileCount;break;case 1004:j8b=m8e.mvs;cI9z=m8e.mvCount;break;case 1014:j8b=l8d.cag0x(m8e.videos,l8d.cal0x);cI9z=m8e.videoCount;break;case 1006:j8b=this.cdr1x(m8e.songs,e8e.data.hlpretag,e8e.data.hlposttag);cI9z=m8e.songCount;break;case 1009:var sC4G=m8e.djRadios;if(!!sC4G){k8c.bf8X(sC4G,function(C8u,r8j,ces1x){C8u.xid=C8u.id;C8u.id=C8u.id+"_rad"});if(sC4G.length){this.th4l("radio_search-"+e8e.data.s,sC4G)}}cI9z=Math.min(m8e.djprogramCount,500);j8b=m8e.djprograms||[];if(e8e.data.isPub){k8c.or3x(sC4G,function(C8u,r8j,ces1x){C8u.stype=1;j8b.unshift(C8u)});cI9z=Math.min(j8b.length,500)}break}this.z8r("onsearchload",T8L);if(j8b&&j8b.length){for(var i=0;i<gx1x;i++){if(i<j8b.length){ih1x.push(j8b[i])}else{ih1x.push(null)}}}return{more:!0,total:Math.min(cI9z||0,rw4A.length<3?500:5e3),list:ih1x}},onerror:function(T8L,e8e){e8e.onload(e8e,[]);if(k8c.hf1x(e8e.onerror)){e8e.onerror(T8L)}}}});q8i.HZ9Q=NEJ.C();b8h=q8i.HZ9Q.M8E(q8i.if1x);b8h.cC9t=function(){this.cK9B()};b8h.cet1x=function(K8C,e8e){if(!K8C)return;if(!!this.cdj1x)v8n.lk2x(this.cdj1x);this.cdj1x=this.cp9g("search-suggest",NEJ.X({data:{s:K8C,limit:8}},e8e))};b8h.cey1x=function(K8C,e8e){if(!K8C)return;this.cp9g("search-multimatch",NEJ.X({data:{s:K8C}},e8e))};b8h.cdr1x=function(){var cez1x=function(ie1x,cdg1x,cdf1x){var ceH1x=ie1x.match(new RegExp(cdg1x+"(.+?)"+cdf1x,"gi")),cn9e=0;k8c.bf8X(ceH1x,function(p8h){cn9e+=p8h.replace(new RegExp(cdg1x,"g"),"").replace(new RegExp(cdf1x,"g"),"").length});return cn9e};return function(jB1x,ceM1x,ceR1x){var ccD1x=[];k8c.bf8X(jB1x,function(bn8f,bc8U){bn8f=l8d.Ap6j(bn8f);var bar4v=bn8f.lyrics||[],do9f=bar4v.length,kz2x=0,cI9z=4,bas4w={l:0,v:0},bDw4A;if(do9f>4){k8c.bf8X(bar4v,function(ie1x,r8j){var ccy1x=cez1x(ie1x,ceM1x,ceR1x);if(ccy1x>bas4w.v){bas4w.v=ccy1x;bas4w.l=r8j}});kz2x=bas4w.l;kz2x=Math.max(kz2x,0);bDw4A=do9f-kz2x-4;if(bDw4A<0)kz2x+=bDw4A;bn8f.lrcAbstractEnd=kz2x+cI9z-1}else{bn8f.lrcAbstractEnd=do9f-1}bn8f.lrcAbstractStart=kz2x;bn8f.indexId=(bar4v&&bar4v.length?"L":"NL")+bn8f.id;ccD1x.push(bn8f)});return ccD1x}}();b8h.cek1x=function(t8l){switch(t8l){case 1:return"song";break;case 100:return"artist";break;case 10:return"album";break;case 1004:return"mv";break;case 1014:return"video";break;case 1006:return"lyric";break;case 1e3:return"list";break;case 1009:return"djradio";break;case 1002:return"user";break;default:return"suggest";break}}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),v8n=c8g("nej.j"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),E8w=c8g("nm.m"),n8f=c8g("nm.l"),dD0x=c8g("nm.i"),N8F=c8g("nm.m.sch"),b8h,L8D;var baB4F={songs:1,artists:100,albums:10,playlists:1e3,mvs:1004};N8F.ZV4Z=NEJ.C();b8h=N8F.ZV4Z.M8E(G8y.cO9F);b8h.cC9t=function(g8c){this.cK9B();this.bY9P(g8c);this.U8M=q8i.HZ9Q.fW0x()};b8h.bY9P=function(g8c){this.o8g=g8c;var j8b=a7h.F8x(g8c,"j-flag");this.fn0x=j8b[0];this.bDv4z=j8b[1];this.cH9y=j8b[2];this.nT3x=j8b[3];h8b.s8k(this.fn0x,"input",this.gE1x.f8d(this));h8b.s8k(this.fn0x,"keyup",this.gE1x.f8d(this));h8b.s8k(this.fn0x,"focus",this.ht1x.f8d(this));h8b.s8k(this.bDv4z,"click",this.ht1x.f8d(this));h8b.s8k(this.fn0x,"blur",this.bDu4y.f8d(this));h8b.s8k(this.cH9y,"click",this.baS5X.f8d(this));h8b.s8k(this.o8g,"keydown",this.bDt4x.f8d(this));h8b.s8k(this.o8g,"keypress",this.baU5Z.f8d(this));h8b.s8k(this.nT3x,"mouseover",this.Zz4D.f8d(this));h8b.s8k(this.nT3x,"mouseout",this.Zz4D.f8d(this));if(this.fn0x.value){this.fn0x.value=""}if(this.fn0x.style.opacity!=null){this.fn0x.style.opacity=1}};b8h.gE1x=function(d8f){if(d8f.type=="keyup"&&d8f.keyCode==8||d8f.keyCode==46){this.IF9w()}else if(d8f.type=="input"||d8f.type=="propertychange"){setTimeout(this.IF9w.f8d(this),0)}};b8h.ht1x=function(){this.BE7x(this.bDv4z,!1);a7h.w8o(this.o8g,"m-srch-fcs");this.fn0x.focus();this.IF9w();a7h.w8o((a7h.F8x("g-topbar","j-showoff")||[])[0],"f-hide")};b8h.bDu4y=function(){if(!this.fn0x.value){this.BE7x(this.bDv4z,!0)}var IH9y=a7h.F8x(this.nT3x,"slt");if(this.bba5f(this.nT3x)&&IH9y.length>0&&a7h.u8m(IH9y[0],"type")){var hO1x=IH9y[0].href;if(/#\/(song|album|artist|playlist)\?id=(\d+)/.test(hO1x)){window.log("search",{rid:RegExp.$2,type:RegExp.$1,keyword:this.fn0x.value})}this.bDs4w(IH9y[0].href)}this.BE7x(this.nT3x,!1);a7h.y8q(this.o8g,"m-srch-fcs")};b8h.BE7x=function(g8c,mV2x){a7h.bd8V(g8c,"display",!mV2x?"none":"")};b8h.bba5f=function(g8c){return a7h.dp9g(g8c,"display")!="none"};b8h.IF9w=function(){var ceZ1x=function(iJ1x){iJ1x=k8c.DM8E(iJ1x);var eH0x=this.o8g.clientWidth>250?41:17;if(l8d.So2x(iJ1x)>eH0x){iJ1x=l8d.FK8C(iJ1x,eH0x)+"..."}return k8c.dP0x(iJ1x)};var bbe5j=function(m8e){return m8e.songs&&m8e.songs.length||m8e.albums&&m8e.albums.length||m8e.artists&&m8e.artists.length||m8e.playlists&&m8e.playlists.length};var pv3x=function(vp5u,d8f){if(!l8d.bWo9f(this.fn0x)||l8d.lh2x(this.fn0x.value)){this.BE7x(this.nT3x,!1);return}d8f.keyword=k8c.dP0x(vp5u);var eg0x=a7h.cf9W("m-search-suggest",d8f,{mark:l8d.chq2x.eO0x(this,vp5u),cutStr:ceZ1x.f8d(this)}),vJ5O=d8f.result.order;this.nT3x.innerHTML=eg0x;this.BE7x(this.nT3x,bbe5j(d8f.result)?!0:!1);if(!!vJ5O&&!!vJ5O.length&&baB4F[vJ5O[0]]){this.bDk4o={keyword:vp5u,type:baB4F[vJ5O[0]]}}};var cfg1x=function(){this.BE7x(this.nT3x,!1);return};return function(){var C8u=this.fn0x.value;if(l8d.lh2x(C8u)){this.BE7x(this.nT3x,!1);return}this.U8M.cet1x(C8u,{onload:pv3x.f8d(this,C8u),onForbidden:cfg1x.f8d(this)})}}();b8h.baU5Z=function(d8f){if(d8f.keyCode!=13)return;var IH9y=a7h.F8x(this.nT3x,"slt");if(this.bba5f(this.nT3x)&&IH9y.length>0){this.bDs4w(IH9y[0].href);this.BE7x(this.nT3x,!1);return}this.baS5X();this.BE7x(this.nT3x,!1)};b8h.bDt4x=function(d8f){if(!this.bba5f(this.nT3x))return;var j8b=a7h.F8x(this.nT3x,"xtag"),do9f=j8b.length,r8j=k8c.du0x(j8b,function(p8h){return a7h.bG9x(p8h,"slt")});switch(d8f.keyCode){case 38:if(r8j>=0)a7h.y8q(j8b[r8j],"slt");a7h.w8o(j8b[r8j<=0?do9f-1:r8j-1],"slt");break;case 40:if(r8j>=0)a7h.y8q(j8b[r8j],"slt");a7h.w8o(j8b[(r8j+1)%do9f],"slt");break}};b8h.Zz4D=function(d8f){if(!this.bba5f(this.nT3x))return;var Zu4y,H8z=h8b.ba8S(d8f),j8b=a7h.F8x(this.nT3x,"xtag");if(H8z.tagName.toLowerCase()=="a")Zu4y=H8z;else if(H8z.parentNode.tagName.toLowerCase()=="a")Zu4y=H8z.parentNode;if(!Zu4y)return;k8c.bf8X(j8b,function(p8h){a7h.y8q(p8h,"slt");a7h.u8m(p8h,"type","")});if(d8f.type=="mouseout")return;a7h.w8o(Zu4y,"slt");a7h.u8m(Zu4y,"type","mouse")};b8h.baS5X=function(){var cZ9Q=location.hash,r8j=cZ9Q.indexOf("?"),bx9o=k8c.ha1x(cZ9Q.substring(r8j+1));bx9o.s=this.fn0x.value;if(l8d.lh2x(bx9o.s))return;if(!bx9o.type&&this.bDk4o&&this.bDk4o.keyword==bx9o.s){bx9o.type=this.bDk4o.type}this.bDs4w("/search/#/?"+k8c.cE9v(bx9o));this.fn0x.blur()};b8h.bDs4w=function(Z8R){if(location.dispatch2){location.dispatch2(Z8R)}else{location.href=Z8R}};N8F.ZV4Z.cfh1x=function(){var j8b=a7h.F8x(document.body,"j-suggest");k8c.bf8X(j8b,function(p8h){new N8F.ZV4Z(p8h)})};N8F.ZV4Z.cfh1x()})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,G8y=c8g("nej.ut"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),v8n=c8g("nej.j"),q8i=c8g("nm.d"),b8h;q8i.fD0x({"mv_artist-list":{url:"/api/artist/mvs",type:"get",format:function(T8L){return{total:T8L.size||0,list:T8L.mvs||[]}}},"album_artist-list":{url:"/api/artist/albums/{id}",type:"get",format:function(T8L){return{total:T8L.size||0,list:T8L.hotAlbums||[]}}},"ydcailing_post-list":{url:"/api/cailing/all",type:"POST",format:function(T8L){return T8L.result.songs}},"wo-list":{url:"/api/unicom/wo/content",format:function(T8L,e8e){if(e8e.offset==0){var qQ4U=T8L.data[0];this.z8r("onfirstload",qQ4U);T8L.data.splice(0,1);return T8L.data}else{return T8L.data}}}});q8i.IU9L=NEJ.C();b8h=q8i.IU9L.M8E(q8i.if1x);b8h.cC9t=function(){this.cK9B()};b8h.bDe4i=function(){var up5u="LOCAL_FLAG";return function(t8l,cfl1x){var i8a=this.JH9y(up5u,{});if(i8a[t8l]){return true}else{if(!cfl1x){i8a[t8l]=true;this.yx6r(up5u,i8a)}return false}}}()})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),k8c=c8g("nej.u"),P8H=c8g("nej.ut"),bDa4e;if(!!P8H.pe3x)return;P8H.pe3x=NEJ.C();bDa4e=P8H.pe3x.M8E(P8H.cO9F);bDa4e.bp8h=function(){var cfo1x=function(d8f){d8f.matched=d8f.source==d8f.target};return function(e8e){e8e.oncheck=e8e.oncheck||cfo1x;this.bq8i(e8e);this.bX9O=e8e.list;this.iZ1x=e8e.dataset||"id";this.lC2x=e8e.selected||"js-selected"}}();bDa4e.oY3x=function(C8u){var H8z,d8f={target:C8u};k8c.bf8X(this.bX9O,function(g8c){delete d8f.matched;d8f.source=a7h.u8m(g8c,this.iZ1x);this.z8r("oncheck",d8f);if(!d8f.matched){a7h.y8q(g8c,this.lC2x)}else{H8z=g8c;a7h.w8o(g8c,this.lC2x)}},this);return H8z}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,a7h=c8g("nej.e"),P8H=c8g("nej.ut"),qF4J;if(!!P8H.dq9h)return;P8H.dq9h=NEJ.C();qF4J=P8H.dq9h.M8E(P8H.cO9F);qF4J.cC9t=function(){this.jn1x={};this.cK9B();this.bK9B()};qF4J.bp8h=function(e8e){this.bq8i(e8e);this.bCX4b=e8e.umi||"";this.FI8A=e8e.dispatcher;this.Nd0x=e8e.composite||be8W;this.boO0x({onshow:this.fl0x.f8d(this),onhide:this.lc2x.f8d(this),onrefresh:this.eF0x.f8d(this),onmessage:this.sr4v.f8d(this),onbeforehide:this.cfp1x.f8d(this)})};qF4J.bC9t=function(){delete this.bCX4b;this.jn1x={};this.bH9y()};qF4J.wI5N=function(d8f){if(!!d8f)d8f.stopped=!0};qF4J.bK9B=bs8k;qF4J.fl0x=bs8k;qF4J.lc2x=bs8k;qF4J.eF0x=bs8k;qF4J.sr4v=bs8k;qF4J.cfp1x=bs8k;qF4J.oa3x=function(oe3x,bF9w,eE0x){this.FI8A.bCW4a({to:oe3x,mode:eE0x||0,data:bF9w,from:this.bCX4b})};qF4J.cWo1x=function(t8l,i8a){this.FI8A.FE8w(t8l,{from:this.bCX4b,data:i8a})};qF4J.cWn1x=function(){this.FI8A.oz3x.apply(this.FI8A,arguments)};qF4J.cfD1x=function(){return this.jn1x};a7h.bcd5i=function(){if(!!window.dispatcher){dispatcher.cbv0x.apply(dispatcher,arguments)}}})();
(function(){var c8g=NEJ.P,bs8k=NEJ.F,be8W=NEJ.O,a7h=c8g("nej.e"),k8c=c8g("nej.u"),P8H=c8g("nej.ut"),Bd7W;if(!!P8H.dv0x)return;P8H.dv0x=NEJ.C();Bd7W=P8H.dv0x.M8E(P8H.dq9h);Bd7W.cfN1x=function(e8e){var bJ9A;if(!bJ9A){var i8a=e8e.input||be8W;bJ9A=a7h.A8s(i8a.parent)}if(!bJ9A){var i8a=e8e.data||be8W;bJ9A=a7h.A8s(i8a.parent)}if(!bJ9A){bJ9A=a7h.A8s(e8e.parent)}return bJ9A};Bd7W.fl0x=function(e8e){var bJ9A=this.cfN1x(e8e);if(!!bJ9A&&!!this.o8g)bJ9A.appendChild(this.o8g);this.gV1x(e8e);this.cbp0x("onshow",e8e);this.eF0x(e8e)};Bd7W.eF0x=function(e8e){this.gn0x(e8e);this.cbp0x("onrefresh",e8e)};Bd7W.lc2x=function(){this.lX2x();this.cfX1x();a7h.nq3x(this.o8g)};Bd7W.cbj0x=function(){var ho1x=/^onshow|onrefresh|delay$/;return function(co9f){return ho1x.test(co9f)}}();Bd7W.cbh0x=bs8k;Bd7W.cbp0x=function(){var cbg0x=function(bx9o,e8e,co9f,pm3x){if(this.cbj0x(pm3x))return;if(!!bx9o)co9f+=(co9f.indexOf("?")>1?"&":"?")+bx9o;var cY9P=this.cbh0x(pm3x,e8e)||{};cY9P.location=e8e;cY9P.parent=this.jn1x[pm3x];this.FI8A.ji1x(co9f,{input:cY9P})};return function(t8l,e8e){if(!e8e.nodelay){if(!!this.Nd0x.delay)return;var cbf0x=this.Nd0x[t8l]||be8W;if(cbf0x.delay)return}var bx9o=k8c.cE9v(e8e.param)||"";if(t8l=="onrefresh"){k8c.eR0x(this.Nd0x,cbg0x.f8d(this,bx9o,e8e))}k8c.eR0x(cbf0x,cbg0x.f8d(this,bx9o,e8e))}}();Bd7W.cfX1x=function(){var DE7x=function(co9f,pm3x){if(!this.cbj0x(pm3x))this.FI8A.bu9l(co9f)};return function(){k8c.eR0x(this.Nd0x,DE7x,this);k8c.eR0x(this.Nd0x.onshow,DE7x,this);k8c.eR0x(this.Nd0x.onrefresh,DE7x,this)}}()})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),G8y=c8g("nej.ut"),v8n=c8g("nej.j"),k8c=c8g("nej.u"),E8w=c8g("nm.m"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),b8h,L8D;E8w.Ze4i=NEJ.C();b8h=E8w.Ze4i.M8E(G8y.cO9F);b8h.cC9t=function(){this.cK9B();this.o8g=a7h.A8s("g-topbar");var j8b=a7h.F8x(this.o8g,"j-tflag");this.bCN4R=j8b[0];this.JZ9Q=j8b[1];this.cbd0x=j8b[2];this.bCM4Q=j8b[3];this.cgq1x=G8y.pe3x.B8t({list:this.bCN4R.getElementsByTagName("a"),selected:"z-slt",dataset:"module"});this.bCL4P=G8y.pe3x.B8t({list:this.bCM4Q.getElementsByTagName("a"),selected:"z-slt",dataset:"module"});this.bZ9Q([[this.o8g,"click",this.Zb4f.f8d(this)],[this.JZ9Q,"click",this.cR9I.f8d(this)],[this.JZ9Q,"mouseout",this.caZ0x.f8d(this,0)],[this.JZ9Q,"mouseover",this.caZ0x.f8d(this,1)]]);window.scrollTopbar=this.cgr1x.f8d(this);window.matchNav=this.caX0x.f8d(this);window.polling=this.wX5c.f8d(this);this.bCJ4N=q8i.IU9L.B8t();this.cgw2x();this.MZ0x();var bx9o=k8c.ha1x(location.href.split("?")[1])||{};if(bx9o.market){a7h.A8s("topbar-download-link").href="/download?market="+bx9o.market}var bCH4L=a7h.F8x(this.o8g,"j-showoff");if(bCH4L&&!this.bCJ4N.bDe4i("newMvSearch")){a7h.y8q(bCH4L[0],"f-hide");window.setTimeout(function(){a7h.w8o(bCH4L[0],"f-hide")},5e3)}l8d.kl2x()};b8h.wX5c=function(d8f){var cZ9Q=l8d.NM0x();if(!/^\/msg/.test(cZ9Q)){var zm6g=0;zm6g+=d8f.comment;zm6g+=d8f.forward;zm6g+=d8f.msg;zm6g+=d8f.notice;if(zm6g>0){zm6g=zm6g>99?"99+":zm6g;this.YU4Y.innerText=zm6g;this.MY0x.innerText=zm6g;a7h.y8q(this.YU4Y,"f-hide");a7h.y8q(this.MY0x,"f-hide");this.bdb5g=true}else{a7h.w8o(this.YU4Y,"f-hide");a7h.w8o(this.MY0x,"f-hide");this.bdb5g=false}var fm0x="/at";if(d8f.notice)fm0x="/notify";if(d8f.comment)fm0x="/comment";if(d8f.msg>0)fm0x="/private";if(d8f.forward>0)fm0x="/at";this.MY0x.parentNode.href="/msg/#"+fm0x}else{this.MY0x.parentNode.href="javascript:;";a7h.w8o(this.YU4Y,"f-hide");a7h.w8o(this.MY0x,"f-hide");this.bdb5g=false}var j8b=a7h.F8x(this.bCN4R,"j-t");if(!/^\/friend/.test(cZ9Q)){if(j8b&&j8b.length){a7h.bd8V(j8b[0],"display",d8f.event>0?"":"none")}}else{a7h.bd8V(j8b[0],"display","none")}};b8h.cR9I=function(d8f){var g8c=h8b.ba8S(d8f,"d:action");if(g8c){switch(a7h.u8m(g8c,"action")){case"login":h8b.cu9l(d8f);var t8l=a7h.u8m(g8c,"type");if(t8l){if(t8l=="sina"||t8l=="tencent"){this.Fr8j=g8c.href;l8d.Gf8X(this.lx2x.f8d(this));this.YS4W=top.open()}else top.login(t8l=="mobile"?0:3)}else{top.login()}break;case"logout":h8b.cu9l(d8f);top.logout();break;case"viewStore":if(!this.bCJ4N.bDe4i("storeNew")){a7h.w8o(this.cVX1x,"f-vhide")}break;case"viewLevel":if(!this.bCJ4N.bDe4i("levelNew")){a7h.w8o(this.cVK1x,"f-vhide")}break}}};b8h.lx2x=function(cs9j){this.Fr8j+="&checkToken="+cs9j||"";this.YS4W.location.href=this.Fr8j};b8h.Zb4f=function(d8f){var g8c=h8b.ba8S(d8f,"d:action");if(!g8c)return;var X8P=a7h.u8m(g8c,"action");switch(X8P){case"bilog":var bCy4C=a7h.u8m(g8c,"logAction"),bCx4B=a7h.u8m(g8c,"logJson");window.log(bCy4C,bCx4B);break}};b8h.caZ0x=function(MX0x,d8f){if(this.bCw3x){this.bCw3x.style.display=!MX0x?"none":"";(MX0x||!this.bdb5g?a7h.w8o:a7h.y8q).call(window,this.YU4Y,"f-hide")}};b8h.cgr1x=function(gw1x){a7h.bd8V(this.o8g,"top",-gw1x+"px")};b8h.caX0x=function(fm0x,chC2x){this.cgq1x.oY3x(fm0x);if(fm0x=="discover"){a7h.w8o(this.cbd0x,"f-hide");a7h.y8q(this.bCM4Q,"f-hide");window.g_topBarHeight=105;this.bCL4P.oY3x(chC2x)}else{a7h.y8q(this.cbd0x,"f-hide");a7h.w8o(this.bCM4Q,"f-hide");window.g_topBarHeight=75}};b8h.cgw2x=function(){var eI0x=a7h.A8s("g_iframe");if(!eI0x)return;var gU1x=eI0x.contentWindow.document.getElementById("g_top");this.caX0x(a7h.u8m(gU1x,"module"),a7h.u8m(gU1x,"sub"))};var bdJ5O={},cak0x=/\/\/\w+/,chD2x={avatarUrl:function(a,b){a=a||"";b=b||"";return a.replace(cak0x,"")!==b.replace(cak0x,"")},userId:true,nickname:true,reward:true,topic:true,djStatus:true};b8h.chH2x=function(xg5l){var pi3x=k8c.du0x(chD2x,function(C8u,K8C){if(k8c.hf1x(C8u)){return C8u(xg5l[K8C],bdJ5O[K8C])}else{return xg5l[K8C]!==bdJ5O[K8C]}});bdJ5O=xg5l;return xg5l[pi3x]};b8h.MZ0x=function(){var dz0x=GUser||{},chI2x=GUserAcc||{};if(dz0x&&dz0x.userId){var cad0x=NEJ.X(dz0x,chI2x);if(this.chH2x(cad0x)){a7h.dI0x(this.JZ9Q,"m-topbar-user-login",cad0x)}}else{bdJ5O={};this.JZ9Q.innerHTML=a7h.iN1x("m-topbar-user-unlogin");var j8b=a7h.F8x(this.bCN4R,"j-t");a7h.bd8V(j8b[0],"display","none")}a7h.y8q(this.JZ9Q,"f-hide");this.bdb5g=false;var j8b=a7h.F8x(this.JZ9Q,"j-uflag");if(dz0x&&dz0x.userId){this.YU4Y=j8b.shift();this.bCw3x=j8b.shift();this.MY0x=j8b.shift()}else{this.bCw3x=j8b.shift()}}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,h8b=c8g("nej.v"),G8y=c8g("nej.ut"),q8i=c8g("nm.d"),b8h,L8D;q8i.fD0x({"polling-get":{type:"GET",url:"/api/pl/count",format:function(T8L){h8b.z8r(q8i.uS5X,"message",T8L)}}});q8i.uS5X=NEJ.C();b8h=q8i.uS5X.M8E(q8i.if1x);b8h.bea6U=function(){this.cp9g("polling-get",{})};b8h.xk5p=function(){var et0x;return function(){if(!!et0x)return;et0x=window.setInterval(this.bea6U.f8d(this),1e5);this.bea6U()}}();G8y.fV0x.B8t({event:"message",element:q8i.uS5X})})();
var io="undefined"===typeof module?{}:module.exports;(function(){(function(exports,global){var io=exports;io.version="0.9.16";io.protocol=1;io.transports=[];io.j=[];io.sockets={};io.connect=function(host,details){var uri=io.util.parseUri(host),uuri,socket;if(global&&global.location){uri.protocol=uri.protocol||global.location.protocol.slice(0,-1);uri.host=uri.host||(global.document?global.document.domain:global.location.hostname);uri.port=uri.port||global.location.port}uuri=io.util.uniqueUri(uri);var options={host:uri.host,secure:"https"==uri.protocol,port:uri.port||("https"==uri.protocol?443:80),query:uri.query||""};io.util.merge(options,details);if(options["force new connection"]||!io.sockets[uuri]){socket=new io.Socket(options)}if(!options["force new connection"]&&socket){io.sockets[uuri]=socket}socket=socket||io.sockets[uuri];return socket.of(uri.path.length>1?uri.path:"")}})("object"===typeof module?module.exports:this.io={},this);(function(exports,global){var util=exports.util={};var re=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;var parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];util.parseUri=function(str){var m=re.exec(str||""),uri={},i=14;while(i--){uri[parts[i]]=m[i]||""}return uri};util.uniqueUri=function(uri){var protocol=uri.protocol,host=uri.host,port=uri.port;if("document"in global){host=host||document.domain;port=port||(protocol=="https"&&document.location.protocol!=="https:"?443:document.location.port)}else{host=host||"localhost";if(!port&&protocol=="https"){port=443}}return(protocol||"http")+"://"+host+":"+(port||80)};util.query=function(base,addition){var query=util.chunkQuery(base||""),components=[];util.merge(query,util.chunkQuery(addition||""));for(var part in query){if(query.hasOwnProperty(part)){components.push(part+"="+query[part])}}return components.length?"?"+components.join("&"):""};util.chunkQuery=function(qs){var query={},params=qs.split("&"),i=0,l=params.length,kv;for(;i<l;++i){kv=params[i].split("=");if(kv[0]){query[kv[0]]=kv[1]}}return query};var pageLoaded=false;util.load=function(fn){if("document"in global&&document.readyState==="complete"||pageLoaded){return fn()}util.on(global,"load",fn,false)};util.on=function(element,event,fn,capture){if(element.attachEvent){element.attachEvent("on"+event,fn)}else if(element.addEventListener){element.addEventListener(event,fn,capture)}};util.request=function(xdomain){if(xdomain&&"undefined"!=typeof XDomainRequest&&!util.ua.hasCORS){return new XDomainRequest}if("undefined"!=typeof XMLHttpRequest&&(!xdomain||util.ua.hasCORS)){return new XMLHttpRequest}if(!xdomain){try{return new(window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}return null};if("undefined"!=typeof window){util.load(function(){pageLoaded=true})}util.defer=function(fn){if(!util.ua.webkit||"undefined"!=typeof importScripts){return fn()}util.load(function(){setTimeout(fn,100)})};util.merge=function merge(target,additional,deep,lastseen){var seen=lastseen||[],depth=typeof deep=="undefined"?2:deep,prop;for(prop in additional){if(additional.hasOwnProperty(prop)&&util.indexOf(seen,prop)<0){if(typeof target[prop]!=="object"||!depth){target[prop]=additional[prop];seen.push(additional[prop])}else{util.merge(target[prop],additional[prop],depth-1,seen)}}}return target};util.mixin=function(ctor,ctor2){util.merge(ctor.prototype,ctor2.prototype)};util.inherit=function(ctor,ctor2){function f(){}f.prototype=ctor2.prototype;ctor.prototype=new f};util.isArray=Array.isArray||function(obj){return Object.prototype.toString.call(obj)==="[object Array]"};util.intersect=function(arr,arr2){var ret=[],longest=arr.length>arr2.length?arr:arr2,shortest=arr.length>arr2.length?arr2:arr;for(var i=0,l=shortest.length;i<l;i++){if(~util.indexOf(longest,shortest[i]))ret.push(shortest[i])}return ret};util.indexOf=function(arr,o,i){for(var j=arr.length,i=i<0?i+j<0?0:i+j:i||0;i<j&&arr[i]!==o;i++){}return j<=i?-1:i};util.toArray=function(enu){var arr=[];for(var i=0,l=enu.length;i<l;i++)arr.push(enu[i]);return arr};util.ua={};util.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(e){return false}return a.withCredentials!=undefined}();util.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);util.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.exports,this);(function(exports,io){exports.EventEmitter=EventEmitter;function EventEmitter(){}EventEmitter.prototype.on=function(name,fn){if(!this.$events){this.$events={}}if(!this.$events[name]){this.$events[name]=fn}else if(io.util.isArray(this.$events[name])){this.$events[name].push(fn)}else{this.$events[name]=[this.$events[name],fn]}return this};EventEmitter.prototype.addListener=EventEmitter.prototype.on;EventEmitter.prototype.once=function(name,fn){var self=this;function on(){self.removeListener(name,on);fn.apply(this,arguments)}on.listener=fn;this.on(name,on);return this};EventEmitter.prototype.removeListener=function(name,fn){if(this.$events&&this.$events[name]){var list=this.$events[name];if(io.util.isArray(list)){var pos=-1;for(var i=0,l=list.length;i<l;i++){if(list[i]===fn||list[i].listener&&list[i].listener===fn){pos=i;break}}if(pos<0){return this}list.splice(pos,1);if(!list.length){delete this.$events[name]}}else if(list===fn||list.listener&&list.listener===fn){delete this.$events[name]}}return this};EventEmitter.prototype.removeAllListeners=function(name){if(name===undefined){this.$events={};return this}if(this.$events&&this.$events[name]){this.$events[name]=null}return this};EventEmitter.prototype.listeners=function(name){if(!this.$events){this.$events={}}if(!this.$events[name]){this.$events[name]=[]}if(!io.util.isArray(this.$events[name])){this.$events[name]=[this.$events[name]]}return this.$events[name]};EventEmitter.prototype.emit=function(name){if(!this.$events){return false}var handler=this.$events[name];if(!handler){return false}var args=Array.prototype.slice.call(arguments,1);if("function"==typeof handler){handler.apply(this,args)}else if(io.util.isArray(handler)){var listeners=handler.slice();for(var i=0,l=listeners.length;i<l;i++){listeners[i].apply(this,args)}}else{return false}return true}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(exports,nativeJSON){"use strict";if(nativeJSON&&nativeJSON.parse){return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify}}var JSON=exports.JSON={};function f(n){return n<10?"0"+n:n}function date(d,key){return isFinite(d.valueOf())?d.getUTCFullYear()+"-"+f(d.getUTCMonth()+1)+"-"+f(d.getUTCDate())+"T"+f(d.getUTCHours())+":"+f(d.getUTCMinutes())+":"+f(d.getUTCSeconds())+"Z":null}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value instanceof Date){value=date(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else if(typeof space==="string"){indent=space}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})};JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}})("undefined"!=typeof io?io:module.exports,typeof JSON!=="undefined"?JSON:undefined);(function(exports,io){var parser=exports.parser={};var packets=parser.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"];var reasons=parser.reasons=["transport not supported","client not handshaken","unauthorized"];var advice=parser.advice=["reconnect"];var JSON=io.JSON,indexOf=io.util.indexOf;parser.encodePacket=function(packet){var type=indexOf(packets,packet.type),id=packet.id||"",endpoint=packet.endpoint||"",ack=packet.ack,data=null;switch(packet.type){case"error":var reason=packet.reason?indexOf(reasons,packet.reason):"",adv=packet.advice?indexOf(advice,packet.advice):"";if(reason!==""||adv!=="")data=reason+(adv!==""?"+"+adv:"");break;case"message":if(packet.data!=="")data=packet.data;break;case"event":var ev={name:packet.name};if(packet.args&&packet.args.length){ev.args=packet.args}data=JSON.stringify(ev);break;case"json":data=JSON.stringify(packet.data);break;case"connect":if(packet.qs)data=packet.qs;break;case"ack":data=packet.ackId+(packet.args&&packet.args.length?"+"+JSON.stringify(packet.args):"");break}var encoded=[type,id+(ack=="data"?"+":""),endpoint];if(data!==null&&data!==undefined)encoded.push(data);return encoded.join(":")};parser.encodePayload=function(packets){var decoded="";if(packets.length==1)return packets[0];for(var i=0,l=packets.length;i<l;i++){var packet=packets[i];decoded+="�"+packet.length+"�"+packets[i]}return decoded};var regexp=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;parser.decodePacket=function(data){var pieces=data.match(regexp);if(!pieces)return{};var id=pieces[2]||"",data=pieces[5]||"",packet={type:packets[pieces[1]],endpoint:pieces[4]||""};if(id){packet.id=id;if(pieces[3])packet.ack="data";else packet.ack=true}switch(packet.type){case"error":var pieces=data.split("+");packet.reason=reasons[pieces[0]]||"";packet.advice=advice[pieces[1]]||"";break;case"message":packet.data=data||"";break;case"event":try{var opts=JSON.parse(data);packet.name=opts.name;packet.args=opts.args}catch(e){}packet.args=packet.args||[];break;case"json":try{packet.data=JSON.parse(data)}catch(e){}break;case"connect":packet.qs=data||"";break;case"ack":var pieces=data.match(/^([0-9]+)(\+)?(.*)/);if(pieces){packet.ackId=pieces[1];packet.args=[];if(pieces[3]){try{packet.args=pieces[3]?JSON.parse(pieces[3]):[]}catch(e){}}}break;case"disconnect":case"heartbeat":break}return packet};parser.decodePayload=function(data){if(data.charAt(0)=="�"){var ret=[];for(var i=1,length="";i<data.length;i++){if(data.charAt(i)=="�"){ret.push(parser.decodePacket(data.substr(i+1).substr(0,length)));i+=Number(length)+1;length=""}else{length+=data.charAt(i)}}return ret}else{return[parser.decodePacket(data)]}}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(exports,io){exports.Transport=Transport;function Transport(socket,sessid){this.socket=socket;this.sessid=sessid}io.util.mixin(Transport,io.EventEmitter);Transport.prototype.heartbeats=function(){return true};Transport.prototype.onData=function(data){this.clearCloseTimeout();if(this.socket.connected||this.socket.connecting||this.socket.reconnecting){this.setCloseTimeout()}if(data!==""){var msgs=io.parser.decodePayload(data);if(msgs&&msgs.length){for(var i=0,l=msgs.length;i<l;i++){this.onPacket(msgs[i])}}}return this};Transport.prototype.onPacket=function(packet){this.socket.setHeartbeatTimeout();if(packet.type=="heartbeat"){return this.onHeartbeat()}if(packet.type=="connect"&&packet.endpoint==""){this.onConnect()}if(packet.type=="error"&&packet.advice=="reconnect"){this.isOpen=false}this.socket.onPacket(packet);return this};Transport.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var self=this;this.closeTimeout=setTimeout(function(){self.onDisconnect()},this.socket.closeTimeout)}};Transport.prototype.onDisconnect=function(){if(this.isOpen)this.close();this.clearTimeouts();this.socket.onDisconnect();return this};Transport.prototype.onConnect=function(){this.socket.onConnect();return this};Transport.prototype.clearCloseTimeout=function(){if(this.closeTimeout){clearTimeout(this.closeTimeout);this.closeTimeout=null}};Transport.prototype.clearTimeouts=function(){this.clearCloseTimeout();if(this.reopenTimeout){clearTimeout(this.reopenTimeout)}};Transport.prototype.packet=function(packet){this.send(io.parser.encodePacket(packet))};Transport.prototype.onHeartbeat=function(heartbeat){this.packet({type:"heartbeat"})};Transport.prototype.onOpen=function(){this.isOpen=true;this.clearCloseTimeout();this.socket.onOpen()};Transport.prototype.onClose=function(){var self=this;this.isOpen=false;this.socket.onClose();this.onDisconnect()};Transport.prototype.prepareUrl=function(){var options=this.socket.options;return this.scheme()+"://"+options.host+":"+options.port+"/"+options.resource+"/"+io.protocol+"/"+this.name+"/"+this.sessid};Transport.prototype.ready=function(socket,fn){fn.call(this)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(exports,io,global){exports.Socket=Socket;function Socket(options){this.options={port:80,secure:false,document:"document"in global?document:false,resource:"socket.io",transports:io.transports,"connect timeout":1e4,"try multiple transports":true,reconnect:true,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":false,"auto connect":true,"flash policy port":10843,manualFlush:false};io.util.merge(this.options,options);this.connected=false;this.open=false;this.connecting=false;this.reconnecting=false;this.namespaces={};this.buffer=[];this.doBuffer=false;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||io.util.ua.hasCORS)){var self=this;io.util.on(global,"beforeunload",function(){self.disconnectSync()},false)}if(this.options["auto connect"]){this.connect()}}io.util.mixin(Socket,io.EventEmitter);Socket.prototype.of=function(name){if(!this.namespaces[name]){this.namespaces[name]=new io.SocketNamespace(this,name);if(name!==""){this.namespaces[name].packet({type:"connect"})}}return this.namespaces[name]};Socket.prototype.publish=function(){this.emit.apply(this,arguments);var nsp;for(var i in this.namespaces){if(this.namespaces.hasOwnProperty(i)){nsp=this.of(i);nsp.$emit.apply(nsp,arguments)}}};function empty(){}Socket.prototype.handshake=function(fn){var self=this,options=this.options;function complete(data){if(data instanceof Error){self.connecting=false;self.onError(data.message)}else{fn.apply(null,data.split(":"))}}var url=["http"+(options.secure?"s":"")+":/",options.host+":"+options.port,options.resource,io.protocol,io.util.query(this.options.query,"t="+ +(new Date))].join("/");if(this.isXDomain()&&!io.util.ua.hasCORS){var insertAt=document.getElementsByTagName("script")[0],script=document.createElement("script");script.src=url+"&jsonp="+io.j.length;insertAt.parentNode.insertBefore(script,insertAt);io.j.push(function(data){complete(data);script.parentNode.removeChild(script)})}else{var xhr=io.util.request();xhr.open("GET",url,true);if(this.isXDomain()){xhr.withCredentials=true}xhr.onreadystatechange=function(){if(xhr.readyState==4){xhr.onreadystatechange=empty;if(xhr.status==200){complete(xhr.responseText)}else if(xhr.status==403){self.onError(xhr.responseText)}else{self.connecting=false;!self.reconnecting&&self.onError(xhr.responseText)}}};xhr.send(null)}};Socket.prototype.getTransport=function(override){var transports=override||this.transports,match;for(var i=0,transport;transport=transports[i];i++){if(io.Transport[transport]&&io.Transport[transport].check(this)&&(!this.isXDomain()||io.Transport[transport].xdomainCheck(this))){return new io.Transport[transport](this,this.sessionid)}}return null};Socket.prototype.connect=function(fn){if(this.connecting&&this.transports!="jsonp-polling"){return this}var self=this;self.connecting=true;this.handshake(function(sid,heartbeat,close,transports){self.sessionid=sid;self.closeTimeout=close*1e3;self.heartbeatTimeout=heartbeat*1e3;var check=function(){return"WebSocket"in global&&!("__addTask"in WebSocket)||"MozWebSocket"in global};if(!check()){transports="jsonp-polling"}if(!self.transports)self.transports=self.origTransports=transports?io.util.intersect(transports.split(","),self.options.transports):self.options.transports;self.setHeartbeatTimeout();function connect(transports){if(self.transport)self.transport.clearTimeouts();self.transport=self.getTransport(transports);if(!self.transport)return self.publish("connect_failed");self.transport.ready(self,function(){self.connecting=true;self.publish("connecting",self.transport.name);self.transport.open();if(self.options["connect timeout"]){self.connectTimeoutTimer=setTimeout(function(){if(!self.connected){self.connecting=false;if(self.options["try multiple transports"]){var remaining=self.transports;while(remaining.length>0&&remaining.splice(0,1)[0]!=self.transport.name){}if(remaining.length){connect(remaining)}else{self.publish("connect_failed")}}}},self.options["connect timeout"])}})}connect(self.transports);self.once("connect",function(){clearTimeout(self.connectTimeoutTimer);fn&&typeof fn=="function"&&fn()})});return this};Socket.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);if(this.transport&&!this.transport.heartbeats())return;var self=this;this.heartbeatTimeoutTimer=setTimeout(function(){self.transport.onClose()},this.heartbeatTimeout)};Socket.prototype.packet=function(data){if(this.connected&&!this.doBuffer){this.transport.packet(data)}else{this.buffer.push(data)}return this};Socket.prototype.setBuffer=function(v){this.doBuffer=v;if(!v&&this.connected&&this.buffer.length){if(!this.options["manualFlush"]){this.flushBuffer()}}};Socket.prototype.flushBuffer=function(){this.transport.payload(this.buffer);this.buffer=[]};Socket.prototype.disconnect=function(){if(this.connected||this.connecting){if(this.open){this.of("").packet({type:"disconnect"})}this.onDisconnect("booted")}return this};Socket.prototype.disconnectSync=function(){var xhr=io.util.request();var uri=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,io.protocol,"",this.sessionid].join("/")+"/?disconnect=1";xhr.open("GET",uri,false);xhr.send(null);this.onDisconnect("booted")};Socket.prototype.isXDomain=function(){var port=global.location.port||("https:"==global.location.protocol?443:80);return this.options.host!==global.location.hostname||this.options.port!=port};Socket.prototype.onConnect=function(){if(!this.connected){this.connected=true;this.connecting=false;if(!this.doBuffer){this.setBuffer(false)}this.emit("connect")}};Socket.prototype.onOpen=function(){this.open=true};Socket.prototype.onClose=function(){this.open=false;clearTimeout(this.heartbeatTimeoutTimer)};Socket.prototype.onPacket=function(packet){this.of(packet.endpoint).onPacket(packet)};Socket.prototype.onError=function(err){if(err&&err.advice){if(err.advice==="reconnect"&&(this.connected||this.connecting)){this.disconnect();if(this.options.reconnect){this.reconnect()}}}this.publish("error",err&&err.reason?err.reason:err)};Socket.prototype.onDisconnect=function(reason){var wasConnected=this.connected,wasConnecting=this.connecting;this.connected=false;this.connecting=false;this.open=false;if(wasConnected||wasConnecting){this.transport.close();this.transport.clearTimeouts();if(wasConnected){this.publish("disconnect",reason);if("booted"!=reason&&this.options.reconnect&&!this.reconnecting){this.reconnect()}}}};Socket.prototype.reconnect=function(){this.reconnecting=true;this.reconnectionAttempts=0;this.reconnectionDelay=this.options["reconnection delay"];var self=this,maxAttempts=this.options["max reconnection attempts"],tryMultiple=this.options["try multiple transports"],limit=this.options["reconnection limit"];function reset(){if(self.connected){for(var i in self.namespaces){if(self.namespaces.hasOwnProperty(i)&&""!==i){self.namespaces[i].packet({type:"connect"})}}self.publish("reconnect",self.transport.name,self.reconnectionAttempts)}clearTimeout(self.reconnectionTimer);self.removeListener("connect_failed",maybeReconnect);self.removeListener("connect",maybeReconnect);self.reconnecting=false;delete self.reconnectionAttempts;delete self.reconnectionDelay;delete self.reconnectionTimer;delete self.redoTransports;self.options["try multiple transports"]=tryMultiple}function maybeReconnect(){if(!self.reconnecting){return}if(self.connected){return reset()}if(self.connecting&&self.reconnecting&&self.transports!="jsonp-polling"){return self.reconnectionTimer=setTimeout(maybeReconnect,1e3)}if(self.reconnectionAttempts++>=maxAttempts){if(!self.redoTransports){self.on("connect_failed",maybeReconnect);self.options["try multiple transports"]=true;self.transports=self.origTransports;self.transport=self.getTransport();self.redoTransports=true;self.connect()}else{self.publish("reconnect_failed");reset()}}else{if(self.reconnectionDelay<limit){self.reconnectionDelay*=2}self.connect();self.publish("reconnecting",self.reconnectionDelay,self.reconnectionAttempts);self.reconnectionTimer=setTimeout(maybeReconnect,self.reconnectionDelay)}}this.options["try multiple transports"]=false;this.reconnectionTimer=setTimeout(maybeReconnect,this.reconnectionDelay);this.on("connect",maybeReconnect)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(exports,io){exports.SocketNamespace=SocketNamespace;function SocketNamespace(socket,name){this.socket=socket;this.name=name||"";this.flags={};this.json=new Flag(this,"json");this.ackPackets=0;this.acks={}}io.util.mixin(SocketNamespace,io.EventEmitter);SocketNamespace.prototype.$emit=io.EventEmitter.prototype.emit;SocketNamespace.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};SocketNamespace.prototype.packet=function(packet){packet.endpoint=this.name;this.socket.packet(packet);this.flags={};return this};SocketNamespace.prototype.send=function(data,fn){var packet={type:this.flags.json?"json":"message",data:data};if("function"==typeof fn){packet.id=++this.ackPackets;packet.ack=true;this.acks[packet.id]=fn}return this.packet(packet)};SocketNamespace.prototype.emit=function(name){var args=Array.prototype.slice.call(arguments,1),lastArg=args[args.length-1],packet={type:"event",name:name};if("function"==typeof lastArg){packet.id=++this.ackPackets;packet.ack="data";this.acks[packet.id]=lastArg;args=args.slice(0,args.length-1)}packet.args=args;return this.packet(packet)};SocketNamespace.prototype.disconnect=function(){if(this.name===""){this.socket.disconnect()}else{this.packet({type:"disconnect"});this.$emit("disconnect")}return this};SocketNamespace.prototype.onPacket=function(packet){var self=this;function ack(){self.packet({type:"ack",args:io.util.toArray(arguments),ackId:packet.id})}switch(packet.type){case"connect":this.$emit("connect");break;case"disconnect":if(this.name===""){this.socket.onDisconnect(packet.reason||"booted")}else{this.$emit("disconnect",packet.reason)}break;case"message":case"json":var params=["message",packet.data];if(packet.ack=="data"){params.push(ack)}else if(packet.ack){this.packet({type:"ack",ackId:packet.id})}this.$emit.apply(this,params);break;case"event":var params=[packet.name].concat(packet.args);if(packet.ack=="data")params.push(ack);this.$emit.apply(this,params);break;case"ack":if(this.acks[packet.ackId]){this.acks[packet.ackId].apply(this,packet.args);delete this.acks[packet.ackId]}break;case"error":if(packet.advice){this.socket.onError(packet)}else{if(packet.reason=="unauthorized"){this.$emit("connect_failed",packet.reason)}else{this.$emit("error",packet.reason)}}break}};function Flag(nsp,name){this.namespace=nsp;this.name=name}Flag.prototype.send=function(){this.namespace.flags[this.name]=true;this.namespace.send.apply(this.namespace,arguments)};Flag.prototype.emit=function(){this.namespace.flags[this.name]=true;this.namespace.emit.apply(this.namespace,arguments)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(exports,io,global){exports.websocket=WS;function WS(socket){io.Transport.apply(this,arguments)}io.util.inherit(WS,io.Transport);WS.prototype.name="websocket";WS.prototype.open=function(){var query=io.util.query(this.socket.options.query),self=this,Socket;if(!Socket){Socket=global.MozWebSocket||global.WebSocket}this.websocket=new Socket(this.prepareUrl()+query);this.websocket.onopen=function(){self.onOpen();self.socket.setBuffer(false)};this.websocket.onmessage=function(ev){self.onData(ev.data)};this.websocket.onclose=function(){self.onClose();self.socket.setBuffer(true)};this.websocket.onerror=function(e){self.onError(e)};return this};if(io.util.ua.iDevice){WS.prototype.send=function(data){var self=this;setTimeout(function(){self.websocket.send(data)},0);return this}}else{WS.prototype.send=function(data){this.websocket.send(data);return this}}WS.prototype.payload=function(arr){for(var i=0,l=arr.length;i<l;i++){this.packet(arr[i])}return this};WS.prototype.close=function(){this.websocket.close();return this};WS.prototype.onError=function(e){this.socket.onError(e)};WS.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};WS.check=function(){return"WebSocket"in global&&!("__addTask"in WebSocket)||"MozWebSocket"in global};WS.xdomainCheck=function(){return true};io.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(exports,io){exports.flashsocket=Flashsocket;function Flashsocket(){io.Transport.websocket.apply(this,arguments)}io.util.inherit(Flashsocket,io.Transport.websocket);Flashsocket.prototype.name="flashsocket";Flashsocket.prototype.open=function(){var self=this,args=arguments;WebSocket.bec6W(function(){io.Transport.websocket.prototype.open.apply(self,args)});return this};Flashsocket.prototype.send=function(){var self=this,args=arguments;WebSocket.bec6W(function(){io.Transport.websocket.prototype.send.apply(self,args)});return this};Flashsocket.prototype.close=function(){WebSocket.Yy3x.length=0;io.Transport.websocket.prototype.close.call(this);return this};Flashsocket.prototype.ready=function(socket,fn){function init(){var options=socket.options,port=options["flash policy port"],path=["http"+(options.secure?"s":"")+":/",options.host+":"+options.port,options.resource,"static/flashsocket","WebSocketMain"+(socket.isXDomain()?"Insecure":"")+".swf"];if(!Flashsocket.loaded){if(typeof WEB_SOCKET_SWF_LOCATION==="undefined"){WEB_SOCKET_SWF_LOCATION=path.join("/")}if(port!==843){WebSocket.loadFlashPolicyFile("xmlsocket://"+options.host+":"+port)}WebSocket.bCn3x();Flashsocket.loaded=true}fn.call(self)}var self=this;if(document.body)return init();io.util.load(init)};Flashsocket.check=function(){if(typeof WebSocket=="undefined"||!("__initialize"in WebSocket)||!swfobject)return false;return swfobject.getFlashPlayerVersion().major>=10};Flashsocket.xdomainCheck=function(){return true};if(typeof window!="undefined"){WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=true}io.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);if("undefined"!=typeof window){var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O[["Active"].concat("Object").join("X")]!=D){try{var ad=new(window[["Active"].concat("Object").join("X")])(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if(typeof j.readyState!=D&&j.readyState=="complete"||typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body)){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);aa.style.visibility="hidden";var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||!/%$/.test(aa.width)&&parseInt(aa.width,10)<310){aa.width="310"}if(typeof aa.height==D||!/%$/.test(aa.height)&&parseInt(aa.height,10)<137){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?["Active"].concat("").join("X"):"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return Y[0]>X[0]||Y[0]==X[0]&&Y[1]>X[1]||Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=ad&&typeof ad=="string"?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring(Y[X].indexOf("=")+1))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}()}(function(){if("undefined"==typeof window||window.WebSocket)return;var console=window.console;if(!console||!console.log||!console.error){console={log:function(){},error:function(){}}}if(!swfobject.hasFlashPlayerVersion("10.0.0")){console.error("Flash Player >= 10.0.0 is required.");return}if(location.protocol=="file:"){console.error("WARNING: web-socket-js doesn't work in file:///... URL "+"unless you set Flash Security Settings properly. "+"Open the page via Web server i.e. http://...")}WebSocket=function(url,protocols,proxyHost,proxyPort,headers){var self=this;self.hD1x=WebSocket.chW2x++;WebSocket.bZP0x[self.hD1x]=self;self.readyState=WebSocket.CONNECTING;self.bufferedAmount=0;self.mM2x={};if(!protocols){protocols=[]}else if(typeof protocols=="string"){protocols=[protocols]}setTimeout(function(){WebSocket.bec6W(function(){WebSocket.ro4s.create(self.hD1x,url,protocols,proxyHost||null,proxyPort||0,headers||null)})},0)};WebSocket.prototype.send=function(data){if(this.readyState==WebSocket.CONNECTING){throw"INVALID_STATE_ERR: Web Socket connection has not been established"}var result=WebSocket.ro4s.send(this.hD1x,encodeURIComponent(data));if(result<0){return true}else{this.bufferedAmount+=result;return false}};WebSocket.prototype.close=function(){if(this.readyState==WebSocket.CLOSED||this.readyState==WebSocket.CLOSING){return}this.readyState=WebSocket.CLOSING;WebSocket.ro4s.close(this.hD1x)};WebSocket.prototype.addEventListener=function(type,listener,useCapture){if(!(type in this.mM2x)){this.mM2x[type]=[]}this.mM2x[type].push(listener)};WebSocket.prototype.removeEventListener=function(type,listener,useCapture){if(!(type in this.mM2x))return;var events=this.mM2x[type];for(var i=events.length-1;i>=0;--i){if(events[i]===listener){events.splice(i,1);break}}};WebSocket.prototype.dispatchEvent=function(event){var events=this.mM2x[event.type]||[];for(var i=0;i<events.length;++i){events[i](event)}var handler=this["on"+event.type];if(handler)handler(event)};WebSocket.prototype.cie2x=function(flashEvent){if("readyState"in flashEvent){this.readyState=flashEvent.readyState}if("protocol"in flashEvent){this.protocol=flashEvent.protocol}var jsEvent;if(flashEvent.type=="open"||flashEvent.type=="error"){jsEvent=this.bZH0x(flashEvent.type)}else if(flashEvent.type=="close"){jsEvent=this.bZH0x("close")}else if(flashEvent.type=="message"){var data=decodeURIComponent(flashEvent.message);jsEvent=this.cik2x("message",data)}else{throw"unknown event type: "+flashEvent.type}this.dispatchEvent(jsEvent)};WebSocket.prototype.bZH0x=function(type){if(document.createEvent&&window.Event){var event=document.createEvent("Event");event.initEvent(type,false,false);return event}else{return{type:type,bubbles:false,cancelable:false}}};WebSocket.prototype.cik2x=function(type,data){if(document.createEvent&&window.MessageEvent&&!window.opera){var event=document.createEvent("MessageEvent");event.initMessageEvent("message",false,false,data,null,null,window,null);return event}else{return{type:type,data:data,bubbles:false,cancelable:false}}};WebSocket.CONNECTING=0;WebSocket.OPEN=1;WebSocket.CLOSING=2;WebSocket.CLOSED=3;WebSocket.ro4s=null;WebSocket.bZP0x={};WebSocket.Yy3x=[];WebSocket.chW2x=0;WebSocket.loadFlashPolicyFile=function(url){WebSocket.bec6W(function(){WebSocket.ro4s.loadManualPolicyFile(url)})};WebSocket.bCn3x=function(){if(WebSocket.ro4s)return;if(WebSocket.cip2x){window.WEB_SOCKET_SWF_LOCATION=WebSocket.cip2x}if(!window.WEB_SOCKET_SWF_LOCATION){console.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");return}var container=document.createElement("div");container.id="webSocketContainer";container.style.position="absolute";if(WebSocket.ciq2x()){container.style.left="0px";container.style.top="0px"}else{container.style.left="-100px";container.style.top="-100px"}var holder=document.createElement("div");holder.id="webSocketFlash";container.appendChild(holder);document.body.appendChild(container);swfobject.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:true,swliveconnect:true,allowScriptAccess:"always"},null,function(e){if(!e.success){console.error("[WebSocket] swfobject.embedSWF failed")}})};WebSocket.cVA1x=function(){setTimeout(function(){WebSocket.ro4s=document.getElementById("webSocketFlash");WebSocket.ro4s.setCallerUrl(location.href);WebSocket.ro4s.setDebug(!!window.WEB_SOCKET_DEBUG);for(var i=0;i<WebSocket.Yy3x.length;++i){WebSocket.Yy3x[i]()}WebSocket.Yy3x=[]},0)};WebSocket.cVz1x=function(){setTimeout(function(){try{var events=WebSocket.ro4s.receiveEvents();for(var i=0;i<events.length;++i){WebSocket.bZP0x[events[i].webSocketId].cie2x(events[i])}}catch(e){console.error(e)}},0);return true};WebSocket.cVy1x=function(message){console.log(decodeURIComponent(message))};WebSocket.ed0x=function(message){console.error(decodeURIComponent(message))};WebSocket.bec6W=function(task){if(WebSocket.ro4s){task()}else{WebSocket.Yy3x.push(task)}};WebSocket.ciq2x=function(){if(!window.navigator||!window.navigator.mimeTypes){return false}var mimeType=window.navigator.mimeTypes["application/x-shockwave-flash"];if(!mimeType||!mimeType.enabledPlugin||!mimeType.enabledPlugin.filename){return false}return mimeType.enabledPlugin.filename.match(/flashlite/i)?true:false};if(!window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION){if(window.addEventListener){window.addEventListener("load",function(){WebSocket.bCn3x()},false)}else{window.attachEvent("onload",function(){WebSocket.bCn3x()})}}})();(function(exports,io,global){exports.XHR=XHR;function XHR(socket){if(!socket)return;io.Transport.apply(this,arguments);this.sendBuffer=[]}io.util.inherit(XHR,io.Transport);XHR.prototype.open=function(){this.socket.setBuffer(false);this.onOpen();this.get();this.setCloseTimeout();return this};XHR.prototype.payload=function(payload){var msgs=[];for(var i=0,l=payload.length;i<l;i++){msgs.push(io.parser.encodePacket(payload[i]))}this.send(io.parser.encodePayload(msgs))};XHR.prototype.send=function(data){this.post(data);return this};function empty(){}XHR.prototype.post=function(data){var self=this;this.socket.setBuffer(true);function stateChange(){if(this.readyState==4){this.onreadystatechange=empty;self.posting=false;if(this.status==200){self.socket.setBuffer(false)}else{self.onClose()}}}function onload(){this.onload=empty;self.socket.setBuffer(false)}this.sendXHR=this.request("POST");if(global.XDomainRequest&&this.sendXHR instanceof XDomainRequest){this.sendXHR.onload=this.sendXHR.onerror=onload}else{this.sendXHR.onreadystatechange=stateChange}this.sendXHR.send(data)};XHR.prototype.close=function(){this.onClose();return this};XHR.prototype.request=function(method){var req=io.util.request(this.socket.isXDomain()),query=io.util.query(this.socket.options.query,"t="+ +(new Date));req.open(method||"GET",this.prepareUrl()+query,true);if(method=="POST"){try{if(req.setRequestHeader){req.setRequestHeader("Content-type","text/plain;charset=UTF-8")}else{req.contentType="text/plain"}}catch(e){}}return req};XHR.prototype.scheme=function(){return this.socket.options.secure?"https":"http"};XHR.check=function(socket,xdomain){try{var request=io.util.request(xdomain),usesXDomReq=global.XDomainRequest&&request instanceof XDomainRequest,socketProtocol=socket&&socket.options&&socket.options.secure?"https:":"http:",isXProtocol=global.location&&socketProtocol!=global.location.protocol;if(request&&!(usesXDomReq&&isXProtocol)){return true}}catch(e){}return false};XHR.xdomainCheck=function(socket){return XHR.check(socket,true)}})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(exports,io){exports.htmlfile=HTMLFile;function HTMLFile(socket){io.Transport.XHR.apply(this,arguments)}io.util.inherit(HTMLFile,io.Transport.XHR);HTMLFile.prototype.name="htmlfile";HTMLFile.prototype.get=function(){this.doc=new(window[["Active"].concat("Object").join("X")])("htmlfile");this.doc.open();this.doc.write("<html></html>");this.doc.close();this.doc.parentWindow.s=this;var iframeC=this.doc.createElement("div");iframeC.className="socketio";this.doc.body.appendChild(iframeC);this.iframe=this.doc.createElement("iframe");iframeC.appendChild(this.iframe);var self=this,query=io.util.query(this.socket.options.query,"t="+ +(new Date));this.iframe.src=this.prepareUrl()+query;io.util.on(window,"unload",function(){self.destroy()})};HTMLFile.prototype.c8g=function(data,doc){data=data.replace(/\\\//g,"/");this.onData(data);try{var script=doc.getElementsByTagName("script")[0];script.parentNode.removeChild(script)}catch(e){}};HTMLFile.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(e){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};HTMLFile.prototype.close=function(){this.destroy();return io.Transport.XHR.prototype.close.call(this)};HTMLFile.check=function(socket){if(typeof window!="undefined"&&["Active"].concat("Object").join("X")in window){try{var a=new(window[["Active"].concat("Object").join("X")])("htmlfile");return a&&io.Transport.XHR.check(socket)}catch(e){}}return false};HTMLFile.xdomainCheck=function(){return false};io.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(exports,io,global){exports["xhr-polling"]=XHRPolling;function XHRPolling(){io.Transport.XHR.apply(this,arguments)}io.util.inherit(XHRPolling,io.Transport.XHR);io.util.merge(XHRPolling,io.Transport.XHR);XHRPolling.prototype.name="xhr-polling";XHRPolling.prototype.heartbeats=function(){return false};XHRPolling.prototype.open=function(){var self=this;io.Transport.XHR.prototype.open.call(self);return false};function empty(){}XHRPolling.prototype.get=function(){if(!this.isOpen)return;var self=this;function stateChange(){if(this.readyState==4){this.onreadystatechange=empty;if(this.status==200){self.onData(this.responseText);self.get()}else{self.onClose()}}}function onload(){this.onload=empty;this.onerror=empty;self.retryCounter=1;self.onData(this.responseText);self.get()}function onerror(){self.retryCounter++;if(!self.retryCounter||self.retryCounter>3){self.onClose()}else{self.get()}}this.xhr=this.request();if(global.XDomainRequest&&this.xhr instanceof XDomainRequest){this.xhr.onload=onload;this.xhr.onerror=onerror}else{this.xhr.onreadystatechange=stateChange}this.xhr.send(null)};XHRPolling.prototype.onClose=function(){io.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=empty;try{this.xhr.abort()}catch(e){}this.xhr=null}};XHRPolling.prototype.ready=function(socket,fn){var self=this;io.util.defer(function(){fn.call(self)})};io.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(exports,io,global){var indicator=global.document&&"MozAppearance"in global.document.documentElement.style;exports["jsonp-polling"]=JSONPPolling;function JSONPPolling(socket){io.Transport["xhr-polling"].apply(this,arguments);this.index=io.j.length;var self=this;io.j.push(function(msg){self.c8g(msg)})}io.util.inherit(JSONPPolling,io.Transport["xhr-polling"]);JSONPPolling.prototype.name="jsonp-polling";JSONPPolling.prototype.post=function(data){var self=this,query=io.util.query(this.socket.options.query,"t="+ +(new Date)+"&i="+this.index);if(!this.form){var form=document.createElement("form"),area=document.createElement("textarea"),id=this.iframeId="socketio_iframe_"+this.index,iframe;form.className="socketio";form.style.position="absolute";form.style.top="0px";form.style.left="0px";form.style.display="none";form.target=id;form.method="POST";form.setAttribute("accept-charset","utf-8");area.name="d";form.appendChild(area);document.body.appendChild(form);this.form=form;this.area=area}this.form.action=this.prepareUrl()+query;function complete(){initIframe();self.socket.setBuffer(false)}function initIframe(){if(self.iframe){self.form.removeChild(self.iframe)}try{iframe=document.createElement('<iframe name="'+self.iframeId+'">')}catch(e){iframe=document.createElement("iframe");iframe.name=self.iframeId}iframe.id=self.iframeId;self.form.appendChild(iframe);self.iframe=iframe}initIframe();this.area.value=io.JSON.stringify(data);try{this.form.submit()}catch(e){}if(this.iframe.attachEvent){iframe.onreadystatechange=function(){if(self.iframe.readyState=="complete"){complete()}}}else{this.iframe.onload=complete}this.socket.setBuffer(true)};JSONPPolling.prototype.get=function(){var self=this,script=document.createElement("script"),query=io.util.query(this.socket.options.query,"t="+ +(new Date)+"&i="+this.index);if(this.script){this.script.parentNode.removeChild(this.script);this.script=null}script.async=true;script.src=this.prepareUrl()+query;script.onerror=function(){self.onClose()};var insertAt=document.getElementsByTagName("script")[0];insertAt.parentNode.insertBefore(script,insertAt);this.script=script;if(indicator){setTimeout(function(){var iframe=document.createElement("iframe");document.body.appendChild(iframe);document.body.removeChild(iframe)},100)}};JSONPPolling.prototype.c8g=function(msg){this.onData(msg);if(this.isOpen){this.get()}return this};JSONPPolling.prototype.ready=function(socket,fn){var self=this;if(!indicator)return fn.call(this);io.util.load(function(){fn.call(self)})};JSONPPolling.check=function(){return"document"in global};JSONPPolling.xdomainCheck=function(){return true};io.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);if(typeof define==="function"&&define.amd){define([],function(){return io})}})();
(function(){var isArray=Array.isArray;if(isArray===undefined){isArray=function(arr){return Object.prototype.toString.call(arr)==="[object Array]"}}var root=this;function EventEmitter(){}if(typeof module!=="undefined"&&module.exports){module.exports.EventEmitter=EventEmitter}else{root=window;root.EventEmitter=EventEmitter}var defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!this.cr9i)this.cr9i={};this.Fd8V=n};EventEmitter.prototype.emit=function(){var type=arguments[0];if(type==="error"){if(!this.cr9i||!this.cr9i.error||isArray(this.cr9i.error)&&!this.cr9i.error.length){if(this.domain){var er=arguments[1];er.domain_emitter=this;er.domain=this.domain;er.domain_thrown=false;this.domain.emit("error",er);return false}if(arguments[1]instanceof Error){throw arguments[1]}else{throw new Error("Uncaught, unspecified 'error' event.")}return false}}if(!this.cr9i)return false;var handler=this.cr9i[type];if(!handler)return false;if(typeof handler=="function"){if(this.domain){this.domain.enter()}switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:var l=arguments.length;var args=new Array(l-1);for(var i=1;i<l;i++)args[i-1]=arguments[i];handler.apply(this,args)}if(this.domain){this.domain.exit()}return true}else if(isArray(handler)){if(this.domain){this.domain.enter()}var l=arguments.length;var args=new Array(l-1);for(var i=1;i<l;i++)args[i-1]=arguments[i];var listeners=handler.slice();for(var i=0,l=listeners.length;i<l;i++){listeners[i].apply(this,args)}if(this.domain){this.domain.exit()}return true}else{return false}};EventEmitter.prototype.addListener=function(type,listener){if("function"!==typeof listener){throw new Error("addListener only takes instances of Function")}if(!this.cr9i)this.cr9i={};this.emit("newListener",type,typeof listener.listener==="function"?listener.listener:listener);if(!this.cr9i[type]){this.cr9i[type]=listener}else if(isArray(this.cr9i[type])){this.cr9i[type].push(listener)}else{this.cr9i[type]=[this.cr9i[type],listener]}if(isArray(this.cr9i[type])&&!this.cr9i[type].warned){var m;if(this.Fd8V!==undefined){m=this.Fd8V}else{m=defaultMaxListeners}if(m&&m>0&&this.cr9i[type].length>m){this.cr9i[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this.cr9i[type].length);console.trace()}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if("function"!==typeof listener){throw new Error(".once only takes instances of Function")}var self=this;function g(){self.removeListener(type,g);listener.apply(this,arguments)}g.listener=listener;self.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){if("function"!==typeof listener){throw new Error("removeListener only takes instances of Function")}if(!this.cr9i||!this.cr9i[type])return this;var list=this.cr9i[type];if(isArray(list)){var position=-1;for(var i=0,length=list.length;i<length;i++){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;list.splice(position,1)}else if(list===listener||list.listener&&list.listener===listener){delete this.cr9i[type]}return this};EventEmitter.prototype.removeAllListeners=function(type){if(arguments.length===0){this.cr9i={};return this}var events=this.cr9i&&this.cr9i[type];if(!events)return this;if(isArray(events)){events.splice(0)}else{this.cr9i[type]=null}return this};EventEmitter.prototype.listeners=function(type){if(!this.cr9i)this.cr9i={};if(!this.cr9i[type])this.cr9i[type]=[];if(!isArray(this.cr9i[type])){this.cr9i[type]=[this.cr9i[type]]}return this.cr9i[type]}})();(function(){if(typeof Object.create!=="function"){Object.create=function(o){function F(){}F.prototype=o;return new F}}var root=window;var pomelo=Object.create(EventEmitter.prototype);root.pomelo=pomelo;var socket=null;var id=1;var callbacks={};var route="web-connector.messageHandler.";var isRegister=false;var success=200;var register_ack="register";var bind_ack="bind";var regBind_ack="registerAndBind";var cancelBind_ack="cancelBind";var message_store={};var heartbeat_interval=1e3*60;var heartbeat_timer;var current_user;var current_domain;var cacheMessageIds=[];var cacheSize=100;pomelo.init=function(host,port,reconnect,cb){var url="ws://"+host;if(port){url+=":"+port}var params;if(reconnect){params={"force new connection":true,reconnect:true,"max reconnection attempts":50}}else{params={"force new connection":true,reconnect:false}}socket=io.connect(url,params);socket.on("connect",function(){console.log("[pomeloclient.init] websocket connected!");cb()});socket.on("reconnect",function(){pomelo.emit("reconnect")});socket.on("message",function(data){message_store={};if(typeof data==="string"){data=JSON.parse(data)}if(data instanceof Array){processMessageBatch(data)}else{processMessage(data);emitMessage()}});socket.on("error",function(err){cb(err)});socket.on("disconnect",function(reason){isRegister=false;pomelo.emit("disconnect",reason)})};var request=function(method,opts,cb){if(!method){console.error("request message error with no method.");return}id++;callbacks[id]=cb;sendMsg(method,id,opts)};var notify=function(method,msg){if(!method){console.error("notify message error with no method.");return}sendMsg(method,0,msg)};var sendMsg=function(method,msgId,msg){var path=route+method;var rs={id:msgId,route:path,msg:msg};var sg=JSON.stringify(rs);socket.send(sg)};var processMessageBatch=function(msgs){for(var i=0,l=msgs.length;i<l;i++){processMessage(msgs[i])}emitMessage()};var emitMessage=function(){for(var key in message_store){pomelo.emit(key,message_store[key])}};var processMessage=function(msg){if(msg.id){var cb=callbacks[msg.id];delete callbacks[msg.id];if(typeof cb!=="function"){console.log("[pomeloclient.processMessage] cb is not a function for request "+msg.id);return}cb(msg.body);if(msg.body.type===register_ack&&msg.body.code==success){isRegister=true}if((msg.body.type===bind_ack||msg.body.type===regBind_ack)&&msg.body.code==success){heartbeat_timer=setInterval(function(){notify("heartbeat",{flag:"online",domain:current_domain,user:current_user})},heartbeat_interval)}if(msg.body.type===cancelBind_ack&&msg.body.code==success){clearInterval(heartbeat_timer)}return}else{if(!filterMessage(msg)){return}if(!message_store[msg.route]){if(msg.body instanceof Array){message_store[msg.route]=msg.body}else{message_store[msg.route]=[msg.body]}}else{var arr=message_store[msg.route];if(msg.body instanceof Array){var messages=msg.body;for(var i=0;i<messages.length;i++){arr.push(messages[i])}}else{arr.push(msg.body)}message_store[msg.route]=arr}}};var filterMessage=function(message){var msgs=message.body;var ids=[];var results={};if(msgs instanceof Array){for(var i=0;i<msgs.length;i++){var id=msgs[i].msgId;ids.push(id)}var duplicatedIds=checkMessage(ids);if(duplicatedIds.length!==0){return false}else{cacheMessageIds=cacheMessageIds.concat(ids);if(cacheMessageIds.length>cacheSize){var length=cacheMessageIds-cacheSize;for(var i=0;i<length;i++){cacheMessageIds.shift()}}}}return true};var checkMessage=function(ids){var array=[];for(var i=0;i<cacheMessageIds.length;i++){var id=cacheMessageIds[i];for(var j=0;j<ids.length;j++){if(ids[j]===id){array.push(id)}}}return array};pomelo.register=function(opts,cb){request("register",opts,cb)};pomelo.bind=function(opts,cb){if(isRegister){current_domain=opts.domain;current_user=opts.user;request("bind",opts,cb)}else{console.log("cannot bind without registration.")}};pomelo.registerAndBind=function(opts,cb){current_domain=opts.domain;current_user=opts.user;request("registerAndBind",opts,cb)};pomelo.cancelBind=function(opts,cb){current_domain=null;current_user=null;request("cancelBind",opts,cb)};pomelo.getOnlineUser=function(opts,cb){request("getOnlineUser",opts,cb)};pomelo.disconnect=function(){if(socket){socket.disconnect();socket=null}};pomelo.ackMessage=function(domain,msgs){var msgIds="";var types="";var message={};var user;for(var i=0;i<msgs.length;i++){var data=msgs[i];if(!user){user=data.user}msgIds+=data.msgId;types+=data.type;if(i!==msgs.length-1){msgIds+=";";types+=";"}}var message={user:user,msgIds:msgIds,types:types,domain:domain};notify("ack",message)}})();
(function(){eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!"".replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return"\\w+"};c=1}while(c--)if(k[c])p=p.replace(new RegExp("\\b"+e(c)+"\\b","g"),k[c]);return p}("g 1=e;0.d=f(){3(1)h;1=c;3(a.9=='8.b.q'){0.4={2:'p.o.t.s',7:'6',5:'r'}}k{0.4={2:'j.i.n.m',7:'6',5:'l'}}}",30,30,"window|inited|pushHost|if|MUSIC_CONFIG|pushKey|6003|pushPort|music|host|location|163|true|initPushConfig|false|function|var|return|58|123|else|7bde08fbeb884e0e8459b1304df970cd|233|180|push|web|com|3b97981848064bbabeaaf2fb1eab7368|net|126".split("|"),0,{}))})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,h8b=c8g("nej.v"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),l8d=c8g("nm.x"),dL0x=c8g("nm.u"),q8i=c8g("nm.d"),XY3x=c8g("pomelo"),V8N=0,b8h,L8D;q8i.fD0x({"polling-init":{url:"/api/push/init",format:function(T8L){V8N=2;var um5r={domain:"music.163.com",host:MUSIC_CONFIG.pushHost,port:MUSIC_CONFIG.pushPort,key:MUSIC_CONFIG.pushKey},i8a=T8L.account||be8W,dy0x=GUser.userId;XY3x.init(um5r.host,um5r.port,true,this.ciE2x.f8d(this,{user:dy0x,nonce:i8a.nonce,domain:um5r.domain,productKey:um5r.key,signature:i8a.signature,expire_time:i8a.expireTime}))},onerror:function(){return this.bBX3x()}}});q8i.Fc8U=NEJ.C();b8h=q8i.Fc8U.M8E(q8i.if1x);b8h.cC9t=function(){var so4s=!1;return function(e8e){if(!so4s){so4s=!0}this.cK9B(e8e);XY3x.on("specify",this.sr4v.f8d(this));XY3x.on("broadcast",this.sr4v.f8d(this))}}();b8h.sr4v=function(d8f){k8c.bf8X(d8f,function(bF9w){h8b.z8r(q8i.Fc8U,"message",bF9w)},this)};b8h.bBX3x=function(){var bA9r=500;return function(){V8N=0;XY3x.disconnect();if(bA9r>6e4)bA9r=500;bA9r*=2}}();b8h.ciE2x=function(e8e,bV9M){if(!!bV9M){return this.bBX3x()}V8N=3;XY3x.registerAndBind(e8e,function(m8e){if(m8e.code!=200){return this.bBX3x()}V8N=4}.f8d(this))};b8h.cVu1x=function(){dL0x.ciQ2x.fW0x().cVt1x()};b8h.cVo1x=function(){dL0x.ciQ2x.fW0x().cVn1x()};b8h.bBM3x=function(){var so4s=!1;return function(){if(so4s)return;so4s=!0;if(window.initPushConfig){try{window.initPushConfig()}catch(e){}}this.cp9g("polling-init",{})}}();G8y.fV0x.B8t({event:"message",element:q8i.Fc8U})})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),v8n=c8g("nej.j"),cG9x=c8g("nej.p"),k8c=c8g("nej.u"),n8f=c8g("nm.l"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),cz9q=c8g("api"),b8h,L8D;var gJ1x=a7h.jU2x('<div class="lyct f-cb"><div class="m-fdback"><div class="tip">任何产品中的问题，欢迎反馈给我们</div><div class="u-txtwrap f-pr"><textarea class="u-txt area" placeholder="请输入反馈内容"></textarea><span class="zs s-fc2">140</span></div><div class="u-txtwrap f-pr holder-parent"><textarea class="u-txt contact" placeholder="请留下联系方式（电话、QQ、邮箱）" maxLength="100"></textarea></div><div style="display:none" class="u-err"><i class="u-icn u-icn-25"></i>内容不能为空！</div></div><div class="lybtn f-tc"><a href="javascript:;" class="u-btn2 u-btn2-2 u-btn2-w4" hidefocus="true"><i>发送意见</i></a><a href="javascript:;" class="u-btn2 u-btn2-1 u-btn2-w4" hidefocus="true"><i>取 消</i></a></div></div>');n8f.bBK3x=NEJ.C();b8h=n8f.bBK3x.M8E(n8f.es0x);L8D=n8f.bBK3x.cx9o;b8h.bp8h=function(e8e){e8e.title="意见反馈";this.bq8i(e8e)};b8h.ci9Z=function(){this.cg9X=gJ1x};b8h.bY9P=function(){this.cj9a();this.ig1x={};var ML0x=a7h.F8x;var GA8s=h8b.s8k;this.ig1x.submit_btn=ML0x(this.o8g,"u-btn2")[0];this.ig1x.cancle_btn=ML0x(this.o8g,"u-btn2")[1];this.ig1x.prompt_msg=ML0x(this.o8g,"u-err")[0];this.ig1x.zs=ML0x(this.o8g,"zs")[0];a7h.bd8V(this.ig1x.zs,"display","none");this.ig1x.fb_txt=ML0x(this.o8g,"u-txt")[0];this.ig1x.contact=ML0x(this.o8g,"u-txt")[1];a7h.hh1x(this.ig1x.fb_txt,"holder");a7h.hh1x(this.ig1x.contact,"holder");if(a7h.bG9x(this.ig1x.fb_txt.parentNode,"holder-parent")){a7h.bd8V(this.ig1x.fb_txt.parentNode,"display","block")}if(a7h.bG9x(this.ig1x.contact.parentNode,"holder-parent")){a7h.bd8V(this.ig1x.contact.parentNode,"display","block")}GA8s(this.ig1x.submit_btn,"click",this.cjd2x.f8d(this));GA8s(this.ig1x.cancle_btn,"click",this.cjl2x.f8d(this));GA8s(this.ig1x.prompt_msg,"msgShow",this.cjm2x.f8d(this));GA8s(this.ig1x.fb_txt,"keyup",this.xu6o.f8d(this));GA8s(this.ig1x.fb_txt,"input",this.ff0x.f8d(this));GA8s(this.ig1x.contact,"keyup",this.cjs2x.f8d(this));GA8s(this.ig1x.contact,"input",this.bXX0x.f8d(this));this.lq2x=q8i.ij1x.B8t()};b8h.cjd2x=function(d8f){h8b.bi8a(d8f);if(this.cX9O())return;var bt9k=this.ig1x.fb_txt.value.trim();var br8j=bt9k.length;var e8e={type:"json",method:"post",noEnc:true};var bXS0x=this.ig1x.contact.value.trim();var bfw6q={ua:navigator.userAgent,hash:top.location.hash,href:location.href,flash:l8d.bzQ3x(),contact:bXS0x};var i8a={content:bt9k,client:"web",xInfo:JSON.stringify(bfw6q)},oV3x=this.lq2x.cty4C();if(oV3x&&oV3x.length){i8a.log=oV3x.join("\n")}if(br8j==0){this.ig1x.prompt_msg.innerHTML="反馈内容不能为空";a7h.bd8V(this.ig1x.prompt_msg,"display","block");return}if(bXS0x.length>100){this.ig1x.prompt_msg.innerHTML="联系方式最多只能输入100个字符";a7h.bd8V(this.ig1x.prompt_msg,"display","block");return}this.cX9O(true);e8e.data=k8c.cE9v(i8a);e8e.onload=this.cjA2x.f8d(this);e8e.onerror=this.jD1x.f8d(this);v8n.bm8e("/api/feedback/web",e8e)};b8h.ff0x=function(d8f){var br8j=this.ig1x.fb_txt.value.trim().length;if(br8j>0)a7h.bd8V(this.ig1x.prompt_msg,"display","none");cG9x.dC0x.browser=="ie"&&cG9x.dC0x.version<"7.0"?setTimeout(this.gE1x.f8d(this),0):this.gE1x()};b8h.xu6o=function(d8f){if(d8f.keyCode===8)this.gE1x()};b8h.gE1x=function(){var br8j=this.ig1x.fb_txt.value.trim().length;this.ig1x.zs.innerHTML=!br8j?"0/140":br8j+"/140"};b8h.bXX0x=function(d8f){var br8j=this.ig1x.contact.value.trim().length;if(br8j>0)a7h.bd8V(this.ig1x.prompt_msg,"display","none")};b8h.cjs2x=function(d8f){if(d8f.keyCode===8)this.bXX0x()};b8h.cjl2x=function(d8f){h8b.cu9l(d8f);this.bu9l()};b8h.cjm2x=function(d8f){var g8c=h8b.ba8S(d8f);g8c.innerHTML="请输入反馈内容"};b8h.cVk1x=function(cVj1x){var g8c=h8b.ba8S(d8f);g8c.innerHTML=""};b8h.cjA2x=function(m8e){this.cX9O(false);this.bu9l();n8f.bb8T.J8B({tip:"意见发送成功",autoclose:true})};b8h.jD1x=function(m8e){this.cX9O(false);n8f.bb8T.J8B({tip:"意见发送失败",autoclose:true})};b8h.cX9O=function(dk9b){return this.ee0x(this.ig1x.submit_btn,dk9b,"发送意见","发送中...")};b8h.J8B=function(){L8D.J8B.call(this);this.cX9O(false);this.ig1x.fb_txt.value="";this.ig1x.contact.value="";a7h.bd8V(this.ig1x.prompt_msg,"display","none");this.gE1x()};l8d.cjI2x=function(e8e){e8e=e8e||{};if(e8e.title===undefined)e8e.title="意见反馈";n8f.bBK3x.J8B(e8e)};cz9q.feedback=l8d.feedback=l8d.cjI2x})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,P8H=c8g("nej.ui"),b8h;if(!!P8H.AU7N)return;P8H.AU7N=NEJ.C();b8h=P8H.AU7N.M8E(P8H.eu0x);b8h.cC9t=function(){this.hD1x=this.bXF0x();this.cK9B()};b8h.bp8h=function(e8e){this.bq8i(e8e);this.cw9n=e8e.index;this.gY1x=e8e.total;this.ia1x=e8e.range;this.hd1x(e8e.data)};b8h.bC9t=function(){this.bH9y();delete this.bh8Z;delete this.cw9n;delete this.gY1x;delete this.ia1x};b8h.ja1x=bs8k;b8h.bXF0x=function(){var hb1x=+(new Date);return function(){return"itm-"+ ++hb1x}}();b8h.Hl9c=function(){return this.hD1x};b8h.hv1x=function(){return this.bh8Z};b8h.hd1x=function(i8a){this.bh8Z=i8a||{};this.ja1x(this.bh8Z)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),P8H=c8g("nej.ui"),b8h,L8D;if(!!P8H.xA6u)return;P8H.xA6u=NEJ.C();b8h=P8H.xA6u.M8E(P8H.AU7N);L8D=P8H.xA6u.cx9o;b8h.bp8h=function(e8e){this.cjJ2x=e8e.pkey||"id";this.bq8i(e8e)};b8h.GS8K=function(i8a){this.z8r("ondelete",{ext:i8a,id:this.Hl9c(),data:this.hv1x(),body:this.mq2x()})};b8h.uA5F=function(i8a){this.z8r("onupdate",{ext:i8a,id:this.Hl9c(),data:this.hv1x(),body:this.mq2x()})};b8h.hd1x=function(i8a){L8D.hd1x.apply(this,arguments);this.hD1x=this.bh8Z[this.cjJ2x]||this.bXF0x()}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,fN0x=NEJ.R,a7h=c8g("nej.e"),k8c=c8g("nej.u"),P8H=c8g("nej.ui"),b8h,jx1x,bBr3x;if(!!P8H.bBq3x)return;P8H.bBq3x=NEJ.C();b8h=P8H.bBq3x.M8E(P8H.eu0x);b8h.bp8h=function(e8e){this.bgg6a=NEJ.X({},e8e);this.gr1x=NEJ.X({},e8e);delete this.bgg6a.onchange;this.gr1x.onchange=this.gB1x.f8d(this);this.bq8i(e8e);this.cjU2x({number:e8e.number,label:e8e.label||be8W})};b8h.bC9t=function(){this.bH9y();if(!!this.ma2x){this.ma2x.W8O();delete this.ma2x}delete this.bgg6a;delete this.gr1x;this.cjV2x();this.o8g.innerHTML="&nbsp;"};b8h.ci9Z=function(){this.ng2x=jx1x};b8h.cjU2x=function(i8a){a7h.dI0x(this.o8g,bBr3x,i8a);var hb1x=a7h.Pq1x();this.gr1x.list=a7h.F8x(this.o8g,"js-i-"+hb1x);this.gr1x.pbtn=(a7h.F8x(this.o8g,"js-p-"+hb1x)||fN0x)[0];this.gr1x.nbtn=(a7h.F8x(this.o8g,"js-n-"+hb1x)||fN0x)[0]};b8h.bY9P=function(){this.cj9a()};b8h.cVe1x=function(i8a){return a7h.cf9W(bBr3x,i8a)};b8h.gB1x=function(d8f){if(this.XC3x)return;var r8j=d8f.index,cI9z=d8f.total;this.XC3x=!0;this.XB3x(r8j,cI9z);k8c.bf8X(this.bgs6m,function(vB5G){vB5G.XB3x(r8j,cI9z)});this.XC3x=!1;this.z8r("onchange",d8f)};b8h.f8d=function(bJ9A){bJ9A=a7h.A8s(bJ9A);if(!bJ9A)return this;var cA9r=NEJ.X({},this.bgg6a);cA9r.parent=bJ9A;cA9r.index=this.vx5C();cA9r.total=this.lY2x();var vB5G=this.constructor.B8t(cA9r);vB5G.ze6Y("onchange",this.gr1x.onchange);if(!this.bgs6m)this.bgs6m=[];this.bgs6m.push(vB5G);return this};b8h.cjV2x=function(){var buO2x=function(vB5G,r8j,j8b){vB5G.W8O();j8b.splice(r8j,1)};return function(){k8c.or3x(this.bgs6m,buO2x)}}();b8h.lw2x=function(r8j){if(!this.ma2x)return;this.ma2x.lw2x(r8j)};b8h.vx5C=function(){if(!this.ma2x)return 1;return this.ma2x.vx5C()};b8h.lY2x=function(){if(!this.ma2x)return 1;return this.ma2x.lY2x()};b8h.XB3x=function(r8j,cI9z){if(!this.ma2x)return;this.ma2x.XB3x(r8j,cI9z)};b8h.bBm3x=function(cI9z){if(!this.ma2x)return;this.ma2x.bBm3x(cI9z)};jx1x=a7h.uJ5O(".#<uispace>{font-size:12px;line-height:160%;}.#<uispace> a{margin:0 2px;padding:2px 8px;color:#333;border:1px solid #aaa;text-decoration:none;}.#<uispace> .js-disabled{cursor:default;}.#<uispace> .js-selected{cursor:default;background:#bbb;}");bBr3x=a7h.eA0x('{trim}{if !defined("noprv")||!noprv}<a href="#" class="zbtn zprv ${\'js-p-\'|seed}">${label.prev||"上一页"}</a>{/if}{list 1..number as x}<a href="#" class="zpgi zpg${x} ${\'js-i-\'|seed}"></a>{/list}{if !defined("nonxt")||!nonxt}<a href="#" class="zbtn znxt ${\'js-n-\'|seed}">${label.next||"下一页"}</a>{/if}{/trim}')})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),P8H=c8g("nej.ut"),b8h;if(!!P8H.bgA6u)return;P8H.bgA6u=NEJ.C();b8h=P8H.bgA6u.M8E(P8H.cO9F);b8h.bp8h=function(e8e){this.bq8i(e8e);this.bgC6w=e8e.pbtn;this.cH9y=e8e.nbtn;this.bgD6x=e8e.sbtn;this.bgE6y=e8e.ebtn;this.iZ1x=e8e.event||"click";this.lC2x=e8e.selected||"js-selected";this.pq3x=e8e.disabled||"js-disabled";this.cke2x(e8e.list);this.XB3x(e8e.index||1,e8e.total||1)};b8h.bC9t=function(){this.bH9y();delete this.bX9O;delete this.iZ1x;delete this.bgC6w;delete this.cH9y;delete this.bgD6x;delete this.bgE6y;delete this.bXa9R;delete this.gY1x;delete this.cw9n;delete this.lC2x;delete this.pq3x};b8h.cke2x=function(){var bBl3x=function(g8c){this.bX9O.push(g8c);this.bZ9Q([[g8c,this.iZ1x,this.cy9p.eO0x(this,0)]])};return function(j8b){this.bX9O=[];this.bZ9Q([[this.bgC6w,"click",this.cy9p.eO0x(this,-1)],[this.cH9y,"click",this.cy9p.eO0x(this,1)],[this.bgD6x,"click",this.cy9p.eO0x(this,-2)],[this.bgE6y,"click",this.cy9p.eO0x(this,2)]]);k8c.bf8X(j8b,bBl3x,this)}}();b8h.Hk9b=function(g8c,r8j){if(r8j==null){g8c.innerText="";a7h.bd8V(g8c,"display","none");a7h.y8q(g8c,this.lC2x)}else{g8c.innerText=r8j;a7h.bd8V(g8c,"display","");r8j==this.cw9n?a7h.w8o(g8c,this.lC2x):a7h.y8q(g8c,this.lC2x)}};b8h.bBk3x=function(){if(this.cw9n<=1){a7h.w8o(this.bgC6w,this.pq3x);a7h.w8o(this.bgD6x,this.pq3x)}else{a7h.y8q(this.bgC6w,this.pq3x);a7h.y8q(this.bgD6x,this.pq3x)}if(this.cw9n>=this.gY1x){a7h.w8o(this.cH9y,this.pq3x);a7h.w8o(this.bgE6y,this.pq3x)}else{a7h.y8q(this.cH9y,this.pq3x);a7h.y8q(this.bgE6y,this.pq3x)}};b8h.bgO6I=bs8k;b8h.bBi3x=function(){this.bgO6I();this.bBk3x();this.z8r("onchange",{last:this.bXa9R,total:this.gY1x,index:this.cw9n,ext:this.bBe3x})};b8h.bWC9t=function(r8j){r8j=parseInt(r8j);if(isNaN(r8j)||this.gY1x==null)return!1;r8j=Math.max(1,Math.min(r8j,this.gY1x));this.bXa9R=this.cw9n;this.cw9n=r8j;return!0};b8h.bBa3x=function(cI9z){cI9z=parseInt(cI9z);if(isNaN(cI9z)||cI9z<1)return!1;this.gY1x=cI9z;return!0};b8h.cy9p=function(d8f,ft0x){h8b.cu9l(d8f);var H8z=h8b.ba8S(d8f);if(!H8z||a7h.bG9x(H8z,this.lC2x)||a7h.bG9x(H8z,this.pq3x))return;var r8j=H8z.innerText;switch(ft0x){case 1:case-1:r8j=this.cw9n+ft0x;break;case 2:r8j=this.gY1x;break;case-2:r8j=1;break}this.lw2x(r8j)};b8h.vx5C=function(){return this.cw9n};b8h.lw2x=function(r8j){var ckx2x=this.cw9n;this.bWC9t(r8j);if(ckx2x!=this.cw9n)this.bBi3x();return this};b8h.lY2x=function(){return this.gY1x};b8h.UF2x=function(cI9z){if(this.bBa3x(cI9z)&&this.cw9n!=null){this.cw9n=1;this.bBi3x()}return this};b8h.bBm3x=function(cI9z){if(this.bBa3x(cI9z)){this.bgO6I();this.bBk3x()}return this};b8h.XB3x=function(r8j,cI9z){if(!this.bBa3x(cI9z)||!this.bWC9t(r8j))return this;this.bBi3x();return this}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,a7h=c8g("nej.e"),k8c=c8g("nej.u"),di9Z=c8g("nej.x"),P8H=c8g("nej.ut"),b8h;if(!!P8H.Xb3x)return;P8H.Xb3x=NEJ.C();b8h=P8H.Xb3x.M8E(P8H.bgA6u);b8h.cC9t=function(){this.cK9B();var g8c=a7h.ds0x("span","zdot");g8c.innerText="...";this.bhf7Y=[g8c.cloneNode(true),g8c]};b8h.bC9t=function(){this.bH9y();this.bWp9g()};b8h.bWp9g=function(){a7h.nq3x(this.bhf7Y[0]);a7h.nq3x(this.bhf7Y[1])};b8h.bgO6I=function(){this.bBe3x={last:!1,first:!1,list:this.bX9O};this.bWp9g();this.Hk9b(this.bX9O[0],1);var bN9E=1,br8j=this.bX9O.length;if(this.gY1x<br8j){for(var sB4F;bN9E<br8j;bN9E++){sB4F=bN9E+1;this.Hk9b(this.bX9O[bN9E],sB4F>this.gY1x?null:sB4F)}return}if(this.cw9n>1){var cn9e=Math.floor((br8j-2)/2),ckF2x=this.gY1x-br8j+2,eV0x=Math.max(2,this.cw9n-cn9e);if(this.gY1x>=br8j){eV0x=Math.min(eV0x,ckF2x)}if(eV0x>2){this.bX9O[0].insertAdjacentElement("afterEnd",this.bhf7Y[0]);this.bBe3x.first=!0}for(var r8j;;bN9E++){r8j=eV0x+bN9E-1;if(r8j>this.cw9n)break;this.Hk9b(this.bX9O[bN9E],r8j)}}if(this.cw9n<this.gY1x){var r8j,eV0x=this.cw9n+1;for(var i=0,l=br8j-2;;i++,bN9E++){r8j=eV0x+i;if(bN9E>l||r8j>this.gY1x)break;this.Hk9b(this.bX9O[bN9E],r8j)}if(r8j<this.gY1x){this.bX9O[bN9E].insertAdjacentElement("beforeBegin",this.bhf7Y[1]);this.bBe3x.last=!0}if(r8j<=this.gY1x){this.Hk9b(this.bX9O[bN9E++],this.gY1x)}}for(;bN9E<br8j;bN9E++){this.Hk9b(this.bX9O[bN9E])}};a7h.ckH2x=di9Z.ckH2x=function(bJ9A,e8e){var D8v=a7h.mu2x(bJ9A);if(!D8v)return null;if(!P8H.bjG9x(D8v,P8H.Xb3x)){e8e=e8e||{};var j8b=!e8e.clazz?a7h.dn9e(D8v):a7h.F8x(D8v,e8e.clazz);e8e.pbtn=j8b.shift();e8e.nbtn=j8b.pop();e8e.list=j8b;delete e8e.clazz}return P8H.bjG9x(D8v,P8H.Xb3x,e8e||be8W)};di9Z.isChange=!0})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,fN0x=NEJ.R,a7h=c8g("nej.e"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),P8H=c8g("nej.ui"),b8h,L8D,gJ1x;if(!!P8H.WW3x)return;P8H.WW3x=NEJ.C();b8h=P8H.WW3x.M8E(P8H.bBq3x);L8D=P8H.WW3x.cx9o;b8h.bp8h=function(e8e){e8e.number=parseInt(e8e.number)||9;this.bq8i(e8e);this.ma2x=G8y.Xb3x.B8t(this.gr1x)};b8h.gB1x=function(d8f){if(!!this.bgg6a.noend){var bWk9b=d8f.ext||be8W,j8b=bWk9b.list||fN0x;if(bWk9b.last){a7h.bd8V(j8b[j8b.length-1],"display","none")}}L8D.gB1x.apply(this,arguments)}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),bc8U=c8g("nej.ui"),P8H=c8g("nej.ut"),b8h;if(!!P8H.bhn8f)return;P8H.bhn8f=NEJ.C();b8h=P8H.bhn8f.M8E(P8H.cO9F);b8h.bp8h=function(e8e){this.jL1x={};this.bq8i(e8e);this.iP1x=a7h.A8s(e8e.parent);this.fE0x={parent:this.iP1x};this.pZ3x=parseInt(e8e.limit)||10;this.Cd7W=parseInt(e8e.first)||this.pZ3x;this.ckO2x(e8e.item);this.ckU2x(e8e.cache||be8W);this.ckW3x(e8e.pager||be8W);this.hd1x()};b8h.bC9t=function(){this.z8r("onbeforerecycle");this.WG3x();this.bH9y();if(this.jL1x.clear){this.U8M.ya6U(this.jL1x.key)}this.U8M.W8O();if(!!this.kc2x){this.kc2x.W8O();delete this.kc2x}delete this.bVW9N;delete this.gr1x;delete this.bhG8y;delete this.U8M;delete this.iP1x;delete this.WD3x;delete this.fE0x;delete this.jL1x};b8h.bVR9I=function(){var dr9i=/\{(.*?)\}/gi,clg3x=function(qy3x,i8a){return(qy3x||"{id}{seed}").replace(dr9i,function($1,$2){var C8u=i8a[$2];return C8u==null?$1:C8u})};return function(D8v){var K8C=clg3x(this.fE0x.jstIdTempalte,{id:D8v,seed:a7h.Pq1x()});if(!this.fE0x.jstIdType){return a7h.A8s(K8C)}else if(this.fE0x.jstIdType==1){return(a7h.F8x(this.iP1x,K8C)||[])[0]}}}();b8h.Ez8r=function(bN9E,bl8d,gx1x,br8j){var m8e={index:1,total:1};if(bl8d>=bN9E){m8e.index=Math.floor((bl8d-bN9E)/gx1x)+2}if(br8j>bN9E){m8e.total=Math.ceil((br8j-bN9E)/gx1x)+1}return m8e};b8h.bVK9B=function(K8C){delete this.WD3x;this.MC0x=K8C;this.bZ9Q([[this.iP1x,"click",this.clh3x.f8d(this)]])};b8h.ckO2x=function(p8h){if(k8c.fX0x(p8h)){this.bVK9B(p8h);return}NEJ.X(this.fE0x,p8h);var eq0x=this.fE0x.klass;delete this.fE0x.klass;if(k8c.fX0x(eq0x)){this.bVK9B(eq0x);return}delete this.MC0x;this.WD3x=eq0x;this.fE0x.ondelete=this.z8r.f8d(this,"ondelete");this.fE0x.onupdate=this.z8r.f8d(this,"onupdate")};b8h.ckU2x=function(Q8I){var eq0x=Q8I.klass,kU2x=NEJ.X({},Q8I);this.jL1x.key=kU2x.lkey;this.jL1x.data=kU2x.data||{};this.jL1x.clear=!!kU2x.clear;this.fE0x.pkey=kU2x.key||"id";kU2x.onlistload=this.bAM3x.f8d(this);kU2x.onpullrefresh=this.cls3x.f8d(this);if(!!eq0x&&"onlistchange"in eq0x){this.bZ9Q([[eq0x,"listchange",this.bAH3x.f8d(this)]])}else{kU2x.onitemadd=this.bhV8N.f8d(this);kU2x.onitemdelete=this.bhY8Q.f8d(this);kU2x.onitemupdate=this.bVv9m.f8d(this)}this.U8M=(eq0x||P8H.UP2x).B8t(kU2x);if(Q8I.total!=null){this.U8M.UF2x(this.jL1x.key,Q8I.total)}if(!!Q8I.list){this.U8M.th4l(this.jL1x.key,Q8I.list)}};b8h.ckW3x=function(vB5G){this.bVW9N=vB5G.klass||bc8U.WW3x;this.gr1x=NEJ.X({},vB5G);if(k8c.el0x(vB5G.parent)){this.gr1x.parent=vB5G.parent[0];this.Wp3x=vB5G.parent.slice(1);if(!this.Wp3x||!this.Wp3x.length){delete this.Wp3x}}delete this.gr1x.klass};b8h.WG3x=function(){var ho1x=/^(?:table|tr|tbody|ul|ol|select)$/i;return function(){this.z8r("onbeforelistclear",{parent:this.iP1x});if(!!this.ge0x&&this.ge0x.length>0){this.ge0x=this.WD3x.W8O(this.ge0x);delete this.ge0x}if(ho1x.test(this.iP1x.tagName)){a7h.cam0x(this.iP1x)}else{this.iP1x.innerHTML=""}}}();b8h.bAE3x=function(bii9Z){if(!!this.gr1x.fixed)return;a7h.bd8V(this.gr1x.parent,"display",bii9Z);k8c.bf8X(this.Wp3x,function(bJ9A){a7h.bd8V(bJ9A,"display",bii9Z)},this)};b8h.bAD3x=function(){var r8j=this.gr1x.index||1;delete this.gr1x.index;if(!!this.kc2x){r8j=this.kc2x.vx5C()}this.Ey8q({last:r8j,index:r8j})};b8h.Ey8q=function(d8f){this.z8r("onpagechange",d8f)};b8h.bVo9f=function(bl8d){this.jL1x.offset=bl8d;this.bcu5z()};b8h.bVk9b=function(e8e){return e8e};b8h.bcu5z=function(){this.Wn3x();var i8a=this.jL1x.data;i8a.offset=this.jL1x.offset;var qQ4U=i8a.offset==0;i8a.total=qQ4U;this.jL1x.limit=qQ4U?this.Cd7W:this.pZ3x;i8a.limit=this.jL1x.limit;this.U8M.mp2x(this.bVk9b(NEJ.X({},this.jL1x)))};b8h.bAM3x=function(e8e){if(e8e.key!=this.jL1x.key||e8e.offset!=this.jL1x.offset)return;this.bip9g();var j8b=this.U8M.hY1x(e8e.key);if(!j8b||!j8b.length){this.bAz3x();return}var gx1x=e8e.limit,bl8d=e8e.offset;if(this.bAx3x(j8b,bl8d,gx1x))return;this.z8r("onbeforelistrender",{list:j8b,offset:bl8d,parent:this.iP1x});if(!!this.MC0x){this.fE0x.xlist=j8b;this.fE0x.beg=bl8d;this.fE0x.end=Math.min(j8b.length,bl8d+gx1x)-1;this.fE0x.act="list";var eg0x=a7h.cf9W(this.MC0x,this.fE0x);this.Wj3x(eg0x)}else{this.fE0x.limit=gx1x;this.fE0x.offset=bl8d;var hQ1x=a7h.Dj7c(j8b,this.WD3x,this.fE0x);this.Wi3x(hQ1x)}this.z8r("onafterlistrender",{list:j8b,offset:bl8d,parent:this.iP1x})};b8h.cls3x=function(e8e){if(!this.bhG8y)return;delete this.bhG8y;this.bip9g("onafterpullrefresh");this.hd1x()};b8h.bUK9B=function(r8j,cI9z){if(!!this.kc2x){var zg6a=this.kc2x.vx5C(),clI3x=this.kc2x.lY2x();if(zg6a>cI9z||cI9z!=clI3x){this.kc2x.W8O();delete this.kc2x;this.Ey8q({last:zg6a,index:Math.min(r8j,cI9z)});return!0}}else{this.gr1x.index=r8j;this.gr1x.total=cI9z;this.kc2x=this.bVW9N.B8t(this.gr1x);this.kc2x.ze6Y("onchange",this.Ey8q.f8d(this));k8c.bf8X(this.Wp3x,function(bJ9A){this.kc2x.f8d(bJ9A)},this)}};b8h.biz9q=function(){var hb1x=+(new Date);return function(i8a){var D8v=i8a[this.fE0x.pkey];if(!D8v){i8a["dirty-data"]=!0;i8a[this.fE0x.pkey]="dirty-"+hb1x++}return i8a}}();b8h.biA9r=function(i8a){var D8v=i8a[this.fE0x.pkey];if(!!i8a["dirty-data"]){delete i8a["dirty-data"];delete i8a[this.fE0x.pkey]}return D8v};b8h.biB9s=function(){var clK3x=function(ce9V,nx3x){this.iP1x.insertAdjacentElement(ce9V,nx3x)};return function(ce9V,i8a){var Po1x=[i8a];if(!!this.MC0x){this.fE0x.xlist=Po1x;this.fE0x.beg=0;this.fE0x.end=0;this.fE0x.act="add";this.Wj3x(a7h.cf9W(this.MC0x,this.fE0x),ce9V)}else{this.fE0x.limit=1;this.fE0x.offset=0;this.fE0x.parent=clK3x.f8d(this,ce9V);var hQ1x=a7h.Dj7c(Po1x,this.WD3x,this.fE0x);this.fE0x.parent=this.iP1x;this.Wi3x(hQ1x)}}}();b8h.Wn3x=bs8k;b8h.bip9g=function(Y8Q){var d8f={parent:this.iP1x};this.z8r(Y8Q||"onafterlistload",d8f);if(!d8f.stopped){a7h.nq3x(this.cS9J)}};b8h.bAx3x=bs8k;b8h.biH9y=function(bF9w,ce9V){if(k8c.fX0x(bF9w)){if(!this.cS9J)this.cS9J=a7h.ds0x("div");this.cS9J.innerHTML=bF9w}else{this.cS9J=bF9w}this.iP1x.insertAdjacentElement(ce9V||"beforeEnd",this.cS9J)};b8h.AF7y=function(Y8Q,kW2x,ce9V){var d8f={parent:this.iP1x};this.z8r(Y8Q,d8f);if(!d8f.stopped){this.biH9y(d8f.value||kW2x,ce9V)}};b8h.bAz3x=bs8k;b8h.Wj3x=bs8k;b8h.Wi3x=bs8k;b8h.clh3x=function(){var ho1x=/^(?:delete|update)$/;return function(d8f){var g8c=h8b.ba8S(d8f,"d:action");if(!g8c)return;var X8P=a7h.u8m(g8c,"action");if(!ho1x.test(X8P))return;var D8v=a7h.u8m(g8c,"id");if(!D8v)return;var p8h=this.U8M.eY0x(D8v);if(!p8h)return;h8b.bi8a(d8f);this.z8r("on"+X8P,{data:p8h,id:p8h[this.fE0x.pkey],body:a7h.A8s(this.bVR9I(D8v))})}}();b8h.bhV8N=bs8k;b8h.bcx5C=function(d8f){var i8a=d8f.data||{},e8e={data:i8a,key:this.jL1x.key,id:i8a[this.fE0x.pkey]};this.z8r("onbeforedelete",e8e);this.U8M.Op1x(e8e)};b8h.bhY8Q=bs8k;b8h.bcy5D=function(d8f){var i8a=d8f.data||{},e8e={data:i8a,key:this.jL1x.key};this.z8r("onbeforeupdate",e8e);this.U8M.bco5t(e8e)};b8h.bVv9m=function(d8f){this.VW3x(d8f,"onafterupdate");if(d8f.stopped)return;var D8v=d8f.data[this.fE0x.pkey];if(!!this.ge0x){var p8h=a7h.bZa0x(D8v);if(!!p8h)p8h.hd1x(d8f.data)}else{var g8c=a7h.A8s(D8v+""+a7h.Pq1x());if(!g8c)return;var j8b=this.U8M.hY1x(d8f.key),r8j=k8c.du0x(j8b,d8f.data);if(r8j<0)return;this.fE0x.list=j8b;this.fE0x.beg=r8j;this.fE0x.end=r8j;this.fE0x.act="update";var eg0x=a7h.cf9W(this.MC0x,this.fE0x);g8c.insertAdjacentHTML("afterEnd",eg0x);a7h.cV9M(g8c)}};b8h.VW3x=function(d8f,Y8Q){var p8h=d8f.data;if(!p8h||p8h[this.fE0x.pkey]==null){this.z8r("onerror",d8f);d8f.stopped=!0}if(!d8f.stopped){this.z8r(Y8Q,d8f)}};b8h.bAu3x=bs8k;b8h.bAt3x=bs8k;b8h.bAH3x=function(d8f){if(d8f.key!=this.jL1x.key)return;switch(d8f.action){case"add":this.bhV8N(d8f);break;case"delete":this.bhY8Q(d8f);break;case"update":this.bVv9m(d8f);break;case"refresh":this.hd1x();break;case"unshift":this.bAt3x(d8f.offset,d8f.limit);break;case"append":this.bAu3x(d8f.offset,d8f.limit);break}};b8h.ru4y=function(p8h){this.bcy5D({data:p8h})};b8h.no3x=function(p8h){this.bcx5C({data:p8h})};b8h.vs5x=function(p8h){this.U8M.ka2x({data:p8h,key:this.jL1x.key})};b8h.vq5v=function(){return this.U8M};b8h.bAq3x=function(i8a){this.biB9s("afterBegin",this.biz9q(i8a));return this.biA9r(i8a)};b8h.bUn9e=function(i8a){this.biB9s("beforeEnd",this.biz9q(i8a));return this.biA9r(i8a)};b8h.hd1x=function(){this.WG3x();this.bAD3x()};b8h.cUW1x=function(){this.U8M.ya6U(this.jL1x.key);this.hd1x()};b8h.bvI2x=function(){if(!!this.bhG8y)return;this.bhG8y=!0;this.AF7y("onbeforepullrefresh","列表刷新中...","afterBegin");var j8b=this.U8M.hY1x(this.jL1x.key);if(j8b&&j8b[0]){this.jL1x.data.aftertime=j8b[0].eventTime||""}this.U8M.bvI2x({key:this.jL1x.key,data:this.jL1x.data})};b8h.lY2x=function(){return this.U8M.lY2x(this.jL1x.key)};b8h.bUf9W=function(){return this.kc2x};b8h.bbq5v=function(){return this.U8M.bbq5v(this.jL1x.key)};b8h.cmy3x=function(){return this.ge0x}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,fN0x=NEJ.R,k8c=c8g("nej.u"),a7h=c8g("nej.e"),P8H=c8g("nej.ut"),b8h,L8D;if(!!P8H.li2x)return;P8H.li2x=NEJ.C();b8h=P8H.li2x.M8E(P8H.bhn8f);L8D=P8H.li2x.cx9o;b8h.Ez8r=function(bl8d,br8j){return L8D.Ez8r.call(this,this.Cd7W,bl8d,this.pZ3x,br8j)};b8h.bAg3x=function(r8j){var bl8d=0;if(r8j>1)bl8d=this.Cd7W+(r8j-2)*this.pZ3x;return bl8d};b8h.Ey8q=function(d8f){L8D.Ey8q.apply(this,arguments);if(!d8f.stopped){this.bVo9f(this.bAg3x(d8f.index))}};b8h.Wn3x=function(){this.WG3x();this.AF7y("onbeforelistload","列表加载中...")};b8h.bip9g=function(){L8D.bip9g.apply(this,arguments);this.WG3x()};b8h.bAx3x=function(j8b,bl8d,gx1x){var R8J=this.Ez8r(bl8d,j8b.length);if(this.bUK9B(R8J.index,R8J.total))return!0;this.bAE3x(R8J.total>1?"":"none")};b8h.bAz3x=function(){this.AF7y("onemptylist","没有列表数据！")};b8h.biH9y=function(bF9w,ce9V){if(!ce9V&&k8c.fX0x(bF9w)){this.iP1x.innerHTML=bF9w;return}L8D.biH9y.apply(this,arguments)};b8h.Wj3x=function(eg0x){this.iP1x.innerHTML=eg0x};b8h.Wi3x=function(hQ1x){this.ge0x=hQ1x};b8h.bhV8N=function(d8f){this.VW3x(d8f,"onafteradd");if(!d8f.stopped)this.hd1x()};b8h.bhY8Q=function(d8f){this.VW3x(d8f,"onafterdelete");if(!d8f.stopped)this.hd1x()};b8h.bAu3x=function(bl8d,gx1x){var r8j=1;if(!!this.kc2x){r8j=this.kc2x.vx5C()}var kz2x=this.bAg3x(r8j),dt0x=kz2x+(r8j>1?this.pZ3x:this.Cd7W);if(bl8d>=dt0x&&!!this.kc2x){var R8J=this.Ez8r(0,this.lY2x());this.kc2x.bBm3x(R8J.total);this.bAE3x(R8J.total>1?"":"none")}else{this.hd1x()}};b8h.bAt3x=function(bl8d,gx1x){var r8j=1;if(!!this.kc2x){r8j=this.kc2x.vx5C()}var kz2x=this.bAg3x(r8j),R8J=this.Ez8r(kz2x,this.lY2x());this.Ey8q({last:r8j,index:R8J.index})}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),G8y=c8g("nej.ut"),k8c=c8g("nej.u"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),x8p=c8g("nm.w"),fk0x=40,b8h,L8D;x8p.bje9V=NEJ.C();b8h=x8p.bje9V.M8E(G8y.cO9F);L8D=x8p.bje9V.cx9o;b8h.cC9t=function(){this.cK9B()};b8h.bp8h=function(e8e){this.bq8i(e8e);this.VB3x=e8e.inputer;this.bAf3x=e8e.tipper;this.bZ9Q([[this.VB3x,"input",this.ff0x.f8d(this)]])};b8h.bC9t=function(){this.bH9y();this.My0x(null,null)};b8h.ff0x=function(d8f){if(d8f&&d8f.type=="keyup"&&(d8f.keyCode!=8||d8f.keyCode!=68))return;var Y8Q=this.VB3x.value,cUV1x;if(l8d.So2x(Y8Q)>fk0x){this.VB3x.value=l8d.FK8C(Y8Q,fk0x);this.My0x("歌单名不能超过20个汉字或40个英文字符！",arguments.callee.f8d(this))}else if(Y8Q.indexOf("#")>=0||Y8Q.indexOf("@")>=0){this.My0x("歌单名不能包含字符“@”和“#”！")}else{this.My0x(null,null);this.z8r("onchange",{value:Y8Q})}};b8h.cmM3x=function(){this.ff0x()};b8h.My0x=function(){var D8v=0;return function(dR0x,bTQ9H){if(!!D8v)window.clearTimeout(D8v);if(!dR0x){a7h.w8o(this.bAf3x,"f-vhide");this.bTP9G=!1;return}this.bAf3x.innerHTML='<i class="u-icn u-icn-25"></i>'+dR0x;a7h.y8q(this.bAf3x,"f-vhide");this.bTP9G=!0;if(k8c.hf1x(bTQ9H))D8v=window.setTimeout(function(){this.My0x(null,null);bTQ9H()}.f8d(this),1e3)}}();b8h.bTL9C=function(){if(this.bTP9G)return!1;if(l8d.lh2x(this.VB3x.value)){this.My0x("歌单名不能为空");return!1}return!0};b8h.gl0x=function(){return this.VB3x.value}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,h8b=c8g("nej.v"),a7h=c8g("nej.e"),v8n=c8g("nej.j"),n8f=c8g("nm.l"),x8p=c8g("nm.w"),bD9u=c8g("nej.ui"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),b8h,L8D;n8f.bjw9n=NEJ.C();b8h=n8f.bjw9n.M8E(n8f.es0x);L8D=n8f.bjw9n.cx9o;b8h.cC9t=function(){this.cK9B();l8d.kl2x()};b8h.bY9P=function(){this.cj9a();var j8b=a7h.F8x(this.o8g,"j-flag");this.bjx9o={inputer:j8b[0],tipper:j8b[1]};this.iT1x={onerror:this.bTJ9A.f8d(this),onitemadd:this.bTJ9A.f8d(this)};this.mn2x=j8b[2];h8b.s8k(j8b[2],"click",this.IO9F.f8d(this));h8b.s8k(j8b[3],"click",this.DU8M.f8d(this));h8b.s8k(this.o8g,"keypress",this.bTE9v.f8d(this))};b8h.ci9Z=function(){this.cg9X="m-wgt-create"};b8h.bp8h=function(e8e){e8e.clazz=" m-layer-w2";e8e.parent=e8e.parent||document.body;e8e.title="新建歌单";e8e.draggable=!0;e8e.destroyalbe=!0;e8e.mask=true;this.bq8i(e8e);this.bjx9o.inputer.value=e8e.name||"";this.xV6P=x8p.bje9V.B8t(this.bjx9o);this.xV6P.cmM3x();this.U8M=q8i.iF1x.B8t(this.iT1x);setTimeout(function(){this.bjx9o.inputer.focus()}.f8d(this),0)};b8h.bC9t=function(){this.bH9y();if(this.xV6P){this.xV6P.W8O();delete this.xV6P}this.ux5C(!1);this.bjx9o.inputer.value=""};b8h.ux5C=function(Vm2x){this.pI3x=Vm2x;if(Vm2x){this.mn2x.innerHTML="<i>新建中...</i>";a7h.w8o(this.mn2x,"u-btn2-dis")}else{this.mn2x.innerHTML="<i>新 建</i>";a7h.y8q(this.mn2x,"u-btn2-dis")}};b8h.IO9F=function(){function create(token){if(this.pI3x||!this.xV6P.bTL9C())return;var cA9r={key:"playlist_new-"+GUser.userId,data:{name:this.xV6P.gl0x(),checkToken:token},offset:1};this.U8M.ka2x(cA9r);this.ux5C(!0)}l8d.lF2x(create.f8d(this))};b8h.bTJ9A=function(d8f){var cd9U=(d8f.result||be8W).code;if(!cd9U){this.z8r("onsuccess",d8f.data)}else{this.z8r("onerror",d8f)}this.bu9l()};b8h.DU8M=function(){this.bu9l()};b8h.bTE9v=function(d8f){if(d8f.keyCode==13)this.IO9F()}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),v8n=c8g("nej.j"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),n8f=c8g("nm.l"),b8h,L8D;n8f.bzY3x=NEJ.C();b8h=n8f.bzY3x.M8E(n8f.es0x);L8D=n8f.bzY3x.cx9o;b8h.cC9t=function(){this.cK9B()};b8h.bY9P=function(){this.cj9a();var j8b=a7h.F8x(this.o8g,"j-flag");this.js1x={limit:301,parent:j8b[1],cache:{klass:q8i.iF1x,lkey:"playlist_new-"+GUser.userId,onlisterror:this.bzX3x.f8d(this)},item:{klass:"m-wgt-subscribe-item",cutStr:l8d.FL8D,escape:k8c.dP0x}};this.iT1x={onsuccess:this.bjT9K.f8d(this),onerror:this.dY0x.f8d(this)};h8b.s8k(j8b[0],"click",this.IO9F.f8d(this));h8b.s8k(j8b[1],"click",this.lK2x.f8d(this))};b8h.ci9Z=function(){this.cg9X="m-wgt-subscribe"};b8h.bp8h=function(e8e){e8e.parent=e8e.parent||document.body;e8e.clazz=" m-layer-w2";e8e.title="添加到歌单";e8e.draggable=!0;e8e.mask=!0;this.bq8i(e8e);this.bjW9N=(e8e.tracks||[]).reverse();this.js1x.item.size=this.bjW9N.length;this.iT1x.name=e8e.name||"";this.bTB9s=q8i.vo5t.B8t({onaddsuccess:this.Eb8T.f8d(this)});this.ut5y=q8i.iF1x.B8t({onlistload:this.cne3x.f8d(this)});this.ut5y.bOM7F();k8c.bf8X(this.bjW9N,function(p8h,r8j,j8b){if(!k8c.mz2x(p8h)){j8b[r8j]=this.bTB9s.eY0x(p8h)||p8h}},this)};b8h.cne3x=function(){if(this.dT0x)this.dT0x.W8O();this.dT0x=G8y.li2x.B8t(this.js1x)};b8h.IO9F=function(){this.bu9l();if(this.Je9V)this.Je9V.W8O();this.Je9V=n8f.bjw9n.B8t(this.iT1x);this.Je9V.J8B()};b8h.lK2x=function(){var cng3x=function(g8c){while(g8c&&g8c!=document){if(g8c.tagName.toLowerCase()=="li"){return g8c}g8c=g8c.parentNode}};return function(d8f){h8b.cu9l(d8f);var H8z=h8b.ba8S(d8f),Ax6r=cng3x(H8z);if(!!Ax6r&&!a7h.bG9x(Ax6r,"dis")){this.bjT9K({id:a7h.u8m(Ax6r,"id")})}}}();b8h.bjT9K=function(d8f){var D8v=d8f.id;if(!D8v||!this.bjW9N.length)return;this.bTB9s.ka2x({key:"track_playlist-"+D8v,data:{tracks:this.bjW9N,pid:D8v}});this.bu9l()};b8h.Eb8T=function(){this.z8r("onsuccess");n8f.bb8T.J8B({tip:"收藏成功"})};b8h.dY0x=function(d8f){this.bu9l();this.z8r("onerror",d8f);var cU9L="收藏失败";switch(d8f.code){case 405:cU9L="操作过于频繁，先休息一下再试吧";break;case 507:cU9L="歌单数量超过限制";break;case 502:cU9L="歌曲已经存在"}n8f.bb8T.J8B({tip:cU9L,type:2})};b8h.bzX3x=function(){this.bu9l();n8f.bb8T.J8B({tip:"列表下载失败，请稍后再试",type:2})};l8d.oz3x=function(e8e){if(!GUser||!GUser.userId||GUser.userId<=0){top.login();return}n8f.bzY3x.J8B(e8e)}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,cG9x=c8g("nej.p"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),v8n=c8g("nej.j"),k8c=c8g("nej.u"),l8d=c8g("nm.x");var bzI3x,pF3x,Z8R=decodeURIComponent(location.href),kL2x=/.+(https?:\/\/.+\/proxy.html)/.test(Z8R)?RegExp.$1:"";if(!!kL2x){v8n.xR6L("mail_proxy_url",kL2x)}else{kL2x=v8n.vj5o("mail_proxy_url")||"about:blank"}bzI3x=a7h.bbH5M({src:kL2x,onload:function(){pF3x=true}});var bSW8O=function(){v8n.gW1x("USER_TRIGGER",{value:true,expire:1/(24*60),path:"/"})};var cnF3x=function(){if(cG9x.dC0x.browser=="ie"&&parseInt(cG9x.dC0x.version)<9){l8d.eX0x({clazz:"m-layer-w2",message:"当前浏览器版本过低，暂时无法使用，请升级后再试。"});return false}return true};l8d.Ms0x=function(t8l,D8v,X8P){if(!cnF3x())return;bSW8O();if(X8P=="stop"){if(!pF3x)throw"proxy not loaded";bSW8O();bzI3x.contentWindow.location.replace(kL2x+"#"+k8c.cE9v({to:"ifrmMusic",message:JSON.stringify({s:+(new Date),action:"stop"})}))}else{bzI3x.contentWindow.location.replace(kL2x+"#"+k8c.cE9v({to:"ifrmMusic",message:JSON.stringify({type:t8l,id:D8v,s:+(new Date),action:X8P})}))}}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),v8n=c8g("nej.j"),k8c=c8g("nej.u"),l8d=c8g("nm.x"),n8f=c8g("nm.l"),q8i=c8g("nm.d");var lq2x=q8i.ij1x.B8t();var pK3x=q8i.vo5t.B8t({onlistload:cnG3x,onitemload:cnI3x,onerror:dY0x});var Jo9f=q8i.sJ4N.B8t({onlistload:cnJ3x,onitemload:cnK3x,onerror:dY0x});var bSH8z={};function yG6A(d8f){var g8c=h8b.ba8S(d8f,"d:resAction"),X8P=a7h.u8m(g8c,"resAction");if(g8c&&(X8P=="play"||X8P=="addto")){var t8l=parseInt(a7h.u8m(g8c,"resType"));bSG8y({action:X8P,type:t8l,id:a7h.u8m(g8c,"resId"),from:a7h.u8m(g8c,"resFrom"),data:a7h.u8m(g8c,"resData"),order:a7h.u8m(g8c,"resOrder"),node:g8c});if(t8l!=13)bSE8w(g8c)}}function bSG8y(bU9L){var X8P=bU9L.action,t8l=bU9L.type,D8v=bU9L.id,ej0x=bU9L.from,i8a=bU9L.data,vJ5O=bU9L.order,e8e={limit:1e3,offset:0,data:{id:D8v},ext:{id:D8v,action:X8P,type:t8l,from:ej0x,data:i8a,node:bU9L.node}};if(X8P!="play"&&X8P!="addto"||!t8l)return;if(window.GRef&&GRef=="mail"){l8d.Ms0x(t8l,D8v,X8P);return}switch(t8l){case 13:e8e.key="track_playlist-"+D8v;pK3x.mp2x(e8e);break;case 17:e8e.key="program";e8e.id=D8v;Jo9f.bbV5a(e8e);if(X8P=="play"){v8n.bm8e("/api/dj/program/listen",{query:{id:D8v}})}break;case 18:e8e.key="track";e8e.id=D8v;pK3x.bbV5a(e8e);break;case 19:e8e.key="track_album-"+D8v;pK3x.mp2x(e8e);break;case 24:e8e.key="track_day";pK3x.mp2x(e8e);break;case 2:e8e.key="track_artist_top-"+D8v;pK3x.mp2x(e8e);break;case 70:e8e.key="program_djradio-"+D8v+"-"+vJ5O;e8e.data.radioId=D8v;e8e.data.asc=vJ5O==2;Jo9f.mp2x(e8e);break}}function bSB8t(j8b){var m8e=[];k8c.bf8X(j8b,function(p8h){if(p8h.mainSong){p8h.mainSong.program=p8h;m8e.push(p8h.mainSong);p8h.localupdatetime=+(new Date);pK3x.cum5r(p8h.mainSong);p8h.mainTrackId=p8h.mainSong.id;delete p8h.mainSong}else{var bSx8p=pK3x.eY0x(p8h.mainTrackId);bSx8p&&m8e.push(bSx8p)}});return m8e}function baE4I(j8b,e8e){var tK4O=e8e.action=="play"&&e8e.type!=17&&e8e.type!=18,gA1x=e8e.action=="play";if(!j8b.length)return;if(e8e.type==19){j8b=l8d.Ol1x(j8b,true,{play:true},{source:"album",sourceid:e8e.id})}else{j8b=l8d.Ol1x(j8b,true,{play:true})}k8c.bf8X(j8b,function(p8h){p8h.source=l8d.bzK3x({fid:e8e.from,fdata:e8e.data,type:e8e.type,rid:e8e.id},p8h.id)});top.player.addTo(j8b,tK4O,gA1x);lq2x.Uh2x({rid:e8e.id,type:e8e.type,hash:l8d.NM0x(),play:gA1x,source:e8e.from,sourceid:e8e.data})}function cnG3x(d8f){var eh0x=d8f.ext||{};j8b=pK3x.hY1x(d8f.key);baE4I(j8b,eh0x);if(eh0x.type==13&&eh0x.action=="play"&&j8b&&j8b.length>0){bSE8w(eh0x.node);v8n.bm8e("/api/playlist/update/playcount",{query:{id:eh0x.id}})}}function cnI3x(d8f){var j8b=[pK3x.eY0x(d8f.id)],bn8f=j8b[0],sz4D=l8d.qJ4N(bn8f),vN5S=bn8f.privilege||{};if(sz4D==10){l8d.xM6G(vN5S.fee||bn8f.fee,bn8f.id,"song",null,vN5S)}else if(sz4D==100){l8d.jc1x(null,null,null,true,bn8f)}else if(sz4D==11){l8d.bMJ6D(bn8f.id,18)}else{baE4I(j8b,d8f.ext)}}function cnJ3x(d8f){var j8b=bSB8t(Jo9f.hY1x(d8f.key));baE4I(j8b,d8f.ext)}function cnK3x(d8f){var j8b=bSB8t([Jo9f.eY0x(d8f.id)]);baE4I(j8b,d8f.ext)}function dY0x(){top.player.tipPlay("无法播放，音乐已下线")}function bSE8w(g8c){var t8l=a7h.u8m(g8c,"resType"),D8v=a7h.u8m(g8c,"resId"),K8C=t8l+"-"+D8v;if(bSH8z[K8C])return;var bSv8n=a7h.A8s("play-count"),bzA3x=a7h.F8x(g8c.parentNode,"nb"),UR2x=null;if(bSv8n){UR2x=bSv8n}else{UR2x=!!bzA3x&&!!bzA3x[0]?bzA3x[0]:null}if(UR2x){var cn9e=UR2x.innerHTML;if(/^\d+$/.test(cn9e)){UR2x.innerText=+cn9e+1}bSH8z[K8C]=true}}l8d.cnO3x=function(g8c){h8b.s8k(g8c||document.body,"click",yG6A.f8d(this))};l8d.cnS3x=function(X8P,t8l,D8v){bSG8y({action:X8P,type:t8l,id:D8v})}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,h8b=c8g("nej.v"),k8c=c8g("nej.u"),v8n=c8g("nej.j"),G8y=c8g("nej.ut"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),b8h,L8D;q8i.fD0x({"share-all":{url:"/api/share/friends/resource",format:function(m8e,e8e){this.cnU3x(m8e,e8e)},onerror:"onshareerror"},"share-sns":{url:"/api/share/resource/sns",format:function(m8e,e8e){this.z8r("onshareall",e8e.result)},onerror:function(m8e,e8e){this.z8r("onshareall",e8e.result)}},"share-private":{url:"/api/msg/private/send",onload:"onshareprivate",onerror:"onshareerror"},share_img_compound:{url:"/upload/event/img/compound",type:"POST",format:function(m8e,e8e){e8e.options.picUrl=m8e.picUrl;this.bSl8d(e8e.options,e8e.result)},onerror:function(m8e,e8e){this.z8r("onshareall",e8e.result)}},"vid-get":{url:"/api/video/coversvid/get",format:function(T8L,e8e){this.qU4Y("vid_info-"+e8e.data.nosKey,T8L);return T8L}},"video-submit":{url:"/api/cloudvideo/video/event/submit",filter:function(e8e){},format:function(m8e,e8e){e8e.data=e8e.data2;this.cp9g("share-all",e8e)},onerror:"onshareerror"}});q8i.bzx3x=NEJ.C();b8h=q8i.bzx3x.M8E(q8i.if1x);b8h.cnW3x=function(){var xF6z=function(T8L,e8e){e8e.times++;if(e8e.times>10){this.z8r("onvinfoerror",e8e.key,T8L)}else{setTimeout(eK0x.f8d(this,e8e),e8e.times*1e3)}};var AQ7J=function(T8L,e8e){this.z8r("onvinfo",e8e.key,T8L)};var eK0x=function(e8e){var Z8R=e8e.url;v8n.bm8e(Z8R+"?vinfo",{method:"GET",type:"json",mode:1,onload:AQ7J.eO0x(this,e8e),onerror:xF6z.eO0x(this,e8e)})};return function(e8e){e8e.times=0;eK0x.call(this,e8e)}}();b8h.cUN1x=function(){var JK9B;var xF6z=function(T8L,e8e){if(T8L.code>0){clearInterval(this.JL9C);this.z8r("onviderror",e8e.data.nosKey)}};var AQ7J=function(K8C,T8L){if(T8L.vid&&T8L.covers){clearInterval(this.JL9C);this.z8r("onvid",K8C,T8L)}};var eK0x=function(e8e){if(+(new Date)-JK9B>60*60*1e3){clearInterval(this.JL9C);this.z8r("onviderror",e8e.data.nosKey);return}e8e.onload=AQ7J.f8d(this,e8e.data.nosKey);e8e.onerror=xF6z.f8d(this);this.cp9g("vid-get",e8e)};return function(e8e){if(!e8e||!e8e.data)return;JK9B=+(new Date);this.JL9C=clearInterval(this.JL9C);this.JL9C=setInterval(eK0x.f8d(this,e8e),1e4);eK0x.apply(this,arguments)}}();b8h.cnY3x=function(){this.JL9C=clearInterval(this.JL9C)};b8h.cnU3x=function(m8e,pj3x){if(m8e.event&&pj3x.snsTypes){if(pj3x.pics){var bSf8X=[];for(var i=0,len=pj3x.pics.length;i<len;i++){bSf8X[i]=pj3x.pics[i].originId}this.cp9g("share_img_compound",{data:{picIds:bSf8X.join(",")},options:pj3x,result:m8e})}else{pj3x.picUrl=pj3x.picUrl;this.bSl8d(pj3x,m8e)}}else{this.z8r("onshareall",m8e)}var xS6M=q8i.ij1x.B8t();xS6M.fa0x(pj3x.isPub?"pubevent":"shareevent",{id:m8e.id})};b8h.bSl8d=function(pj3x,m8e){var cA9r={},d8f=m8e.event||{};cA9r.eventid=d8f.id;cA9r.eventtype=d8f.type;pj3x.picUrl&&(cA9r.picUrl=pj3x.picUrl);cA9r.snsTypes=pj3x.snsTypes;cA9r.msg=pj3x.data.msg||"";cA9r.type=pj3x.data.type;pj3x.data.id&&(cA9r.id=pj3x.data.id);if(cA9r.eventtype==41){var T8L=l8d.Hz9q(d8f.json);cA9r.eventtype=39;if(cA9r.msg){cA9r.msg+="  "}cA9r.msg+="分享"+T8L.video.creator.nickname+"的视频《"+T8L.video.title+"》";delete cA9r.id}this.cp9g("share-sns",{data:cA9r,result:m8e})};b8h.coc3x=function(e8e){var i8a={type:"",id:0,threadId:"",msg:"",actId:0,pics:"",checkToken:"",uuid:"publish-"+ +(new Date)+k8c.oP3x(5)};i8a=NEJ.EX(i8a,e8e);if(i8a.id<0){delete i8a.id;i8a.type="noresource"}if(!i8a.threadId){delete i8a.threadId}if(!i8a.actId){delete i8a.actId}if(!i8a.pics){delete i8a.pics}else{i8a.pics=JSON.stringify(i8a.pics)}this.cp9g("share-all",{data:i8a,snsTypes:e8e.snsTypes,picUrl:e8e.picUrl,pics:e8e.pics,isPub:e8e.isPub})};b8h.coe3x=function(e8e){this.cp9g("share-private",e8e)};b8h.cof3x=function(e8e){this.cp9g("video-submit",e8e)}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,h8b=c8g("nej.v"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),n8f=c8g("nm.l"),b8h,L8D;var cog3x={40:!0};q8i.fD0x({"event-list":{url:"/api/v1/event/get",filter:function(e8e){e8e.data.getcounts=true;e8e.data.pagesize=e8e.data.limit;if(e8e.data.offset==0){e8e.data.lasttime=-1}delete e8e.data.offset},format:function(T8L,e8e){T8L.event=l8d.bbW5b(T8L.event,function(p8h,r8j){return!cog3x[p8h.type]});this.coh3x(T8L.event);e8e.data.lasttime=T8L.lasttime;if(T8L.event.length){T8L.event.length=e8e.limit}return{list:T8L.event,total:T8L.size}}},"event_latest-list":{url:"/api/act/event/getnews",format:function(T8L,e8e){return{list:T8L.events,total:T8L.count}}},"event-pull":{url:"/api/event/getnews",filter:function(e8e){e8e.data.pagesize=20},format:function(T8L,e8e){return T8L.event}},"ievent-get":{type:"GET",url:"/api/event/get",onload:"oneventload",onerror:"oneventloaderror"},"ievent-new-get":{type:"GET",url:"/api/event/getnews",onload:"oneventnewload"},"ievent_user-list":{type:"GET",url:"/api/event/get/{userId}",filter:function(e8e){if(e8e.data.offset==0){e8e.data.time=-1}delete e8e.data.offset;e8e.data.getcounts=true},format:function(T8L,e8e){e8e.data.time=T8L.lasttime;var j8b=T8L.events;if(T8L.more&&j8b.length<e8e.data.limit){j8b=this.Mo0x(j8b,e8e.data.limit)}return{list:j8b,total:T8L.size}}},"ievent-res-get":{url:"/api/res/status",format:function(m8e,e8e){m8e.conf=e8e.conf;return m8e}},"ievent-like":{url:"/api/resource/like",onload:"oneventlike",filter:function(e8e,bk8c){if(e8e.like){if(e8e.comment){bk8c.url="/api/v1/comment/like"}else{bk8c.url="/api/resource/like"}bk8c.onload="oneventlike";bk8c.onerror="oneventlikeerr"}else{if(e8e.comment){bk8c.url="/api/v1/comment/unlike"}else{bk8c.url="/api/resource/unlike"}bk8c.onload="oneventunlike";bk8c.onerror="oneventunlikeerr"}},format:function(m8e,e8e){m8e.eid=e8e.eid;m8e.origin=e8e.origin;m8e.ext=e8e.ext;return m8e},onmessage:function(cd9U,m8e){if(cd9U==250){n8f.bb8T.J8B({tip:m8e.message||m8e.msg||"点赞异常",type:2});return}}},"ievent_user-del":{url:"/api/event/delete",format:function(m8e,e8e){m8e.id=e8e.data.id;return m8e}},"event-del":{url:"/api/event/delete",filter:function(e8e,bk8c){if(e8e.data.type=="nointer"){bk8c.url="/api/event/rcmd/reject"}else if(e8e.data.transcoding){bk8c.url="/api/event/video/transcoding/delete"}else{bk8c.url="/api/event/delete"}},format:function(m8e,e8e){m8e.id=e8e.data.id;return m8e}},"event_activity-del":{url:"/api/event/delete",format:function(m8e,e8e){m8e.id=e8e.data.id;return m8e}},"event_activity-list":{url:"/api/act/event",filter:function(e8e){e8e.data.lasttime=e8e.data.lasttime||-1;e8e.data.pagesize=e8e.data.limit;e8e.data.getcounts=true;delete e8e.data.offset},format:function(T8L,e8e){e8e.data.lasttime=T8L.lasttime;var j8b=T8L.events;if(T8L.more)j8b=this.Mo0x(j8b,e8e.data.pagesize);return{list:j8b,total:T8L.size}},onerror:"onlisterror"}});q8i.Ba7T=NEJ.C();b8h=q8i.Ba7T.M8E(q8i.if1x);b8h.cC9t=function(){this.cK9B()};b8h.bzm3x=function(t8l,dc9T){return t8l+"-"+dc9T};b8h.cUM1x=function(e8e){this.cp9g("ievent-get",e8e)};b8h.cUL1x=function(e8e){this.cp9g("ievent-new-get",e8e)};b8h.cUJ1x=function(e8e){this.cp9g("ievent-user-get",e8e)};b8h.cUI1x=function(t8l,dc9T){return this.sU4Y(this.bzm3x(t8l,dc9T))};b8h.cUG1x=function(Mk0x,e8e){if(!Mk0x||!Mk0x.length)return;e8e=e8e||{};var bB9s={song:2,album:4,playlist:1,mv:3,program:5};for(var i=0,It9k=[],bRp8h=[],i8a;i<Mk0x.length;++i){i8a=Mk0x[i];i8a=this.sU4Y(this.bzm3x(i8a.type,i8a.id));if(!i8a){It9k.push(Mk0x[i].id);bRp8h.push(bB9s[Mk0x[i].type]||0)}}if(!It9k.length){this.z8r("oneventresload",e8e.conf);return}e8e.data={ids:JSON.stringify(It9k),types:JSON.stringify(bRp8h)};e8e.onload=this.coN3x.f8d(this);this.cp9g("ievent-res-get",e8e)};b8h.coN3x=function(m8e){if(m8e.code!=200){this.z8r("oneventreserror",m8e.code);return}var bB9s={1:"playlist",2:"song",3:"mv",4:"album",5:"program"};for(var i=0,j8b=m8e.results;i<j8b.length;++i){this.qU4Y(this.bzm3x(bB9s[j8b[i].type],j8b[i].id),j8b[i])}this.z8r("oneventresload",m8e.conf)};b8h.bRn8f=function(i8a){var K8C="event-list";this.bvF2x(K8C,i8a);this.z8r("onitemadd",{key:K8C,action:"add",data:i8a,flag:-1})};b8h.pD3x=function(e8e){this.cp9g("ievent-like",e8e)};b8h.no3x=function(e8e){this.cp9g("ievent-delete",e8e)};b8h.Mo0x=function(j8b,gx1x){for(var i=j8b.length;i<gx1x;i++)j8b.push(null);return j8b};b8h.coh3x=function(j8b){var m8e=[];if(!j8b||!j8b.length)return;k8c.bf8X(j8b,function(d8f){d8f.biData=this.bRm8e(d8f)},this)};b8h.bRm8e=function(){var baB4F={32:"comment",33:"activity",34:"recomment_artist"},coP3x=[13,17,18,19,20,21,22,28,31];return function(d8f){var T8L={id:d8f.id,sourceid:d8f.user.userId,alg:d8f.rcmdInfo?d8f.rcmdInfo.alg:null,contentType:baB4F[d8f.type]||(k8c.du0x(coP3x,d8f.type)!=-1?"user_event":"other")};return T8L}}();b8h.Kp9g=function(coQ3x,d8f){var T8L=this.bRm8e(d8f);T8L.actionType=coQ3x;if(window.log)log("eventclick",T8L)};b8h.cUC1x=function(e8e){this.cp9g("event_latest-list",e8e)}})();
(function(factory){window.SparkMD5=factory()})(function(undefined){"use strict";var add32=function(a,b){return a+b&4294967295},hex_chr=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function cmn(q,a,b,x,s,t){a=add32(add32(a,q),add32(x,t));return add32(a<<s|a>>>32-s,b)}function md5cycle(x,k){var a=x[0],b=x[1],c=x[2],d=x[3];a+=(b&c|~b&d)+k[0]-680876936|0;a=(a<<7|a>>>25)+b|0;d+=(a&b|~a&c)+k[1]-389564586|0;d=(d<<12|d>>>20)+a|0;c+=(d&a|~d&b)+k[2]+606105819|0;c=(c<<17|c>>>15)+d|0;b+=(c&d|~c&a)+k[3]-1044525330|0;b=(b<<22|b>>>10)+c|0;a+=(b&c|~b&d)+k[4]-176418897|0;a=(a<<7|a>>>25)+b|0;d+=(a&b|~a&c)+k[5]+1200080426|0;d=(d<<12|d>>>20)+a|0;c+=(d&a|~d&b)+k[6]-1473231341|0;c=(c<<17|c>>>15)+d|0;b+=(c&d|~c&a)+k[7]-45705983|0;b=(b<<22|b>>>10)+c|0;a+=(b&c|~b&d)+k[8]+1770035416|0;a=(a<<7|a>>>25)+b|0;d+=(a&b|~a&c)+k[9]-1958414417|0;d=(d<<12|d>>>20)+a|0;c+=(d&a|~d&b)+k[10]-42063|0;c=(c<<17|c>>>15)+d|0;b+=(c&d|~c&a)+k[11]-1990404162|0;b=(b<<22|b>>>10)+c|0;a+=(b&c|~b&d)+k[12]+1804603682|0;a=(a<<7|a>>>25)+b|0;d+=(a&b|~a&c)+k[13]-40341101|0;d=(d<<12|d>>>20)+a|0;c+=(d&a|~d&b)+k[14]-1502002290|0;c=(c<<17|c>>>15)+d|0;b+=(c&d|~c&a)+k[15]+1236535329|0;b=(b<<22|b>>>10)+c|0;a+=(b&d|c&~d)+k[1]-165796510|0;a=(a<<5|a>>>27)+b|0;d+=(a&c|b&~c)+k[6]-1069501632|0;d=(d<<9|d>>>23)+a|0;c+=(d&b|a&~b)+k[11]+643717713|0;c=(c<<14|c>>>18)+d|0;b+=(c&a|d&~a)+k[0]-373897302|0;b=(b<<20|b>>>12)+c|0;a+=(b&d|c&~d)+k[5]-701558691|0;a=(a<<5|a>>>27)+b|0;d+=(a&c|b&~c)+k[10]+38016083|0;d=(d<<9|d>>>23)+a|0;c+=(d&b|a&~b)+k[15]-660478335|0;c=(c<<14|c>>>18)+d|0;b+=(c&a|d&~a)+k[4]-405537848|0;b=(b<<20|b>>>12)+c|0;a+=(b&d|c&~d)+k[9]+568446438|0;a=(a<<5|a>>>27)+b|0;d+=(a&c|b&~c)+k[14]-1019803690|0;d=(d<<9|d>>>23)+a|0;c+=(d&b|a&~b)+k[3]-187363961|0;c=(c<<14|c>>>18)+d|0;b+=(c&a|d&~a)+k[8]+1163531501|0;b=(b<<20|b>>>12)+c|0;a+=(b&d|c&~d)+k[13]-1444681467|0;a=(a<<5|a>>>27)+b|0;d+=(a&c|b&~c)+k[2]-51403784|0;d=(d<<9|d>>>23)+a|0;c+=(d&b|a&~b)+k[7]+1735328473|0;c=(c<<14|c>>>18)+d|0;b+=(c&a|d&~a)+k[12]-1926607734|0;b=(b<<20|b>>>12)+c|0;a+=(b^c^d)+k[5]-378558|0;a=(a<<4|a>>>28)+b|0;d+=(a^b^c)+k[8]-2022574463|0;d=(d<<11|d>>>21)+a|0;c+=(d^a^b)+k[11]+1839030562|0;c=(c<<16|c>>>16)+d|0;b+=(c^d^a)+k[14]-35309556|0;b=(b<<23|b>>>9)+c|0;a+=(b^c^d)+k[1]-1530992060|0;a=(a<<4|a>>>28)+b|0;d+=(a^b^c)+k[4]+1272893353|0;d=(d<<11|d>>>21)+a|0;c+=(d^a^b)+k[7]-155497632|0;c=(c<<16|c>>>16)+d|0;b+=(c^d^a)+k[10]-1094730640|0;b=(b<<23|b>>>9)+c|0;a+=(b^c^d)+k[13]+681279174|0;a=(a<<4|a>>>28)+b|0;d+=(a^b^c)+k[0]-358537222|0;d=(d<<11|d>>>21)+a|0;c+=(d^a^b)+k[3]-722521979|0;c=(c<<16|c>>>16)+d|0;b+=(c^d^a)+k[6]+76029189|0;b=(b<<23|b>>>9)+c|0;a+=(b^c^d)+k[9]-640364487|0;a=(a<<4|a>>>28)+b|0;d+=(a^b^c)+k[12]-421815835|0;d=(d<<11|d>>>21)+a|0;c+=(d^a^b)+k[15]+530742520|0;c=(c<<16|c>>>16)+d|0;b+=(c^d^a)+k[2]-995338651|0;b=(b<<23|b>>>9)+c|0;a+=(c^(b|~d))+k[0]-198630844|0;a=(a<<6|a>>>26)+b|0;d+=(b^(a|~c))+k[7]+1126891415|0;d=(d<<10|d>>>22)+a|0;c+=(a^(d|~b))+k[14]-1416354905|0;c=(c<<15|c>>>17)+d|0;b+=(d^(c|~a))+k[5]-57434055|0;b=(b<<21|b>>>11)+c|0;a+=(c^(b|~d))+k[12]+1700485571|0;a=(a<<6|a>>>26)+b|0;d+=(b^(a|~c))+k[3]-1894986606|0;d=(d<<10|d>>>22)+a|0;c+=(a^(d|~b))+k[10]-1051523|0;c=(c<<15|c>>>17)+d|0;b+=(d^(c|~a))+k[1]-2054922799|0;b=(b<<21|b>>>11)+c|0;a+=(c^(b|~d))+k[8]+1873313359|0;a=(a<<6|a>>>26)+b|0;d+=(b^(a|~c))+k[15]-30611744|0;d=(d<<10|d>>>22)+a|0;c+=(a^(d|~b))+k[6]-1560198380|0;c=(c<<15|c>>>17)+d|0;b+=(d^(c|~a))+k[13]+1309151649|0;b=(b<<21|b>>>11)+c|0;a+=(c^(b|~d))+k[4]-145523070|0;a=(a<<6|a>>>26)+b|0;d+=(b^(a|~c))+k[11]-1120210379|0;d=(d<<10|d>>>22)+a|0;c+=(a^(d|~b))+k[2]+718787259|0;c=(c<<15|c>>>17)+d|0;b+=(d^(c|~a))+k[9]-343485551|0;b=(b<<21|b>>>11)+c|0;x[0]=a+x[0]|0;x[1]=b+x[1]|0;x[2]=c+x[2]|0;x[3]=d+x[3]|0}function md5blk(s){var md5blks=[],i;for(i=0;i<64;i+=4){md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24)}return md5blks}function md5blk_array(a){var md5blks=[],i;for(i=0;i<64;i+=4){md5blks[i>>2]=a[i]+(a[i+1]<<8)+(a[i+2]<<16)+(a[i+3]<<24)}return md5blks}function md51(s){var n=s.length,state=[1732584193,-271733879,-1732584194,271733878],i,length,tail,tmp,lo,hi;for(i=64;i<=n;i+=64){md5cycle(state,md5blk(s.substring(i-64,i)))}s=s.substring(i-64);length=s.length;tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<length;i+=1){tail[i>>2]|=s.charCodeAt(i)<<(i%4<<3)}tail[i>>2]|=128<<(i%4<<3);if(i>55){md5cycle(state,tail);for(i=0;i<16;i+=1){tail[i]=0}}tmp=n*8;tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/);lo=parseInt(tmp[2],16);hi=parseInt(tmp[1],16)||0;tail[14]=lo;tail[15]=hi;md5cycle(state,tail);return state}function md51_array(a){var n=a.length,state=[1732584193,-271733879,-1732584194,271733878],i,length,tail,tmp,lo,hi;for(i=64;i<=n;i+=64){md5cycle(state,md5blk_array(a.subarray(i-64,i)))}a=i-64<n?a.subarray(i-64):new Uint8Array(0);length=a.length;tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<length;i+=1){tail[i>>2]|=a[i]<<(i%4<<3)}tail[i>>2]|=128<<(i%4<<3);if(i>55){md5cycle(state,tail);for(i=0;i<16;i+=1){tail[i]=0}}tmp=n*8;tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/);lo=parseInt(tmp[2],16);hi=parseInt(tmp[1],16)||0;tail[14]=lo;tail[15]=hi;md5cycle(state,tail);return state}function rhex(n){var s="",j;for(j=0;j<4;j+=1){s+=hex_chr[n>>j*8+4&15]+hex_chr[n>>j*8&15]}return s}function hex(x){var i;for(i=0;i<x.length;i+=1){x[i]=rhex(x[i])}return x.join("")}if(hex(md51("hello"))!=="5d41402abc4b2a76b9719d911017c592"){add32=function(x,y){var lsw=(x&65535)+(y&65535),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535}}if(typeof ArrayBuffer!=="undefined"&&!ArrayBuffer.prototype.slice){(function(){function clamp(val,length){val=val|0||0;if(val<0){return Math.max(val+length,0)}return Math.min(val,length)}ArrayBuffer.prototype.slice=function(from,to){var length=this.byteLength,begin=clamp(from,length),end=length,num,target,targetArray,sourceArray;if(to!==undefined){end=clamp(to,length)}if(begin>end){return new ArrayBuffer(0)}num=end-begin;target=new ArrayBuffer(num);targetArray=new Uint8Array(target);sourceArray=new Uint8Array(this,begin,num);targetArray.set(sourceArray);return target}})()}function toUtf8(str){if(/[\u0080-\uFFFF]/.test(str)){str=unescape(encodeURIComponent(str))}return str}function utf8Str2ArrayBuffer(str,returnUInt8Array){var length=str.length,buff=new ArrayBuffer(length),arr=new Uint8Array(buff),i;for(i=0;i<length;i+=1){arr[i]=str.charCodeAt(i)}return returnUInt8Array?arr:buff}function arrayBuffer2Utf8Str(buff){return String.fromCharCode.apply(null,new Uint8Array(buff))}function concatenateArrayBuffers(first,second,returnUInt8Array){var result=new Uint8Array(first.byteLength+second.byteLength);result.set(new Uint8Array(first));result.set(new Uint8Array(second),first.byteLength);return returnUInt8Array?result:result.buffer}function hexToBinaryString(hex){var bytes=[],length=hex.length,x;for(x=0;x<length-1;x+=2){bytes.push(parseInt(hex.substr(x,2),16))}return String.fromCharCode.apply(String,bytes)}function SparkMD5(){this.reset()}SparkMD5.prototype.append=function(str){this.appendBinary(toUtf8(str));return this};SparkMD5.prototype.appendBinary=function(contents){this.tN4R+=contents;this.br8j+=contents.length;var length=this.tN4R.length,i;for(i=64;i<=length;i+=64){md5cycle(this.cZ9Q,md5blk(this.tN4R.substring(i-64,i)))}this.tN4R=this.tN4R.substring(i-64);return this};SparkMD5.prototype.end=function(raw){var buff=this.tN4R,length=buff.length,i,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ret;for(i=0;i<length;i+=1){tail[i>>2]|=buff.charCodeAt(i)<<(i%4<<3)}this.pQ3x(tail,length);ret=hex(this.cZ9Q);if(raw){ret=hexToBinaryString(ret)}this.reset();return ret};SparkMD5.prototype.reset=function(){this.tN4R="";this.br8j=0;this.cZ9Q=[1732584193,-271733879,-1732584194,271733878];return this};SparkMD5.prototype.getState=function(){return{buff:this.tN4R,length:this.br8j,hash:this.cZ9Q}};SparkMD5.prototype.setState=function(state){this.tN4R=state.buff;this.br8j=state.length;this.cZ9Q=state.hash;return this};SparkMD5.prototype.destroy=function(){delete this.cZ9Q;delete this.tN4R;delete this.br8j};SparkMD5.prototype.pQ3x=function(tail,length){var i=length,tmp,lo,hi;tail[i>>2]|=128<<(i%4<<3);if(i>55){md5cycle(this.cZ9Q,tail);for(i=0;i<16;i+=1){tail[i]=0}}tmp=this.br8j*8;tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/);lo=parseInt(tmp[2],16);hi=parseInt(tmp[1],16)||0;tail[14]=lo;tail[15]=hi;md5cycle(this.cZ9Q,tail)};SparkMD5.hash=function(str,raw){return SparkMD5.hashBinary(toUtf8(str),raw)};SparkMD5.hashBinary=function(content,raw){var hash=md51(content),ret=hex(hash);return raw?hexToBinaryString(ret):ret};SparkMD5.ArrayBuffer=function(){this.reset()};SparkMD5.ArrayBuffer.prototype.append=function(arr){var buff=concatenateArrayBuffers(this.tN4R.buffer,arr,true),length=buff.length,i;this.br8j+=arr.byteLength;for(i=64;i<=length;i+=64){md5cycle(this.cZ9Q,md5blk_array(buff.subarray(i-64,i)))}this.tN4R=i-64<length?new Uint8Array(buff.buffer.slice(i-64)):new Uint8Array(0);return this};SparkMD5.ArrayBuffer.prototype.end=function(raw){var buff=this.tN4R,length=buff.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i,ret;for(i=0;i<length;i+=1){tail[i>>2]|=buff[i]<<(i%4<<3)}this.pQ3x(tail,length);ret=hex(this.cZ9Q);if(raw){ret=hexToBinaryString(ret)}this.reset();return ret};SparkMD5.ArrayBuffer.prototype.reset=function(){this.tN4R=new Uint8Array(0);this.br8j=0;this.cZ9Q=[1732584193,-271733879,-1732584194,271733878];return this};SparkMD5.ArrayBuffer.prototype.getState=function(){var state=SparkMD5.prototype.getState.call(this);state.buff=arrayBuffer2Utf8Str(state.buff);return state};SparkMD5.ArrayBuffer.prototype.setState=function(state){state.buff=utf8Str2ArrayBuffer(state.buff,true);return SparkMD5.prototype.setState.call(this,state)};SparkMD5.ArrayBuffer.prototype.destroy=SparkMD5.prototype.destroy;SparkMD5.ArrayBuffer.prototype.pQ3x=SparkMD5.prototype.pQ3x;SparkMD5.ArrayBuffer.hash=function(arr,raw){var hash=md51_array(new Uint8Array(arr)),ret=hex(hash);return raw?hexToBinaryString(ret):ret};return SparkMD5});
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),v8n=c8g("nej.j"),dZ0x=c8g("nej.g"),k8c=c8g("nej.u"),ga0x=c8g("nej.n"),G8y=c8g("nej.ut"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),in1x=c8g("nm.x.nos"),x8p=c8g("nm.w");var cpa3x=1024*256,cpb3x=1024*1024*2,sI4M={TOKEN_ERROR:-100,DNS_ERROR:-101},bRg8Y=typeof File!=="undefined"?File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice:bs8k,sO4S={MD5_DONE:.2,TOKEN_GET:.22,DNS_GET:.24,UPLOADED:1},kt2x={AUDIO:"audio",IMAGE:"image",TXT:"txt",RAR:"rar",OTHER:"other",VIDEO:"video"};var pu3x={};var xS6M=q8i.ij1x.B8t();in1x.cUx1x=function(){return kt2x};var cpd3x=function(){return k8c.oP3x(6)+ +(new Date)};var KH0x=function(jq1x,e8e){if(!pu3x[e8e.taskId]){return}(e8e.onuploading||bs8k).call(this,jq1x)};var byW3x=function(Q8I){var cpe3x=Q8I.md5,df9W=Q8I.file,cpf3x=cpe3x+df9W.size;return"nos_file_hash_"+cpf3x};var cpg3x=function(Q8I){var K8C=byW3x(Q8I),i8a=v8n.bHR5W(K8C,"{}");try{i8a=JSON.parse(i8a)}catch(e){i8a={}}return i8a};var cph3x=function(Q8I,e8e){if(!Q8I.md5){return}var K8C=byW3x(Q8I),i8a=v8n.bHR5W(K8C,"{}");try{i8a=JSON.parse(i8a)}catch(e){i8a={}}NEJ.X(i8a,e8e);v8n.xR6L(K8C,JSON.stringify(i8a))};var cpl3x=function(Q8I){var K8C=byW3x(Q8I);v8n.Oz1x(K8C)};var cpq4u=function(Q8I,eS0x){var Z8R=Q8I.urls[Math.min(Q8I.urlIndex,Q8I.urls.length-1)],df9W=Q8I.file,nF3x=Q8I.bucket,nu3x=Q8I.objectKey,cs9j=Q8I.token,bM9D=Q8I.context,qh3x={},Tm2x=bRg8Y.call(df9W,Q8I.beg,Q8I.end),bx9o={offset:Q8I.beg,complete:Q8I.lastChunk||false,version:"1.0"};if(bM9D){bx9o.context=bM9D}qh3x["x-nos-token"]=cs9j;qh3x[dZ0x.Am6g]=df9W.type;Q8I.reqId=v8n.bm8e(Z8R+"/"+nF3x+"/"+nu3x,{type:"json",method:"POST",headers:qh3x,query:bx9o,data:Tm2x,onload:eS0x.onload,onerror:eS0x.onerror})};var cpt4x=function(m8e,Q8I,e8e){m8e={code:200,fileName:e8e.file.name,size:e8e.file.size,type:e8e.file.type,bucket:Q8I.bucket,docId:Q8I.docId,objectKey:Q8I.objectKey,url:"//nos.netease.com/"+Q8I.bucket+"/"+Q8I.objectKey,taskId:e8e.taskId};cpl3x(Q8I);if(!pu3x[e8e.taskId]){return}delete pu3x[e8e.taskId];xS6M.fa0x("sysaction",{type:"nosuploadsuccess",location:location.href,result:JSON.stringify(m8e)});(e8e.onsuccess||bs8k).call(this,m8e)};var cpx4B=function(m8e,e8e){(e8e.onerror||bs8k).call(this,m8e)};var cpJ4N=function(m8e,Q8I,e8e){Q8I.context=m8e.context;Q8I.beg=m8e.offset;var jq1x=Q8I.beg/Q8I.file.size;cph3x(Q8I,{bucket:Q8I.bucket,objectKey:Q8I.objectKey,token:Q8I.token,context:Q8I.context,beg:Q8I.beg,updateTime:+(new Date)});jq1x=sO4S.DNS_GET+(sO4S.UPLOADED-sO4S.DNS_GET)*jq1x;KH0x(jq1x,e8e);if(Q8I.lastChunk){cpt4x(m8e,Q8I,e8e)}else{bcr5w(Q8I,e8e)}};var cpN4R=function(m8e,Q8I,e8e){xS6M.fa0x("sysaction",{type:"noschunkuploaderror",location:location.href,code:m8e.data,body:m8e.extData,ext:JSON.stringify(Q8I),timging:+(new Date)-Q8I.chuckUploadStartTime});if(Q8I.urlIndex<Math.max(Q8I.urls.length-1,5)){Q8I.urlIndex++;bcr5w(Q8I,e8e)}else{cpx4B(m8e,e8e)}};var bcr5w=function(Q8I,e8e){if(!Q8I||Q8I.step==-1){return}Q8I.end=Q8I.beg+cpa3x;if(Q8I.end>=Q8I.file.size){Q8I.end=Q8I.file.size;Q8I.lastChunk=true}Q8I.chuckUploadStartTime=+(new Date);cpq4u(Q8I,{onload:cpJ4N.eO0x(this,Q8I,e8e),onerror:cpN4R.eO0x(this,Q8I,e8e)})};var cpO4S=function(m8e,Q8I,e8e){Q8I.beg=m8e.offset;var jq1x=Q8I.beg/Q8I.file.size;jq1x=sO4S.DNS_GET+(sO4S.UPLOADED-sO4S.DNS_GET)*jq1x;KH0x(jq1x,e8e);bcr5w(Q8I,e8e)};var cpT4X=function(m8e,Q8I,e8e){Q8I.beg=0;delete Q8I.context;byB3x(Q8I,e8e)};var bQb7U=function(SS2x,Q8I,e8e){Q8I.lastChunk=false;Q8I.urls=SS2x;Q8I.urlIndex=0;KH0x(sO4S.DNS_GET,e8e);if(Q8I.fromExist){delete Q8I.fromExist;var Z8R=Q8I.urls[Math.min(Q8I.urlIndex,Q8I.urls.length-1)],nF3x=Q8I.bucket,nu3x=Q8I.objectKey,cs9j=Q8I.token,bM9D=Q8I.context,qh3x={},bx9o={context:bM9D,version:"1.0"};qh3x["x-nos-token"]=cs9j;Q8I.reqId=v8n.bm8e(Z8R+"/"+nF3x+"/"+nu3x+"?uploadContext",{type:"json",method:"GET",headers:qh3x,query:bx9o,onload:cpO4S.eO0x(this,Q8I,e8e),onerror:cpT4X.eO0x(this,Q8I,e8e)})}else{Q8I.beg=0;bcr5w(Q8I,e8e)}};var cpU4Y=function(m8e,Q8I,e8e){m8e.code=sI4M.DNS_ERROR;(e8e.onerror||bs8k).call(this,m8e)};var bPZ7S=function(i8a,e8e){var m8e=i8a.result||{},nF3x=m8e.bucket,nu3x=m8e.objectKey,cs9j=m8e.token,Q8I=pu3x[e8e.taskId];if(!nF3x||!nu3x||!cs9j||!Q8I){m8e.code=sI4M.TOKEN_ERROR;(e8e.onerror||bs8k).call(this,m8e);return}Q8I.bucket=nF3x;Q8I.objectKey=nu3x;Q8I.docId=m8e.docId;Q8I.token=cs9j;KH0x(sO4S.TOKEN_GET,e8e);if(location.protocol=="https:"){bQb7U(["//nosup-hz1.127.net"],Q8I,e8e)}else{Q8I.reqId=in1x.cqc4g({bucket:nF3x,onload:bQb7U.eO0x(this,Q8I,e8e),onerror:cpU4Y.eO0x(this,Q8I,e8e)})}Q8I.step=1};var cqg4k=function(m8e,e8e){m8e.code=sI4M.TOKEN_ERROR;(e8e.onerror||bs8k).call(this,m8e)};var byB3x=function(Q8I,e8e){var df9W=e8e.file,fe0x=df9W.name||"",eh0x=fe0x.split(".").pop();in1x.bcD5I(NEJ.X({filename:fe0x,ext:eh0x,onload:bPZ7S.eO0x(this,e8e),onerror:cqg4k.eO0x(this,e8e)},e8e,function(p8h){return k8c.hf1x(p8h)||k8c.mz2x(p8h)}))};var cqh4l=function(Q8I,e8e){if(!Q8I||Q8I.step==-1){return}Q8I.md5=Q8I.spark.end();var Mg0x=cpg3x(Q8I)||{},nF3x=Mg0x.bucket,nu3x=Mg0x.objectKey,cs9j=Mg0x.token;if(!nF3x||!nu3x||!cs9j){byB3x(Q8I,e8e)}else{Q8I.context=Mg0x.context;Q8I.beg=Mg0x.beg;Q8I.fromExist=true;bPZ7S({result:Mg0x},e8e)}};var cqi4m=function(Ld0x,Q8I,e8e){if(!Q8I||Q8I.step==-1){return}Q8I.beg=Q8I.end;var jq1x=Q8I.beg/Q8I.file.size;jq1x=0+sO4S.MD5_DONE*jq1x;KH0x(jq1x,e8e);Q8I.spark.append(Ld0x.result);if(Q8I.lastChunk){cqh4l(Q8I,e8e)}else{bPL7E(Q8I,e8e)}};var cqn4r=function(m8e,Q8I,e8e){Q8I.md5="";byB3x(Q8I,e8e)};var bPL7E=function(Q8I,e8e){if(!Q8I||Q8I.step==-1){return}Q8I.end=Q8I.beg+cpb3x;if(Q8I.end>=Q8I.file.size){Q8I.end=Q8I.file.size;Q8I.lastChunk=true}var Ld0x=new FileReader;Ld0x.onload=cqi4m.f8d(this,Ld0x,Q8I,e8e);Ld0x.onerror=cqn4r.f8d(this,Ld0x,Q8I,e8e);Ld0x.readAsArrayBuffer(bRg8Y.call(Q8I.file,Q8I.beg,Q8I.end))};in1x.iw1x=function(e8e){var df9W=e8e.file,fe0x=df9W.name||"",eh0x=fe0x.split(".").pop(),Lg0x=cpd3x();e8e.taskId=Lg0x;pu3x[Lg0x]={step:0};KH0x(0,e8e);var Q8I=pu3x[Lg0x];Q8I.id=Lg0x;Q8I.file=df9W;Q8I.beg=0;Q8I.lastChunk=false;Q8I.spark=new SparkMD5.ArrayBuffer;var cqp4t=e8e.onerror||bs8k;e8e.onerror=function(){if(!pu3x[Lg0x]){return}delete pu3x[Lg0x];cqp4t.apply(this,arguments)};xS6M.fa0x("sysaction",{type:"nosuploadstart",location:location.href});bPL7E(Q8I,e8e);return Lg0x};in1x.lk2x=function(D8v){var Q8I=pu3x[D8v];if(Q8I){if(Q8I.step==0){delete pu3x[D8v]}else{Q8I.step=-1;if(Q8I.reqId){v8n.lk2x(Q8I.reqId)}delete pu3x[D8v]}}};in1x.bcD5I=function(){var Cv7o=function(m8e,e8e){(e8e.onload||bs8k).call(this,m8e)};var zH6B=function(m8e,e8e){(e8e.onerror||bs8k).call(this,m8e)};var bPC7v=JSON.stringify({code:200,size:"$(ObjectSize)"});return function(e8e){var bcN5S=e8e.returnBody||bPC7v;if(k8c.mz2x(bcN5S)){try{JSON.stringify(bcN5S)}catch(e){bcN5S=bPC7v}}return v8n.bm8e("/api/nos/token/alloc",{method:"POST",type:"json",query:{filename:e8e.filename||"",ext:e8e.ext||"",type:e8e.type||kt2x.OTHER,bucket:e8e.bucket||"",local:e8e.local||false,nos_product:e8e.nosProduct||0,return_body:bcN5S},onload:Cv7o.eO0x(this,e8e),onerror:zH6B.eO0x(this,e8e)})}}();in1x.cqc4g=function(){var cqx4B="//wanproxy.127.net/lbs";var Cv7o=function(m8e,e8e){if(m8e.lbs){}var SS2x=m8e.upload;if(!SS2x||!SS2x.length){zH6B(m8e,e8e)}(e8e.onload||bs8k).call(this,SS2x)};var zH6B=function(m8e,e8e){(e8e.onerror||bs8k).call(this,m8e)};return function(e8e){var nF3x=e8e.bucket;return v8n.bm8e(cqx4B,{method:"GET",type:"json",query:{version:"1.0",bucketname:nF3x},onload:Cv7o.eO0x(this,e8e),onerror:zH6B.eO0x(this,e8e)})}}();in1x.bcQ5V=function(){return typeof File!=="undefined"&&typeof Blob!=="undefined"&&typeof FileList!=="undefined"&&(!!Blob.prototype.webkitSlice||!!Blob.prototype.mozSlice||!!Blob.prototype.slice||false)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v8n=c8g("nej.j"),ch9Y=c8g("nej.ut"),bD9u=c8g("nej.ui"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),in1x=c8g("nm.x.nos"),E8w=c8g("nm.m"),n8f=c8g("nm.l"),x8p=c8g("nm.w"),b8h,L8D;var gJ1x=a7h.jU2x('<form action="" method="post" enctype="multipart/form-data"><input name="Object" type="hidden" value=""><input name="x-nos-token" type="hidden" value=""><input name="x-nos-entity-type" type="hidden" value="json" /><input name="Content-Type" type="hidden" value="" /><input class="j-file" type="file" name="file" /></form>');x8p.Mc0x=NEJ.C();b8h=x8p.Mc0x.M8E(bD9u.eu0x);b8h.ci9Z=function(){this.cg9X=gJ1x};b8h.bY9P=function(){this.cj9a();this.bQ9H=this.o8g;this.hy1x=a7h.F8x(this.o8g,"j-file")[0];h8b.s8k(this.hy1x,"change",this.rt4x.f8d(this))};b8h.bp8h=function(e8e){e8e=e8e||{};this.bq8i(e8e);this.hy1x.id=e8e.inputId||"";this.hy1x.accept=e8e.accept||"*";this.zv6p=e8e};b8h.bcZ5e=function(){return a7h.mu2x(this.hy1x)};b8h.rt4x=function(d8f){if(this.hy1x.value=="")return;var lP2x=this.hy1x.value.split("\\"),fe0x=lP2x.length>0?lP2x[lP2x.length-1]:lP2x[0],pY3x=(this.hy1x.files||[{}])[0];var cq9h={files:this.hy1x.files,filename:fe0x,size:pY3x.size,cancelUpload:false};this.z8r("onchange",cq9h);if(cq9h.cancelUpload){this.hy1x.value="";return}if(cq9h.stopped){return}this.Sq2x()};b8h.Sq2x=function(){if(this.hy1x.value=="")return;var lP2x=this.hy1x.value.split("\\"),fe0x=lP2x.length>0?lP2x[lP2x.length-1]:lP2x[0],eh0x=(fe0x.split(".")||[]).pop(),pY3x=(this.hy1x.files||[{}])[0],Gr8j=(pY3x.type||"").split("/").shift();if(pY3x.size>100*1024*1024){return this.nc2x("onerror",{code:-200})}this.z8r("onuploading",0);this.bPu7n=in1x.bcD5I(NEJ.X({onload:this.Sl2x.eO0x(this,fe0x),onerror:this.nc2x.f8d(this)},this.zv6p,function(p8h){return k8c.hf1x(p8h)||k8c.mz2x(p8h)}))};b8h.Sl2x=function(bP9G,fe0x){var m8e=bP9G.result||{},nF3x=m8e.bucket,nu3x=m8e.objectKey,cs9j=m8e.token;if(!nF3x||!nu3x||!cs9j){bP9G.code=-100;this.nc2x.call(this,bP9G);return}var pY3x=(this.hy1x.files||[{}])[0];var ih1x=a7h.dn9e(this.bQ9H);ih1x[0].value=nu3x;ih1x[1].value=cs9j;ih1x[2].value="json";if(pY3x.type&&pY3x.type.indexOf("audio")==0){ih1x[3].value="audio/mpeg"}else{ih1x[3].value=pY3x.type||""}this.Gw8o=m8e;this.sh4l=fe0x;this.z8r("onuploading",.2);this.iw1x()};b8h.iw1x=function(){this.bPu7n=in1x.iw1x({isBackend:false,file:(this.hy1x.files||[{}])[0],bucket:"yyimgs",local:false,onsuccess:this.wz5E.f8d(this),onerror:this.nc2x.f8d(this)})};b8h.lk2x=function(){v8n.lk2x(this.bPu7n);this.bQ9H.reset()};b8h.wz5E=function(bP9G){var cs9j=this.Gw8o,fe0x=this.sh4l,pY3x=(this.hy1x.files||[{}])[0],kW2x={code:200,fileName:fe0x,size:pY3x.size,bucket:cs9j.bucket,docId:cs9j.docId,objectKey:cs9j.objectKey,url:"//nos.netease.com/"+cs9j.bucket+"/"+cs9j.objectKey};if(!bP9G){bP9G=kW2x}if(!bP9G.code||bP9G.code==200){this.z8r("onsuccess",NEJ.X(kW2x,bP9G))}else{this.z8r("onerror",bP9G)}this.bQ9H.reset()};b8h.nc2x=function(bP9G){this.z8r("onerror",bP9G);this.bQ9H.reset()};b8h.byn3x=function(jq1x){this.z8r("onuploading",.2+jq1x.loaded/jq1x.total*.8)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v8n=c8g("nej.j"),ch9Y=c8g("nej.ut"),bD9u=c8g("nej.ui"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),in1x=c8g("nm.x.nos"),E8w=c8g("nm.m"),n8f=c8g("nm.l"),x8p=c8g("nm.w"),b8h,L8D;x8p.Sh2x=NEJ.C();b8h=x8p.Sh2x.M8E(ch9Y.cO9F);b8h.bp8h=function(e8e){e8e=e8e||{};this.bq8i(e8e);this.bdA5F=x8p.Mc0x.B8t(NEJ.X({parent:e8e.parent,onchange:this.rt4x.f8d(this),onuploading:this.z8r.f8d(this,"onuploading"),onsuccess:this.z8r.f8d(this,"onsuccess"),onerror:this.z8r.f8d(this,"onerror")},e8e,function(p8h){return k8c.hf1x(p8h)||k8c.mz2x(p8h)}));if(e8e.multiple&&in1x.bcQ5V()){a7h.hl1x(this.bdA5F.bcZ5e(),"multiple",true)}this.zv6p=e8e};b8h.rt4x=function(e8e){var fe0x=e8e.filename,eh0x=(fe0x.split(".")||[]).pop();this.bPn7g=(e8e.files||[{}])[0];this.z8r("onchange",e8e);if(in1x.bcQ5V()&&!e8e.stopped&&!e8e.cancelUpload){this.Sq2x(true);e8e.stopped=true}};b8h.bcZ5e=function(){return this.bdA5F.bcZ5e()};b8h.cqH4L=function(){return this.bPn7g};b8h.Sq2x=function(ft0x,df9W){df9W=df9W||this.bPn7g;if(in1x.bcQ5V()){this.bPl7e=in1x.iw1x(NEJ.X({file:df9W,local:this.zv6p.bucket&&this.zv6p.bucket.length,onuploading:this.z8r.f8d(this,"onuploading"),onsuccess:this.z8r.f8d(this,"onsuccess"),onerror:this.z8r.f8d(this,"onerror")},this.zv6p,function(p8h){return k8c.hf1x(p8h)||k8c.mz2x(p8h)}));return this.bPl7e}else if(!ft0x){this.bdA5F.Sq2x()}};b8h.lk2x=function(D8v){D8v=D8v||this.bPl7e;if(D8v){in1x.lk2x(D8v)}this.bdA5F.lk2x()}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),dZ0x=c8g("nej.g"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v8n=c8g("nej.j"),ga0x=c8g("nej.n"),G8y=c8g("nej.ut"),bc8U=c8g("nej.ui"),x8p=c8g("nm.w"),n8f=c8g("nm.l"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),N8F=c8g("nm.x.f"),in1x=c8g("nm.x.nos"),b8h,L8D,byl3x={0:"","-1":"不能添加重复图片","-10":"最多只能添加9张","-3":"请选择不超过5M的图片"},byk3x=5*1024*1024,cUl1x=80,bdQ5V=/\.(bmp|jpg|jpeg|png|gif)$/i;x8p.bPh7a=NEJ.C();b8h=x8p.bPh7a.M8E(G8y.xf5k);b8h.bsM1x=function(){return{x:this.Dr7k.clientWidth-this.o8g.offsetWidth,y:this.Dr7k.clientHeight-this.o8g.offsetHeight}};x8p.byb3x=NEJ.C();b8h=x8p.byb3x.M8E(bc8U.eu0x);b8h.ci9Z=function(){this.cg9X="m-xwgt-share-upload"};b8h.bY9P=function(){this.cj9a();var j8b=a7h.F8x(this.o8g,"j-flag");this.bdT5Y=j8b.shift();this.LY0x=j8b.shift();this.Re1x=j8b.shift();this.bOU7N={onchange:this.bOS7L.eO0x(this,0),onerror:this.dY0x.f8d(this),onsuccess:this.tH4L.f8d(this),multiple:true,parent:this.LY0x,accept:"image/bmp,image/jpg,image/jpeg,image/png,image/gif"};this.bxY2x={onchange:this.bOS7L.eO0x(this,1),onerror:this.dY0x.f8d(this),onsuccess:this.tH4L.f8d(this),multiple:true,accept:"image/bmp,image/jpg,image/jpeg,image/png,image/gif"};this.cqZ4d=x8p.Sh2x.B8t(this.bOU7N)};b8h.bp8h=function(e8e){this.bq8i(e8e);this.bxY2x.parent=e8e.button;this.LX0x&&this.LX0x.W8O();this.LX0x=x8p.Sh2x.B8t(this.bxY2x);this.o8g.style.display="none";if(!!this.fu0x){for(var i=this.fu0x.length-1;i>=0;i--){a7h.cV9M(this.fu0x[i].element,false);if(this.fu0x[i].dragger)this.fu0x[i].dragger.W8O()}}this.fu0x=[];if(this.CT7M){clearTimeout(this.CT7M)}this.beh6b(0);this.QV1x=0;this.bZ9Q([[this.bOU7N.parent,"click",this.bOI7B.f8d(this)],[this.bxY2x.parent,"click",this.bOI7B.f8d(this)]])};b8h.bC9t=function(){h8b.hE1x(this.tT5Y,"click");if(!!this.fu0x){for(var i=this.fu0x.length-1;i>=0;i--){a7h.cV9M(this.fu0x[i].element,false);if(this.fu0x[i].dragger)this.fu0x[i].dragger.W8O()}}this.fu0x=[];if(this.CT7M){clearTimeout(this.CT7M)}this.CT7M=0;this.LX0x&&this.LX0x.W8O();delete this.LX0x;this.bH9y()};b8h.bOI7B=function(d8f){if(!in1x.bcQ5V()&&this.fu0x.doing){h8b.bi8a(d8f)}};b8h.bOS7L=function(e8e,r8j){var mD2x=e8e.files,hN1x;e8e.stopped=true;if(!mD2x){if(e8e.filename){mD2x=[{name:e8e.filename,isIE:true}]}}for(var i=0,len=mD2x.length;i<len;i++){if(!bdQ5V.test(mD2x[i].name)){this.bxU2x({path:mD2x[i].name,index:r8j,status:-4,fail:"这不是<br>图片"})}else if(mD2x[i].size>byk3x){this.bxT2x(-3);this.bxU2x({path:mD2x[i].name,index:r8j,status:-3,fail:"上传<br>失败"})}else{this.bxU2x({path:mD2x[i].name,file:mD2x[i],index:r8j,status:0})}}};b8h.bxU2x=function(vA5F){if(this.fu0x.length>=9){this.bxT2x(-10,3e3,this.bOA6u.f8d(this));return}this.crn4r(vA5F);this.fu0x.push(vA5F);if(!!this.fu0x.length){this.o8g.style.display=""}if(this.fu0x.length>=9){this.LY0x.style.display="none"}else{this.LY0x.style.display=""}this.LV0x()};b8h.LV0x=function(){var bxK2x=-1,bOj6d=0;for(var i=0,l=this.fu0x.length;i<l;i++){if(this.fu0x[i].status==1){return}if(this.fu0x[i].status==0&&bxK2x<0){bxK2x=i}if(this.fu0x[i].status==2||this.fu0x[i].status<0){bOj6d++}}var p8h=this.fu0x[bxK2x];if(p8h){(p8h.index==0?this.cqZ4d:this.LX0x).Sq2x(false,p8h.file);p8h.status=1;this.fu0x.doing=p8h;this.z8r("onstartupload",{})}else if(bOj6d==this.fu0x.length){this.z8r("onfinishupload",{})}};b8h.bxG2x=function(){return this.fu0x.doing||{}};b8h.dY0x=function(d8f){var vA5F=this.bxG2x();vA5F.status=-4;vA5F.fail="上传<br>失败";this.bOe6Y(vA5F);this.fu0x.doing=null;this.LV0x()};b8h.tH4L=function(d8f){var vA5F=this.bxG2x(),ea0x=d8f.fileName.match(bdQ5V);vA5F.picUrl=d8f.url;v8n.bm8e("/upload/event/img/v1",{query:{imgid:d8f.docId,format:ea0x[1]},type:"json",onload:this.bOd6X.f8d(this),onerror:this.bOd6X.f8d(this)})};b8h.bOd6X=function(d8f){if(d8f&&d8f.code==200&&d8f.picInfo){var vA5F=this.bxG2x();vA5F.status=2;var R8J=NEJ.X({},d8f.picInfo);R8J.originId=R8J.originIdStr;R8J.squareId=R8J.squareIdStr;R8J.rectangleId=R8J.rectangleIdStr;R8J.pcSquareId=R8J.pcSquareIdStr;R8J.pcRectangleId=R8J.pcRectangleIdStr;R8J.originJpgId=R8J.originJpgIdStr||R8J.originJpgId;vA5F.picInfo=R8J;this.bOe6Y(vA5F);this.fu0x.doing=null;this.LV0x()}else{this.dY0x(d8f)}};b8h.bxT2x=function(r8j,hu1x,eS0x){if(this.QV1x<r8j){return}if(this.CT7M){clearTimeout(this.CT7M);this.CT7M=0}if(hu1x){this.Re1x.innerText=byl3x[r8j*1];this.QV1x=r8j;this.CT7M=setTimeout(this.beh6b.f8d(this,r8j,eS0x),hu1x)}else{this.Re1x.innerText=byl3x[r8j];this.QV1x=r8j}this.Re1x.style.display=""};b8h.beh6b=function(r8j,eS0x){if(r8j&&this.QV1x!==r8j){return}this.QV1x=0;this.Re1x.innerText=byl3x[0];this.Re1x.style.display="none";eS0x&&eS0x()};b8h.crn4r=function(df9W){var i8a={};if(df9W.fail){i8a.fail=df9W.fail}var eg0x=a7h.cf9W("m-xwgt-share-upload-preview",i8a);df9W.element=a7h.pa3x(eg0x);h8b.s8k(a7h.F8x(df9W.element,"del")[0],"mousedown",this.crw4A.f8d(this,df9W),false);this.bdT5Y.insertBefore(df9W.element,this.bdT5Y.lastElementChild);df9W.dragger=x8p.bPh7a.B8t({view:this.bdT5Y.parentNode,body:df9W.element,overflow:false,direction:0,isRelative:1,ondragstart:this.Wc3x.f8d(this,df9W),onchange:this.crz4D.f8d(this,df9W),ondragend:this.bsI1x.f8d(this,df9W)})};b8h.bOe6Y=function(df9W){if(!df9W||!df9W.element){return false}var i8a={};if(df9W.fail){i8a.fail=df9W.fail}else{i8a.url=df9W.picUrl}a7h.w8o(df9W.element,"z-fail");df9W.element.firstChild.outerHTML=a7h.cf9W("m-xwgt-share-upload-preview-img",i8a)};b8h.Wc3x=function(p8h,ce9V){a7h.w8o(p8h.element,"z-sel")};b8h.crz4D=function(p8h,ce9V){var cUc1x,gD1x=this.fu0x.length-1,pi3x;for(var i=gD1x;i>=0;i--){a7h.y8q(this.fu0x[i].element,"z-jump");if(this.fu0x[i]==p8h){pi3x=i}else{a7h.fv0x(this.fu0x[i].element,{left:"",top:""})}}var YR4V={x:46+92*(pi3x%5)+ce9V.left,y:46+92*(pi3x/5>>0)+ce9V.top};var bxB2x=YR4V.x/92>>0,bxA2x=YR4V.y/92>>0,CA7t=Math.max(0,Math.min(gD1x,bxA2x*5+bxB2x));if(CA7t==pi3x){return}var crL4P=CA7t<pi3x;for(var i=Math.min(CA7t,pi3x);i<=Math.max(CA7t,pi3x);i++){if(i!==pi3x){var bNL6F=i%5;if(crL4P){if(bNL6F==4){a7h.fv0x(this.fu0x[i].element,{left:"-368px",top:"92px"})}else{a7h.fv0x(this.fu0x[i].element,{left:"92px",top:""})}}else{if(bNL6F==0){a7h.fv0x(this.fu0x[i].element,{left:"368px",top:"-92px"})}else{a7h.fv0x(this.fu0x[i].element,{left:"-92px",top:""})}}}}};b8h.bsI1x=function(p8h,ce9V){var cUa0x,gD1x=this.fu0x.length-1,pi3x;for(var i=gD1x;i>=0;i--){a7h.fv0x(this.fu0x[i].element,{left:"",top:""});if(this.fu0x[i]==p8h){pi3x=i}}a7h.y8q(p8h.element,"z-sel");var YR4V={x:46+92*(pi3x%5)+ce9V.left,y:46+92*(pi3x/5>>0)+ce9V.top};var bxB2x=YR4V.x/92>>0,bxA2x=YR4V.y/92>>0,CA7t=Math.max(0,Math.min(gD1x,bxA2x*5+bxB2x));if(CA7t==pi3x){return}this.bdT5Y.insertBefore(p8h.element,(this.fu0x[CA7t+(CA7t>pi3x?1:0)]||{}).element||this.LY0x);this.fu0x.splice(pi3x,1);this.fu0x.splice(CA7t,0,p8h)};b8h.crw4A=function(p8h,d8f){a7h.cV9M(p8h.element,false);if(p8h.dragger)p8h.dragger.W8O();delete p8h.dragger;var r8j=-1;for(var i=this.fu0x.length-1;i>=0;i--){if(this.fu0x[i]==p8h){r8j=i;break}}this.fu0x.splice(r8j,r8j>=0?1:0);delete p8h;if(this.fu0x.length>=9){this.LY0x.style.display="none"}else{this.LY0x.style.display=""}if(!this.fu0x.length){this.o8g.style.display="none";this.beh6b(0)}else{this.bOA6u()}if(this.fu0x.doing==p8h){this.fu0x.doing=null}this.LV0x()};b8h.bOA6u=function(){var bNI6C=false;for(var i=0,len=this.fu0x.length;i<len;i++){if(this.fu0x[i].status==-3){bNI6C=true}}if(bNI6C){this.bxT2x(-3)}else{this.beh6b(-3)}};b8h.Yi3x=function(){var dK0x=[];for(var i=this.fu0x.length-1;i>=0;i--){if(this.fu0x[i].status==2){dK0x.unshift(this.fu0x[i].picInfo)}}return dK0x};G8y.fV0x.B8t({element:x8p.byb3x,event:["onstartupload","onfinishupload"]})})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,fN0x=NEJ.R,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),bc8U=c8g("nej.ui"),P8H=c8g("nej.ut"),b8h,L8D;if(!!P8H.nV3x)return;P8H.nV3x=NEJ.C();b8h=P8H.nV3x.M8E(P8H.bhn8f);L8D=P8H.nV3x.cx9o;b8h.bp8h=function(e8e){this.csc4g(e8e.more);this.Hq9h=a7h.A8s(e8e.sbody);this.csd4h=e8e.fixScrollPosition;this.bZ9Q([[this.Hq9h,"scroll",this.csf4j.f8d(this)]]);var dA0x=e8e.delta;if(dA0x==null)dA0x=30;this.Yc3x=Math.max(0,dA0x);var cn9e=parseInt(e8e.count)||0;this.kv2x=Math.max(0,cn9e);var hB1x=parseInt(e8e.number)||0;if(hB1x>1&&hB1x<=cn9e){this.DK7D=hB1x}this.bq8i(e8e)};b8h.bC9t=function(){this.bH9y();delete this.Db7U;delete this.Hq9h;delete this.vi5n;delete this.bfp6j};b8h.Ez8r=function(bl8d,br8j){var bN9E=this.Cd7W+(this.kv2x-1)*this.pZ3x,gx1x=this.kv2x*this.pZ3x;return L8D.Ez8r.call(this,bN9E,bl8d,gx1x,br8j)};b8h.csc4g=function(bfq6k){this.Db7U=a7h.A8s(bfq6k);this.bZ9Q([[this.Db7U,"click",this.qf3x.f8d(this)]])};b8h.bxq2x=function(H8z){H8z=H8z||{};if(this.vi5n||!H8z)return;if(!H8z.scrollHeight)H8z=a7h.qv3x();var bl8d=a7h.ir1x(this.iP1x,this.csd4h?H8z:null),dA0x=bl8d.y+this.iP1x.offsetHeight-H8z.scrollTop-H8z.clientHeight,bxo2x=H8z.scrollHeight<=H8z.clientHeight;if(dA0x<=this.Yc3x||bxo2x&&!this.vi5n){this.qf3x()}};b8h.csf4j=function(d8f){if(this.vi5n)return;this.bxq2x(h8b.ba8S(d8f))};b8h.Ey8q=function(d8f){L8D.Ey8q.apply(this,arguments);if(!d8f.stopped){this.WG3x();var bl8d=0;if(d8f.index>1){bl8d=this.Cd7W+((d8f.index-1)*this.kv2x-1)*this.pZ3x}this.iC1x=bl8d;this.qf3x()}};b8h.bVk9b=function(e8e){if(!!this.DK7D){var dA0x=e8e.offset>0?this.pZ3x:this.Cd7W,gx1x=dA0x+this.pZ3x*(this.DK7D-1);this.iC1x=e8e.offset+gx1x;e8e.data.limit=gx1x;e8e.limit=gx1x;delete this.DK7D}return e8e};b8h.bAM3x=function(e8e){delete this.bfp6j;L8D.bAM3x.apply(this,arguments);this.bNr6l()};b8h.bAH3x=function(d8f){if(d8f.key!=this.jL1x.key)return;switch(d8f.action){case"refresh":case"append":delete this.bfp6j;break}L8D.bAH3x.apply(this,arguments)};b8h.Wn3x=function(){this.AF7y("onbeforelistload","列表加载中...");a7h.bd8V(this.Db7U,"display","none")};b8h.bAx3x=function(j8b,bl8d,gx1x){var br8j=j8b.length,bxn2x=j8b.loaded?bl8d+gx1x>=br8j:bl8d+gx1x>br8j;this.iC1x=Math.min(this.iC1x,br8j);a7h.bd8V(this.Db7U,"display",bxn2x?"none":"");if(bxn2x)this.vi5n=!0;if(this.kv2x>0){var R8J=this.Ez8r(bl8d,j8b.length);if(this.bUK9B(R8J.index,R8J.total))return!0;var dA0x=this.Cd7W-this.pZ3x,hB1x=this.kv2x*this.pZ3x;this.vi5n=(bl8d+gx1x-dA0x)%hB1x==0||bxn2x;a7h.bd8V(this.Db7U,"display",this.vi5n?"none":"");this.bAE3x(this.vi5n&&R8J.total>1?"":"none")}};b8h.bAz3x=function(){this.iC1x=0;this.vi5n=!0;this.AF7y("onemptylist","没有列表数据！")};b8h.Wj3x=function(eg0x,ce9V){this.iP1x.insertAdjacentHTML(ce9V||"beforeEnd",eg0x)};b8h.Wi3x=function(hQ1x){this.ge0x=this.ge0x||[];if(k8c.el0x(hQ1x)){fN0x.push.apply(this.ge0x,hQ1x)}else{this.ge0x.push(hQ1x)}};b8h.bhV8N=function(d8f){a7h.nq3x(this.cS9J);this.VW3x(d8f,"onafteradd");var ft0x=d8f.flag;if(d8f.stopped||!ft0x)return;if(this.kv2x>0){this.bAD3x();return}this.iC1x+=1;ft0x==-1?this.bAq3x(d8f.data):this.bUn9e(d8f.data)};b8h.bhY8Q=function(d8f){this.VW3x(d8f,"onafterdelete");if(d8f.stopped)return;if(this.kv2x>0){this.bAD3x();return}var D8v=d8f.data[this.fE0x.pkey];if(!!this.ge0x){var p8h=a7h.bZa0x(D8v),r8j=k8c.du0x(this.ge0x,p8h);if(r8j>=0){this.ge0x.splice(r8j,1);this.iC1x-=1}if(!!p8h)p8h.W8O()}else{var g8c=a7h.A8s(this.bVR9I(D8v));if(!!g8c)this.iC1x-=1;a7h.cV9M(g8c)}if(this.iC1x<=0)this.qf3x()};b8h.bAu3x=function(bl8d,gx1x){if(bl8d!=this.iC1x)return;if(this.bbq5v()){this.vi5n=!1;this.bNr6l()}};b8h.bAt3x=function(bl8d,gx1x){if(bl8d!=0)return;var Po1x=this.U8M.hY1x(this.jL1x.key);for(var i=gx1x-1;i>=0;i--){this.bAq3x(Po1x[i])}};b8h.bNr6l=function(){var H8z=this.Hq9h;if(!H8z||this.vi5n)return;this.bxq2x(this.Hq9h)};b8h.hd1x=function(){delete this.vi5n;L8D.hd1x.apply(this,arguments)};b8h.qf3x=function(){if(!!this.bfp6j)return;this.bfp6j=!0;var bl8d=this.iC1x;this.iC1x+=bl8d==0?this.Cd7W:this.pZ3x;this.bVo9f(bl8d)}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,a7h=c8g("nej.e"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),di9Z=c8g("nej.x"),P8H=c8g("nej.ut"),b8h;if(!!P8H.HC9t)return;P8H.HC9t=NEJ.C();b8h=P8H.HC9t.M8E(P8H.cO9F);b8h.bp8h=function(e8e){this.bq8i(e8e);this.iZ1x=e8e.event||"click";this.lC2x=e8e.selected||"js-selected";this.pq3x=e8e.disabled||"js-disabled";this.bNn6h=!!e8e.inverse;this.csu4y(e8e.list);this.XQ3x(e8e.index||0)};b8h.bC9t=function(){var csv4z=function(g8c){this.bxk2x(g8c,!1)};return function(){this.bH9y();k8c.bf8X(this.bX9O,csv4z,this);delete this.bX9O;delete this.iZ1x;delete this.cw9n;delete this.pq3x;delete this.lC2x;delete this.bNn6h}}();b8h.csu4y=function(){var bBl3x=function(p8h){if(!p8h)return;this.bX9O.push(p8h);var r8j=this.bX9O.length-1,dG0x=this.bxh2x[r8j];if(!dG0x){dG0x=this.XQ3x.f8d(this,r8j);this.bxh2x[r8j]=dG0x}this.bZ9Q([[p8h,this.iZ1x,dG0x]])};return function(j8b){this.bX9O=[];if(!this.bxh2x)this.bxh2x=[];k8c.bf8X(j8b,bBl3x,this)}}();b8h.bxk2x=function(H8z,csy4C){!!csy4C&&!this.bNn6h?a7h.w8o(H8z,this.lC2x):a7h.y8q(H8z,this.lC2x)};b8h.XQ3x=function(r8j,XA3x,i8a){var H8z=this.bX9O[r8j];if(XA3x!=!0&&(r8j==this.cw9n||!H8z||a7h.bG9x(H8z,this.pq3x))){h8b.cu9l(arguments[1]);return this}var d8f={index:r8j,last:this.cw9n,list:this.mp2x(),data:i8a||a7h.u8m(H8z,"value")};this.cw9n=r8j;H8z=this.bX9O[d8f.last];if(!!H8z)this.bxk2x(H8z,!1);H8z=this.bX9O[this.cw9n];this.bxk2x(H8z,!0);this.z8r("onchange",d8f);if(!d8f.nostop)h8b.cu9l(arguments[1]);return this};b8h.vx5C=function(){return this.cw9n};b8h.mp2x=function(){return this.bX9O};a7h.csH4L=di9Z.csH4L=function(bJ9A,e8e){var D8v=a7h.mu2x(bJ9A);if(!D8v)return null;if(!P8H.bjG9x(D8v,P8H.HC9t)){e8e=e8e||{};e8e.list=!e8e.clazz?a7h.dn9e(D8v):a7h.F8x(D8v,e8e.clazz);delete e8e.clazz}return P8H.bjG9x(D8v,P8H.HC9t,e8e||be8W)};di9Z.isChange=!0})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,k8c=c8g("nej.u"),v8n=c8g("nej.j"),l8d=c8g("nm.x");var SETTING_KEY="player-setting";var oy3x={mode:4,volume:.8,autoPlay:false,index:0,lock:false};oy3x=v8n.vj5o(SETTING_KEY)||oy3x;l8d.bxd2x=function(){return oy3x};l8d.HM9D=function(HN9E){if(HN9E){oy3x=HN9E;v8n.xR6L(SETTING_KEY,HN9E)}}})();
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).xyvod=e()}}(function(){var define,module,exports;return function s(o,a,f){function u(t,e){if(!a[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=a[t]={exports:{}};o[t][0].call(i.exports,function(e){return u(o[t][1][e]||e)},i,i.exports,s,o,a,f)}return a[t].exports}for(var c="function"==typeof require&&require,e=0;e<f.length;e++)u(f[e]);return u}({1:[function(f,e,u){((function(s){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var t=e(f("babel-runtime/helpers/classCallCheck")),r=e(f("babel-runtime/helpers/createClass")),i=e(f("assert")),o=(e(f("../utils/logger")),e(f("../utils/common"))),n=e(f("../utils/range-queue"));function e(e){return e&&e.__esModule?e:{"default":e}}var a=function(){function e(){(0,t.default)(this,e),this._buffer=s.allocUnsafe(o.default.MAX_CACHE_SIZE),this._rangeQueue=new n.default}return(0,r.default)(e,[{key:"clear",value:function(){this._rangeQueue.clear()}},{key:"dispose",value:function(){this._buffer=null,this._rangeQueue=null}},{key:"canDownload",value:function(e){return 0===this._rangeQueue.ranges.length||e.end-this._rangeQueue.start<o.default.MAX_CACHE_SIZE}},{key:"writeBytes",value:function(e,t){if(i.default.ok(t.length<=o.default.MAX_CACHE_SIZE,"writeBytes, range length("+t.length+") > MAX_CACHE_SIZE("+o.default.MAX_CACHE_SIZE+")"),i.default.ok(t.length<=e.length,"writeBytes, range length("+t.length+") > bytes.length("+e.length+")"),0!==e.length){var r=t.position%o.default.MAX_CACHE_SIZE;if(r+e.length>o.default.MAX_CACHE_SIZE){var n=o.default.MAX_CACHE_SIZE-r;e.copy(this._buffer,r,0,n),e.copy(this._buffer,0,n,e.length)}else e.copy(this._buffer,r,0,e.length);this._rangeQueue.addRange(t)}}},{key:"readBytes",value:function(e){if(0===e.length)return s.allocUnsafe(0);if(!this._rangeQueue.isContained(e))return s.allocUnsafe(0);var t=s.allocUnsafe(e.length),r=e.position%o.default.MAX_CACHE_SIZE;if(r+e.length>o.default.MAX_CACHE_SIZE){var n=o.default.MAX_CACHE_SIZE-r,i=r+e.length-o.default.MAX_CACHE_SIZE;this._buffer.copy(t,0,r,o.default.MAX_CACHE_SIZE),this._buffer.copy(t,n,0,i)}else this._buffer.copy(t,0,r,r+e.length);return this._rangeQueue.removeRange(e),t}},{key:"rangeQueue",get:function(){return this._rangeQueue}}]),e}();u.default=a})).call(this,f("buffer").Buffer)},{"../utils/common":26,"../utils/logger":30,"../utils/range-queue":33,assert:238,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a(e("babel-runtime/helpers/classCallCheck")),i=a(e("babel-runtime/helpers/createClass")),s=(a(e("../utils/logger")),e("../transfer/pipe-info")),o=a(e("../utils/common"));function a(e){return e&&e.__esModule?e:{"default":e}}var f=function(){function t(e){(0,n.default)(this,t),this._type=e,this.waitingPipes=[],this.openedPipes=[]}return(0,i.default)(t,[{key:"toString",value:function(){return"["+this._type+"] waiting: "+this.waitingPipes.length+", opened: "+this.openedPipes.length}},{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this.waitingPipes.length+this.openedPipes.length}}]),t}(),u=function(){function t(e){(0,n.default)(this,t),this._info=e,this._periodId=-1,this._periodCount=0}return(0,i.default)(t,[{key:"dispose",value:function(){this._info=null,clearTimeout(this._periodId),this._periodId=-1,this._periodCount=0,this._closePipes()}},{key:"resume",value:function(){this._periodId=setTimeout(this._periodDispatch.bind(this),0)}},{key:"pause",value:function(){clearTimeout(this._periodId),this._periodId=-1,this._periodCount=0,this._closePipes()}},{key:"_closePipes",value:function(){s.PipeManager.forEach(function(e){e.state!==s.PipeState.CLOSED&&e.close()})}},{key:"_periodDispatch",value:function(){this._periodCount+=1,this._periodCount%2==0?this._closeBadPipes():this._openNewPipes(),this._periodId=setTimeout(this._periodDispatch.bind(this),200)}},{key:"_closeBadPipes",value:function(){var i=Date.now();s.PipeManager.forEach(function(n){if(n.state!==s.PipeState.WAITING)if(n.state===s.PipeState.SENT){var e=n.client.connectTick;0<e&&3e3<=i-e&&n.close(s.PipeCloseReason.CONNECT_TIMEOUT)}else if(n.state===s.PipeState.ESTABLISHED){var t=n.client.handshakeTick;0<t&&2e3<=i-t&&n.close(s.PipeCloseReason.HANDSHAKE_TIMEOUT)}else try{n.reqMap.forEach(function(e,t){var r=e.reqTick;if(2e3<i-r)throw n.close(s.PipeCloseReason.RECEIVE_TIMEOUT),new Error("break forEach")})}catch(e){}})}},{key:"_openNewPipes",value:function(){var t=new f(s.PipeType.SKJ);if(s.PipeManager.forEach(function(e){e.state===s.PipeState.WAITING?t.waitingPipes.push(e):e.state!==s.PipeState.CLOSED&&t.openedPipes.push(e)}),0!==t.waitingPipes.length&&!(t.openedPipes.length>=o.default.MAX_SKJ_NUM))try{var r=0;t.waitingPipes.forEach(function(e){if(e.open(),(r+=1)>=o.default.PROBING_NUM)throw new Error("openNewPipes, over probing num");if(t.openedPipes.length+r>=o.default.MAX_SKJ_NUM)throw new Error("openNewPipes, opened enough pipes")})}catch(e){}}},{key:"isPaused",get:function(){return-1===this._periodId}}]),t}();r.default=u},{"../transfer/pipe-info":19,"../utils/common":26,"../utils/logger":30,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],3:[function(h,e,l){((function(s){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o=t(h("babel-runtime/core-js/json/stringify")),r=t(h("babel-runtime/helpers/classCallCheck")),e=t(h("babel-runtime/helpers/createClass")),a=t(h("../utils/common")),n=t(h("../utils/logger")),f=t(h("../transfer/resource")),u=h("../transfer/pipe-info");function t(e){return e&&e.__esModule?e:{"default":e}}var c=a.default.http+"://seeds-darwin.xycdn.com/h5/getseeds?v="+a.default.VERSION,i=function(){function t(e){(0,r.default)(this,t),this.onTrackerResp=null,this._info=e,this._isRequesting=!1,this._lastRequestTick=0}return(0,e.default)(t,[{key:"dispose",value:function(){this.onTrackerResp=null,this._info=null,this._lastRequestTick=0}},{key:"clear",value:function(){}},{key:"requestTracker",value:function(){var n=this;if(this._info&&!this._info.isPaused&&!this._isRequesting){var e=this._info.requestRgq.end,i=e+8*a.default.REQUEST_SIZE;this._info.reserveRg.isIn(i)||(i=this._info.reserveRg.position),i>=this._info.fileSize&&(i=e);var t={url:this._info.sourceUrl,surl:this._info.url,sid:this._info.playId,fs:this._info.fileSize,ofs:i,type:"h5",ver:a.default.VERSION,peer_status:this._getPeerStatus()};this._isRequesting=!0,this._lastRequestTick=Date.now();var r=(0,o.default)(t);s.fetch(c,{method:"POST",header:{"Content-Type":"text/plain","Content-Length":r.length},body:r,mode:"cors"}).then(function(e){if(n._isRequesting=!1,200!==e.status)throw new TypeError("Unexpect Http StatusCode "+e.status);return e.json()}).then(function(e){if(0!==e.ResultCode)throw new TypeError("Unexpect ResultCode "+e.ResultCode);if(n._info){""!==e.MUrl&&(n._info.fileIndex=e.MUrl);var r=[];e.PeerResourceList.forEach(function(e){if(e.peerIp&&e.wPort){var t=e.type.toLowerCase();a.default.isHttps&&t===u.PipeType.SKJ&&(e.peerIp=n._transformAddress(e.peerIp)),r.push(new f.default(e.peerId,t,e.hostname,e.peerIp,e.wPort,i))}}),n._onTrackerResp(null,r)}}).catch(function(e){n._onTrackerResp(e)})}}},{key:"_transformAddress",value:function(e){return e.replace(/(\d+)\.(\d+)\.(\d+)\.(\d+)/,"$1-$2-$3-$4.nhost.00cdn.com")}},{key:"_onTrackerResp",value:function(e,t){null!==e?n.default.ERROR("ResourceDispatcher",e.name+": "+e.message):this.onTrackerResp&&this.onTrackerResp(t)}},{key:"_getPeerStatus",value:function(){var r=[];return u.PipeManager.forEach(function(e){var t=0;t=e.state===u.PipeState.REQUESTED?1:e.client.lastQuality,r.push({hostname:e.hostname,peerId:e.remoteId,peerIp:e.ip,peerPort:e.port,type:e.type,traffic:e.client.recvBytesDiffer,period:e.client.downloadTimeDiffer,status:t}),e.state===u.PipeState.CLOSED&&u.PipeManager.delete(e.hostname)}),r}},{key:"lastRequestTick",get:function(){return this._lastRequestTick}}]),t}();l.default=i})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transfer/pipe-info":19,"../transfer/resource":20,"../utils/common":26,"../utils/logger":30,"babel-runtime/core-js/json/stringify":38,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=n(e("babel-runtime/helpers/classCallCheck")),s=n(e("babel-runtime/helpers/createClass")),f=(n(e("../utils/logger")),n(e("../utils/common"))),u=n(e("../utils/range")),o=n(e("./resource-dispatcher")),a=n(e("./connect-dispatcher")),c=n(e("../cache/vod-cache")),h=n(e("../transfer/vod-http-pipe")),l=n(e("../transfer/vod-ws-pipe")),d=n(e("../transfer/pipe-events")),p=e("../transfer/pipe-info"),b=n(e("../utils/range-queue"));function n(e){return e&&e.__esModule?e:{"default":e}}var _=function(){function n(e,t){var r=this;(0,i.default)(this,n),this._watcher=e,this._info=t,this._resDisp=new o.default(t),this._resDisp.onTrackerResp=this._onTrackerResp.bind(this),this._connDisp=new a.default,this._cache=new c.default,this._cdnPipe=null,this._isClosed=!0,this._periodId=-1,this._loopEndId=-1,this._timeoutId=-1,this._periodCount=0,this._coefficient=1,this._isPaused=!1,this._isFirstPlay=!1,this._resumeRgq=new b.default,this._videoEvent={onLoadedData:function(){r._isFirstPlay=!0},onCanPlay:function(){if(!r._isClosed&&r._cdnPipe&&r._isFirstPlay){r._isFirstPlay=!1;var e=new u.default(0,r._info.downloadRgq.ranges[0].end);r._info.requestRgq.clear(),r._info.requestRgq.addRange(e),r._cdnPipe.close(),r._cdnPipe.off(),r._cdnPipe=new h.default(r._info),r._cdnPipe.on(d.default.NET_STATUS,r._onPipeEvents.bind(r)),r._request()}}},this._info.mediaElement.addEventListener("loadeddata",this._videoEvent.onLoadedData),this._info.mediaElement.addEventListener("canplay",this._videoEvent.onCanPlay)}return(0,s.default)(n,[{key:"open",value:function(e,t){this._isClosed&&(this._isClosed=!1,this._cdnPipe=new h.default(this._info),this._cdnPipe.on(d.default.NET_STATUS,this._onPipeEvents.bind(this)),0===t&&0<this._info.fileSize&&(t=this._info.fileSize-e),0<this._info.fileSize&&e+t>this._info.fileSize&&(t=this._info.fileSize-e),this._info.reserveRg=new u.default(e,t),this._info.downloadRgq.clear(),this._info.requestRgq.clear(),this._info.sendRgq.clear(),this._requestCDN(),this._periodId=setTimeout(this._periodDispatch.bind(this),500))}},{key:"close",value:function(){this._isClosed||(this._isClosed=!0,clearTimeout(this._periodId),this._periodId=-1,clearTimeout(this._loopEndId),this._loopEndId=-1,clearTimeout(this._timeoutId),this._timeoutId=-1,this._connDisp.pause(),this._resDisp.clear(),this._cache.clear(),this._cdnPipe&&(this._cdnPipe.close(),this._cdnPipe.off(),this._cdnPipe=null),this._isPaused=!1,this._coefficient=1,this._resumeRgq.clear())}},{key:"pause",value:function(){this._isPaused||(this._isPaused=!0,this._connDisp.pause())}},{key:"resume",value:function(){var e=this._info.latestPosition;if(this._isPaused){this._isPaused=!1,this._connDisp.isPaused&&this._connDisp.resume();var t=this._resumeRgq.ranges;if(0!==t.length&&t[0].position===e){var r=t[0],n=this._cache.readBytes(r);this._watcher.receive(n,r),this._resumeRgq.clear()}}}},{key:"dispose",value:function(){this._isClosed=!0,clearTimeout(this._periodId),this._periodId=-1,clearTimeout(this._loopEndId),this._loopEndId=-1,clearTimeout(this._timeoutId),this._timeoutId=-1,this._connDisp&&(this._connDisp.dispose(),this._connDisp=null),this._resDisp&&(this._resDisp.dispose(),this._resDisp=null),this._cache&&(this._cache.dispose(),this._cache=null),this._cdnPipe&&(this._cdnPipe.close(),this._cdnPipe.off(),this._cdnPipe=null),this._isPaused=!1,this._coefficient=1,this._resumeRgq&&(this._resumeRgq.clear(),this._resumeRgq=null),this._info.mediaElement.removeEventListener("loadeddata",this._videoEvent.onLoadedData),this._info.mediaElement.removeEventListener("canplay",this._videoEvent.onCanPlay),this._info=null}},{key:"_periodDispatch",value:function(){this._periodCount+=1,this._periodCount%2==0?this._request():p.PipeManager.avaliablePipes().length<4&&8e3<Date.now()-this._resDisp.lastRequestTick&&this._resDisp.requestTracker(),this._periodId=setTimeout(this._periodDispatch.bind(this),500)}},{key:"_request",value:function(e){if(!this._info.isPaused&&!(this._isPaused||this._cdnPipe&&this._cdnPipe.state!==p.PipeState.IDLE)){var t=this._info.bufferLength;t<f.default.BUFFER_LIMIT?(this._coefficient=t>f.default.BUFFER_LIMIT/3?1:2,this._requestCDN()):this._requestPeer(e)}}},{key:"_requestCDN",value:function(){if(!this._cdnPipe||this._cdnPipe.state===p.PipeState.IDLE){var e=this._info.requestRgq.ranges,t=0<e.length?e[0].end:this._info.reserveRg.position;if(0!==t)if(0<this._info.reserveRg.length&&t>=this._info.reserveRg.end)this._connDisp.pause();else{var r=this._info.requestRgq,n=void 0;1<r.ranges.length?n=r.ranges[1].position-t:(n=this._info.cdnRequestSize*this._coefficient,n+=f.default.REQUEST_SIZE-(t+n)%f.default.REQUEST_SIZE);var i=this._info.reserveRg.end-t;0<i&&(n=Math.min(n,i));var s=new u.default(t,n);this._cache.canDownload(s)&&(this._info.requestRgq.addRange(s),this._cdnPipe.open(t,n))}else this._cdnPipe.open(t,0)}}},{key:"_requestPeer",value:function(e){if(0!==this._info.pieceSize)try{e&&e.type===p.PipeType.SKJ?this._requestPipe(e):p.PipeManager.forEach(this._requestPipe.bind(this))}catch(e){}}},{key:"_requestPipe",value:function(e){if(e.state===p.PipeState.IDLE){var t=this._info.requestRgq.ranges,r=0<t.length?t[0].end:this._info.reserveRg.position;if(r>=this._info.reserveRg.end&&0<this._info.reserveRg.length)throw new Error("requestPeer, file end: "+r);r%f.default.REQUEST_SIZE!=0&&(r-=r%f.default.REQUEST_SIZE);var n=r+f.default.REQUEST_SIZE<=this._info.reserveRg.end?f.default.REQUEST_SIZE:this._info.reserveRg.end-r,i=new u.default(r,n);if(!this._cache.canDownload(i))throw new Error("requestPeer, "+i+", over max cache size "+this._cache.rangeQueue+", stop to request");e.canDownloadRanges.isContained(i)&&(this._info.requestRgq.addRange(i),e.request(i))}}},{key:"_onTrackerResp",value:function(e){var r=this;this._isClosed||(e.forEach(function(e){if(!p.BlackPipeList.has(e.hostname)&&e.type===p.PipeType.SKJ&&""!==e.peerIp&&0!==e.peerPort){var t=new l.default(e,r._info);t.on(d.default.NET_STATUS,r._onPipeEvents.bind(r)),p.PipeManager.set(e.hostname,t)}}),this._connDisp.isPaused&&!this._isPaused&&this._info.bufferLength>f.default.RESUME_BUFFER_LENGTH&&0<p.PipeManager.waitingPipes().length&&this._connDisp.resume())}},{key:"_onPipeEvents",value:function(e,t){this._isClosed||this["_"+e].apply(this,[t])}},{key:"_onHttpHeader",value:function(e){0===this._info.fileSize&&(this._info.fileSize=e.fileSize,this._info.cdnRequestSize=Math.max(Math.floor(.01*e.fileSize),16384),this._info.pieceSize=this._calculatePieceSize(e.fileSize),this._info.lastModified=e.lastModified,(0===this._info.reserveRg.length||this._info.reserveRg.end>e.fileSize)&&this._info.reserveRg.assign(this._info.reserveRg.position,this._info.fileSize-this._info.reserveRg.position),this._watcher.fileSize(e.fileSize))}},{key:"_onReceiveData",value:function(e){var t=new u.default(e.offset,e.buffer.length),r=e.target;this._info.speedCalc.addBytes(t.length),r.type===p.PipeType.CDN?(this._info.cdnSpeedCalc.addBytes(t.length),this._info.cdnBytes+=t.length):r.type===p.PipeType.SKJ&&(this._info.p2pSpeedCalc.addBytes(t.length),this._info.skjBytes+=t.length);var n=this._info.downloadRgq;if(!n.isContained(t)&&this._info.reserveRg.isIntersect(t)){var i=t.end+8*f.default.REQUEST_SIZE;if(i%f.default.FRAGMENT_SIZE==0&&i<this._info.fileSize&&(this._loopEndId=setTimeout(this._resDisp.requestTracker.bind(this._resDisp),0)),this._cache.writeBytes(e.buffer,t),n.addRange(t),this._isPaused)this._resumeRgq.addRange(t);else{var s=this._info.latestPosition,o=this._cache.rangeQueue.getRange(s);if(null!==o){var a=this._cache.readBytes(o);this._watcher.receive(a,o),!this._isClosed&&1===n.ranges.length&&n.ranges[0].isContained(this._info.reserveRg)&&(this._loopEndId=setTimeout(this._watcher.end.bind(this._watcher),0))}}}}},{key:"_onReceiveEnd",value:function(e){var t=e.target;this._request(t)}},{key:"_onClose",value:function(e){var t=e.target;t.client.closeReason!==p.PipeCloseReason.FILE_NOT_FOUND&&t.client.closeReason!==p.PipeCloseReason.FILE_SIZE_DIFFER&&t.client.closeReason!==p.PipeCloseReason.PIECE_SIZE_DIFFER&&t.client.closeReason!==p.PipeCloseReason.LAST_MODIFIED_DIFFER||p.BlackPipeList.set(t.hostname,t)}},{key:"_onFailed",value:function(e){var t=e.target;t.type===p.PipeType.CDN&&this._watcher.catch(e.error.message),p.PipeManager.delete(t.hostname)}},{key:"_calculatePieceSize",value:function(e){var t=8192;return e>f.default.SMALL_FILE&&(t=131072),e>f.default.LARGE_FILE&&(t=2097152),t}},{key:"cdnDetails",get:function(){var e={req:[],res:[]};return this._cdnPipe&&(e.req=this._cdnPipe.client.requestRgs.slice(0),e.res=this._cdnPipe.client.receiveRgs.slice(0),this._cdnPipe.client.requestRgs=[],this._cdnPipe.client.receiveRgs=[]),e}}]),n}();r.default=_},{"../cache/vod-cache":1,"../transfer/pipe-events":18,"../transfer/pipe-info":19,"../transfer/vod-http-pipe":21,"../transfer/vod-ws-pipe":23,"../utils/common":26,"../utils/logger":30,"../utils/range":34,"../utils/range-queue":33,"./connect-dispatcher":2,"./resource-dispatcher":3,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));s(e("../utils/logger"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function t(e){(0,n.default)(this,t),this.onData=null,this.onError=null,this.onFileSize=null,this.onEnd=null,this._info=e}return(0,i.default)(t,[{key:"dispose",value:function(){this.onData=null,this.onError=null,this.onFileSize=null,this.onEnd=null,this._info=null}},{key:"catch",value:function(e){this.onError&&this.onError(e)}},{key:"receive",value:function(e,t){this._info.sendRgq.addRange(t),this.onData&&this.onData(e,t.position)}},{key:"fileSize",value:function(e){this.onFileSize&&this.onFileSize(e)}},{key:"end",value:function(){this.onEnd&&this.onEnd()}}]),t}();r.default=o},{"../utils/logger":30,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=f(e("babel-runtime/core-js/json/stringify")),i=f(e("babel-runtime/helpers/classCallCheck")),s=f(e("babel-runtime/helpers/createClass")),o=f(e("assert")),a=f(e("../utils/polyfill"));function f(e){return e&&e.__esModule?e:{"default":e}}var u=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"BaseCmd";(0,i.default)(this,r),this.id=e,this.name=t,this.types=[]}return(0,s.default)(r,[{key:"toBytes",value:function(t){if(t.bytesAvailable<this.bytes)throw new Error("Current bytes out of range");this.types.forEach(function(e){return e.toBytes(t)})}},{key:"fromBytes",value:function(t){if(t.bytesAvailable<this.bytes)throw new Error("Not enough bytes to prase");this.types.forEach(function(e){return e.fromBytes(t)})}},{key:"toString",value:function(){return(0,n.default)(this.types.map(function(e){return e.value}))}},{key:"bytes",get:function(){var r=0;return this.types.forEach(function(e){var t=e.bytes;o.default.ok(a.default.isInteger(t),"expect number"),r+=t}),r}}]),r}();r.default=u},{"../utils/polyfill":32,assert:238,"babel-runtime/core-js/json/stringify":38,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ByteArray=r.Endian=void 0;var n=a(e("babel-runtime/helpers/classCallCheck")),i=a(e("babel-runtime/helpers/createClass")),s=e("buffer"),o=a(e("assert"));function a(e){return e&&e.__esModule?e:{"default":e}}var f={BIG_ENDIAN:!1,LITTLE_ENDIAN:!0},u=1,c=2,h=3,l=4,d=8,p=function(){function t(e){(0,n.default)(this,t),o.default.ok(s.Buffer.isBuffer(e),"expect Buffer"),this._buf=e,this._pos=0,this._endian=f.BIG_ENDIAN}return(0,i.default)(t,[{key:"readUint8",value:function(){var e=this._buf.readUInt8(this._pos);return this._pos+=u,e}},{key:"writeUint8",value:function(e){this._buf.writeUInt8(e,this._pos),this._pos+=u}},{key:"readUint16",value:function(){var e=this._buf.readUInt16BE(this._pos);return this._pos+=c,e}},{key:"writeUint16",value:function(e){this._buf.writeUInt16BE(e,this._pos),this._pos+=c}},{key:"readUint24",value:function(){var e=(this._buf.readUInt8(this._pos)<<16)+(this._buf.readUInt8(this._pos+1)<<8)+this._buf.readUInt8(this._pos+2);return this._pos+=h,e}},{key:"writeUint24",value:function(e){this._buf.writeUInt8(e>>>16,this._pos),this._buf.writeUInt8((65280&e)>>>8,this._pos+1),this._buf.writeUInt8(255&e,this._pos+2),this._pos+=h}},{key:"readUint32",value:function(){var e=this._buf.readUInt32BE(this._pos);return this._pos+=l,e}},{key:"writeUint32",value:function(e){this._buf.writeUInt32BE(e,this._pos),this._pos+=l}},{key:"readUint64",value:function(){var e=this._buf.readUInt32BE(this._pos).toString(16),t=function(e,t){for(var r=t/4-e.length,n="",i=0;i<r;i++)n+="0";return n+e}(this._buf.readUInt32BE(this._pos+4).toString(16),32);return this._pos+=d,parseInt(e+t,16)}},{key:"writeUint64",value:function(e){var t=e.toString(16);if(0<t.length){var r=t.slice(-16,-8)||"0",n=parseInt(r,16);this._buf.writeUInt32BE(n,this._pos);var i=parseInt(t.slice(-8),16);this._buf.writeUInt32BE(i,this._pos+4)}else this._buf.writeUInt32BE(0,this._pos),this._buf.writeUInt32BE(e,this._pos+4);this._pos+=d}},{key:"readString",value:function(e){for(var t="",r=0;r<e;r++)t+=String.fromCharCode(this._buf.readUInt8(this._pos)),this._pos++;return t}},{key:"writeString",value:function(e){for(var t=0;t<e.length;t++)this._buf.writeUInt8(e.charCodeAt(t),this._pos),this._pos++}},{key:"readBytes",value:function(e){var t=this._buf.slice(this._pos,this._pos+e);return this._pos+=e,t}},{key:"writeBytes",value:function(e){e.copy(this._buf,this._pos),this._pos+=e.length}},{key:"position",set:function(e){this._pos=e},get:function(){return this._pos}},{key:"buffer",get:function(){return this._buf}},{key:"bytesAvailable",get:function(){return this.length-this._pos}},{key:"length",get:function(){return this._buf.length}}]),t}();r.Endian=f,r.ByteArray=p},{assert:238,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274}],8:[function(s,e,o){((function(r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t(s("babel-runtime/helpers/classCallCheck")),e=t(s("babel-runtime/helpers/createClass"));function t(e){return e&&e.__esModule?e:{"default":e}}var i=function(){function t(e){(0,n.default)(this,t),this.value=r.allocUnsafe(0),this.byteLength=e}return(0,e.default)(t,[{key:"toBytes",value:function(e){e.writeBytes(this.value)}},{key:"fromBytes",value:function(e){this.value=e.readBytes(this.byteLength)}},{key:"bytes",get:function(){return this.byteLength}}]),t}();o.default=i})).call(this,s("buffer").Buffer)},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Fin=r.Pong=r.Ping=r.PieceMiss=r.PieceResponse=r.PieceRequest=r.Handshake=r.Header=void 0;var n=b(e("babel-runtime/core-js/object/get-prototype-of")),i=b(e("babel-runtime/helpers/classCallCheck")),s=b(e("babel-runtime/helpers/possibleConstructorReturn")),o=b(e("babel-runtime/helpers/inherits")),a=b(e("./base-cmd")),f=b(e("./uint8")),u=b(e("./uint16")),c=b(e("./uint32")),h=b(e("./uint64")),l=b(e("./type-string")),d=b(e("./type-buffer")),p=b(e("./bytes"));function b(e){return e&&e.__esModule?e:{"default":e}}var _=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this));return e.version=new f.default,e.cmdType=new f.default,e.bodyLength=new u.default,e.types=[e.version,e.cmdType,e.bodyLength],e}return(0,o.default)(t,e),t}(a.default),y=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,16,"Handshake"));return e.clientType=new f.default,e.clientId=new l.default,e.fileIndex=new l.default,e.lastModified=new h.default,e.fileSize=new h.default,e.pieceSize=new c.default,e.fileOffset=new h.default,e.bitField=new d.default,e.types=[e.clientType,e.clientId,e.fileIndex,e.lastModified,e.fileSize,e.pieceSize,e.fileOffset,e.bitField],e}return(0,o.default)(t,e),t}(a.default),v=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,32,"PieceRequest"));return e.pieceIndex=new c.default,e.offset=new c.default,e.length=new c.default,e.types=[e.pieceIndex,e.offset,e.length],e}return(0,o.default)(t,e),t}(a.default),m=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,33,"PieceResponse"));return e.pieceIndex=new c.default,e.pieceSha1=new p.default(20),e.pieceOffset=new c.default,e.piece=new d.default,e.types=[e.pieceIndex,e.pieceSha1,e.pieceOffset,e.piece],e}return(0,o.default)(t,e),t}(a.default),g=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,8,"PieceMiss"));return e.missCode=new f.default,e.pieceIndex=new c.default,e.types=[e.missCode,e.pieceIndex],e}return(0,o.default)(t,e),t}(a.default),w=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,5,"Ping"));return e.timestamp=new h.default,e.types=[e.timestamp],e}return(0,o.default)(t,e),t}(a.default),S=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,6,"Pong"));return e.timestamp=new h.default,e.types=[e.timestamp],e}return(0,o.default)(t,e),t}(a.default),k=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,7,"Fin"));return e.errorCode=new f.default,e.types=[e.errorCode],e}return(0,o.default)(t,e),t}(a.default);r.Header=_,r.Handshake=y,r.PieceRequest=v,r.PieceResponse=m,r.PieceMiss=g,r.Ping=w,r.Pong=S,r.Fin=k},{"./base-cmd":6,"./bytes":8,"./type-buffer":10,"./type-string":11,"./uint16":12,"./uint32":13,"./uint64":14,"./uint8":15,"babel-runtime/core-js/object/get-prototype-of":44,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/inherits":52,"babel-runtime/helpers/possibleConstructorReturn":53}],10:[function(s,e,o){((function(t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=e(s("babel-runtime/helpers/classCallCheck")),n=e(s("babel-runtime/helpers/createClass"));function e(e){return e&&e.__esModule?e:{"default":e}}var i=function(){function e(){(0,r.default)(this,e),this.value=t.allocUnsafe(0)}return(0,n.default)(e,[{key:"toBytes",value:function(e){e.writeUint32(this.value.length),e.writeBytes(this.value)}},{key:"fromBytes",value:function(e){var t=e.readUint32();this.value=e.readBytes(t)}},{key:"bytes",get:function(){return 4+this.value.length}}]),e}();o.default=i})).call(this,s("buffer").Buffer)},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e),this.value=""}return(0,i.default)(e,[{key:"toBytes",value:function(e){e.writeUint32(this.value.length),e.writeString(this.value)}},{key:"fromBytes",value:function(e){var t=e.readUint32(e);this.value=e.readString(t)}},{key:"bytes",get:function(){return 4+this.value.length}}]),e}();r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e),this.value=0}return(0,i.default)(e,[{key:"toBytes",value:function(e){e.writeUint16(this.value)}},{key:"fromBytes",value:function(e){this.value=e.readUint16()}},{key:"bytes",get:function(){return 2}}]),e}();r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e),this.value=0}return(0,i.default)(e,[{key:"toBytes",value:function(e){e.writeUint32(this.value)}},{key:"fromBytes",value:function(e){this.value=e.readUint32()}},{key:"bytes",get:function(){return 4}}]),e}();r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e),this.value=0}return(0,i.default)(e,[{key:"toBytes",value:function(e){e.writeUint64(this.value)}},{key:"fromBytes",value:function(e){this.value=e.readUint64()}},{key:"bytes",get:function(){return 8}}]),e}();r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e),this.value=0}return(0,i.default)(e,[{key:"toBytes",value:function(e){e.writeUint8(this.value)}},{key:"fromBytes",value:function(e){this.value=e.readUint8()}},{key:"bytes",get:function(){return 1}}]),e}();r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],16:[function(a,e,f){((function(n,r){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var t=e(a("babel-runtime/helpers/classCallCheck")),i=e(a("babel-runtime/helpers/createClass")),s=(e(a("../utils/logger")),a("../utils/error"));function e(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,t.default)(this,e),this.onHeaders=null,this.onData=null,this.onEnd=null,this.onError=null,this._reader=null}return(0,i.default)(e,[{key:"request",value:function(e,t){var r=this;n.fetch(e,{method:"GET",mode:"cors",redirect:"follow",headers:t}).then(function(e){if(e.status<200||299<e.status)throw new TypeError("Unexpect Http StatusCode "+e.status);r._reader=e.body.getReader(),r.onHeaders&&r.onHeaders({contentRange:e.headers.get("content-range"),lastModified:e.headers.get("last-modified")}),r._readStream()}).catch(function(e){e instanceof s.ResponseError?r.abort():r.onError&&r.onError(e)})}},{key:"abort",value:function(){this._reader&&(this._reader.cancel().catch(function(e){}),this._reader=null)}},{key:"_readStream",value:function(){var t=this;this._reader&&this._reader.read().then(function(e){t._reader&&e&&(e.done&&t.onEnd?t.onEnd():(t.onData&&t.onData(r.from(e.value.buffer)),t._readStream()))}).catch(function(e){t.onError&&t.onError(e)})}}]),e}();f.default=o})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"../utils/error":29,"../utils/logger":30,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274}],17:[function(a,e,f){((function(n,t){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var i=e(a("babel-runtime/core-js/object/keys")),r=e(a("babel-runtime/helpers/classCallCheck")),s=e(a("babel-runtime/helpers/createClass"));e(a("../utils/logger"));function e(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,r.default)(this,e),this.onHeaders=null,this.onData=null,this.onEnd=null,this.onError=null,this._xhr=null,this._error=null}return(0,s.default)(e,[{key:"request",value:function(e,t){var r=this;this._xhr=new n.XMLHttpRequest,this._xhr.open("GET",e,!0),(0,i.default)(t).forEach(function(e){r._xhr.setRequestHeader(e,t[e])}),this._xhr.responseType="moz-chunked-arraybuffer",this._xhr.onreadystatechange=this._onReadyStateChange.bind(this),this._xhr.onprogress=this._onProgress.bind(this),this._xhr.onerror=this._onError.bind(this),this._xhr.onloadend=this._onLoadEnd.bind(this),this._xhr.send()}},{key:"abort",value:function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onerror=null,this._xhr.onloadend=null,this._xhr.abort(),this._xhr=null),this._error=null}},{key:"_onReadyStateChange",value:function(){if(this._xhr&&!this._error&&2===this._xhr.readyState){if(0===this._xhr.status)return this._error=new TypeError("Failed to send"),void (this.onError&&this.onError(this._error));if(this._xhr.status<200||299<this._xhr.status)return this._error=new TypeError("Unexpect http status code: "+this._xhr.status),void (this.onError&&this.onError(this._error));this.onHeaders&&this.onHeaders({contentRange:this._xhr.getResponseHeader("content-range"),lastModified:this._xhr.getResponseHeader("last-modified")})}}},{key:"_onProgress",value:function(){this._xhr&&!this._error&&this.onData&&this.onData(t.from(this._xhr.response))}},{key:"_onLoadEnd",value:function(){this._xhr&&!this._error&&this.onEnd&&this.onEnd()}},{key:"_onError",value:function(){this._xhr&&!this._error&&(this._error=new TypeError("Network error"),this.onError&&this.onError(this._error))}}]),e}();f.default=o})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"../utils/logger":30,"babel-runtime/core-js/object/keys":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default={NET_STATUS:"Pipe.NetStatus",OPEN:"onOpen",CLOSE:"onClose",CONNECT_OK:"onConnectOK",CAN_DOWNLOAD:"onCanDownload",REQUEST_DATA:"onRequestData",FAILED:"onFailed",KEYFRAME:"onKeyframe",FIRST_DATA:"onFirstData",RECEIVE_DATA:"onReceiveData",RECEIVE_END:"onReceiveEnd",HTTP_HEADER:"onHttpHeader"}},{}],19:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PipeCloseReason=r.BlackPipeList=r.PipeManager=r.PipeType=r.PipeInfo=r.PipeState=void 0;var s=f(e("babel-runtime/core-js/object/keys")),n=f(e("babel-runtime/core-js/object/create")),i=f(e("babel-runtime/helpers/classCallCheck")),o=f(e("babel-runtime/helpers/createClass")),a=(f(e("../utils/logger")),f(e("../utils/common")));function f(e){return e&&e.__esModule?e:{"default":e}}var u={WAITING:0,SENT:1,ESTABLISHED:2,IDLE:3,REQUESTED:4,CLOSED:5},c={CDN:"cdn",SKJ:"skj"},h={NORMAL:0,FILE_NOT_FOUND:1,LAST_MODIFIED_DIFFER:2,CONNECTION_LIMIT:3,PIECE_NOT_FOUND:4,NO_REQUEST:5,REMOTE_CLOSED:9,CONNECT_FAILED:10,CONNECT_TIMEOUT:11,HANDSHAKE_TIMEOUT:12,RECEIVE_TIMEOUT:13,FILE_SIZE_DIFFER:14,PIECE_SIZE_DIFFER:15},l=function(){function t(e){(0,i.default)(this,t),this._pipe=e,this._connectTick=0,this._handshakeTick=0,this._handshakeRespTick=0,this._reqTick=0,this._recvTick=0,this._recvBytes=0,this._closeTick=0,this._downloadTime=0,this._lastQuality=0,this._lastRecvBytes=0,this._lastDownloadTime=0,this._reqRgs=[],this._recvRgs=[],this._lastCloseReason=null}return(0,o.default)(t,[{key:"onOpen",value:function(){this._connectTick=Date.now()}},{key:"onConnectOK",value:function(){this._handshakeTick=Date.now()}},{key:"onHandshakeOK",value:function(){this._handshakeRespTick=Date.now()}},{key:"onRequestData",value:function(e,t){this._reqTick=Date.now();for(var r=Math.floor(t/a.default.REQUEST_SIZE),n=Math.floor(e/a.default.REQUEST_SIZE),i=0;i<r;i++)this._reqRgs.push(n+i)}},{key:"onReceiveData",value:function(e,t){this._recvTick=Date.now(),this._recvBytes+=t;for(var r=Math.floor(t/a.default.REQUEST_SIZE),n=Math.floor(e/a.default.REQUEST_SIZE),i=0;i<r;i++)this._recvRgs.push(n+i)}},{key:"onReceiveEnd",value:function(){this._downloadTime+=Date.now()-this._reqTick}},{key:"onClose",value:function(e){switch(this._closeTick=Date.now(),this._lastCloseReason=e){case h.NORMAL:this._lastQuality=1;break;case h.RECEIVE_TIMEOUT:this._lastQuality=2;break;case h.FILE_NOT_FOUND:case h.LAST_MODIFIED_DIFFER:case h.CONNECTION_LIMIT:case h.PIECE_NOT_FOUND:case h.CONNECT_FAILED:case h.CONNECT_TIMEOUT:case h.HANDSHAKE_TIMEOUT:case h.FILE_SIZE_DIFFER:case h.PIECE_SIZE_DIFFER:this._lastQuality=3;break;default:this._lastQuality=4}}},{key:"closeReason",get:function(){return this._lastCloseReason}},{key:"shortName",get:function(){return this._pipe.type!==c.CDN?this._pipe.type+"|"+this._pipe.hostname:""+this._pipe.type}},{key:"connectTick",get:function(){return this._connectTick}},{key:"handshakeTick",get:function(){return this._handshakeTick}},{key:"lastQuality",get:function(){return this._lastQuality}},{key:"requestTick",get:function(){return this._reqTick}},{key:"receiveTick",get:function(){return this._recvTick}},{key:"requestRgs",get:function(){return this._reqRgs},set:function(e){this._reqRgs=e}},{key:"receiveRgs",get:function(){return this._recvRgs},set:function(e){this._recvRgs=e}},{key:"downloadTime",get:function(){return this._downloadTime}},{key:"recvBytesDiffer",get:function(){var e=this._recvBytes-this._lastRecvBytes;return this._lastRecvBytes=this._recvBytes,e}},{key:"downloadTimeDiffer",get:function(){var e=this._downloadTime-this._lastDownloadTime;return this._lastDownloadTime=this._downloadTime,e}},{key:"info",get:function(){return{range:this._pipe.canDownloadRanges.toString(),state:this._pipe.state,recvBytes:this._recvBytes,time:this._downloadTime,peerId:this._pipe.remoteId,hostname:this._pipe.hostname,ip:this._pipe.ip,port:this._pipe.port}}}]),t}(),d=function(){function e(){(0,i.default)(this,e),this._allPipes="function"==typeof n.default?(0,n.default)(null):{}}return(0,o.default)(e,[{key:"set",value:function(e,t){this._allPipes[e]=t}},{key:"get",value:function(e){return this._allPipes[e]}},{key:"has",value:function(e){return void 0!==this._allPipes[e]}},{key:"delete",value:function(e){return void 0!==this._allPipes[e]&&(delete this._allPipes[e],!0)}},{key:"clear",value:function(){for(var e=(0,s.default)(this._allPipes),t=e.length;t--;)this.delete(e[t])}},{key:"forEach",value:function(e){if(e instanceof Function)for(var t=(0,s.default)(this._allPipes),r=0,n=t.length;r<n;r++){var i=t[r];e(this._allPipes[i],i)}}},{key:"allPipes",get:function(){return this._allPipes}}]),e}(),p=new d,b=new d;p.waitingPipes=function(){var t=[];return p.forEach(function(e){e.state===u.WAITING&&t.push(e)}),t},p.avaliablePipes=function(){var t=[];return p.forEach(function(e){e.state!==u.WAITING&&e.state!==u.CLOSED&&t.push(e)}),t},r.PipeState=u,r.PipeInfo=l,r.PipeType=c,r.PipeManager=p,r.BlackPipeList=b,r.PipeCloseReason=h},{"../utils/common":26,"../utils/logger":30,"babel-runtime/core-js/object/create":42,"babel-runtime/core-js/object/keys":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=i(e("babel-runtime/helpers/classCallCheck")),n=i(e("babel-runtime/helpers/createClass"));function i(e){return e&&e.__esModule?e:{"default":e}}var s=function(){function o(e,t,r,n,i){var s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;(0,a.default)(this,o),this._peerId=e,this._type=t,this._hostname=r,this._peerIp=n,this._peerPort=i,this._trackerRequestOffset=s}return(0,n.default)(o,[{key:"toString",value:function(){return"resource, peerId: "+this._peerId+", type: "+this._type+", hostname: "+this._hostname+", peerIp: "+this._peerIp+", peerPort: "+this._peerPort}},{key:"peerId",get:function(){return this._peerId}},{key:"trackerRequestOffset",get:function(){return this._trackerRequestOffset}},{key:"type",get:function(){return this._type}},{key:"hostname",get:function(){return this._hostname}},{key:"peerIp",get:function(){return this._peerIp}},{key:"peerPort",get:function(){return this._peerPort}}]),o}();r.default=s},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=p(e("babel-runtime/core-js/number/parse-int")),n=p(e("babel-runtime/helpers/classCallCheck")),i=p(e("babel-runtime/helpers/createClass")),s=p(e("events")),f=p(e("../transfer/pipe-events")),o=e("../transfer/pipe-info"),u=(p(e("../utils/logger")),p(e("../utils/common"))),c=p(e("./http-fetch-stream")),h=p(e("./http-moz-chunked")),l=e("../utils/error"),d=p(e("../utils/polyfill"));function p(e){return e&&e.__esModule?e:{"default":e}}var b=function(){function t(e){(0,n.default)(this,t),this._type=o.PipeType.CDN,this._state=o.PipeState.IDLE,this._info=e,this._start=0,this._end=0,this._rangeRegEx=/^bytes\s(\d+)-(\d*)\/?(\d*)/,this._retryCount=0,this._retryId=0,this._client=new o.PipeInfo(this),this._emitter=new s.default,u.default.isFetchStreamSupported?this._loader=new c.default:this._loader=new h.default,this._loader.onHeaders=this._onHeaders.bind(this),this._loader.onData=this._onData.bind(this),this._loader.onEnd=this._onEnd.bind(this),this._loader.onError=this._onError.bind(this)}return(0,i.default)(t,[{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){e?t?this._emitter.removeListener(e,t):this._emitter.removeAllListeners(e):this._emitter.removeAllListeners()}},{key:"open",value:function(e,t){this._state=o.PipeState.REQUESTED,this._start=e,this._end=0<e?e+t-1:"",this._openTick=this._info.openTick||Date.now(),this._loader.request(this._info.url,{Range:"bytes="+this._start+"-"+this._end}),this._client.onRequestData(e,t)}},{key:"close",value:function(){this._state=o.PipeState.IDLE,this._start=0,this._end=0,this._retryCount=0,clearTimeout(this._retryId),this._retryId=0,this._openTick=0,this._loader.abort()}},{key:"_onHeaders",value:function(e){0===this._info.firstPacket&&(this._info.firstPacket=Date.now()-this._openTick);var t=0,r=0;if(e.contentRange){var n=this._rangeRegEx.exec(e.contentRange),i=(0,a.default)(n[1],10);(0,a.default)(n[2],10);if(t=(0,a.default)(n[3],10),i!==this._start)throw new l.ResponseError("current range start("+i+") !== request offset("+this._start+")")}if(void 0!==e.lastModified){var s=Date.parse(e.lastModified)/1e3;if(!d.default.isInteger(s)){var o=(new Date).getTimezoneOffset();s=Date.parse(/.*\d/.exec(e.lastModified)[0])/1e3-60*o}r=s}this._emitter.emit(f.default.NET_STATUS,f.default.HTTP_HEADER,{fileSize:t,lastModified:r})}},{key:"_onData",value:function(e){this._emitter.emit(f.default.NET_STATUS,f.default.RECEIVE_DATA,{buffer:e,offset:this._start,target:this});var t=Math.floor(this._start/u.default.REQUEST_SIZE)*u.default.REQUEST_SIZE,r=Math.floor((this._start%u.default.REQUEST_SIZE+e.length)/u.default.REQUEST_SIZE)*u.default.REQUEST_SIZE;this._client.onReceiveData(t,r),this._start+=e.length}},{key:"_onEnd",value:function(){this._state=o.PipeState.IDLE,this._emitter.emit(f.default.NET_STATUS,f.default.RECEIVE_END,{target:this})}},{key:"_onError",value:function(e){var t=this;e instanceof l.RuntimeError?this._emitter.emit(f.default.NET_STATUS,f.default.FAILED,{error:e,target:this}):(this._retryCount+=1,this._retryCount<2?(this._loader.abort(),this._retryId=setTimeout(function(){t._loader.request(t._info.url,{Range:"bytes="+t._start+"-"+t._end})},0)):this._emitter.emit(f.default.NET_STATUS,f.default.FAILED,{error:e,target:this}))}},{key:"type",get:function(){return this._type}},{key:"state",get:function(){return this._state}},{key:"hostname",get:function(){return"cdn"}},{key:"client",get:function(){return this._client}}]),t}();r.default=b},{"../transfer/pipe-events":18,"../transfer/pipe-info":19,"../utils/common":26,"../utils/error":29,"../utils/logger":30,"../utils/polyfill":32,"./http-fetch-stream":16,"./http-moz-chunked":17,"babel-runtime/core-js/number/parse-int":41,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,events:309}],22:[function(b,e,_){((function(i){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.FinCode=void 0;var n=t(b("babel-runtime/core-js/map")),s=t(b("babel-runtime/helpers/classCallCheck")),e=t(b("babel-runtime/helpers/createClass")),o=t(b("events")),a=t(b("assert")),f=b("../protocal/p2p"),u=b("../transfer/pipe-info"),c=t(b("../transfer/pipe-events")),h=(t(b("../utils/logger")),t(b("../utils/range"))),l=t(b("../utils/range-queue"));function t(e){return e&&e.__esModule?e:{"default":e}}var d={};d[16]=f.Handshake,d[32]=f.PieceRequest,d[33]=f.PieceResponse,d[8]=f.PieceMiss,d[5]=f.Ping,d[6]=f.Pong,d[7]=f.Fin;var p=_.FinCode={LOW_SPEED:51,TIMEOUT:52,NORMAL_CLOSE:53,PIECE_CHECK_FAIL:54,DECODE_FAIL:55,HANDSHAKE_FAIL:56},r=function(){function r(e,t){(0,s.default)(this,r),this._state=u.PipeState.WAITING,this._res=e,this._info=t,this._canDownloadRanges=new l.default,this._reqMap=new n.default,this._client=new u.PipeInfo(this),this._emitter=new o.default}return(0,e.default)(r,[{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"sendCmd",value:function(e){}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){e?t?this._emitter.removeListener(e,t):this._emitter.removeAllListeners(e):this._emitter.removeAllListeners()}},{key:"ping",value:function(){var e=new f.Ping;e.timestamp.value=Date.now(),this.sendCmd(e),this.pingTimeoutId=setTimeout(this.ping.bind(this),3e4)}},{key:"createPingTimer",value:function(){this.pingTimeoutId=setTimeout(this.ping.bind(this),3e4)}},{key:"deletePingTimer",value:function(){clearTimeout(this.pingTimeoutId)}},{key:"open",value:function(){u.PipeState.WAITING===this._state&&(this.connect(),this._state=u.PipeState.SENT,this._client.onOpen())}},{key:"close",value:function(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u.PipeCloseReason.NORMAL,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];u.PipeState.CLOSED!==this._state&&(this._state=u.PipeState.CLOSED,t&&this._state>=u.PipeState.ESTABLISHED&&this.sendFin(e),this.deletePingTimer(),this.disconnect(),this._reqMap.forEach(function(e,t){var r=e.length,n=new h.default(t,r);i._info.requestRgq.removeRange(n)}),this._client.onClose(e),this._emitter.emit(c.default.NET_STATUS,c.default.CLOSE,{target:this}))}},{key:"request",value:function(e){var t=e.position,r=e.length;this._reqMap.set(t,{reqTick:Date.now(),length:r});var n=Math.floor(t/this._info.pieceSize),i=t%this._info.pieceSize;a.default.ok(i+r<=this._info.pieceSize,"offset("+i+") + length("+r+") > pieceSize("+this._info.pieceSize+")");var s=new f.PieceRequest;s.pieceIndex.value=n,s.offset.value=i,s.length.value=r,this.sendCmd(s),4<=this._reqMap.size&&(this._state=u.PipeState.REQUESTED),this._client.onRequestData(t,r)}},{key:"sendFin",value:function(e){var t=p.NORMAL_CLOSE;e!==u.PipeCloseReason.LAST_MODIFIED_DIFFER&&e!==u.PipeCloseReason.FILE_SIZE_DIFFER||(t=p.HANDSHAKE_FAIL);var r=new f.Fin;r.errorCode.value=t,this.sendCmd(r)}},{key:"getCmdClass",value:function(e){return d[e]}},{key:"onRecvData",value:function(e){this["handle"+e.name](e)}},{key:"onConnectOK",value:function(){this._state=u.PipeState.ESTABLISHED,this._client.onConnectOK();var e=new f.Handshake;e.clientType.value=7,e.clientId.value=this._info.playId,e.fileIndex.value=this._info.fileIndex,e.lastModified.value=0,e.fileSize.value=this._info.fileSize,e.pieceSize.value=this._info.pieceSize,e.fileOffset.value=this._res.trackerRequestOffset,e.bitField.value=this._calcBitField(this._info.fileSize,this._info.pieceSize,this._info.downloadRgq),this.sendCmd(e)}},{key:"onFailed",value:function(){this._emitter.emit(c.default.NET_STATUS,c.default.FAILED,{target:this}),this._state<u.PipeState.ESTABLISHED?this.close(u.PipeCloseReason.CONNECT_FAILED):this.close(u.PipeCloseReason.REMOTE_CLOSED)}},{key:"handleHandshake",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new f.Handshake,t=e.fileSize.value,r=(e.lastModified.value,e.pieceSize.value);if(0!==this._info.fileSize){if(t!==this._info.fileSize)return void this.close(u.PipeCloseReason.FILE_SIZE_DIFFER);if(r!==this._info.pieceSize)return void this.close(u.PipeCloseReason.PIECE_SIZE_DIFFER)}this._canDownloadRanges=this._calcDownloadRgq(this._info.fileSize,this._info.pieceSize,e.bitField.value),this.createPingTimer(),this._state=u.PipeState.IDLE,this._client.onHandshakeOK()}},{key:"handlePieceResponse",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new f.PieceResponse,t=e.pieceIndex.value,r=e.pieceOffset.value,n=e.piece.value,i=t*this._info.pieceSize+r;this._reqMap.get(i)?(this._reqMap.delete(i),this._emitter.emit(c.default.NET_STATUS,c.default.RECEIVE_DATA,{buffer:n,offset:i,target:this})):(this._info.p2pSpeedCalc.addBytes(n.length),this._info.skjBytes+=n.length),this._client.onReceiveData(i,n.length),this._reqMap.size<4&&(this._state=u.PipeState.IDLE),this._client.onReceiveEnd(),this._emitter.emit(c.default.NET_STATUS,c.default.RECEIVE_END,{target:this})}},{key:"handlePieceMiss",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new f.PieceMiss;e.pieceIndex.value,e.missCode.value;this.close(u.PipeCloseReason.PIECE_NOT_FOUND)}},{key:"handleFin",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:new f.Fin).errorCode.value;this.close(e,!1)}},{key:"handlePong",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new f.Pong;Date.now(),e.timestamp.value}},{key:"_calcBitField",value:function(e,t,r){var n=i.allocUnsafe(1);return n.fill(0),n}},{key:"_calcDownloadRgq",value:function(e,t,r){for(var n=new l.default,i=r.length,s=0;s<i;){var o=r.readUInt8(s);if(255===o)n.addRange(new h.default(8*s*t,8*t));else for(var a=7;0<=a;a--){1===(o&Math.pow(2,a))>>>a&&n.addRange(new h.default(8*s*t+t*(8-a-1),t))}s+=1}return n}},{key:"type",get:function(){return this._res.type}},{key:"reqMap",get:function(){return this._reqMap}},{key:"state",get:function(){return this._state}},{key:"ip",get:function(){return this._res.peerIp}},{key:"port",get:function(){return this._res.peerPort}},{key:"remoteId",get:function(){return this._res.peerId}},{key:"hostname",get:function(){return this._res.hostname}},{key:"client",get:function(){return this._client}},{key:"canDownloadRanges",get:function(){return this._canDownloadRanges}}]),r}();_.default=r})).call(this,b("buffer").Buffer)},{"../protocal/p2p":9,"../transfer/pipe-events":18,"../transfer/pipe-info":19,"../utils/logger":30,"../utils/range":34,"../utils/range-queue":33,assert:238,"babel-runtime/core-js/map":39,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274,events:309}],23:[function(y,e,v){((function(t,s){"use strict";Object.defineProperty(v,"__esModule",{value:!0});var i=n(y("babel-runtime/core-js/object/get-prototype-of")),o=n(y("babel-runtime/helpers/classCallCheck")),r=n(y("babel-runtime/helpers/createClass")),a=n(y("babel-runtime/helpers/possibleConstructorReturn")),f=n(y("babel-runtime/helpers/inherits")),u=n(y("../utils/logger")),c=n(y("../utils/common")),e=n(y("./vod-p2p")),h=y("../utils/error"),l=y("../protocal/p2p"),d=y("../protocal/byte-array"),p=n(y("../utils/md5"));function n(e){return e&&e.__esModule?e:{"default":e}}var b="VODWsPipe",_=function(e){function n(e,t){(0,o.default)(this,n);var r=(0,a.default)(this,(n.__proto__||(0,i.default)(n)).call(this,e,t));return r._wsUrl=c.default.ws+"://"+e.peerIp+":"+e.peerPort+"/xyvod/p2sp/"+p.default.encrypt(e.hostname),r._ws=null,r}return(0,f.default)(n,e),(0,r.default)(n,[{key:"connect",value:function(){null===this._ws&&(this._ws=new t.WebSocket(this._wsUrl,"platinum"),this._ws.binaryType="arraybuffer",this._ws.onopen=this._onWsOpen.bind(this),this._ws.onclose=this._onWsClose.bind(this),this._ws.onmessage=this._onWsMessage.bind(this),this._ws.onerror=this._onWsError.bind(this))}},{key:"disconnect",value:function(){this._ws&&(this._ws.onopen=null,this._ws.onclose=null,this._ws.onmessage=null,this._ws.onerror=null,this._ws.close(),this._ws=null)}},{key:"sendCmd",value:function(e){if(null!==this._ws&&1===this._ws.readyState){var t=new l.Header;t.version.value=1,t.cmdType.value=e.id,t.bodyLength.value=e.bytes;var r=s.allocUnsafe(t.bytes+e.bytes),n=new d.ByteArray(r);t.toBytes(n),e.toBytes(n),this._ws.send(r.buffer)}}},{key:"_onWsOpen",value:function(e){this.onConnectOK()}},{key:"_onWsClose",value:function(e){this.onFailed()}},{key:"_onWsMessage",value:function(e){if(null!==this._ws){if(e.data instanceof ArrayBuffer==!1)throw new h.ResponseError("websocket message type is not ArrayBuffer");var t=new l.Header;if(e.data.byteLength<t.bytes)u.default.ERROR(b,"not enough byteLength to parse");else{var r=new d.ByteArray(s.from(e.data));t.fromBytes(r);var n=this.getCmdClass(t.cmdType.value);if(n){var i=new n;try{i.fromBytes(r)}catch(e){return void u.default.ERROR(b,"cmd fromBytes: "+e.message)}this.onRecvData(i)}else u.default.ERROR(b,"unknown cmdType: "+t.cmdType.value)}}}},{key:"_onWsError",value:function(e){}}]),n}(e.default);v.default=_})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},y("buffer").Buffer)},{"../protocal/byte-array":7,"../protocal/p2p":9,"../utils/common":26,"../utils/error":29,"../utils/logger":30,"../utils/md5":31,"./vod-p2p":22,"babel-runtime/core-js/object/get-prototype-of":44,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":52,"babel-runtime/helpers/possibleConstructorReturn":53,buffer:274}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0<=e.indexOf("trident")&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],r=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],n={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:r[0]||""},i={};if(n.browser){i[n.browser]=!0;var s=n.majorVersion.split(".");i.version={major:parseInt(n.majorVersion,10),string:n.version},1<s.length&&(i.version.minor=parseInt(s[1],10)),2<s.length&&(i.version.build=parseInt(s[2],10))}n.platform&&(i[n.platform]=!0),(i.chrome||i.opr||i.safari)&&(i.webkit=!0),(i.rv||i.iemobile)&&(i.rv&&delete i.rv,n.browser="msie",i.msie=!0);i.edge&&(delete i.edge,n.browser="msedge",i.msedge=!0);i.opr&&(n.browser="opera",i.opera=!0);if(i.safari&&i.android){var o="android";i[n.browser=o]=!0}return i.name=n.browser,i.platform=n.platform,i}();r.default=n},{}],25:[function(c,e,h){((function(i){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var e=n(c("babel-runtime/core-js/json/stringify")),s=n(c("babel-runtime/helpers/classCallCheck")),t=n(c("babel-runtime/helpers/createClass")),o=n(c("url")),r=n(c("./range-queue")),a=n(c("../utils/speed-calculator")),f=c("../transfer/pipe-info");function n(e){return e&&e.__esModule?e:{"default":e}}var u=function(){function n(e){var t;(0,s.default)(this,n),this.playId=function(){for(var e="",t=1;t<=32;t++)e+=Math.floor(16*Math.random()).toString(16),8!==t&&12!==t&&16!==t&&20!==t||(e+="-");return e}(),this.url=(t=e.url,i.decodeURI(t)===t?i.encodeURI(t):t),this.mediaElement=e.video;var r=o.default.parse(this.url);this.sourceUrl=""+r.host+r.pathname,this.fileIndex=this.sourceUrl,this.startWithCDN=void 0===e.startWithCDN||!!e.startWithCDN,this.fileType="string"==typeof e.fileType?e.fileType.toLowerCase():"",this.openTick="number"==typeof e.openTick?e.openTick:0,this.playerInfo=e.info||{},this.clear(),this.speedCalc=new a.default(5),this.cdnSpeedCalc=new a.default(5),this.p2pSpeedCalc=new a.default(5)}return(0,t.default)(n,[{key:"getBufferedEnd",value:function(e){var t=this.mediaElement;if(!t||!t.buffered||0===t.buffered.length)return 0;for(var r=0,n=t.buffered.length;r<n;r++)if(e>=t.buffered.start(r)&&e<t.buffered.end(r))return t.buffered.end(r);return 0}},{key:"getTimeFromRange",value:function(e){for(var t=0,r=0;r<e.length;r++)t+=e.end(r)-e.start(r);return t}},{key:"parseTimeRanges",value:function(e){for(var t="length: "+e.length+", ranges: ",r=0;r<e.length;r++)t+="("+e.start(r)+", "+e.end(r)+")";return t}},{key:"clear",value:function(){this.fileSize=0,this.lastModified=0,this.pieceSize=0,this.receiveEnd=0,this.firstPacket=0,this.firstBuffer=0,this.cdnIp="",this.interruptCount=0,this.interruptTime=0,this.bufferEmptyQueue=[],this.reserveRg=null,this.downloadRgq=new r.default,this.requestRgq=new r.default,this.sendRgq=new r.default,this.cdnBytes=0,this.skjBytes=0,this.seekCost=0,this.seekType=0,this.seekPosition=0,this.waitingTime=0,this.cdnRequestSize=0}},{key:"dispose",value:function(){this.playId="",this.url="",this.mediaElement=null,this.sourceUrl="",this.fileIndex="",this.fileType="",this.startWithCDN=!0,this.speedCalc=null,this.cdnSpeedCalc=null,this.p2pSpeedCalc=null,this.clear()}},{key:"duration",get:function(){var e=this.mediaElement;return e&&e.duration?e.duration:0}},{key:"bufferLength",get:function(){var e=this.mediaElement;if(!e||!e.buffered||0===e.buffered.length)return 0;for(var t=0,r=e.buffered.length;t<r;t++){var n=e.buffered.start(t),i=e.buffered.end(t);if(e.currentTime>=n&&e.currentTime<i)return i-e.currentTime}return 0}},{key:"playTime",get:function(){var e=this.mediaElement;return e&&void 0!==e.currentTime?e.currentTime:0}},{key:"buffered",get:function(){var e=this.mediaElement;return e?this.parseTimeRanges(e.buffered):[]}},{key:"played",get:function(){var e=this.mediaElement;return e?this.parseTimeRanges(e.played):[]}},{key:"isPaused",get:function(){var e=this.mediaElement;return!e||e.paused&&1<e.readyState}},{key:"pipes",get:function(){var t={waiting:[],connecting:[],serving:[]};return f.PipeManager.forEach(function(e){e.state===f.PipeState.WAITING?t.waiting.push(e.client.info):e.state===f.PipeState.SENT||e.state===f.PipeState.ESTABLISHED?t.connecting.push(e.client.info):e.state!==f.PipeState.REQUESTED&&e.state!==f.PipeState.IDLE||t.serving.push(e.client.info)}),(0,e.default)(t,null,4)}},{key:"pipeDetails",get:function(){var t={};return f.PipeManager.forEach(function(e){e.state!==f.PipeState.REQUESTED&&e.state!==f.PipeState.IDLE||(t[e.hostname]={req:e.client.requestRgs.slice(0),res:e.client.receiveRgs.slice(0)},e.client.requestRgs=[],e.client.receiveRgs=[])}),t}},{key:"latestPosition",get:function(){return null===this.reserveRg?0:0<this.sendRgq.ranges.length?this.sendRgq.ranges[0].end:this.reserveRg.position}},{key:"peerRatio",get:function(){var e=this.cdnBytes+this.skjBytes;return 0<e?(100*this.skjBytes/e).toFixed(2):0..toFixed(2)}},{key:"skjRatio",get:function(){var e=this.cdnBytes+this.skjBytes;return 0<e?(100*this.skjBytes/e).toFixed(2):0..toFixed(2)}}]),n}();h.default=u})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transfer/pipe-info":19,"../utils/speed-calculator":36,"./range-queue":33,"babel-runtime/core-js/json/stringify":38,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,url:385}],26:[function(s,e,o){((function(r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=t(s("babel-runtime/core-js/object/create")),n=t(s("./browser"));function t(e){return e&&e.__esModule?e:{"default":e}}var i="function"==typeof e.default?(0,e.default)(null):{};i.VERSION="1.2.8",i.WSS_PORT=8443,i.REQUEST_SIZE=8192,i.MAX_CACHE_SIZE=16777216,i.SMALL_FILE=83886080,i.LARGE_FILE=1374389534.72,i.BUFFER_LIMIT=5,i.FRAGMENT_SIZE=83886080,i.TIMEOUT_PAD=3e3,i.RESUME_BUFFER_LENGTH=1,i.MAX_SKJ_NUM=10,i.PROBING_NUM=5,i.isHttps=function(){if(!r.document||!r.document.location)return!1;return/^https:/.test(r.document.location.href)}(),i.http=i.isHttps?"https":"http",i.ws=i.isHttps?"wss":"ws",i.userAgent=r.navigator&&r.navigator.userAgent?r.navigator.userAgent:"",i.isWebRTCSupported=(r.RTCPeerConnection=r.RTCPeerConnection||r.webkitRTCPeerConnection||r.mozRTCPeerConnection,!!r.RTCPeerConnection),i.isFetchStreamSupported=function(){try{var e=n.default.msedge&&15048<=n.default.version.minor,t=!n.default.msedge||e;return!!(r.fetch&&r.ReadableStream&&t)}catch(e){return!1}}(),i.isMozChunkedSupported=function(){if(!n.default.firefox)return!1;try{var e=new r.XMLHttpRequest;return e.open("GET","https://example.com",!0),(e.responseType="moz-chunked-arraybuffer")===e.responseType}catch(e){return!1}}(),o.default=i})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":24,"babel-runtime/core-js/object/create":42}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("babel-runtime/helpers/classCallCheck")),i=o(e("babel-runtime/helpers/createClass")),s=(o(e("./logger")),o(e("./reporter")));function o(e){return e&&e.__esModule?e:{"default":e}}var a=2,f=function(){function t(e){(0,n.default)(this,t),this._info=e,this._reporter=null,this._openTick=0,this._seekTick=0,this._isSeeking=!1,this._isWaiting=!1,this._waitingTick=0,this._isBufferEmpty=!1,this._bufferFullTick=0,this._bufferEmptyTick=0,this._me=null,this._timeoutId=-1,this._isFirstBuffer=!1,this._e={ended:this._onEnded.bind(this),waiting:this._onWaiting.bind(this),playing:this._onPlaying.bind(this),pause:this._onPause.bind(this),durationchange:this._onDurationChange.bind(this),seeking:this._onSeeking.bind(this),seeked:this._onSeeked.bind(this),canplay:this._onCanPlay.bind(this),loadeddata:this._onLoadedData.bind(this),timeupdate:this._onTimeUpdate.bind(this)}}return(0,i.default)(t,[{key:"open",value:function(){this._reporter||(this._reporter=new s.default(this._info)),this._openTick=this._info.openTick||Date.now(),this._seekTick=0,this._isSeeking=!1,this._bufferFullTick=0,this._bufferEmptyTick=0,this._me=this._info.mediaElement,this._attachMediaElement(),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this._bufferEmptyCheck.bind(this),50)}},{key:"close",value:function(){clearTimeout(this._timeoutId),this._reporter.stopInterval()}},{key:"dispose",value:function(){clearTimeout(this._timeoutId),this._timeoutId=-1,this._info=null,this._reporter&&(this._reporter.stopInterval(),this._reporter=null),this._detachMediaElement(),this._me=null,this._e&&(this._e.ended=null,this._e.waiting=null,this._e.playing=null,this._e.pause=null,this._e.durationchange=null,this._e.seeking=null,this._e.seeked=null,this._e.canplay=null,this._e.loadeddata=null)}},{key:"_attachMediaElement",value:function(){this._hasAttachElement||this._me&&(this._hasAttachElement=!0,this._me.addEventListener("ended",this._e.ended),this._me.addEventListener("waiting",this._e.waiting),this._me.addEventListener("playing",this._e.playing),this._me.addEventListener("pause",this._e.pause),this._me.addEventListener("durationchange",this._e.durationchange),this._me.addEventListener("seeking",this._e.seeking),this._me.addEventListener("seeked",this._e.seeked),this._me.addEventListener("canplay",this._e.canplay),this._me.addEventListener("loadeddata",this._e.loadeddata),this._me.addEventListener("timeupdate",this._e.timeupdate))}},{key:"_detachMediaElement",value:function(){this._me&&(this._me.removeEventListener("ended",this._e.ended),this._me.removeEventListener("waiting",this._e.waiting),this._me.removeEventListener("playing",this._e.playing),this._me.removeEventListener("pause",this._e.pause),this._me.removeEventListener("durationchange",this._e.durationchange),this._me.removeEventListener("seeking",this._e.seeking),this._me.removeEventListener("seeked",this._e.seeked),this._me.removeEventListener("canplay",this._e.canplay),this._me.removeEventListener("loadeddata",this._e.loadeddata),this._me.removeEventListener("timeupdate",this._e.timeupdate))}},{key:"_bufferEmptyCheck",value:function(){clearTimeout(this._timeoutId),this._me&&(this._isBufferEmpty||this._me.readyState!==a||(this._isBufferEmpty=!0,this._bufferEmptyTick=Date.now(),this._info.interruptCount+=1,this._reporter.onBufferEmpty(this._bufferEmptyTick)),this._timeoutId=setTimeout(this._bufferEmptyCheck.bind(this),50))}},{key:"_onEnded",value:function(){}},{key:"_onWaiting",value:function(){this._isWaiting||(this._isWaiting=!0,this._waitingTick=Date.now())}},{key:"_onPlaying",value:function(){}},{key:"_onPause",value:function(){}},{key:"_onDurationChange",value:function(){}},{key:"_onSeeking",value:function(){!this._me||this._me.currentTime<1||this._isSeeking||(this._isSeeking=!0,this._seekTick=Date.now(),this._info.seekType=this._me.readyState,this._info.seekPosition=this._info.reserveRg.position)}},{key:"_onSeeked",value:function(){}},{key:"_onLoadedData",value:function(){this._isFirstBuffer||(this._isFirstBuffer=!0,this._info.firstBuffer=Date.now()-this._openTick,this._reporter.startInterval(),this._reporter.sendFB())}},{key:"_onTimeUpdate",value:function(){this._isWaiting&&(this._isWaiting=!1,this._info.waitingTime+=Date.now()-this._waitingTick)}},{key:"_onCanPlay",value:function(){if(this._isSeeking&&(this._isSeeking=!1,this._info.seekCost=Date.now()-this._seekTick,this._reporter.sendDRAG()),this._isBufferEmpty){this._isBufferEmpty=!1,this._bufferFullTick=Date.now();var e=this._bufferFullTick-this._bufferEmptyTick;this._info.bufferEmptyQueue.push(e),this._reporter.onBufferFull(this._bufferFullTick)}}},{key:"dropFrames",get:function(){return this._me&&void 0!==this._me.webkitDroppedFrameCount?this._me.webkitDroppedFrameCount:0}}]),t}();r.default=f},{"./logger":30,"./reporter":35,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e)}return(0,i.default)(e,null,[{key:"format",value:function(e){return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1)+"-":e.getMonth()+1+"-")+(e.getDate()<10?"0"+e.getDate()+" ":e.getDate()+" ")+(e.getHours()<10?"0"+e.getHours()+":":e.getHours()+":")+(e.getMinutes()<10?"0"+e.getMinutes()+":":e.getMinutes()+":")+(e.getSeconds()<10?"0"+e.getSeconds()+".":e.getSeconds()+".")+(e.getMilliseconds()<10?"00"+e.getMilliseconds():e.getMilliseconds()<100?"0"+e.getMilliseconds():""+e.getMilliseconds())}}]),e}();r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DataError=r.ResponseError=r.Mp4ParseError=r.FlvParseError=r.IllegalStateError=r.InvalidArgumentError=r.RuntimeError=void 0;var n=f(e("babel-runtime/core-js/object/get-prototype-of")),i=f(e("babel-runtime/helpers/possibleConstructorReturn")),s=f(e("babel-runtime/helpers/inherits")),o=f(e("babel-runtime/helpers/classCallCheck")),a=f(e("babel-runtime/helpers/createClass"));function f(e){return e&&e.__esModule?e:{"default":e}}var u=r.RuntimeError=function(){function t(e){(0,o.default)(this,t),this.message=e}return(0,a.default)(t,[{key:"toString",value:function(){return this.name+": "+this.message}}]),t}();r.InvalidArgumentError=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"name",get:function(){return"InvalidArgumentError"}}]),t}(u),r.IllegalStateError=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"name",get:function(){return"IllegalStateError"}}]),t}(u),r.FlvParseError=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"name",get:function(){return"FlvParseError"}}]),t}(u),r.Mp4ParseError=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"name",get:function(){return"Mp4ParseError"}}]),t}(u),r.ResponseError=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"name",get:function(){return"ResponseError"}}]),t}(u),r.DataError=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"name",get:function(){return"DataError"}}]),t}(u)},{"babel-runtime/core-js/object/get-prototype-of":44,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":52,"babel-runtime/helpers/possibleConstructorReturn":53}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("babel-runtime/helpers/classCallCheck")),s=i(e("babel-runtime/helpers/createClass")),o=i(e("./date-formatter"));function i(e){return e&&e.__esModule?e:{"default":e}}var a=0,f=1,u=2,c=3,h=4,l=5,d=99,p=function(){function i(){(0,n.default)(this,i)}return(0,s.default)(i,null,[{key:"TRACE",value:function(){if(i.Level<=a){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).info.apply(e,[o.default.format(new Date)+" "+i.NamingSpace+" %c[TRACE]","background-color:#cccccc"].concat(r))}}},{key:"DEBUG",value:function(){if(i.Level<=f){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).info.apply(e,[o.default.format(new Date),i.NamingSpace,"[DEBUG]"].concat(r))}}},{key:"INFO",value:function(){if(i.Level<=u){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).info.apply(e,[o.default.format(new Date)+" "+i.NamingSpace+" %c[INFO]","color:#ffffff;background-color:#00BFFF"].concat(r))}}},{key:"WARN",value:function(){if(i.Level<=c){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).info.apply(e,[o.default.format(new Date)+" "+i.NamingSpace+" %c[WARN]","color:#ffffff;background-color:#FFA500"].concat(r))}}},{key:"ERROR",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;i.Level<=h&&(n=console).info.apply(n,[o.default.format(new Date)+" "+i.NamingSpace+" %c[ERROR]","color:#ffffff;background-color:#FF0000"].concat(t));i.ErrorHook&&i.ErrorHook([].concat(t).join(" "))}},{key:"FATAL",value:function(){if(i.Level<=l){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).info.apply(e,[o.default.format(new Date)+" "+i.NamingSpace+" %c[FATAL]","color:#ffffff;background-color:#9370DB"].concat(r))}}}]),i}();p.Level=d,p.NamingSpace="Default",p.ErrorHook=null,r.default=p},{"./date-formatter":28,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("babel-runtime/helpers/classCallCheck")),i=o(e("babel-runtime/helpers/createClass")),s=o(e("crypto"));function o(e){return e&&e.__esModule?e:{"default":e}}var a=function(){function e(){(0,n.default)(this,e)}return(0,i.default)(e,null,[{key:"encrypt",value:function(e){var t=s.default.createHash("md5");return t.update(e),t.digest("hex")}}]),e}();r.default=a},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,crypto:282}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("babel-runtime/core-js/number/is-integer")),i=o(e("babel-runtime/helpers/classCallCheck")),s=o(e("babel-runtime/helpers/createClass"));function o(e){return e&&e.__esModule?e:{"default":e}}var a=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"isInteger",value:function(e){return n.default?(0,n.default)(e):"number"==typeof e&&e%1==0}}]),e}();r.default=a},{"babel-runtime/core-js/number/is-integer":40,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass")),c=s(e("./range"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e),this._ranges=[],this._start=0,this._end=0}return(0,i.default)(e,[{key:"isIn",value:function(e){for(var t=!1,r=0,n=this._ranges.length;r<n;r++){if(this._ranges[r].isIn(e)){t=!0;break}}return t}},{key:"getRange",value:function(e){for(var t=null,r=0,n=this._ranges.length;r<n;r++){var i=this._ranges[r];if(i.isIn(e)){t=i;break}}return t}},{key:"isContained",value:function(e){if(0===e.length)throw new RangeError("isContained, range.length is 0");if(0===this._ranges.length)return!1;for(var t=0,r=this._ranges.length;t<r;t++)if(this._ranges[t].isContained(e))return!0;return!1}},{key:"addRange",value:function(e){if(0===e.length)throw new RangeError("addRange, range.length is 0");var t=this._ranges.length;if(0===t||this._end<e.position)this._ranges.push(e.clone());else if(this._start>e.end)this._ranges.unshift(e.clone());else{for(var r=0,n=t-1;0<=n;n--){if(this._ranges[n].end<e.position){r=n+1;break}}for(var i=t-1,s=0;s<t;s++){if(this._ranges[s].position>e.end){i=s-1;break}}var o=this._ranges[r],a=this._ranges[i],f=e.clone();e.position>=o.position&&e.position<=o.end&&(f=f.merge(o,!0)),e.end>=a.position&&e.end<=a.end&&(f=f.merge(a,!0)),this._ranges.splice(r,i-r+1,f)}this._updateBound()}},{key:"removeRange",value:function(e){var t;if(0===e.length)throw new RangeError("removeRange, range.length is 0");var r=this._ranges.length;if(!(0===r||this._end<=e.position||this._start>=e.end)){for(var n=0,i=r-1;0<=i;i--){if(this._ranges[i].end<e.position){n=i+1;break}}for(var s=r-1,o=0;o<r;o++){if(this._ranges[o].position>e.end){s=o-1;break}}var a=this._ranges[n],f=this._ranges[s],u=[];e.position>a.position&&e.position<a.end&&u.push(new c.default(a.position,e.position-a.position)),e.end>f.position&&e.end<f.end&&u.push(new c.default(e.end,f.end-e.end)),(t=this._ranges).splice.apply(t,[n,s-n+1].concat(u)),this._updateBound()}}},{key:"equalTo",value:function(e){if(this._ranges.length!==e.ranges.length)return!1;for(var t=0,r=this._ranges.length;t<r;t++)if(!this._ranges[t].equalTo(e.ranges[t]))return!1;return!0}},{key:"clear",value:function(){this._ranges=[],this._start=0,this._end=0}},{key:"toString",value:function(){return"{"+this._ranges.join(",")+"}"}},{key:"_updateBound",value:function(){0!==this._ranges.length&&(this._start=this._ranges[0].position,this._end=this._ranges[this._ranges.length-1].end)}},{key:"length",get:function(){var t=0;return this._ranges.forEach(function(e){t+=e.length}),t}},{key:"ranges",get:function(){return this._ranges}},{key:"end",get:function(){return this._end}},{key:"start",get:function(){return this._start}}]),e}();r.default=o},{"./range":34,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function r(e,t){(0,n.default)(this,r),this.assign(e,t)}return(0,i.default)(r,[{key:"assign",value:function(e,t){this._pos=e,this._length=t,this._end=e+t}},{key:"isIn",value:function(e){return e>=this._pos&&e<this._end}},{key:"isContained",value:function(e){if(0===e.length)throw new RangeError("isContained, range.length is 0");return e.position>=this._pos&&e.end<=this._end}},{key:"isIntersect",value:function(e){if(0===e.length)throw new RangeError("isIntersect, range.length is 0");return!(e.position>this._end||e.end<=this._pos)}},{key:"isFullRange",value:function(){return 0===this._pos&&this._length===r.MAX_LENGTH}},{key:"equalTo",value:function(e){return this._pos===e.position&&this._length===e.length}},{key:"toString",value:function(){return"["+this._pos+","+this._length+","+this._end+")"}},{key:"clone",value:function(){return new r(this._pos,this._length)}},{key:"canMerge",value:function(e){if(0===e.length)throw new RangeError("canMerge, range.length is 0");return!(e.end<this._pos||this._end<e.position)}},{key:"merge",value:function(e){if(!(1<arguments.length&&void 0!==arguments[1]&&arguments[1])&&!this.canMerge(e))throw new RangeError("merge, over bound");var t=Math.min(this._pos,e.position);return new r(t,Math.max(this._end,e.end)-t)}},{key:"intersect",value:function(e){if(0===e.length)throw new RangeError("intersect, range.length is 0");if(e.end<=this._pos||this._end<=e.position)return null;var t=this._pos<e.position?e.position:this._pos;return new r(t,(this._end>e.end?e.end:this._end)-t)}},{key:"position",get:function(){return this._pos}},{key:"length",get:function(){return this._length}},{key:"end",get:function(){return this._end}}]),r}();o.MAX_LENGTH=0xffffffffffff,r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],35:[function(p,e,b){((function(r){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var n=t(p("babel-runtime/helpers/classCallCheck")),e=t(p("babel-runtime/helpers/createClass")),h=t(p("./common")),i=t(p("./logger")),s=p("./error");function t(e){return e&&e.__esModule?e:{"default":e}}var o=h.default.http+"://sdk1xyajs-data.xycdn.com/o_vod_h5sdk_one",l=h.default.http+"://sdk1xyajs-data.xycdn.com/o_vod_h5sdk_cycle",a=["logstate","v","pi","ua","u","ci","fb","ts"],f=["logstate","v","pi","ua","u","ci","sp","st","sc","bl"],d=["v","pi","ua","u","it","ic","dc","db","ds","pt","bla","bld","pr","sr","wt"],u=["logstate","v","pi","ua","u","e"],c=function(){function t(e){(0,n.default)(this,t),this._info=e,this._timeoutId=-1,this._intervalCount=0,this._lastInterruptTime=0,this._lastInterruptCount=0,this._lastDownCDN=0,this._lastDownSKJ=0,this._lastWaitingTime=0,this._isBufferEmpty=!1,this._lastCycleSendTick=0,this._bufferEmptyTick=0,this._bufferQueue=[],i.default.ErrorHook=this.sendERR.bind(this)}return(0,e.default)(t,[{key:"onBufferFull",value:function(e){this._isBufferEmpty=!1;var t=e-Math.max(this._bufferEmptyTick,this._lastCycleSendTick);this._info.interruptTime+=t}},{key:"onBufferEmpty",value:function(e){this._isBufferEmpty=!0,this._bufferEmptyTick=e}},{key:"startInterval",value:function(){this._intervalProcess()}},{key:"stopInterval",value:function(){-1!==this._timeoutId&&(this._sendCycle(),clearTimeout(this._timeoutId),this._timeoutId=-1)}},{key:"sendFB",value:function(){var e=["fb",h.default.VERSION,this._info.playId,h.default.userAgent,this._info.url,this._info.cdnIp,this._info.firstBuffer,this._info.playerInfo.timeStat],t=this._makeQuery(a,e);this._send(o,t)}},{key:"sendERR",value:function(e){var t=["err",h.default.VERSION,this._info.playId,h.default.userAgent,this._info.url,e];this._send(o,this._makeQuery(u,t))}},{key:"sendDRAG",value:function(){var e=["db",h.default.VERSION,this._info.playId,h.default.userAgent,this._info.url,this._info.cdnIp,this._info.seekPosition,this._info.seekType,this._info.seekCost,this._info.bufferLength.toFixed(3)],t=this._makeQuery(f,e);this._send(o,t)}},{key:"_intervalProcess",value:function(){this._intervalCount++,this._bufferQueue.push(1e3*this._info.bufferLength),this._intervalCount%30==0&&this._sendCycle(),this._timeoutId=setTimeout(this._intervalProcess.bind(this),1e3)}},{key:"_sendCycle",value:function(){this._intervalCount=0;var e=Date.now();if(this._isBufferEmpty){var t=e-Math.max(this._bufferEmptyTick,this._lastCycleSendTick);this._info.interruptTime+=t}var r=this._info.interruptCount-this._lastInterruptCount,n=this._info.interruptTime-this._lastInterruptTime,i=this._info.cdnBytes-this._lastDownCDN,s=this._info.skjBytes-this._lastDownSKJ,o=this._info.waitingTime-this._lastWaitingTime;this._lastInterruptCount=this._info.interruptCount,this._lastInterruptTime=this._info.interruptTime,this._lastDownCDN=this._info.cdnBytes,this._lastDownSKJ=this._info.skjBytes,this._lastWaitingTime=this._info.waitingTime,this._lastCycleSendTick=e,0===this._bufferQueue.length&&this._bufferQueue.push(1e3*this._info.bufferLength);var a=this._avgBuffer(),f=this._stddevBuffer(a);this._bufferQueue=[];var u=[h.default.VERSION,this._info.playId,h.default.userAgent,this._info.url,n,r,i,0,s,this._info.playTime.toFixed(3),a,f,this._info.peerRatio,this._info.skjRatio,o],c=this._makeQuery(d,u);this._send(l,c)}},{key:"_send",value:function(e,t){r.fetch(e,{method:"POST",mode:"cors",body:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){if(200!==e.status)throw new s.ResponseError("Unexpect Http StatusCode "+e.status)}).catch(function(e){})}},{key:"_makeQuery",value:function(e,t){for(var r=[],n=0;n<e.length;n++)r.push(e[n]+"="+encodeURIComponent(t[n]));return""+r.join("&")}},{key:"_avgBuffer",value:function(){var e=this._bufferQueue.length;if(0===e)return 0;var t=0;return this._bufferQueue.forEach(function(e){t+=e}),Math.floor(t/e)}},{key:"_stddevBuffer",value:function(t){var e=this._bufferQueue.length;if(0===e)return 0;var r=0;return this._bufferQueue.forEach(function(e){r+=Math.abs(e-t)*Math.abs(e-t)}),Math.floor(Math.sqrt(r/e))}}]),t}();b.default=c})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./common":26,"./error":29,"./logger":30,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=o(e("babel-runtime/core-js/object/keys")),n=o(e("babel-runtime/helpers/classCallCheck")),i=o(e("babel-runtime/helpers/createClass"));function o(e){return e&&e.__esModule?e:{"default":e}}var a=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3;(0,n.default)(this,r),this._samples={},this._cycle=e,this._precision=t}return(0,i.default)(r,[{key:"addBytes",value:function(e){var t=Math.floor(Date.now()/this._precision);this._clean(t),this._samples[t]+=e}},{key:"calculate",value:function(){var t=this,r=Math.floor(Date.now()/this._precision);this._clean(r);var n=0,i=0;return(0,s.default)(this._samples).forEach(function(e){parseInt(e,10)!==r&&(n+=t._samples[e],i++)}),0===i?0:n/i*(1e3/this._precision)}},{key:"_clean",value:function(t){var r=this;(0,s.default)(this._samples).forEach(function(e){parseInt(e,10)+r._cycle<=t&&delete r._samples[e]});for(var e=t;e>t-this._cycle;e--)void 0===this._samples[e]&&(this._samples[e]=0)}}]),r}();r.default=a},{"babel-runtime/core-js/object/keys":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.XYVODEvent=r.XYVOD=void 0;var f=o(e("babel-runtime/helpers/classCallCheck")),n=o(e("babel-runtime/helpers/createClass")),i=o(e("babel-runtime/core-js/weak-map")),u=o(e("events")),c=o(e("./utils/logger")),s=o(e("./utils/common")),h=e("./utils/error"),l=o(e("./dispatcher/vod-dispatcher")),d=o(e("./parser/watcher")),p=o(e("./utils/polyfill")),b=o(e("./utils/data-statistics")),_=o(e("./utils/common-info"));function o(e){return e&&e.__esModule?e:{"default":e}}var y={DATA:"XYVOD.Data",ERROR:"XYVOD.Error",FILE_SIZE:"XYVOD.FileSize",END:"XYVOD.End"},v=new i.default,m=0,g=1,w=2,S=function(e,t){if(e===w)throw new h.IllegalStateError("XYVOD is already DISPOSED, need to reconstruct");if("open"===t&&e===g)throw new h.IllegalStateError("XYVOD is already OPENED")},a=function(){function a(e){var t=this;if((0,f.default)(this,a),!e)throw new h.InvalidArgumentError("XYVOD constructor, expect options");if(!e.url)throw new h.InvalidArgumentError("XYVOD constructor, expect options.url");if(!e.video)throw new h.InvalidArgumentError("XYVOD constructor, expect options.video");p.default.isInteger(e.logLevel)&&(c.default.Level=e.logLevel),"Default"===c.default.NamingSpace&&(c.default.NamingSpace="Core",c.default.Level=99);var r=new _.default(e),n=new u.default,i=new b.default(r),s=new d.default(r);s.onData=function(e,t){var r=e.buffer;r.byteLength>e.length&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),n.emit(y.DATA,r,t)},s.onError=function(e){t.close(),n.emit(y.ERROR,e)},s.onFileSize=function(e){n.emit(y.FILE_SIZE,e)},s.onEnd=function(){t.close(),n.emit(y.END)};var o=new l.default(s,r);v.set(this,{emitter:n,dataStat:i,watcher:s,disp:o,info:r,readyState:m})}return(0,n.default)(a,[{key:"on",value:function(e,t){S(this.readyState),v.get(this).emitter.addListener(e,t)}},{key:"off",value:function(e,t){S(this.readyState);var r=v.get(this).emitter;e?t?r.removeListener(e,t):r.removeAllListeners(e):r.removeAllListeners()}},{key:"pause",value:function(){S(this.readyState,"pause"),v.get(this).disp.pause()}},{key:"resume",value:function(){S(this.readyState,"resume"),v.get(this).disp.resume()}},{key:"open",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(S(this.readyState,"open"),!p.default.isInteger(e))throw new h.InvalidArgumentError("XYVOD open, 'position'("+e+") is not an integer");if(!p.default.isInteger(t))throw new h.InvalidArgumentError("XYVOD open, 'length'("+t+") is not an integer");t<0&&(t=0),v.get(this).dataStat.open(),v.get(this).disp.open(e,t),v.get(this).readyState=g}},{key:"close",value:function(){this.readyState!==m&&(S(this.readyState,"close"),v.get(this).disp.close(),v.get(this).dataStat.close(),v.get(this).readyState=m)}},{key:"dispose",value:function(){v.has(this)&&(v.get(this).disp&&(v.get(this).disp.dispose(),v.get(this).disp=null),v.get(this).dataStat&&(v.get(this).dataStat.dispose(),v.get(this).dataStat=null),v.get(this).watcher&&(v.get(this).watcher.dispose(),v.get(this).watcher=null),v.get(this).info&&(v.get(this).info.dispose(),v.get(this).info=null),v.get(this).emitter&&(v.get(this).emitter.removeAllListeners(),v.get(this).emitter=null),v.get(this).readyState=w)}},{key:"readyState",get:function(){return v.get(this).readyState}},{key:"info",get:function(){var e=v.get(this).info;return e?{version:s.default.VERSION,playId:e.playId,mediaDuration:e.duration,downloadSpeed:e.speedCalc.calculate()/1e3,firstPacket:e.firstPacket,firstBuffer:e.firstBuffer,interruptCount:e.interruptCount,interruptTime:e.interruptTime,bufferEmptyQueue:e.bufferEmptyQueue,bufferLength:e.bufferLength,played:e.played,buffered:e.buffered,reserveRg:e.reserveRg.toString(),requestRgq:e.requestRgq.toString(),downloadRgq:e.downloadRgq.toString(),sendRgq:e.sendRgq.toString(),playTime:e.playTime,cdnBytes:e.cdnBytes,skjBytes:e.skjBytes,peerRatio:e.peerRatio,pipes:e.pipes}:{}}},{key:"customerInfo",get:function(){var e=v.get(this).info;return e?{firstPacket:e.firstPacket,firstBuffer:e.firstBuffer,cdnBytes:e.cdnBytes,p2pBytes:e.skjBytes,totalBytes:e.cdnBytes+e.skjBytes,cdnSpeed:e.cdnSpeedCalc.calculate()/1e3,p2pSpeed:e.p2pSpeedCalc.calculate()/1e3,totalSpeed:e.speedCalc.calculate()/1e3}:{}}},{key:"pipeDetails",get:function(){var e=v.get(this).info.pipeDetails;return e.cdn=v.get(this).disp.cdnDetails,e}}],[{key:"isSupported",value:function(){return s.default.isFetchStreamSupported||s.default.isMozChunkedSupported}}]),a}();r.XYVOD=a,r.XYVODEvent=y},{"./dispatcher/vod-dispatcher":4,"./parser/watcher":5,"./utils/common":26,"./utils/common-info":25,"./utils/data-statistics":27,"./utils/error":29,"./utils/logger":30,"./utils/polyfill":32,"babel-runtime/core-js/weak-map":49,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,events:309}],38:[function(e,t,r){t.exports={"default":e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":55}],39:[function(e,t,r){t.exports={"default":e("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":56}],40:[function(e,t,r){t.exports={"default":e("core-js/library/fn/number/is-integer"),__esModule:!0}},{"core-js/library/fn/number/is-integer":57}],41:[function(e,t,r){t.exports={"default":e("core-js/library/fn/number/parse-int"),__esModule:!0}},{"core-js/library/fn/number/parse-int":58}],42:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":59}],43:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":60}],44:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":61}],45:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":62}],46:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":63}],47:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":64}],48:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":65}],49:[function(e,t,r){t.exports={"default":e("core-js/library/fn/weak-map"),__esModule:!0}},{"core-js/library/fn/weak-map":66}],50:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],51:[function(e,t,r){"use strict";r.__esModule=!0;var n,i=e("../core-js/object/define-property"),s=(n=i)&&n.__esModule?n:{"default":n};r.default=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}()},{"../core-js/object/define-property":43}],52:[function(e,t,r){"use strict";r.__esModule=!0;var n=o(e("../core-js/object/set-prototype-of")),i=o(e("../core-js/object/create")),s=o(e("../helpers/typeof"));function o(e){return e&&e.__esModule?e:{"default":e}}r.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},{"../core-js/object/create":42,"../core-js/object/set-prototype-of":46,"../helpers/typeof":54}],53:[function(e,t,r){"use strict";r.__esModule=!0;var n,i=e("../helpers/typeof"),s=(n=i)&&n.__esModule?n:{"default":n};r.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":54}],54:[function(e,t,r){"use strict";r.__esModule=!0;var n=o(e("../core-js/symbol/iterator")),i=o(e("../core-js/symbol")),s="function"==typeof i.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{"default":e}}r.default="function"==typeof i.default&&"symbol"===s(n.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":s(e)}},{"../core-js/symbol":47,"../core-js/symbol/iterator":48}],55:[function(e,t,r){var n=e("../../modules/_core"),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(e){return i.stringify.apply(i,arguments)}},{"../../modules/_core":82}],56:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),e("../modules/es7.map.of"),e("../modules/es7.map.from"),t.exports=e("../modules/_core").Map},{"../modules/_core":82,"../modules/es6.map":149,"../modules/es6.object.to-string":157,"../modules/es6.string.iterator":158,"../modules/es7.map.from":161,"../modules/es7.map.of":162,"../modules/es7.map.to-json":163,"../modules/web.dom.iterable":168}],57:[function(e,t,r){e("../../modules/es6.number.is-integer"),t.exports=e("../../modules/_core").Number.isInteger},{"../../modules/_core":82,"../../modules/es6.number.is-integer":150}],58:[function(e,t,r){e("../../modules/es6.number.parse-int"),t.exports=e("../../modules/_core").Number.parseInt},{"../../modules/_core":82,"../../modules/es6.number.parse-int":151}],59:[function(e,t,r){e("../../modules/es6.object.create");var n=e("../../modules/_core").Object;t.exports=function(e,t){return n.create(e,t)}},{"../../modules/_core":82,"../../modules/es6.object.create":152}],60:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":82,"../../modules/es6.object.define-property":153}],61:[function(e,t,r){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":82,"../../modules/es6.object.get-prototype-of":154}],62:[function(e,t,r){e("../../modules/es6.object.keys"),t.exports=e("../../modules/_core").Object.keys},{"../../modules/_core":82,"../../modules/es6.object.keys":155}],63:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":82,"../../modules/es6.object.set-prototype-of":156}],64:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":82,"../../modules/es6.object.to-string":157,"../../modules/es6.symbol":159,"../../modules/es7.symbol.async-iterator":164,"../../modules/es7.symbol.observable":165}],65:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":145,"../../modules/es6.string.iterator":158,"../../modules/web.dom.iterable":168}],66:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/web.dom.iterable"),e("../modules/es6.weak-map"),e("../modules/es7.weak-map.of"),e("../modules/es7.weak-map.from"),t.exports=e("../modules/_core").WeakMap},{"../modules/_core":82,"../modules/es6.object.to-string":157,"../modules/es6.weak-map":160,"../modules/es7.weak-map.from":166,"../modules/es7.weak-map.of":167,"../modules/web.dom.iterable":168}],67:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],68:[function(e,t,r){t.exports=function(){}},{}],69:[function(e,t,r){t.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},{}],70:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":101}],71:[function(e,t,r){var n=e("./_for-of");t.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},{"./_for-of":91}],72:[function(e,t,r){var f=e("./_to-iobject"),u=e("./_to-length"),c=e("./_to-absolute-index");t.exports=function(a){return function(e,t,r){var n,i=f(e),s=u(i.length),o=c(r,s);if(a&&t!=t){for(;o<s;)if((n=i[o++])!=n)return!0}else for(;o<s;o++)if((a||o in i)&&i[o]===t)return a||o||0;return!a&&-1}}},{"./_to-absolute-index":136,"./_to-iobject":138,"./_to-length":139}],73:[function(e,t,r){var m=e("./_ctx"),g=e("./_iobject"),w=e("./_to-object"),S=e("./_to-length"),n=e("./_array-species-create");t.exports=function(h,e){var l=1==h,d=2==h,p=3==h,b=4==h,_=6==h,y=5==h||_,v=e||n;return function(e,t,r){for(var n,i,s=w(e),o=g(s),a=m(t,r,3),f=S(o.length),u=0,c=l?v(e,f):d?v(e,0):void 0;u<f;u++)if((y||u in o)&&(i=a(n=o[u],u,s),h))if(l)c[u]=i;else if(i)switch(h){case 3:return!0;case 5:return n;case 6:return u;case 2:c.push(n)}else if(b)return!1;return _?-1:p||b?b:c}}},{"./_array-species-create":75,"./_ctx":83,"./_iobject":97,"./_to-length":139,"./_to-object":140}],74:[function(e,t,r){var n=e("./_is-object"),i=e("./_is-array"),s=e("./_wks")("species");t.exports=function(e){var t;return i(e)&&("function"!=typeof (t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},{"./_is-array":99,"./_is-object":101,"./_wks":146}],75:[function(e,t,r){var n=e("./_array-species-constructor");t.exports=function(e,t){return new(n(e))(t)}},{"./_array-species-constructor":74}],76:[function(e,t,r){var i=e("./_cof"),s=e("./_wks")("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof (r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?r:o?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},{"./_cof":77,"./_wks":146}],77:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],78:[function(e,t,r){"use strict";var o=e("./_object-dp").f,a=e("./_object-create"),f=e("./_redefine-all"),u=e("./_ctx"),c=e("./_an-instance"),h=e("./_for-of"),n=e("./_iter-define"),i=e("./_iter-step"),s=e("./_set-species"),l=e("./_descriptors"),d=e("./_meta").fastKey,p=e("./_validate-collection"),b=l?"_s":"size",_=function(e,t){var r,n=d(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};t.exports={getConstructor:function(e,s,r,n){var i=e(function(e,t){c(e,i,s,"_i"),e._t=s,e._i=a(null),e._f=void 0,e._l=void 0,e[b]=0,null!=t&&h(t,r,e[n],e)});return f(i.prototype,{clear:function(){for(var e=p(this,s),t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[b]=0},"delete":function(e){var t=p(this,s),r=_(t,e);if(r){var n=r.n,i=r.p;delete t._i[r.i],r.r=!0,i&&(i.n=n),n&&(n.p=i),t._f==r&&(t._f=n),t._l==r&&(t._l=i),t[b]--}return!!r},forEach:function(e){p(this,s);for(var t,r=u(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!_(p(this,s),e)}}),l&&o(i.prototype,"size",{get:function(){return p(this,s)[b]}}),i},def:function(e,t,r){var n,i,s=_(e,t);return s?s.v=r:(e._l=s={i:i=d(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=s),n&&(n.n=s),e[b]++,"F"!==i&&(e._i[i]=s)),e},getEntry:_,setStrong:function(e,r,t){n(e,r,function(e,t){this._t=p(e,r),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?i(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,i(1))},t?"entries":"values",!t,!0),s(r)}}},{"./_an-instance":69,"./_ctx":83,"./_descriptors":85,"./_for-of":91,"./_iter-define":104,"./_iter-step":105,"./_meta":108,"./_object-create":110,"./_object-dp":111,"./_redefine-all":124,"./_set-species":129,"./_validate-collection":143}],79:[function(e,t,r){var n=e("./_classof"),i=e("./_array-from-iterable");t.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},{"./_array-from-iterable":71,"./_classof":76}],80:[function(e,t,r){"use strict";var o=e("./_redefine-all"),a=e("./_meta").getWeak,i=e("./_an-object"),f=e("./_is-object"),u=e("./_an-instance"),c=e("./_for-of"),n=e("./_array-methods"),h=e("./_has"),l=e("./_validate-collection"),s=n(5),d=n(6),p=0,b=function(e){return e._l||(e._l=new _)},_=function(){this.a=[]},y=function(e,t){return s(e.a,function(e){return e[0]===t})};_.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var r=y(this,e);r?r[1]=t:this.a.push([e,t])},"delete":function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(e,r,n,i){var s=e(function(e,t){u(e,s,r,"_i"),e._t=r,e._i=p++,e._l=void 0,null!=t&&c(t,n,e[i],e)});return o(s.prototype,{"delete":function(e){if(!f(e))return!1;var t=a(e);return!0===t?b(l(this,r)).delete(e):t&&h(t,this._i)&&delete t[this._i]},has:function(e){if(!f(e))return!1;var t=a(e);return!0===t?b(l(this,r)).has(e):t&&h(t,this._i)}}),s},def:function(e,t,r){var n=a(i(t),!0);return!0===n?b(e).set(t,r):n[e._i]=r,e},ufstore:b}},{"./_an-instance":69,"./_an-object":70,"./_array-methods":73,"./_for-of":91,"./_has":93,"./_is-object":101,"./_meta":108,"./_redefine-all":124,"./_validate-collection":143}],81:[function(e,t,r){"use strict";var h=e("./_global"),l=e("./_export"),d=e("./_meta"),p=e("./_fails"),b=e("./_hide"),_=e("./_redefine-all"),y=e("./_for-of"),v=e("./_an-instance"),m=e("./_is-object"),g=e("./_set-to-string-tag"),w=e("./_object-dp").f,S=e("./_array-methods")(0),k=e("./_descriptors");t.exports=function(r,e,t,n,i,s){var o=h[r],a=o,f=i?"set":"add",u=a&&a.prototype,c={};return k&&"function"==typeof a&&(s||u.forEach&&!p(function(){(new a).entries().next()}))?(a=e(function(e,t){v(e,a,r,"_c"),e._c=new o,null!=t&&y(t,i,e[f],e)}),S("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(n){var i="add"==n||"set"==n;n in u&&(!s||"clear"!=n)&&b(a.prototype,n,function(e,t){if(v(this,a,n),!i&&s&&!m(e))return"get"==n&&void 0;var r=this._c[n](0===e?0:e,t);return i?this:r})}),s||w(a.prototype,"size",{get:function(){return this._c.size}})):(a=n.getConstructor(e,r,i,f),_(a.prototype,t),d.NEED=!0),g(a,r),c[r]=a,l(l.G+l.W+l.F,c),s||n.setStrong(a,r,i),a}},{"./_an-instance":69,"./_array-methods":73,"./_descriptors":85,"./_export":89,"./_fails":90,"./_for-of":91,"./_global":92,"./_hide":94,"./_is-object":101,"./_meta":108,"./_object-dp":111,"./_redefine-all":124,"./_set-to-string-tag":130}],82:[function(e,t,r){var n=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},{}],83:[function(e,t,r){var s=e("./_a-function");t.exports=function(n,i,e){if(s(n),void 0===i)return n;switch(e){case 1:return function(e){return n.call(i,e)};case 2:return function(e,t){return n.call(i,e,t)};case 3:return function(e,t,r){return n.call(i,e,t,r)}}return function(){return n.apply(i,arguments)}}},{"./_a-function":67}],84:[function(e,t,r){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],85:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":90}],86:[function(e,t,r){var n=e("./_is-object"),i=e("./_global").document,s=n(i)&&n(i.createElement);t.exports=function(e){return s?i.createElement(e):{}}},{"./_global":92,"./_is-object":101}],87:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],88:[function(e,t,r){var a=e("./_object-keys"),f=e("./_object-gops"),u=e("./_object-pie");t.exports=function(e){var t=a(e),r=f.f;if(r)for(var n,i=r(e),s=u.f,o=0;i.length>o;)s.call(e,n=i[o++])&&t.push(n);return t}},{"./_object-gops":116,"./_object-keys":119,"./_object-pie":120}],89:[function(e,t,r){var b=e("./_global"),_=e("./_core"),y=e("./_ctx"),v=e("./_hide"),m=e("./_has"),g="prototype",w=function(e,t,r){var n,i,s,o=e&w.F,a=e&w.G,f=e&w.S,u=e&w.P,c=e&w.B,h=e&w.W,l=a?_:_[t]||(_[t]={}),d=l[g],p=a?b:f?b[t]:(b[t]||{})[g];for(n in a&&(r=t),r)(i=!o&&p&&void 0!==p[n])&&m(l,n)||(s=i?p[n]:r[n],l[n]=a&&"function"!=typeof p[n]?r[n]:c&&i?y(s,b):h&&p[n]==s?function(n){var e=function(e,t,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,r)}return n.apply(this,arguments)};return e[g]=n[g],e}(s):u&&"function"==typeof s?y(Function.call,s):s,u&&((l.virtual||(l.virtual={}))[n]=s,e&w.R&&d&&!d[n]&&v(d,n,s)))};w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,t.exports=w},{"./_core":82,"./_ctx":83,"./_global":92,"./_has":93,"./_hide":94}],90:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],91:[function(e,t,r){var l=e("./_ctx"),d=e("./_iter-call"),p=e("./_is-array-iter"),b=e("./_an-object"),_=e("./_to-length"),y=e("./core.get-iterator-method"),v={},m={};(r=t.exports=function(e,t,r,n,i){var s,o,a,f,u=i?function(){return e}:y(e),c=l(r,n,t?2:1),h=0;if("function"!=typeof u)throw TypeError(e+" is not iterable!");if(p(u)){for(s=_(e.length);h<s;h++)if((f=t?c(b(o=e[h])[0],o[1]):c(e[h]))===v||f===m)return f}else for(a=u.call(e);!(o=a.next()).done;)if((f=d(a,c,o.value,t))===v||f===m)return f}).BREAK=v,r.RETURN=m},{"./_an-object":70,"./_ctx":83,"./_is-array-iter":98,"./_iter-call":102,"./_to-length":139,"./core.get-iterator-method":147}],92:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],93:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],94:[function(e,t,r){var n=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":85,"./_object-dp":111,"./_property-desc":123}],95:[function(e,t,r){var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":92}],96:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":85,"./_dom-create":86,"./_fails":90}],97:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":77}],98:[function(e,t,r){var n=e("./_iterators"),i=e("./_wks")("iterator"),s=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||s[i]===e)}},{"./_iterators":106,"./_wks":146}],99:[function(e,t,r){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":77}],100:[function(e,t,r){var n=e("./_is-object"),i=Math.floor;t.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}},{"./_is-object":101}],101:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],102:[function(e,t,r){var s=e("./_an-object");t.exports=function(t,e,r,n){try{return n?e(s(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&s(i.call(t)),e}}},{"./_an-object":70}],103:[function(e,t,r){"use strict";var n=e("./_object-create"),i=e("./_property-desc"),s=e("./_set-to-string-tag"),o={};e("./_hide")(o,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)}),s(e,t+" Iterator")}},{"./_hide":94,"./_object-create":110,"./_property-desc":123,"./_set-to-string-tag":130,"./_wks":146}],104:[function(e,t,r){"use strict";var m=e("./_library"),g=e("./_export"),w=e("./_redefine"),S=e("./_hide"),k=e("./_iterators"),E=e("./_iter-create"),x=e("./_set-to-string-tag"),M=e("./_object-gpo"),I=e("./_wks")("iterator"),T=!([].keys&&"next"in[].keys()),C="values",j=function(){return this};t.exports=function(e,t,r,n,i,s,o){E(r,t,n);var a,f,u,c=function(e){if(!T&&e in p)return p[e];switch(e){case"keys":case C:return function(){return new r(this,e)}}return function(){return new r(this,e)}},h=t+" Iterator",l=i==C,d=!1,p=e.prototype,b=p[I]||p["@@iterator"]||i&&p[i],_=b||c(i),y=i?l?c("entries"):_:void 0,v="Array"==t&&p.entries||b;if(v&&(u=M(v.call(new e)))!==Object.prototype&&u.next&&(x(u,h,!0),m||"function"==typeof u[I]||S(u,I,j)),l&&b&&b.name!==C&&(d=!0,_=function(){return b.call(this)}),m&&!o||!T&&!d&&p[I]||S(p,I,_),k[t]=_,k[h]=j,i)if(a={values:l?_:c(C),keys:s?_:c("keys"),entries:y},o)for(f in a)f in p||w(p,f,a[f]);else g(g.P+g.F*(T||d),t,a);return a}},{"./_export":89,"./_hide":94,"./_iter-create":103,"./_iterators":106,"./_library":107,"./_object-gpo":117,"./_redefine":125,"./_set-to-string-tag":130,"./_wks":146}],105:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],106:[function(e,t,r){t.exports={}},{}],107:[function(e,t,r){t.exports=!0},{}],108:[function(e,t,r){var n=e("./_uid")("meta"),i=e("./_is-object"),s=e("./_has"),o=e("./_object-dp").f,a=0,f=Object.isExtensible||function(){return!0},u=!e("./_fails")(function(){return f(Object.preventExtensions({}))}),c=function(e){o(e,n,{value:{i:"O"+ ++a,w:{}}})},h=t.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,n)){if(!f(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!s(e,n)){if(!f(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return u&&h.NEED&&f(e)&&!s(e,n)&&c(e),e}}},{"./_fails":90,"./_has":93,"./_is-object":101,"./_object-dp":111,"./_uid":142}],109:[function(e,t,r){"use strict";var l=e("./_object-keys"),d=e("./_object-gops"),p=e("./_object-pie"),b=e("./_to-object"),_=e("./_iobject"),i=Object.assign;t.exports=!i||e("./_fails")(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=i({},e)[r]||Object.keys(i({},t)).join("")!=n})?function(e,t){for(var r=b(e),n=arguments.length,i=1,s=d.f,o=p.f;i<n;)for(var a,f=_(arguments[i++]),u=s?l(f).concat(s(f)):l(f),c=u.length,h=0;h<c;)o.call(f,a=u[h++])&&(r[a]=f[a]);return r}:i},{"./_fails":90,"./_iobject":97,"./_object-gops":116,"./_object-keys":119,"./_object-pie":120,"./_to-object":140}],110:[function(n,e,t){var i=n("./_an-object"),s=n("./_object-dps"),o=n("./_enum-bug-keys"),a=n("./_shared-key")("IE_PROTO"),f=function(){},u="prototype",c=function(){var e,t=n("./_dom-create")("iframe"),r=o.length;for(t.style.display="none",n("./_html").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object</script>"),e.close(),c=e.F;r--;)delete c[u][o[r]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(f[u]=i(e),r=new f,f[u]=null,r[a]=e):r=c(),void 0===t?r:s(r,t)}},{"./_an-object":70,"./_dom-create":86,"./_enum-bug-keys":87,"./_html":95,"./_object-dps":112,"./_shared-key":131}],111:[function(e,t,r){var n=e("./_an-object"),i=e("./_ie8-dom-define"),s=e("./_to-primitive"),o=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=s(t,!0),n(r),i)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":70,"./_descriptors":85,"./_ie8-dom-define":96,"./_to-primitive":141}],112:[function(e,t,r){var o=e("./_object-dp"),a=e("./_an-object"),f=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){a(e);for(var r,n=f(t),i=n.length,s=0;s<i;)o.f(e,r=n[s++],t[r]);return e}},{"./_an-object":70,"./_descriptors":85,"./_object-dp":111,"./_object-keys":119}],113:[function(e,t,r){var n=e("./_object-pie"),i=e("./_property-desc"),s=e("./_to-iobject"),o=e("./_to-primitive"),a=e("./_has"),f=e("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?u:function(e,t){if(e=s(e),t=o(t,!0),f)try{return u(e,t)}catch(e){}if(a(e,t))return i(!n.f.call(e,t),e[t])}},{"./_descriptors":85,"./_has":93,"./_ie8-dom-define":96,"./_object-pie":120,"./_property-desc":123,"./_to-iobject":138,"./_to-primitive":141}],114:[function(e,t,r){var n=e("./_to-iobject"),i=e("./_object-gopn").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return o&&"[object Window]"==s.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(n(e))}},{"./_object-gopn":115,"./_to-iobject":138}],115:[function(e,t,r){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},{"./_enum-bug-keys":87,"./_object-keys-internal":118}],116:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],117:[function(e,t,r){var n=e("./_has"),i=e("./_to-object"),s=e("./_shared-key")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},{"./_has":93,"./_shared-key":131,"./_to-object":140}],118:[function(e,t,r){var o=e("./_has"),a=e("./_to-iobject"),f=e("./_array-includes")(!1),u=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,n=a(e),i=0,s=[];for(r in n)r!=u&&o(n,r)&&s.push(r);for(;t.length>i;)o(n,r=t[i++])&&(~f(s,r)||s.push(r));return s}},{"./_array-includes":72,"./_has":93,"./_shared-key":131,"./_to-iobject":138}],119:[function(e,t,r){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,i)}},{"./_enum-bug-keys":87,"./_object-keys-internal":118}],120:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],121:[function(e,t,r){var i=e("./_export"),s=e("./_core"),o=e("./_fails");t.exports=function(e,t){var r=(s.Object||{})[e]||Object[e],n={};n[e]=t(r),i(i.S+i.F*o(function(){r(1)}),"Object",n)}},{"./_core":82,"./_export":89,"./_fails":90}],122:[function(e,t,r){var n=e("./_global").parseInt,i=e("./_string-trim").trim,s=e("./_string-ws"),o=/^[-+]?0[xX]/;t.exports=8!==n(s+"08")||22!==n(s+"0x16")?function(e,t){var r=i(String(e),3);return n(r,t>>>0||(o.test(r)?16:10))}:n},{"./_global":92,"./_string-trim":134,"./_string-ws":135}],123:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],124:[function(e,t,r){var i=e("./_hide");t.exports=function(e,t,r){for(var n in t)r&&e[n]?e[n]=t[n]:i(e,n,t[n]);return e}},{"./_hide":94}],125:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":94}],126:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_a-function"),a=e("./_ctx"),f=e("./_for-of");t.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,i,s=arguments[1];return o(this),(t=void 0!==s)&&o(s),null==e?new this:(r=[],t?(n=0,i=a(s,arguments[2],2),f(e,!1,function(e){r.push(i(e,n++))})):f(e,!1,r.push,r),new this(r))}})}},{"./_a-function":67,"./_ctx":83,"./_export":89,"./_for-of":91}],127:[function(e,t,r){"use strict";var n=e("./_export");t.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},{"./_export":89}],128:[function(t,e,r){var n=t("./_is-object"),i=t("./_an-object"),s=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,n){try{(n=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2))(e,[]),r=!(e instanceof Array)}catch(e){r=!0}return function(e,t){return s(e,t),r?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:s}},{"./_an-object":70,"./_ctx":83,"./_is-object":101,"./_object-gopd":113}],129:[function(e,t,r){"use strict";var n=e("./_global"),i=e("./_core"),s=e("./_object-dp"),o=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t="function"==typeof i[e]?i[e]:n[e];o&&t&&!t[a]&&s.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_core":82,"./_descriptors":85,"./_global":92,"./_object-dp":111,"./_wks":146}],130:[function(e,t,r){var n=e("./_object-dp").f,i=e("./_has"),s=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},{"./_has":93,"./_object-dp":111,"./_wks":146}],131:[function(e,t,r){var n=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return n[e]||(n[e]=i(e))}},{"./_shared":132,"./_uid":142}],132:[function(e,t,r){var n=e("./_global"),i="__core-js_shared__",s=n[i]||(n[i]={});t.exports=function(e){return s[e]||(s[e]={})}},{"./_global":92}],133:[function(e,t,r){var f=e("./_to-integer"),u=e("./_defined");t.exports=function(a){return function(e,t){var r,n,i=String(u(e)),s=f(t),o=i.length;return s<0||o<=s?a?"":void 0:(r=i.charCodeAt(s))<55296||56319<r||s+1===o||(n=i.charCodeAt(s+1))<56320||57343<n?a?i.charAt(s):r:a?i.slice(s,s+2):n-56320+(r-55296<<10)+65536}}},{"./_defined":84,"./_to-integer":137}],134:[function(e,t,r){var o=e("./_export"),n=e("./_defined"),a=e("./_fails"),f=e("./_string-ws"),i="["+f+"]",s=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),c=function(e,t,r){var n={},i=a(function(){return!!f[e]()||"â€‹Â…"!="â€‹Â…"[e]()}),s=n[e]=i?t(h):f[e];r&&(n[r]=s),o(o.P+o.F*i,"String",n)},h=c.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(u,"")),e};t.exports=c},{"./_defined":84,"./_export":89,"./_fails":90,"./_string-ws":135}],135:[function(e,t,r){t.exports="\t\n\f\r Â áš€á Žâ€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029﻿"},{}],136:[function(e,t,r){var n=e("./_to-integer"),i=Math.max,s=Math.min;t.exports=function(e,t){return(e=n(e))<0?i(e+t,0):s(e,t)}},{"./_to-integer":137}],137:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?i:n)(e)}},{}],138:[function(e,t,r){var n=e("./_iobject"),i=e("./_defined");t.exports=function(e){return n(i(e))}},{"./_defined":84,"./_iobject":97}],139:[function(e,t,r){var n=e("./_to-integer"),i=Math.min;t.exports=function(e){return 0<e?i(n(e),9007199254740991):0}},{"./_to-integer":137}],140:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":84}],141:[function(e,t,r){var i=e("./_is-object");t.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof (r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof (r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof (r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":101}],142:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},{}],143:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{"./_is-object":101}],144:[function(e,t,r){var n=e("./_global"),i=e("./_core"),s=e("./_library"),o=e("./_wks-ext"),a=e("./_object-dp").f;t.exports=function(e){var t=i.Symbol||(i.Symbol=s?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:o.f(e)})}},{"./_core":82,"./_global":92,"./_library":107,"./_object-dp":111,"./_wks-ext":145}],145:[function(e,t,r){r.f=e("./_wks")},{"./_wks":146}],146:[function(e,t,r){var n=e("./_shared")("wks"),i=e("./_uid"),s=e("./_global").Symbol,o="function"==typeof s;(t.exports=function(e){return n[e]||(n[e]=o&&s[e]||(o?s:i)("Symbol."+e))}).store=n},{"./_global":92,"./_shared":132,"./_uid":142}],147:[function(e,t,r){var n=e("./_classof"),i=e("./_wks")("iterator"),s=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||s[n(e)]}},{"./_classof":76,"./_core":82,"./_iterators":106,"./_wks":146}],148:[function(e,t,r){"use strict";var n=e("./_add-to-unscopables"),i=e("./_iter-step"),s=e("./_iterators"),o=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":68,"./_iter-define":104,"./_iter-step":105,"./_iterators":106,"./_to-iobject":138}],149:[function(e,t,r){"use strict";var n=e("./_collection-strong"),i=e("./_validate-collection");t.exports=e("./_collection")("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(i(this,"Map"),0===e?0:e,t)}},n,!0)},{"./_collection":81,"./_collection-strong":78,"./_validate-collection":143}],150:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{isInteger:e("./_is-integer")})},{"./_export":89,"./_is-integer":100}],151:[function(e,t,r){var n=e("./_export"),i=e("./_parse-int");n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},{"./_export":89,"./_parse-int":122}],152:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{create:e("./_object-create")})},{"./_export":89,"./_object-create":110}],153:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":85,"./_export":89,"./_object-dp":111}],154:[function(e,t,r){var n=e("./_to-object"),i=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return i(n(e))}})},{"./_object-gpo":117,"./_object-sap":121,"./_to-object":140}],155:[function(e,t,r){var n=e("./_to-object"),i=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return i(n(e))}})},{"./_object-keys":119,"./_object-sap":121,"./_to-object":140}],156:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":89,"./_set-proto":128}],157:[function(e,t,r){},{}],158:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":104,"./_string-at":133}],159:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_has"),i=e("./_descriptors"),s=e("./_export"),a=e("./_redefine"),f=e("./_meta").KEY,u=e("./_fails"),c=e("./_shared"),h=e("./_set-to-string-tag"),l=e("./_uid"),d=e("./_wks"),p=e("./_wks-ext"),b=e("./_wks-define"),_=e("./_enum-keys"),y=e("./_is-array"),v=e("./_an-object"),m=e("./_is-object"),g=e("./_to-iobject"),w=e("./_to-primitive"),S=e("./_property-desc"),k=e("./_object-create"),E=e("./_object-gopn-ext"),x=e("./_object-gopd"),M=e("./_object-dp"),I=e("./_object-keys"),T=x.f,C=M.f,j=E.f,O=n.Symbol,A=n.JSON,P=A&&A.stringify,B="prototype",R=d("_hidden"),D=d("toPrimitive"),L={}.propertyIsEnumerable,U=c("symbol-registry"),N=c("symbols"),q=c("op-symbols"),F=Object[B],z="function"==typeof O,H=n.QObject,K=!H||!H[B]||!H[B].findChild,V=i&&u(function(){return 7!=k(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=T(F,t);n&&delete F[t],C(e,t,r),n&&e!==F&&C(F,t,n)}:C,W=function(e){var t=N[e]=k(O[B]);return t._k=e,t},G=z&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},X=function(e,t,r){return e===F&&X(q,t,r),v(e),t=w(t,!0),v(r),o(N,t)?(r.enumerable?(o(e,R)&&e[R][t]&&(e[R][t]=!1),r=k(r,{enumerable:S(0,!1)})):(o(e,R)||C(e,R,S(1,{})),e[R][t]=!0),V(e,t,r)):C(e,t,r)},Z=function(e,t){v(e);for(var r,n=_(t=g(t)),i=0,s=n.length;i<s;)X(e,r=n[i++],t[r]);return e},Q=function(e){var t=L.call(this,e=w(e,!0));return!(this===F&&o(N,e)&&!o(q,e))&&(!(t||!o(this,e)||!o(N,e)||o(this,R)&&this[R][e])||t)},Y=function(e,t){if(e=g(e),t=w(t,!0),e!==F||!o(N,t)||o(q,t)){var r=T(e,t);return!r||!o(N,t)||o(e,R)&&e[R][t]||(r.enumerable=!0),r}},J=function(e){for(var t,r=j(g(e)),n=[],i=0;r.length>i;)o(N,t=r[i++])||t==R||t==f||n.push(t);return n},$=function(e){for(var t,r=e===F,n=j(r?q:g(e)),i=[],s=0;n.length>s;)!o(N,t=n[s++])||r&&!o(F,t)||i.push(N[t]);return i};z||(a((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=l(0<arguments.length?arguments[0]:void 0),r=function(e){this===F&&r.call(q,e),o(this,R)&&o(this[R],t)&&(this[R][t]=!1),V(this,t,S(1,e))};return i&&K&&V(F,t,{configurable:!0,set:r}),W(t)})[B],"toString",function(){return this._k}),x.f=Y,M.f=X,e("./_object-gopn").f=E.f=J,e("./_object-pie").f=Q,e("./_object-gops").f=$,i&&!e("./_library")&&a(F,"propertyIsEnumerable",Q,!0),p.f=function(e){return W(d(e))}),s(s.G+s.W+s.F*!z,{Symbol:O});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)d(ee[te++]);for(var re=I(d.store),ne=0;re.length>ne;)b(re[ne++]);s(s.S+s.F*!z,"Symbol",{"for":function(e){return o(U,e+="")?U[e]:U[e]=O(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!z,"Object",{create:function(e,t){return void 0===t?k(e):Z(k(e),t)},defineProperty:X,defineProperties:Z,getOwnPropertyDescriptor:Y,getOwnPropertyNames:J,getOwnPropertySymbols:$}),A&&s(s.S+s.F*(!z||u(function(){var e=O();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(m(t)||void 0!==e)&&!G(e))return y(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!G(t))return t}),n[1]=t,P.apply(A,n)}}),O[B][D]||e("./_hide")(O[B],D,O[B].valueOf),h(O,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},{"./_an-object":70,"./_descriptors":85,"./_enum-keys":88,"./_export":89,"./_fails":90,"./_global":92,"./_has":93,"./_hide":94,"./_is-array":99,"./_is-object":101,"./_library":107,"./_meta":108,"./_object-create":110,"./_object-dp":111,"./_object-gopd":113,"./_object-gopn":115,"./_object-gopn-ext":114,"./_object-gops":116,"./_object-keys":119,"./_object-pie":120,"./_property-desc":123,"./_redefine":125,"./_set-to-string-tag":130,"./_shared":132,"./_to-iobject":138,"./_to-primitive":141,"./_uid":142,"./_wks":146,"./_wks-define":144,"./_wks-ext":145}],160:[function(e,t,r){"use strict";var s,n=e("./_array-methods")(0),o=e("./_redefine"),i=e("./_meta"),a=e("./_object-assign"),f=e("./_collection-weak"),u=e("./_is-object"),c=e("./_fails"),h=e("./_validate-collection"),l="WeakMap",d=i.getWeak,p=Object.isExtensible,b=f.ufstore,_={},y=function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},v={get:function(e){if(u(e)){var t=d(e);return!0===t?b(h(this,l)).get(e):t?t[this._i]:void 0}},set:function(e,t){return f.def(h(this,l),e,t)}},m=t.exports=e("./_collection")(l,y,v,f,!0,!0);c(function(){return 7!=(new m).set((Object.freeze||Object)(_),7).get(_)})&&(a((s=f.getConstructor(y,l)).prototype,v),i.NEED=!0,n(["delete","has","get","set"],function(n){var e=m.prototype,i=e[n];o(e,n,function(e,t){if(u(e)&&!p(e)){this._f||(this._f=new s);var r=this._f[n](e,t);return"set"==n?this:r}return i.call(this,e,t)})}))},{"./_array-methods":73,"./_collection":81,"./_collection-weak":80,"./_fails":90,"./_is-object":101,"./_meta":108,"./_object-assign":109,"./_redefine":125,"./_validate-collection":143}],161:[function(e,t,r){e("./_set-collection-from")("Map")},{"./_set-collection-from":126}],162:[function(e,t,r){e("./_set-collection-of")("Map")},{"./_set-collection-of":127}],163:[function(e,t,r){var n=e("./_export");n(n.P+n.R,"Map",{toJSON:e("./_collection-to-json")("Map")})},{"./_collection-to-json":79,"./_export":89}],164:[function(e,t,r){e("./_wks-define")("asyncIterator")},{"./_wks-define":144}],165:[function(e,t,r){e("./_wks-define")("observable")},{"./_wks-define":144}],166:[function(e,t,r){e("./_set-collection-from")("WeakMap")},{"./_set-collection-from":126}],167:[function(e,t,r){e("./_set-collection-of")("WeakMap")},{"./_set-collection-of":127}],168:[function(e,t,r){e("./es6.array.iterator");for(var n=e("./_global"),i=e("./_hide"),s=e("./_iterators"),o=e("./_wks")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),f=0;f<a.length;f++){var u=a[f],c=n[u],h=c&&c.prototype;h&&!h[o]&&i(h,o,u),s[u]=s.Array}},{"./_global":92,"./_hide":94,"./_iterators":106,"./_wks":146,"./es6.array.iterator":148}],169:[function(i,e,s){((function(a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),f=(e(i("../utils/logger")),e(i("../utils/common"))),u=e(i("../utils/range")),r=e(i("../utils/range-queue"));function e(e){return e&&e.__esModule?e:{"default":e}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._buffer=a.allocUnsafe(f.default.MAX_CACHE_SIZE),this._rangeQueue=new r.default}return t(e,[{key:"dispose",value:function(){this._buffer=null,this._rangeQueue=null}},{key:"writeBytes",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e.length,n=new u.default(t,r);if(n.length>f.default.MAX_CACHE_SIZE)throw new TypeError("writeBytes, range length("+n.length+") > MAX_CACHE_SIZE("+f.default.MAX_CACHE_SIZE+")");if(n.length>e.length)throw new TypeError("writeBytes, range length("+n.length+") > bytes.length("+e.length+")");if(0!==e.length){var i=n.position%f.default.MAX_CACHE_SIZE;if(i+e.length>f.default.MAX_CACHE_SIZE){var s=f.default.MAX_CACHE_SIZE-i;e.copy(this._buffer,i,0,s),e.copy(this._buffer,0,s,e.length)}else e.copy(this._buffer,i,0,e.length);this._rangeQueue.addRange(n)}}},{key:"readBytes",value:function(e,t){var r=new u.default(e,t);if(0===r.length)return a.allocUnsafe(0);if(!this._rangeQueue.isContained(r))return a.allocUnsafe(0);var n=a.allocUnsafe(r.length),i=r.position%f.default.MAX_CACHE_SIZE;if(i+r.length>f.default.MAX_CACHE_SIZE){var s=f.default.MAX_CACHE_SIZE-i,o=i+r.length-f.default.MAX_CACHE_SIZE;this._buffer.copy(n,0,i,f.default.MAX_CACHE_SIZE),this._buffer.copy(n,s,0,o)}else this._buffer.copy(n,0,i,i+r.length);return this._rangeQueue.removeRange(r),n}},{key:"buffer",get:function(){return this._buffer}},{key:"rangeQueue",get:function(){return this._rangeQueue}}]),e}();s.default=n})).call(this,i("buffer").Buffer)},{"../utils/common":217,"../utils/logger":219,"../utils/range":222,"../utils/range-queue":221,buffer:274}],170:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._times=e,this._positions=t,this._length=Math.min(e.length,t.length)}return n(r,[{key:"getNearestPosition",value:function(e){if(0===this._length)return null;var t=this._searchIndex(this._times,1e3*e,0,this._length-1);return{index:t,second:this._times[t]/1e3,position:this._positions[t]}}},{key:"getLatestPosition",value:function(e){var t=this.getNearestPosition(e),r=t.second>e&&0<t.index?t.index-1:t.index;return{index:r,second:this._times[r]/1e3,position:this._positions[r]}}},{key:"getNearestSecond",value:function(e){if(0===this._length)return null;var t=this._searchIndex(this._positions,e,0,this._length-1);return{index:t,second:this._times[t]/1e3,position:this._positions[t]}}},{key:"getLatestSecond",value:function(e){var t=this.getNearestSecond(e),r=t.position>e&&0<t.index?t.index-1:t.index;return{index:r,second:this._times[r]/1e3,position:this._positions[r]}}},{key:"_searchIndex",value:function(e,t,r,n){if(r+1===e.length)return r;if(r+1===n)return t-e[r]>e[n]-t?n:r;var i=Math.floor((r+n)/2);return t===e[i]?i:t>e[i]?this._searchIndex(e,t,i,n):this._searchIndex(e,t,r,i)}},{key:"times",get:function(){return this._times}},{key:"positions",get:function(){return this._positions}},{key:"length",get:function(){return this._length}}]),r}();r.default=i},{}],171:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.SampleInfo=function e(t,r,n,i,s){o(this,e),this.dts=t,this.pts=r,this.duration=n,this.originalDts=i,this.isSyncPoint=s,this.fileposition=null},r.MediaSegmentInfo=function(){function e(){o(this,e),this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return n(e,[{key:"appendSyncPoint",value:function(e){e.isSyncPoint=!0,this.syncPoints.push(e)}}]),e}(),r.IDRSampleList=function(){function e(){o(this,e),this._list=[]}return n(e,[{key:"clear",value:function(){this._list=[]}},{key:"appendArray",value:function(e){var t=this._list;0!==e.length&&(0<t.length&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))}},{key:"getLastSyncPointBeforeDts",value:function(e){if(0===this._list.length)return null;var t=this._list,r=0,n=t.length-1,i=0,s=0,o=n;for(e<t[0].dts&&(r=0,s=o+1);s<=o;){if((i=s+Math.floor((o-s)/2))===n||e>=t[i].dts&&e<t[i+1].dts){r=i;break}t[i].dts<e?s=i+1:o=i-1}return this._list[r]}}]),e}(),r.MediaSegmentInfoList=function(){function t(e){o(this,t),this._type=e,this._list=[],this._lastAppendLocation=-1}return n(t,[{key:"isEmpty",value:function(){return 0===this._list.length}},{key:"clear",value:function(){this._list=[],this._lastAppendLocation=-1}},{key:"_searchNearestSegmentBefore",value:function(e){var t=this._list;if(0===t.length)return-2;var r=t.length-1,n=0,i=0,s=r,o=0;if(e<t[0].originalBeginDts)return o=-1;for(;i<=s;){if((n=i+Math.floor((s-i)/2))===r||e>t[n].lastSample.originalDts&&e<t[n+1].originalBeginDts){o=n;break}t[n].originalBeginDts<e?i=n+1:s=n-1}return o}},{key:"_searchNearestSegmentAfter",value:function(e){return this._searchNearestSegmentBefore(e)+1}},{key:"append",value:function(e){var t=this._list,r=e,n=this._lastAppendLocation,i=0;-1!==n&&n<t.length&&r.originalBeginDts>=t[n].lastSample.originalDts&&(n===t.length-1||n<t.length-1&&r.originalBeginDts<t[n+1].originalBeginDts)?i=n+1:0<t.length&&(i=this._searchNearestSegmentBefore(r.originalBeginDts)+1),this._lastAppendLocation=i,this._list.splice(i,0,r)}},{key:"getLastSegmentBefore",value:function(e){var t=this._searchNearestSegmentBefore(e);return 0<=t?this._list[t]:null}},{key:"getLastSampleBefore",value:function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null}},{key:"getLastSyncPointBefore",value:function(e){for(var t=this._searchNearestSegmentBefore(e),r=this._list[t].syncPoints;0===r.length&&0<t;)t--,r=this._list[t].syncPoints;return 0<r.length?r[r.length-1]:null}},{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this._list.length}}]),t}()},{}],172:[function(o,e,a){((function(e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),f=t(o("../utils/logger")),i=t(o("../utils/polyfill")),n=t(o("../utils/browser"));function t(e){return e&&e.__esModule?e:{"default":e}}var u="MSEController",s=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.onSourceOpen=null,this.onSourceClose=null,this.onSourceEnded=null,this.onSourceError=null,this.onSourceBufferFull=null,this._info=e,this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._sbListeners={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._lastInitSegments={video:null,audio:null},this._pendingRemoveRanges={video:[],audio:[]},this._isBufferFull=!1}return r(t,[{key:"dispose",value:function(){this.onSourceOpen=null,this.onSourceClose=null,this.onSourceEnded=null,this.onSourceError=null,this.onSourceBufferFull=null,this.detachMediaSource(),this._info=null}},{key:"attachMediaSource",value:function(){this._mediaSource=new e.MediaSource,this.onSourceOpen&&this._mediaSource.addEventListener("sourceopen",this.onSourceOpen),this.onSourceEnded&&this._mediaSource.addEventListener("sourceended",this.onSourceEnded),this.onSourceClose&&this._mediaSource.addEventListener("sourceclose",this.onSourceClose),this._mediaSourceObjectURL=e.URL.createObjectURL(this._mediaSource),this._info.mediaElement.src=this._mediaSourceObjectURL,!n.default.chrome&&this._info.mediaElement.autoplay&&this._info.mediaElement.play()}},{key:"detachMediaSource",value:function(){var n=this;this._info.mediaElement&&(this._info.mediaElement.src="",this._info.mediaElement.removeAttribute("src")),this._mediaSourceObjectURL&&(e.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null);var i=this._mediaSource;if(i){if(Object.keys(this._sourceBuffers).forEach(function(e){var t=n._pendingSegments[e];t.splice(0,t.length),n._pendingSegments[e]=[],n._pendingRemoveRanges[e]=[],n._lastInitSegments[e]=null;var r=n._sourceBuffers[e];r&&("closed"!==i.readyState&&(i.removeSourceBuffer(r),r.removeEventListener("abort",n._sbListeners[e].onAbort),r.removeEventListener("error",n._sbListeners[e].onError),r.removeEventListener("updateend",n._sbListeners[e].onUpdateEnd)),n._mimeTypes[e]=null,n._sourceBuffers[e]=null,n._sbListeners[e]=null)}),"open"===i.readyState)try{i.endOfStream()}catch(e){f.default.ERROR(u,"endOfStream",e.message)}this.onSourceOpen&&i.removeEventListener("sourceopen",this.onSourceOpen),this.onSourceEnded&&i.removeEventListener("sourceended",this.onSourceEnded),this.onSourceClose&&i.removeEventListener("sourceclose",this.onSourceClose),this._isBufferFull=!1,this._mediaSource=null}}},{key:"appendInitSegment",value:function(e){if("open"!==this._mediaSource.readyState)throw new TypeError("mediaSource is not opened");i.default.isRealNaN(this._mediaSource.duration)&&(this._mediaSource.duration=Math.floor(e.mediaDuration)/1e3);var t=e,r=""+t.container;if(t.codec&&0<t.codec.length&&(r+=";codecs="+t.codec),this._lastInitSegments[t.type]=t,r!==this._mimeTypes[t.type]){if(!this._mimeTypes[t.type])try{this._sourceBuffers[t.type]=this._mediaSource.addSourceBuffer(r);var n=this._sourceBuffers[t.type];this._sbListeners[t.type]={onAbort:this._onSourceBufferAbort.bind(this,t.type),onError:this._onSourceBufferError.bind(this,t.type),onUpdateEnd:this._onSourceBufferUpdateEnd.bind(this,t.type)},n.addEventListener("abort",this._sbListeners[t.type].onAbort),n.addEventListener("error",this._sbListeners[t.type].onError),n.addEventListener("updateend",this._sbListeners[t.type].onUpdateEnd)}catch(e){return void f.default.ERROR(u,"sourcebuffer",e.message)}this._mimeTypes[t.type]=r}this._pendingSegments[t.type].push(t),this._appendSegments(t.type)}},{key:"appendMediaSegment",value:function(e){var t=e;this._pendingSegments[t.type].push(t),0===this._pendingRemoveRanges[t.type].length&&this._appendSegments(t.type)}},{key:"append",value:function(){for(var e=Object.keys(this._pendingSegments),t=0;t<e.length;t++){var r=e[t];this._appendSegments(r)}}},{key:"clear",value:function(){for(var e=Object.keys(this._pendingSegments),t=0;t<e.length;t++){var r=e[t];this._clearSegments(r)}}},{key:"endOfStream",value:function(){if("open"===this._mediaSource.readyState){for(var e=!1,t=this._mediaSource.sourceBuffers,r=0;r<t.length;r++)if(t[r].updating){e=!0;break}e||this._mediaSource.endOfStream()}}},{key:"_appendSegments",value:function(e){var t=this._sourceBuffers[e];if(t&&!t.updating){var r=this._pendingSegments[e];if(0!==r.length){var n=r.shift();if(n.timestampOffset){var i=t.timestampOffset,s=n.timestampOffset/1e3;.1<Math.abs(i-s)&&(t.timestampOffset=s),delete n.timestampOffset}if(n.data&&0!==n.data.byteLength)try{t.appendBuffer(n.data),this._isBufferFull=!1}catch(e){r.unshift(n),22===e.code?(this._isBufferFull||this.onSourceBufferFull&&this.onSourceBufferFull(),this._isBufferFull=!0):f.default.ERROR(u,"appendBuffer",e.message)}}}}},{key:"_clearSegments",value:function(e){if("open"===this._mediaSource.readyState){var t=this._sourceBuffers[e];if(t){for(var r=this._info.mediaElement.currentTime,n=!1,i=0,s=t.buffered.length;i<s;i++){var o=t.buffered.start(i),a=t.buffered.end(i);if(o<=r&&r<a+20){if(20<=r-o){n=!0;var f=r-10;this._pendingRemoveRanges[e].push({start:o,end:f})}}else a<r&&(n=!0,this._pendingRemoveRanges[e].push({start:o,end:a}))}n&&!t.updating&&this._removeRanges(e)}}}},{key:"seek",value:function(){for(var e=Object.keys(this._sourceBuffers),t=0;t<e.length;t++){var r=e[t],n=this._sourceBuffers[r];if(n){if("open"===this._mediaSource.readyState)try{n.abort()}catch(e){f.default.ERROR(u,"SourceBuffer abort error:",e.message)}var i=this._pendingSegments[r];if(i.splice(0,i.length),"closed"!==this._mediaSource.readyState){for(var s=0;s<n.buffered.length;s++){var o=n.buffered.start(s),a=n.buffered.end(s);this._pendingRemoveRanges[r].push({start:o,end:a})}n.updating||this._removeRanges(r)}}}}},{key:"_removeRanges",value:function(e){var t=this._sourceBuffers[e];if(t)for(var r=this._pendingRemoveRanges[e];!t.updating&&r.length;){var n=r.shift();t.remove(n.start,n.end)}}},{key:"_onSourceBufferAbort",value:function(e){}},{key:"_onSourceBufferError",value:function(e,t){f.default.ERROR(u,"onSourceBufferError, type: "+e+", "+t),this.onSourceError&&this.onSourceError(e+", "+t.message)}},{key:"_onSourceBufferUpdateEnd",value:function(e){this._info&&(0<this._pendingRemoveRanges[e].length?this._removeRanges(e):0<this._pendingSegments[e].length&&this._appendSegments(e),this._info.isSeeking&&0<this._info.isBuffered(this._info.seekTime)&&(this._info.isSeeking=!1,this._info.mediaElement.currentTime=this._info.seekTime))}}]),t}();a.default=s})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":214,"../utils/logger":219,"../utils/polyfill":220}],173:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=i(e("../utils/logger")),a=i(e("../utils/common")),o=i(e("../utils/browser")),f=i(e("../io/xy-loader-buildin")),u=e("../io/loader"),c=i(e("../demux/mp4-demuxer")),h=i(e("../remux/mp4-remuxer")),l=i(e("../demux/mp3-demuxer")),d=i(e("./mse-controller")),p=i(e("../cache/vod-cache")),b=i(e("./keyframe-info")),_=e("../utils/error");function i(e){return e&&e.__esModule?e:{"default":e}}var y=function(){function i(e){var t=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.onError=null,this._info=e,this._isClosed=!0,this._mseCtl=new d.default(e),this._mseCtl.onSourceOpen=this._onSourceOpen.bind(this),this._mseCtl.onSourceError=this._onSourceError.bind(this),this._mseCtl.onSourceBufferFull=this._onSourceBufferFull.bind(this),this._isSourceOpened=!1,this._isSourceBufferFull=!1,this._hasLoadedData=!1,this._loader=new f.default(e,r),this._options=r,this._demuxer=null,this._remuxer=null,this._keyframeInfo=null,this._cache=new p.default,this._appendOffset=0,this._currentOffset=0,this._nextOffset=0,this._needHeaderLength=0,this._pushDataId=-1,this._requestDataId=-1,this._checkerId=-1,this._seekId=-1,this._periodId=-1,this._videoEvent={onSeeking:function(){t._info.seekTime!==t._info.mediaElement.currentTime&&(clearTimeout(t._seekId),t._seekId=setTimeout(function(){t.seek(t._info.mediaElement.currentTime)},200))},onLoadedMetadata:function(){t._info.tick5=Date.now()},onLoadedData:function(){t._hasLoadedData=!0,t._info.timeStat.push(t._info.tick1-t._info.openTick),t._info.timeStat.push(t._info.tick2-t._info.tick1),t._info.timeStat.push(t._info.tick3-t._info.tick2),t._info.timeStat.push(t._info.tick4-t._info.tick3),t._info.timeStat.push(t._info.tick5-t._info.tick4),t._info.timeStat.push(Date.now()-t._info.tick5)},onCanPlay:function(){-1===t._periodId&&(t._periodId=setTimeout(t._periodExecute.bind(t),1e3))},onSeeked:function(){},onStalled:function(){},onTimeUpdate:function(){},onEnded:function(){t.close()}},this._info.mediaElement.addEventListener("seeking",this._videoEvent.onSeeking),this._info.mediaElement.addEventListener("seeked",this._videoEvent.onSeeked),this._info.mediaElement.addEventListener("loadedmetadata",this._videoEvent.onLoadedMetadata),this._info.mediaElement.addEventListener("loadeddata",this._videoEvent.onLoadedData),this._info.mediaElement.addEventListener("canplay",this._videoEvent.onCanPlay),this._info.mediaElement.addEventListener("stalled",this._videoEvent.onStalled),this._info.mediaElement.addEventListener("progress",this._videoEvent.onTimeUpdate),this._info.mediaElement.addEventListener("ended",this._videoEvent.onEnded);var n=o.default.chrome&&(o.default.version.major<50||50===o.default.version.major&&o.default.version.build<2661);this._alwaysSeekKeyframe=n||o.default.msedge||o.default.msie}return n(i,[{key:"dispose",value:function(){this.onError=null,this._isClosed=!0,clearTimeout(this._periodId),this._periodId=-1,clearTimeout(this._pushDataId),this._pushDataId=-1,clearTimeout(this._requestDataId),this._requestDataId=-1,clearTimeout(this._checkerId),this._checkerId=-1,clearTimeout(this._seekId),this._seekId=-1,this._isSourceOpened=!1,this._isSourceBufferFull=!1,this._hasLoadedData=!1,this._info&&this._info.mediaElement&&(this._info.mediaElement.removeEventListener("seeking",this._videoEvent.onSeeking),this._info.mediaElement.removeEventListener("seeked",this._videoEvent.onSeeked),this._info.mediaElement.removeEventListener("loadedmetadata",this._videoEvent.onLoadedMetadata),this._info.mediaElement.removeEventListener("loadeddata",this._videoEvent.onLoadedData),this._info.mediaElement.removeEventListener("canplay",this._videoEvent.onCanPlay),this._info.mediaElement.removeEventListener("stalled",this._videoEvent.onStalled),this._info.mediaElement.removeEventListener("timeupdate",this._videoEvent.onTimeUpdate),this._info.mediaElement.removeEventListener("ended",this._videoEvent.onEnded)),this._info=null,this._videoEvent&&(this._videoEvent.onSeeking=null,this._videoEvent.onSeeked=null,this._videoEvent.onLoadedMetadata=null,this._videoEvent.onLoadedData=null,this._videoEvent.onCanPlay=null,this._videoEvent.onStalled=null,this._videoEvent.onTimeUpdate=null,this._videoEvent.onEnded=null,this._videoEvent=null),this._loader&&(this._loader.dispose(),this._loader=null),this._mseCtl&&(this._mseCtl.dispose(),this._mseCtl=null),this._cache.dispose(),this._keyframeInfo=null,this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._appendOffset=0,this._currentOffset=0,this._nextOffset=0,this._needHeaderLength=0}},{key:"open",value:function(e){this._isClosed&&(this._isClosed=!1,this._info.openTick=Date.now(),this._info.url=e,this._mseCtl.attachMediaSource(),this._loader.onDataArrival=this._onFirstDataArrival.bind(this),this._loader.onError=this._onLoaderError.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.init(),this._info.tick1=Date.now())}},{key:"close",value:function(){this._isClosed||(this._isClosed=!0,clearTimeout(this._periodId),this._periodId=-1,clearTimeout(this._pushDataId),this._pushDataId=-1,clearTimeout(this._requestDataId),this._requestDataId=-1,clearTimeout(this._checkerId),this._checkerId=-1,clearTimeout(this._seekId),this._seekId=-1,this._isSourceOpened=!1,this._isSourceBufferFull=!1,this._hasLoadedData=!1,this._loader.dispose(),this._mseCtl.detachMediaSource(),this._cache.rangeQueue.clear(),this._keyframeInfo=null,this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._appendOffset=0,this._currentOffset=0,this._nextOffset=0,this._needHeaderLength=0)}},{key:"seek",value:function(e){if(!this._isClosed){this._cache.rangeQueue.clear();var t=this._info.mediaElement;e<1&&(e=.1),this._nextOffset=0,this._demuxer.cleanDataBuffer(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._mseCtl.seek(),clearTimeout(this._checkerId),this._checkerId=-1;var r=this._demuxer.seek(e);this._requestData(r.fileoffset,!0),this._appendOffset=r.fileoffset,this._info.seekTime=e,t.currentTime=this._info.seekTime}}},{key:"_pause",value:function(){this._isClosed||this._loader.status!==u.LoaderStatus.IDLE&&(this._loader.pause(),this._checkerId=setTimeout(this._processChecker.bind(this),1e3))}},{key:"_resume",value:function(){this._isClosed||(this._mseCtl.append(),this._loader.status!==u.LoaderStatus.IDLE&&this._loader.resume())}},{key:"_onSourceOpen",value:function(){this._isSourceOpened||(this._isSourceOpened=!0,this._info.tick2=Date.now(),this._requestHeader(0))}},{key:"_onSourceBufferFull",value:function(){this._isSourceBufferFull=!0,this._pause()}},{key:"_onSourceError",value:function(e){this.close(),this.onError&&this.onError(new _.MediaError(e))}},{key:"_periodExecute",value:function(){this._isClosed||(this._mseCtl&&this._mseCtl.clear(),this._periodId=setTimeout(this._periodExecute.bind(this),1e3))}},{key:"_processChecker",value:function(){if(!this._isClosed){var e=this._info.mediaElement,t=e.currentTime,r=e.buffered,n=!1;if(this._isSourceBufferFull)for(var i=0;i<r.length;i++){var s=r.start(i),o=r.end(i);if(s<=t&&t<o){o-60<=t&&(n=!0,this._isSourceBufferFull=!1);break}}else this.availableLength>a.default.RESERVED_CACHE_SIZE&&(n=!0);n?this._resume():this._checkerId=setTimeout(this._processChecker.bind(this),1e3)}}},{key:"_pushDataWrap",value:function(){this._pushData()||(this._pushDataId=setTimeout(this._pushDataWrap.bind(this),this._hasLoadedData?100:20))}},{key:"_pushData",value:function(){if(!this._info||!this._info.mediaElement)return s.default.ERROR("Transmuxer","pushData, media destroyed, dispose"),this.dispose(),!0;if(this._appendOffset===this._demuxer.dataEnd)return this._mseCtl.endOfStream(),!1;var e=this._cache.rangeQueue.getRange(this._appendOffset);if(null===e)return!1;var t=Math.min(e.end-this._appendOffset,this._demuxer.dataEnd-this._appendOffset),r=this._cache.readBytes(this._appendOffset,Math.min(t,a.default.MAX_READING_LENGTH));return 0<r.length&&(this._demuxer.parseChunks(r,this._appendOffset),this._appendOffset+=r.length),!1}},{key:"_requestHeader",value:function(e){this._currentOffset=e,this._loader.status!==u.LoaderStatus.IDLE&&this._loader.close(),this._loader.open(e,this._needHeaderLength),this._nextOffset=e+this._needHeaderLength}},{key:"_requestData",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this._keyframeInfo&&!(this._cache.rangeQueue.length>=a.default.MAX_CACHE_SIZE)&&(this._loader.status===u.LoaderStatus.IDLE||t)&&!(e<this._nextOffset)&&this._info.fileSize!==e&&(!(this._info.bufferLength>this._info.bufferLengthLimit)||t)){var r=e,n=this._info.fileSize-r;this._currentOffset=r,this._loader.status!==u.LoaderStatus.IDLE&&this._loader.close(),this._loader.open(r,n),this._nextOffset=r+n}}},{key:"_onFirstDataArrival",value:function(e,t){if(this._info.tick3=Date.now(),c.default.probe(e).match)this._info.fileType=a.default.FILE_TYPE_MP4,this._demuxer=new c.default(this._info);else{if(!l.default.probe(e).match)throw new _.MediaError("Unsupported media type!");this._info.fileType=a.default.FILE_TYPE_MP3,this._demuxer=new l.default(this._info)}this._demuxer.onNeedMore=this._onDemuxerNeedMore.bind(this),this._demuxer.onIndexInfo=this._onDemuxerIndexInfo.bind(this),this._loader.onDataArrival=this._onLoaderDataArrival.bind(this),this._remuxer=new h.default,this._remuxer.bindDataSource(this._demuxer),this._remuxer.onInitSegment=this._onRemuxerInitSegment.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegment.bind(this),this._cache.writeBytes(e,t),this._demuxer.parseChunks(e,t)}},{key:"_onLoaderDataArrival",value:function(e,t){this._demuxer.headerOffset===this._currentOffset&&0!==this._currentOffset||this._cache.writeBytes(e,t),this._keyframeInfo||this._demuxer.parseChunks(e,t),this.availableLength<=a.default.RESERVED_CACHE_SIZE&&this._pause()}},{key:"_onLoaderError",value:function(e){this.close();var t=e instanceof _.RuntimeError?e:new _.OtherError(e.message);this.onError&&this.onError(t)}},{key:"_onLoaderComplete",value:function(){this._cache.rangeQueue.end!==this._info.fileSize?this._keyframeInfo?this._requestData(this._nextOffset):this._requestHeader(this._nextOffset):this._nextOffset=this._info.fileSize}},{key:"_onRemuxerInitSegment",value:function(e,t){this._mseCtl.appendInitSegment(t)}},{key:"_onRemuxerMediaSegment",value:function(e,t){this._mseCtl.appendMediaSegment(t)}},{key:"_onDemuxerNeedMore",value:function(e,t){this._nextOffset=e,this._needHeaderLength=t,this._requestHeader(this._nextOffset)}},{key:"_onDemuxerIndexInfo",value:function(e,t,r){this._info.tick4=Date.now(),this._appendOffset=e,this._nextOffset===this._info.fileSize&&(this._nextOffset=this._cache.rangeQueue.ranges[0].end),this._keyframeInfo=new b.default(t,r);var n=this._info.fileType===a.default.FILE_TYPE_MP3?0:20;this._pushDataId=setTimeout(this._pushDataWrap.bind(this),n),this._requestDataId=setTimeout(this._requestDataWrap.bind(this),1e3)}},{key:"_requestDataWrap",value:function(){this._requestData(this._nextOffset),this._requestDataId=setTimeout(this._requestDataWrap.bind(this),1e3)}},{key:"availableLength",get:function(){return a.default.MAX_CACHE_SIZE-this._cache.rangeQueue.length}}]),i}();r.default=y},{"../cache/vod-cache":169,"../demux/mp3-demuxer":175,"../demux/mp4-demuxer":176,"../io/loader":179,"../io/xy-loader-buildin":180,"../remux/mp4-remuxer":213,"../utils/browser":214,"../utils/common":217,"../utils/error":218,"../utils/logger":219,"./keyframe-info":170,"./mse-controller":172}],174:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=e("../utils/error");var i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}return n(t,[{key:"destroy",value:function(){this._buffer=null}},{key:"_fillCurrentWord",value:function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new o.IllegalStateError("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),r=new Uint8Array(4);r.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=(new DataView(r.buffer)).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t}},{key:"readBits",value:function(e){if(32<e)throw new o.InvalidArgumentError("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var r=this._current_word_bits_left?this._current_word:0;r>>>=32-this._current_word_bits_left;var n=e-this._current_word_bits_left;this._fillCurrentWord();var i=Math.min(n,this._current_word_bits_left),s=this._current_word>>>32-i;return this._current_word<<=i,this._current_word_bits_left-=i,r=r<<i|s}},{key:"readBool",value:function(){return 1===this.readBits(1)}},{key:"readByte",value:function(){return this.readBits(8)}},{key:"_skipLeadingZero",value:function(){var e=void 0;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()}},{key:"readUEG",value:function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1}},{key:"readSEG",value:function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)}}]),t}();r.default=i},{"../utils/error":218}],175:[function(n,e,i){((function(a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=(t(n("../utils/logger")),t(n("../mp3/mp3-header"))),f=t(n("../utils/browser"));function t(e){return e&&e.__esModule?e:{"default":e}}var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.onError=null,this.onDataAvailable=null,this.onTrackMetadata=null,this.onIndexInfo=null,this.onNeedMore=null,this._info=e,this._firstPlay=!0,this._foundFirstFrame=!1,this._headerOffset=0,this._parsePos=0,this._duration=0,this._refSampleDuration=0,this._frames=0,this._dts=0,this._mp3Header=new o.default,this._dataBuffer=a.allocUnsafe(0),this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0}}return e(t,[{key:"seek",value:function(e){var t=this._mp3Header.frameLength(),r={fileoffset:0};return 0<t&&(this._dts=1e3*e,r.fileoffset=Math.floor(1e3*e/this._duration*this._frames*t)+this._headerOffset),this._foundFirstFrame=!1,r}},{key:"destroy",value:function(){this.onError=null,this.onDataAvailable=null,this.onTrackMetadata=null,this.onIndexInfo=null,this.onNeedMore=null,this._info=null,this._foundFirstFrame=!1,this._headerOffset=0,this._dataBuffer=null,this._audioTrack=null}},{key:"cleanDataBuffer",value:function(){this._dataBuffer=a.allocUnsafe(0)}},{key:"parseChunks",value:function(e,t){if(this._dataBuffer=a.concat([this._dataBuffer,e]),!this._foundFirstFrame){if(this._parsePos=0,!this._getFirstHeader())return;if(this._dataBuffer=this._dataBuffer.slice(this._headerOffset),this._parsePos=0,this._firstPlay)return this._firstPlay=!1,this._frames=Math.floor((this._info.fileSize-this._headerOffset)/this._mp3Header.frameLength()),this._duration=Math.floor(this._mp3Header.frameLength()*this._frames/(1e3*this._mp3Header.headerBitrate()/8)*1e3),this.onIndexInfo&&(this.onIndexInfo(this._headerOffset,[],[]),this._dataBuffer=a.allocUnsafe(0)),void (this.onTrackMetadata&&this.onTrackMetadata("audio",this._getInitMetadata()))}for(var r=0;!(this._parsePos+4>this._dataBuffer.length);){var n=t-(this._dataBuffer.length-e.length)+this._parsePos;if(this._info.fileSize-n<=128)break;var i=this._getHeader(this._mp3Header);if(0===i)throw new Error("frame length in mp3 file is 0, filePos: "+n+", parsePos: "+this._parsePos+", "+this._dataBuffer[this._parsePos].toString(16)+" "+this._dataBuffer[this._parsePos+1].toString(16)+" "+this._dataBuffer[this._parsePos+2].toString(16)+" "+this._dataBuffer[this._parsePos+3].toString(16));if(this._parsePos+i>this._dataBuffer.length)break;var s=this._dataBuffer.slice(this._parsePos,this._parsePos+i),o={};o.unit=s,o.length=i,o.dts=this._dts,o.pts=o.dts,this._audioTrack.samples.push(o),this._audioTrack.length+=i,this._dts+=this._refSampleDuration,this._parsePos+=i,r+=1,f.default.firefox&&200===r&&this.onDataAvailable&&(r=0,this.onDataAvailable(this._audioTrack,this._videoTrack))}0<r&&this.onDataAvailable&&this.onDataAvailable(this._audioTrack,this._videoTrack),0<this._parsePos&&(this._dataBuffer=this._dataBuffer.slice(this._parsePos),this._parsePos=0)}},{key:"_getFirstHeader",value:function(){for(var e=0,t=1;;){for(var r=this._dataBuffer[this._parsePos];255!==r&&this._parsePos<this._dataBuffer.length;this._parsePos++)r=this._dataBuffer[this._parsePos];if(255!==r)return!1;this._parsePos--,e=this._parsePos;var n=new o.default,i=new o.default,s=this._getHeader(n);if(0<s){for(this._parsePos+=s,t=1;t<4&&4<=this._dataBuffer.length-this._parsePos&&0!==(s=this._getHeader(i))&&n.sameConstant(i);t++)this._parsePos+=s;if(4===t)return this._parsePos=e,this._mp3Header.clone(i),this._foundFirstFrame=!0,this._headerOffset=e,!0}else this._parsePos+=2}}},{key:"_getHeader",value:function(e){return e.parse(this._dataBuffer.slice(this._parsePos,this._parsePos+4))}},{key:"_getInitMetadata",value:function(){var e={type:"audio"};return e.duration=this._duration,e.timescale=1e3,e.codec="mp3",e.originalCodec="mp3",e.channelCount="mono"===this._mp3Header.headerMode()?1:2,e.audioSampleRate=this._mp3Header.headerFrequency(),e.refSampleDuration=1152/e.audioSampleRate*e.timescale,this._refSampleDuration=e.refSampleDuration,e}},{key:"headerOffset",get:function(){return this._headerOffset}},{key:"dataEnd",get:function(){return this._info.fileSize}},{key:"byteRate",get:function(){return 0}}],[{key:"probe",value:function(e){var t=new Uint8Array(e),r={match:!1};return 3<=t.length&&(73!==t[0]||68!==t[1]||51!==t[2])&&255!==t[0]?r:t.length<3?r:{match:!0,consumed:0,dataOffset:0}}}]),t}();i.default=r})).call(this,n("buffer").Buffer)},{"../mp3/mp3-header":182,"../utils/browser":214,"../utils/logger":219,buffer:274}],176:[function(i,e,s){((function(c){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),r=(t(i("../utils/logger")),t(i("../mp4/box-parser"))),h=t(i("../mp4/hdlr")),u=i("../utils/byte-array");function t(e){return e&&e.__esModule?e:{"default":e}}var n=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.onDataAvailable=null,this.onTrackMetadata=null,this.onIndexInfo=null,this.onNeedMore=null,this._info=e,this._headerOffset=0,this._headerBuffer=c.allocUnsafe(0),this._mdatBuffer=c.allocUnsafe(0),this._nextSampleIndex=0,this._offsetInFile=0,this._boxInfo={},this._moovData=null,this._boxParser=new r.default,this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0}}return e(t,[{key:"seek",value:function(e){var t=this._boxParser.getLeftSampleIndexFromTime(1e3*e);return this._offsetInFile=t.fileoffset,this._nextSampleIndex=t.sampleindex,t}},{key:"destroy",value:function(){this.onDataAvailable=null,this.onTrackMetadata=null,this.onIndexInfo=null,this.onNeedMore=null,this._info=null,this._headerOffset=0,this._headerBuffer=null,this._mdatBuffer=null,this._nextSampleIndex=0,this._offsetInFile=0,this._headerSize=null,this._moovData=null,this._boxParser=null,this._videoTrack=null,this._audioTrack=null}},{key:"cleanDataBuffer",value:function(){this._mdatBuffer=c.allocUnsafe(0)}},{key:"_locateMoovMdat",value:function(e,t){if(!(t<this._headerOffset)){this._headerBuffer=c.concat([this._headerBuffer,e]);for(var r=0;r<this._headerBuffer.length&&!(r+4+4+8>this._headerBuffer.length);){var n=new DataView(this._headerBuffer.buffer,r),i=n.getUint32(0,!1),s=n.getUint32(4,!1),o=8,a=String.fromCharCode((4278190080&s)>>24)+String.fromCharCode((16711680&s)>>16)+String.fromCharCode((65280&s)>>8)+String.fromCharCode(255&s);1===i&&(i=(0,u.readViewUint64)(n,8),o+=8);var f=r+i;switch(s){case 1835295092:this._boxInfo[a]={},this._boxInfo[a].offset=r,this._boxInfo[a].boxSize=i,this._boxInfo[a].headerSize=o,this._moovData||this.onNeedMore&&(this.onNeedMore(f,this._info.fileSize-f),this._headerOffset=f,this._headerBuffer=c.allocUnsafe(0));break;case 1836019574:!this._boxInfo[a]&&f<=this._headerBuffer.length&&(this._boxInfo[a]={},this._boxInfo[a].offset=r,this._boxInfo[a].boxSize=i,this._boxInfo[a].headerSize=o,this._moovData=this._headerBuffer.slice(r,f),this._boxParser.readMoov(this._moovData));break;default:!this._boxInfo[a]&&f<=this._headerBuffer.length&&(this._boxInfo[a]={},this._boxInfo[a].offset=r,this._boxInfo[a].boxSize=i,this._boxInfo[a].headerSize=o)}r=f}this.foundMoovMdat&&(this.onIndexInfo&&this.onIndexInfo(this._boxInfo.mdat.offset+this._boxInfo.mdat.headerSize,this._boxParser.times,this._boxParser.filePositions),this.onTrackMetadata&&(this.onTrackMetadata("video",this._boxParser.getInitMetadata("video")),this.onTrackMetadata("audio",this._boxParser.getInitMetadata("audio"))),this._headerBuffer=c.allocUnsafe(0))}}},{key:"_parseMdat",value:function(e,t){0===this._offsetInFile&&(this._offsetInFile=this._boxInfo.mdat.offset+this._boxInfo.mdat.headerSize),this._mdatBuffer=c.concat([this._mdatBuffer,e]);var r=this._boxParser.samples,n=this._nextSampleIndex,i=r[n];if(i){for(;n<r.length&&!((i=r[n]).offsetInFile+i.size>this._offsetInFile+this._mdatBuffer.length);n++){var s=c.from(this._mdatBuffer.buffer,i.offsetInFile-this._offsetInFile,i.size);if(i.handlerType===h.default.VIDE){var o={type:i.seekable?5:1,data:s},a=[];a.push(o);var f={};f.units=a,f.length=i.size,f.duration=i.sampleDelta,f.originalDts=i.decodingTime,f.isKeyframe=i.seekable,f.dts=i.decodingTime,f.cts=i.compositionTimeOffset,f.pts=f.dts+f.cts,f.flags={isLeading:0,dependsOn:i.seekable?2:1,isDependedOn:i.seekable?1:0,hasRedundancy:0,isNonSync:i.seekable?0:1},this._videoTrack.samples.push(f),this._videoTrack.length+=i.size}else if(i.handlerType===h.default.SOUN){var u={};u.unit=s,u.size=i.size,u.duration=i.sampleDelta,u.originalDts=i.decodingTime,u.dts=i.decodingTime,u.cts=0,u.pts=u.dts,u.flags={isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0},this._audioTrack.samples.push(u),this._audioTrack.length+=i.size}}(this._audioTrack.length||this._videoTrack.length)&&this.onDataAvailable&&this.onDataAvailable(this._audioTrack,this._videoTrack),(this._nextSampleIndex=n)<r.length&&i.offsetPlayFromNow-this._offsetInFile<this._mdatBuffer.length?(this._mdatBuffer=this._mdatBuffer.slice(i.offsetPlayFromNow-this._offsetInFile),this._offsetInFile=i.offsetPlayFromNow):n===r.length&&(this._mdatBuffer=c.allocUnsafe(0))}}},{key:"parseChunks",value:function(e,t){this.foundMoovMdat?this._parseMdat(e,t):this._locateMoovMdat(e,t)}},{key:"headerOffset",get:function(){return this._headerOffset}},{key:"dataEnd",get:function(){return this._boxInfo.mdat?this._boxInfo.mdat.offset+this._boxInfo.mdat.boxSize:this._info.fileSize}},{key:"foundMoovMdat",get:function(){return!!(this._boxInfo.moov&&this._boxInfo.mdat&&this._moovData)}},{key:"byteRate",get:function(){return this._boxParser.byteRate}}],[{key:"probe",value:function(e){var t=new Uint8Array(e),r={match:!1};return 8<=t.length&&102!==t[4]||116!==t[5]||121!==t[6]||112!==t[7]?r:t.length<8?r:{match:!0,consumed:0,dataOffset:0}}}]),t}();s.default=n})).call(this,i("buffer").Buffer)},{"../mp4/box-parser":187,"../mp4/hdlr":194,"../utils/byte-array":215,"../utils/logger":219,buffer:274}],177:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./exp-golomb"),U=(n=s)&&n.__esModule?n:{"default":n};var o=function(){function L(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,L)}return i(L,null,[{key:"_ebsp2rbsp",value:function(e){for(var t=e,r=t.byteLength,n=new Uint8Array(r),i=0,s=0;s<r;s++)2<=s&&3===t[s]&&0===t[s-1]&&0===t[s-2]||(n[i]=t[s],i++);return new Uint8Array(n.buffer,0,i)}},{key:"parseSPS",value:function(e){var t=L._ebsp2rbsp(e),r=new U.default(t);r.readByte();var n=r.readByte();r.readByte();var i=r.readByte();r.readUEG();var s=L.getProfileString(n),o=L.getLevelString(i),a=1,f=420,u=8;if((100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n||138===n||144===n)&&(3===(a=r.readUEG())&&r.readBits(1),a<=3&&(f=[0,420,422,444][a]),u=r.readUEG()+8,r.readUEG(),r.readBits(1),r.readBool()))for(var c=3!==a?8:12,h=0;h<c;h++)r.readBool()&&L._skipScalingList(r,h<6?16:64);r.readUEG();var l=r.readUEG();if(0===l)r.readUEG();else if(1===l){r.readBits(1),r.readSEG(),r.readSEG();for(var d=r.readUEG(),p=0;p<d;p++)r.readSEG()}r.readUEG(),r.readBits(1);var b=r.readUEG(),_=r.readUEG(),y=r.readBits(1);0===y&&r.readBits(1),r.readBits(1);var v=0,m=0,g=0,w=0;r.readBool()&&(v=r.readUEG(),m=r.readUEG(),g=r.readUEG(),w=r.readUEG());var S=1,k=1,E=0,x=!0,M=0,I=0;if(r.readBool()){if(r.readBool()){var T=r.readByte();0<T&&T<16?(S=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][T-1],k=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][T-1]):255===T&&(S=r.readByte()<<8|r.readByte(),k=r.readByte()<<8|r.readByte())}if(r.readBool()&&r.readBool(),r.readBool()&&(r.readBits(4),r.readBool()&&r.readBits(24)),r.readBool()&&(r.readUEG(),r.readUEG()),r.readBool()){var C=r.readBits(32),j=r.readBits(32);x=r.readBool(),E=(M=j)/(I=2*C)}}var O=1;1===S&&1===k||(O=S/k);var A=0,P=0;0===a?(A=1,P=2-y):(A=3===a?1:2,P=(1===a?2:1)*(2-y));var B=16*(b+1),R=16*(_+1)*(2-y);B-=(v+m)*A,R-=(g+w)*P;var D=Math.ceil(B*O);return r.destroy(),r=null,{profile_string:s,level_string:o,bit_depth:u,chroma_format:f,chroma_format_string:L.getChromaFormatString(f),frame_rate:{fixed:x,fps:E,fps_den:I,fps_num:M},sar_ratio:{width:S,height:k},codec_size:{width:B,height:R},present_size:{width:D,height:R}}}},{key:"_skipScalingList",value:function(e,t){for(var r=8,n=8,i=0;i<t;i++)0!==n&&(n=(r+e.readSEG()+256)%256),r=0===n?r:n}},{key:"getProfileString",value:function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}},{key:"getLevelString",value:function(e){return(e/10).toFixed(1)}},{key:"getChromaFormatString",value:function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}]),L}();r.default=o},{"./exp-golomb":174}],178:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Events=r.version=r.createPlayer=r.isSupported=void 0;var n,i=e("./xyvod-player"),s=e("./utils/common"),o=(n=s)&&n.__esModule?n:{"default":n};var a=i.PlayerEvent;r.isSupported=function(){return o.default.isMSEH264Supported&&(o.default.isFetchStreamSupported||o.default.isMozChunkedSupported)},r.createPlayer=function(e){return new i.XYVODPlayer(e)},r.version=function(){return o.default.VERSION},r.Events=a},{"./utils/common":217,"./xyvod-player":223}],179:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LoaderStatus=r.Loader=void 0;var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("../utils/logger");(n=s)&&n.__esModule;var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onDataArrival=null,this.onError=null,this.onComplete=null}return i(e,[{key:"init",value:function(){throw new Error("nee override")}},{key:"open",value:function(e,t){throw new Error("need override")}},{key:"close",value:function(){throw new Error("need override")}},{key:"pause",value:function(){throw new Error("need override")}},{key:"resume",value:function(){throw new Error("need override")}},{key:"dispose",value:function(){throw new Error("need override")}}]),e}();r.Loader=o,r.LoaderStatus={IDLE:0,CONNECTING:1,BUFFERING:2,ERROR:3}},{"../utils/logger":219}],180:[function(c,e,h){((function(t,i){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var e,r=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),n=c("../utils/logger"),s=(e=n)&&e.__esModule?e:{"default":e},o=c("./loader"),a=c("../utils/error"),f=c("../../../xyvod-core-general/build/xyvod");var u=function(e){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r._info=e,r._xyvod=null,r._status=o.LoaderStatus.IDLE,r._options=t,r._customerInfo=null,r._info.getCustomerInfo=function(){return(r._xyvod&&r._xyvod.customerInfo?r._xyvod.customerInfo:null)||r._customerInfo||{}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.Loader),r(n,[{key:"_handleError",value:function(e){s.default.ERROR("XYLoader","failed:",e.message),this._status=o.LoaderStatus.ERROR,this._customerInfo=this._xyvod?Object.assign({},this._xyvod.customerInfo):{},this.onError&&this.onError(e)}},{key:"init",value:function(){var r=this;this._xyvod||(this._xyvod=new f.XYVOD({url:this._info.url,video:this._info.mediaElement,startWithCDN:void 0===this._options.startWithCDN||!!this._options.startWithCDN,openTick:this._info.openTick,info:this._info}),this._xyvod.on(f.XYVODEvent.FILE_SIZE,function(e){r._info.fileSize=e,t.xyctl&&t.xyctl.onFileSize&&t.xyctl.onFileSize(e)}),this._xyvod.on(f.XYVODEvent.DATA,function(e,t){r._status=o.LoaderStatus.BUFFERING;try{r.onDataArrival&&r.onDataArrival(i.from(e),t)}catch(e){s.default.ERROR("XYLoader",e,"\nmediaElement error:",r._info.mediaElement.error),r._handleError(e)}}),this._xyvod.on(f.XYVODEvent.END,function(){r._status=o.LoaderStatus.IDLE,t.xyctl&&t.xyctl.onEnd&&t.xyctl.onEnd(),r.onComplete&&r.onComplete()}),this._xyvod.on(f.XYVODEvent.ERROR,function(e){r._handleError(new a.NetworkError(e))}),t.xyctl&&(t.xyctl.getInfo=function(){return r._xyvod&&r._xyvod.info||{}},t.xyctl.pipeDetails=function(){return r._xyvod&&r._xyvod.pipeDetails||{}}))}},{key:"open",value:function(e,t){if(this._status!==o.LoaderStatus.IDLE)throw new TypeError("unexpect status:",this._status);this._status=o.LoaderStatus.CONNECTING;try{this._xyvod.open(e,t)}catch(e){}}},{key:"close",value:function(){this._xyvod.close(),this._status=o.LoaderStatus.IDLE}},{key:"pause",value:function(){this._xyvod&&this._xyvod.pause()}},{key:"resume",value:function(){this._xyvod&&this._xyvod.resume()}},{key:"dispose",value:function(){this.onDataArrival=null,this.onError=null,this.onComplete=null,this._xyvod&&(this._xyvod.dispose(),this._xyvod=null),this._status=o.LoaderStatus.IDLE}},{key:"status",get:function(){return this._status}}]),n}();h.default=u})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},c("buffer").Buffer)},{"../../../xyvod-core-general/build/xyvod":37,"../utils/error":218,"../utils/logger":219,"./loader":179,buffer:274}],181:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.MPEGVersion={MPEG2DOT5:0,UNDEFINED:1,MPEG2:2,MPEG1:3},r.Version=[0,1,2,3],r.MPEGLayer={UNKNOWN:0,I:1,II:2,III:3},r.Layer=[0,3,2,1],r.Frequencies=[[22050,24e3,16e3,5e4],[44100,48e3,32e3,5e4],[11025,12e3,8e3,5e4]],r.Bitrate=[[[0,32,48,56,64,80,96,112,128,144,160,176,192,224,256],[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160],[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160]],[[0,32,64,96,128,160,192,224,256,288,32,352,384,416,448],[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320]]],r.FrameSizeIndex=[24e3,72e3,72e3],r.ModeText=["stereo","joint stereo","dual channel","mono"],r.EmphasisText=["none","50/15 microsecs","reserved","CCITT J 17"]},{}],182:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("../utils/logger"),o=((n=s)&&n.__esModule,e("./mp3-constant"));var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sync=null,this.version=o.MPEGVersion.UNDEFINED,this.layer=null,this.crc=null,this.bitrate=null,this.freq=null,this.padding=null,this.extension=null,this.mode=null,this.modeExtension=null,this.copyright=null,this.original=null,this.emphasis=null}return i(e,[{key:"clone",value:function(e){this.sync=e.sync,this.version=e.version,this.layer=e.layer,this.crc=e.crc,this.bitrate=e.bitrate,this.freq=e.freq,this.padding=e.padding,this.extension=e.extension,this.mode=e.mode,this.modeExtension=e.modeExtension,this.copyright=e.copyright,this.original=e.original,this.emphasis=e.emphasis}},{key:"parse",value:function(e){if(this.sync=e[0]<<4|(224&e[1])>>4,16&e[1]?this.version=e[1]>>3&1:this.version=o.MPEGVersion.MPEG2,this.layer=e[1]>>1&3,this.bitrate=e[2]>>4&15,4094!==this.sync||this.layer!==o.MPEGLayer.I||15===this.bitrate)return this.sync=0;if(this.crc=1&e[1],this.freq=e[2]>>2&3,this.padding=e[2]>>1&1,this.extension=1&e[2],this.mode=e[3]>>6&3,this.modeExtension=e[3]>>4&3,this.copyright=e[3]>>3&1,this.original=e[3]>>2&1,this.emphasis=3&e[3],15===this.bitrate||3===this.freq)return 0;var t=this.frameLength();return 21<=t?t:0}},{key:"frameLength",value:function(){return Math.floor(4094===this.sync?o.FrameSizeIndex[o.FrameSizeIndex.length-this.layer]*(1+(1&this.version))*this.headerBitrate()/this.headerFrequency()+this.padding:1)}},{key:"headerLayer",value:function(){return o.Layer[this.layer]}},{key:"headerBitrate",value:function(){return o.Bitrate[1&this.version][3-this.layer][this.bitrate]}},{key:"headerFrequency",value:function(){return o.Frequencies[this.version][this.freq]}},{key:"headerEmphasis",value:function(){return o.EmphasisText[this.emphasis]}},{key:"headerMode",value:function(){return o.ModeText[this.mode]}},{key:"sameConstant",value:function(e){return this.sync===e.sync||this.version===e.version&&this.layer===e.layer&&this.crc===e.crc&&this.freq===e.freq&&this.mode===e.mode&&this.copyright===e.copyright&&this.original===e.original&&this.emphasis===e.emphasis}}]),e}();r.default=a},{"../utils/logger":219,"./mp3-constant":181}],183:[function(a,e,f){((function(i){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e,t=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),r=a("./container-box"),s=(e=r)&&e.__esModule?e:{"default":e},o=a("../protocal/byte-array");var n=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._reserved1=new o.ByteArray(i.allocUnsafe(6)),r._dataReferenceIndex=0,r._reserved2=[0,0],r._channelCount=0,r._sampleSize=0,r._predefined1=0,r._reserved3=0,r._sampleRate=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),t(n,[{key:"read",value:function(e){var t=e.position;this._reserved1.writeBytes(e.readBytes(6)),this._dataReferenceIndex=e.readUint16(),this._reserved2[0]=e.readUint32(),this._reserved2[1]=e.readUint32(),this._channelCount=e.readUint16(),this._sampleSize=e.readUint16(),this._predefined1=e.readUint16(),this._reserved3=e.readUint16(),this._sampleRate=e.readUint32()/65536;var r=this.payloadSize-(e.position-t);(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"readBoxes",this).call(this,e,r)}},{key:"channelCount",get:function(){return this._channelCount}},{key:"sampleRate",get:function(){return this._sampleRate}}]),n}();f.default=n})).call(this,a("buffer").Buffer)},{"../protocal/byte-array":210,"./container-box":189,buffer:274}],184:[function(a,e,f){((function(t){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e,r=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),n=a("./box"),i=(e=n)&&e.__esModule?e:{"default":e},s=a("../protocal/byte-array");var o=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._configRecord=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.default),r(n,[{key:"read",value:function(e){this._configRecord=new s.ByteArray(t.allocUnsafe(this.payloadSize)),this._configRecord.writeBytes(e.readBytes(this.payloadSize))}},{key:"configRecord",get:function(){return this._configRecord}}]),n}();f.default=o})).call(this,a("buffer").Buffer)},{"../protocal/byte-array":210,"./box":188,buffer:274}],185:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BoxType=r.BoxFactory=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=k(e("./container-box")),s=k(e("./ftyp")),o=k(e("./mvhd")),a=k(e("./tkhd")),f=k(e("./mdhd")),u=k(e("./hdlr")),c=e("./stts"),h=e("./ctts"),l=e("./stsc"),d=k(e("./stsz")),p=k(e("./stco")),b=k(e("./stss")),_=k(e("./stsd")),y=k(e("./mdat")),v=k(e("./vse")),m=k(e("./ase")),g=k(e("./avcc")),w=k(e("./esds")),S=k(e("./unknown"));function k(e){return e&&e.__esModule?e:{"default":e}}var E={FTYP:"ftyp",MOOV:"moov",MVHD:"mvhd",TRAK:"trak",TKHD:"tkhd",MDIA:"mdia",MDHD:"mdhd",HDLR:"hdlr",MINF:"minf",STBL:"stbl",STSD:"stsd",STTS:"stts",CTTS:"ctts",STSZ:"stsz",STCO:"stco",CO64:"co64",STSS:"stss",STSC:"stsc",AVC1:"avc1",MP4A:"mp4a",AVCC:"avcC",ESDS:"esds",MDAT:"mdat",MP3:".mp3"},x=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"newBox",value:function(e,t){var r=null;switch(e.boxType){case E.FTYP:r=new s.default(e,t);break;case E.MOOV:case E.TRAK:case E.MDIA:case E.MINF:case E.STBL:r=new i.default(e,t);break;case E.MVHD:r=new o.default(e,t);break;case E.TKHD:r=new a.default(e,t);break;case E.MDHD:r=new f.default(e,t);break;case E.HDLR:r=new u.default(e,t);break;case E.STTS:r=new c.STTSBox(e,t);break;case E.CTTS:r=new h.CTTSBox(e,t);break;case E.STSC:r=new l.STSCBox(e,t);break;case E.STSZ:r=new d.default(e,t);break;case E.STCO:case E.CO64:r=new p.default(e,t);break;case E.STSS:r=new b.default(e,t);break;case E.STSD:r=new _.default(e,t);break;case E.MDAT:r=new y.default(e,t);break;case E.AVC1:t.boxType===E.STSD&&(r=new v.default(e,t));break;case E.MP3:case E.MP4A:t.boxType===E.STSD&&(r=new m.default(e,t));break;case E.AVCC:r=new g.default(e,t);break;case E.ESDS:r=new w.default(e,t)}return r||(r=new S.default(e,t)),r}}]),e}();r.BoxFactory=x,r.BoxType=E},{"./ase":183,"./avcc":184,"./container-box":189,"./ctts":190,"./esds":191,"./ftyp":192,"./hdlr":194,"./mdat":195,"./mdhd":196,"./mvhd":200,"./stco":201,"./stsc":202,"./stsd":203,"./stss":204,"./stsz":205,"./stts":206,"./tkhd":207,"./unknown":208,"./vse":209}],186:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._totalSize=0,this._boxType="",this._extendedSize=0}return n(e,[{key:"read",value:function(e){if(e.bytesAvailable<8)throw new RangeError("Not enough bytes to read");var t=e.position,r=e.readUint32(),n=e.readString(4),i=0;1===r&&(e.bytesAvailable<8&&(e.position=t),i=e.readUint64()),this._totalSize=r,this._boxType=n,this._extendedSize=i}},{key:"boxSize",get:function(){return 1===this._totalSize?this._extendedSize:this._totalSize}},{key:"headerSize",get:function(){return 1===this._totalSize?16:8}},{key:"boxType",get:function(){return this._boxType}},{key:"payloadSize",get:function(){return this.boxSize-this.headerSize}}]),e}();r.default=i},{}],187:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=(o(e("../utils/logger")),o(e("./box-header"))),B=e("./box-factory"),E=o(e("./mp4-track")),R=o(e("./hdlr")),x=o(e("./mp4-sample")),u=e("./mp4-constant"),D=o(e("../demux/sps-parser")),s=e("../protocal/byte-array");function o(e){return e&&e.__esModule?e:{"default":e}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._samples=[],this.clear(),this._littleEndian=function(){var e=new ArrayBuffer(2);return(new DataView(e)).setInt16(0,256,!0),256===(new Int16Array(e))[0]},this._times=[],this._filepositions=[],this._fileoffsets=[],this._sampleindexes=[],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._byteRate=0}return n(e,[{key:"clear",value:function(){if(this._moovBox=null,this._moovParsedOK=!1,this._audioTracks=[],this._videoTracks=[],this._audioSampleSize=0,this._samples)for(var e=0;e<this._samples.length;e++)this._samples[e]=null;this._samples=[],this._times=[],this._filepositions=[],this._fileoffsets=[],this._sampleindexes=[],this._byteRate=0}},{key:"clearBoxes",value:function(){this._moovBox&&this._moovBox.clear()}},{key:"readMoov",value:function(e){if(!this._moovParsedOK){var t=new s.ByteArray(e),r=new i.default;r.read(t);var n=B.BoxFactory.newBox(r,null);if(n.read(t),n.boxType!==B.BoxType.MOOV)throw new TypeError("box type is not MOOV");this._moovBox=n,this._parseMoov()}}},{key:"_parseStsd",value:function(e,t){var r=[];if(t.handlerType===R.default.VIDE)for(var n=0;n<e.count;n++){var i=u.VideoCodecId.NONE,s=e.descriptions[n];s.boxType===B.BoxType.AVC1&&(t.frameCount+=s.frameCount*t.samples.length,i=u.VideoCodecId.AVC),r.push(i)}else if(t.handlerType===R.default.SOUN)for(var o=0;o<e.count;o++){var a=u.AudioSoundFormat.NONE,f=e.descriptions[o];f.boxType!==B.BoxType.MP4A&&f.boxType!==B.BoxType.MP3||(f.boxType===B.BoxType.MP4A?a=u.AudioSoundFormat.AAC:f.boxType===B.BoxType.MP3&&(a=u.AudioSoundFormat.MP3)),r.push(a)}t.codecs=r}},{key:"_parseStscAndStco",value:function(e,t,r){for(var n=[],i=t.offsetCount-1,s=0;s<t.offsetCount;s++)n.push({});for(var o=e.count-1;0<=o;o--){for(var a=e.entries[o].firstChunk-1,f=a;f<=i;f++){var u={};u.sampleCount=e.entries[o].samplesPerChunk,u.sampleDescIndex=e.entries[o].sampleDescIndex-1,u.offsets=t.offsets[f],n[f]=u}i=a-1}for(var c=0,h=r.samples.length-1,l=0;l<n.length;l++){var d=c+n[l].sampleCount-1;h<d&&(d=h);for(var p=n[l].offsets,b=c;b<=d;b++)r.samples[b].offsetInFile=p,r.samples[b].codecId=r.codecs[n[l].sampleDescIndex],p+=r.samples[b].size;c=d+1}}},{key:"_parseStss",value:function(e,t){if(null!==e)for(var r=0;r<e.syncCount;r++){var n=e.syncTable[r]-1;t.samples[n].seekable=!0}}},{key:"_parseTrak",value:function(e){var t=e.getBox(B.BoxType.MDIA),r=t.getBox(B.BoxType.MDHD),n=new E.default;n.duration=r.duration,n.timeScale=r.timeScale,n.originalDuration=r.originalDuration,n.originalTimeScale=r.originalTimeScale;var i=t.getBox(B.BoxType.HDLR);if(n.handlerType=i.handlerType,i.handlerType===R.default.VIDE||i.handlerType===R.default.SOUN){for(var s=t.getBox(B.BoxType.MINF).getBox(B.BoxType.STBL),o=s.getBox(B.BoxType.STTS),a=0,f=o.count;a<f;a++)for(var u=0,c=o.entries[a].sampleCount;u<c;u++){var h=new x.default;h.handlerType=n.handlerType,h.sampleDelta=o.entries[a].sampleDelta,n.samples.push(h)}var l=n.samples.length,d=0,p=s.getBox(B.BoxType.CTTS);if(null!==p)for(var b=0;b<p.count;b++)for(var _=p.entries[b],y=0;y<_.sampleCount;y++)d<l&&(n.samples[d].compositionTimeOffset=Math.floor(_.sampleOffset*n.timeScale/n.originalTimeScale),d++);for(var v=s.getBox(B.BoxType.STSZ),m=0;m<l;m++)0===v.constantSize?n.samples[m].size=v.sizeTable[m]:n.samples[m].size=v.constantSize;var g=s.getBox(B.BoxType.STSD);this._parseStsd(g,n);var w=s.getBox(B.BoxType.STSC),S=s.getBox(B.BoxType.STCO);null===S&&(S=s.getBox(B.BoxType.CO64)),this._parseStscAndStco(w,S,n);var k=s.getBox(B.BoxType.STSS);this._parseStss(k,n),n.handlerType===R.default.VIDE?this._videoTracks.push(n):n.handlerType===R.default.SOUN&&this._audioTracks.push(n)}}},{key:"_mergeSamples",value:function(){for(var e=0,t=0,r=0,n=0,i=null,s=null,o=0,a=this._audioTracks.length;o<a;o++){r+=(i=this._audioTracks[o]).duration/i.timeScale;for(var f=0,u=i.samples.length;f<u;f++)(s=i.samples[f]).handlerType=i.handlerType,s.decodingTime=Math.floor(n*i.timeScale/i.originalTimeScale),n+=s.sampleDelta,s.sampleDelta=Math.floor(s.sampleDelta*i.timeScale/i.originalTimeScale),e+=s.size,this._samples.push(s)}n=0;for(var c=0,h=0,l=this._videoTracks.length;h<l;h++){(i=this._videoTracks[h]).frameCount,c+=i.duration/i.timeScale;for(var d=0,p=i.samples.length;d<p;d++)(s=i.samples[d]).handlerType=i.handlerType,s.decodingTime=Math.floor(n*i.timeScale/i.originalTimeScale),n+=s.sampleDelta,s.sampleDelta=Math.floor(s.sampleDelta*i.timeScale/i.originalTimeScale),t+=s.size,this._samples.push(s)}var b;this._samples.sort((b="decodingTime",function(e,t){var r=e[b],n=t[b];return n<r?1:r<n?-1:0})),this._byteRate=e/r+t/c;for(var _=1/0,y=this._samples.length-1;0<=y;y--)_=(s=this._samples[y]).offsetInFile<_?s.offsetInFile:_,s.offsetPlayFromNow=_;for(var v=0;v<this._samples.length;v++)(s=this._samples[v]).seekable&&(0,this._times.push(s.decodingTime),this._filepositions.push(s.offsetInFile),this._fileoffsets.push(s.offsetPlayFromNow),this._sampleindexes.push(v))}},{key:"_parseMoov",value:function(){for(var e=this._moovBox.getBoxes(B.BoxType.TRAK),t=0;t<e.length;t++){var r=e[t];this._parseTrak(r)}this._mergeSamples(),this._moovParsedOK=!0}},{key:"getInitMetadata",value:function(e){if("audio"!==e&&"video"!==e)return{};var t={},r=this._moovBox.getBox(B.BoxType.MVHD);t.type=e,t.duration=r.duration,t.timescale=r.timeScale;for(var n=this._moovBox.getBoxes(B.BoxType.TRAK),i=0;i<n.length;i++){var s=n[i],o=s.getBox(B.BoxType.TKHD),a=s.getBox(B.BoxType.MDIA),f=a.getBox(B.BoxType.HDLR),u=a.getBox(B.BoxType.MINF).getBox(B.BoxType.STBL).getBox(B.BoxType.STSD);if(f.handlerType===R.default.VIDE&&"video"===e)for(var c=0;c<u.count;c++){var h=u.descriptions[c];if(h.boxType===B.BoxType.AVC1){var l="avc1.",d=h.getBox(B.BoxType.AVCC),p=new DataView(d.configRecord.buffer.buffer,0,d.configRecord.length),b=(p.getUint8(0),p.getUint8(1),p.getUint8(2),p.getUint8(3),p.getUint8(4),p.getUint8(5),this._littleEndian),_=p.getUint16(6,!b),y=new Uint8Array(d.configRecord.buffer.buffer,8,_),v=D.default.parseSPS(y);t.codecWidth=v.codec_size.width,t.codecHeight=v.codec_size.height,t.presentWidth=v.present_size.width,t.presentHeight=v.present_size.height,t.profile=v.profile_string,t.level=v.level_string,t.bitDepth=v.bit_depth,t.chromaFormat=v.chroma_format,t.sarRatio=v.sar_ratio,t.frameRate=v.frame_rate;var m=t.frameRate.fps_den,g=t.frameRate.fps_num;t.refSampleDuration=t.timescale*(m/g);for(var w=y.subarray(1,4),S=0;S<3;S++){var k=w[S].toString(16);k.length<2&&(k="0"+k),l+=k}return t.codec=l,t.id=o.trackId,t.avcc=new Uint8Array(d.configRecord.buffer.length),t.avcc.set(new Uint8Array(d.configRecord.buffer.buffer,0,d.configRecord.buffer.length),0),t}}else if(f.handlerType===R.default.SOUN&&"audio"===e)for(var E=0;E<u.count;E++){var x=u.descriptions[E];if(t.channelCount=x.channelCount,t.audioSampleRate=x.sampleRate,x.boxType===B.BoxType.MP4A||x.boxType===B.BoxType.MP3)if(x.boxType===B.BoxType.MP4A){var M=x.getBox(B.BoxType.ESDS);if(M.decoderSpecificInfo){var I,T,C=M.decoderSpecificInfo.buffer,j=0,O=null;j=I=C[0]>>>3,T=(7&C[0])<<1|C[1]>>>7;var A=(120&C[1])>>>3;5===j&&(O=(7&C[1])<<1|C[2]>>>7,(124&C[2])>>>2),j=5,O=T;var P=new Array(4);return 6<=T?O=T-3:1===A&&(j=2,P=new Array(2),O=T),P[0]=j<<3,P[0]|=(15&T)>>>1,P[1]=(15&T)<<7,P[1]|=(15&A)<<3,5===j&&(P[1]|=(15&O)>>>1,P[2]=(1&O)<<7,P[2]|=8,P[3]=0),t.codec="mp4a.40."+j,t.originalCodec="mp4a.40."+I,t.config=P,t.id=o.trackId,t.presentWidth=o.width,t.presentHeight=o.height,t.refSampleDuration=1024/this._mpegSamplingRates[T]*t.timescale,t}}else if(x.boxType===B.BoxType.MP3)return t.codec="mp3",t}}return t}},{key:"_getTrackIdByHandlerType",value:function(e){for(var t=this._moovBox.getBoxes(B.BoxType.TRAK),r=0;r<t.length;r++){var n=t[r],i=n.getBox(B.BoxType.TKHD);if(n.getBox(B.BoxType.MDIA).getBox(B.BoxType.HDLR).handlerType===e)return i.trackId}return 0}},{key:"_mergeBoxes",value:function(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(e,0),r.set(t,e.byteLength),r}},{key:"getLeftSampleIndexFromTime",value:function(e){for(var t=this._times.length-1;0<=t&&!(this._times[t]<=e);t--);return{time:this._times[t],fileposition:this._filepositions[t],fileoffset:this._fileoffsets[t],sampleindex:this._sampleindexes[t]}}},{key:"samples",get:function(){return this._samples}},{key:"times",get:function(){return this._times}},{key:"filePositions",get:function(){return this._filepositions}},{key:"byteRate",get:function(){return this._byteRate}}]),e}();r.default=a},{"../demux/sps-parser":177,"../protocal/byte-array":210,"../utils/logger":219,"./box-factory":185,"./box-header":186,"./hdlr":194,"./mp4-constant":197,"./mp4-sample":198,"./mp4-track":199}],188:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._header=e,this._container=t}return n(r,[{key:"read",value:function(){}},{key:"headerSize",get:function(){return this._header.headerSize}},{key:"payloadSize",get:function(){return this._header.payloadSize}},{key:"boxType",get:function(){return this._header.boxType}},{key:"boxSize",get:function(){return this._header.boxSize}}]),r}();r.default=i},{}],189:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=n(e("./box")),o=n(e("./box-header")),a=e("./box-factory");function n(e){return e&&e.__esModule?e:{"default":e}}var f=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._boxes=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),i(n,[{key:"read",value:function(e){this.readBoxes(e,this.boxSize-this.headerSize)}},{key:"readBoxes",value:function(e,t){for(;0<t;){var r=new o.default;r.read(e);var n=a.BoxFactory.newBox(r,this);n.read(e),this._boxes.push(n),t-=n.boxSize}}},{key:"getBoxes",value:function(e){for(var t=[],r=0,n=this._boxes.length;r<n;r++)this._boxes[r].boxType===e&&t.push(this._boxes[r]);return t}},{key:"getBox",value:function(e){for(var t=0,r=this._boxes.length;t<r;t++)if(this._boxes[t].boxType===e)return this._boxes[t];return null}}]),n}();r.default=f},{"./box":188,"./box-factory":185,"./box-header":186}],190:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CTTSBox=r.CTTSRecord=void 0;var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=function(){function e(){a(this,e),this._sampleCount=0,this._sampleOffset=0}return i(e,[{key:"read",value:function(e){this._sampleCount=e.readUint32(),this._sampleOffset=e.readUint32()}},{key:"sampleCount",get:function(){return this._sampleCount}},{key:"sampleOffset",get:function(){return this._sampleOffset}}]),e}(),u=function(e){function n(e,t){a(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._count=0,r._entries=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._count=e.readUint32();for(var t=0;t<this._count;t++){var r=new f;r.read(e),this._entries.push(r)}}},{key:"count",get:function(){return this._count}},{key:"entries",get:function(){return this._entries}}]),n}();r.CTTSRecord=f,r.CTTSBox=u},{"./full-box":193}],191:[function(a,e,f){((function(s){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e,t=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),r=a("./full-box"),n=(e=r)&&e.__esModule?e:{"default":e},o=a("../protocal/byte-array");var i=function(e){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));return r._decoderSpecificInfo=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n.default),t(i,[{key:"_readDescriptorLength",value:function(e){for(var t=0,r=0;r<4;r++){var n=e.readUint8();if(t=t<<7|127&n,!(128&n))break}return t}},{key:"read",value:function(e){var t=e.position;(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"read",this).call(this,e);var r=e.readUint8(),n=0;r===i.ES&&(n=this._readDescriptorLength(e),e.position+=3),(r=e.readUint8())===i.DECODER_CONFIG&&(n=this._readDescriptorLength(e),e.position+=13),(r=e.readUint8())===i.DECODER_SPECIFIC_INFO&&(n=this._readDescriptorLength(e),this._decoderSpecificInfo=new o.ByteArray(s.allocUnsafe(n)),this._decoderSpecificInfo.writeBytes(e.readBytes(n))),e.position=t+this.payloadSize}},{key:"decoderSpecificInfo",get:function(){return this._decoderSpecificInfo}}]),i}();i.ES=3,i.DECODER_CONFIG=4,i.DECODER_SPECIFIC_INFO=5,f.default=i})).call(this,a("buffer").Buffer)},{"../protocal/byte-array":210,"./full-box":193,buffer:274}],192:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._majorBrand=null,r._minorVersion=0,r._compatibleBrands=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){this._majorBrand=e.readString(4),this._minorVersion=e.readUint32();for(var t=this.payloadSize-8;4<=t;)this._compatibleBrands.push(e.readString(4)),t-=4}}]),n}();r.default=a},{"./box":188}],193:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._version=0,r._flags=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){var t=e.readUint32();this._version=t>>>24,this._flags=16777215&t}}]),n}();r.default=a},{"./box":188}],194:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._predefined=0,r._handlerType=null,r._reserved=[0,0,0],r._name=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){var t=e.position;(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._predefined=e.readUint32(),this._handlerType=e.readString(4),this._reserved[0]=e.readUint32(),this._reserved[1]=e.readUint32(),this._reserved[2]=e.readUint32(),e.position=t+this.payloadSize}},{key:"handlerType",get:function(){return this._handlerType}}]),n}();a.VIDE="vide",a.SOUN="soun",r.default=a},{"./full-box":193}],195:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._bytesReaded=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){var t=this.payloadSize-this._bytesReaded;e.position+=e.bytesAvailable>t?t:e.bytesAvailable}}]),n}();r.default=a},{"./box":188}],196:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._creationTime=0,r._modificationTime=0,r._timeScale=0,r._originalTimeScale=0,r._duration=0,r._originalDuration=0,r._pad=0,r._language=null,r._reserved=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),0!==this._version?(this._creationTime=e.readUint64(),this._modificationTime=e.readUint64(),this._originalTimeScale=e.readUint32(),this._originalDuration=e.readUint64()):(this._creationTime=e.readUint32(),this._modificationTime=e.readUint32(),this._originalTimeScale=e.readUint32(),this._originalDuration=e.readUint32()),this._timeScale=1e3,this._duration=Math.floor(this._originalDuration*this._timeScale/this._originalTimeScale);var t=e.readUint16();this._pad=t>>>15,this._language=String.fromCharCode(96+(t>>>10&31),96+(t>>>5&31),96+(31&t)),this._reserved=e.readUint16()}},{key:"duration",get:function(){return this._duration}},{key:"timeScale",get:function(){return this._timeScale}},{key:"originalDuration",get:function(){return this._originalDuration}},{key:"originalTimeScale",get:function(){return this._originalTimeScale}}]),n}();r.default=a},{"./full-box":193}],197:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.VideoFrameType={KEYFRAME:1,INTER:2,DISPOSABLE_INTER:3,GENERATED_KEYFRAME:4,INFO:5},r.VideoCodecId={NONE:-1,JPEG:1,SORENSON:2,SCREEN:3,VP6:4,VP6_ALPHA:5,SCREEN_V2:6,AVC:7},r.VideoAVCPacketType={SEQUENCE_HEADER:0,NALU:1,END_OF_SEQUENCE:2},r.VideoInfoPacket={SEEK_START:0,SEEK_END:1},r.AudioSoundFormat={NONE:-1,LINEAR:0,ADPCM:1,MP3:2,LINEAR_LE:3,NELLYMOSER_16K:4,NELLYMOSER_8K:5,NELLYMOSER:6,G711A:7,G711U:8,AAC:10,SPEEX:11,MP3_8K:14,DEVICE_SPECIFIC:15},r.AudioSoundRate={RATE5K:5512.5,RATE11K:11025,RATE22K:22050,RATE44K:44100},r.AudioSoundSize={SIZE8BITS:8,SIZE16BITS:16},r.AudioSoundChannels={MONO:1,STEREO:2}},{}],198:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._decodingTime=0,this._sampleDelta=0,this._compositionTimeOffset=0,this._offsetInFile=0,this._offsetPlayFromNow=0,this._size=0,this._codeId=0,this._seekable=!1,this._handlerType=null}return n(e,[{key:"decodingTime",get:function(){return this._decodingTime},set:function(e){this._decodingTime=e}},{key:"handlerType",get:function(){return this._handlerType},set:function(e){this._handlerType=e}},{key:"sampleDelta",get:function(){return this._sampleDelta},set:function(e){this._sampleDelta=e}},{key:"compositionTimeOffset",get:function(){return this._compositionTimeOffset},set:function(e){this._compositionTimeOffset=e}},{key:"size",get:function(){return this._size},set:function(e){this._size=e}},{key:"offsetInFile",get:function(){return this._offsetInFile},set:function(e){this._offsetInFile=e}},{key:"offsetPlayFromNow",get:function(){return this._offsetPlayFromNow},set:function(e){this._offsetPlayFromNow=e}},{key:"codecId",get:function(){return this._codeId},set:function(e){this._codeId=e}},{key:"seekable",get:function(){return this._seekable},set:function(e){this._seekable=e}}]),e}();r.default=i},{}],199:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._timeScale=0,this._duration=0,this._samples=[],this._codecs=[],this._handlerType=null,this._frameCount=0,this._originalTimeScale=0,this._originalDuration=0}return n(e,[{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e}},{key:"timeScale",get:function(){return this._timeScale},set:function(e){this._timeScale=e}},{key:"handlerType",get:function(){return this._handlerType},set:function(e){this._handlerType=e}},{key:"samples",get:function(){return this._samples}},{key:"codecs",get:function(){return this._codecs},set:function(e){this._codecs=e}},{key:"frameCount",get:function(){return this._frameCount},set:function(e){this._frameCount=e}},{key:"originalDuration",get:function(){return this._originalDuration},set:function(e){this._originalDuration=e}},{key:"originalTimeScale",get:function(){return this._originalTimeScale},set:function(e){this._originalTimeScale=e}}]),e}();r.default=i},{}],200:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._creationTime=0,r._modificationTime=0,r._timeScale=0,r._originalTimeScale=0,r._duration=0,r._originalDuration=0,r._rate=0,r._volume=0,r._reserved1=0,r._reserved2=[0,0],r._matrix=[0,0,0,0,0,0,0,0,0],r._reserved3=[0,0,0,0,0,0],r._nextTrackId=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),0!==this._version?(this._creationTime=e.readUint64(),this._modificationTime=e.readUint64(),this._originalTimeScale=e.readUint32(),this._originalDuration=e.readUint64()):(this._creationTime=e.readUint32(),this._modificationTime=e.readUint32(),this._originalTimeScale=e.readUint32(),this._originalDuration=e.readUint32()),this._timeScale=1e3,this._duration=Math.floor(this._originalDuration*this._timeScale/this._originalTimeScale),this._rate=e.readUint32()/65536,this._volume=e.readUint16()/256,this._reserved1=e.readUint16(),this._reserved2[0]=e.readUint32(),this._reserved2[1]=e.readUint32();for(var t=0;t<9;t++)this._matrix[t]=e.readUint32();for(var r=0;r<6;r++)this._reserved3[r]=e.readUint32();this._nextTrackId=e.readUint32()}},{key:"duration",get:function(){return this._duration}},{key:"timeScale",get:function(){return this._timeScale}},{key:"originalDuration",get:function(){return this._originalDuration}},{key:"originalTimeScale",get:function(){return this._originalTimeScale}}]),n}();r.default=a},{"./full-box":193}],201:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._offsetCount=0,r._offsets=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._offsetCount=e.readUint32();for(var t=0;t<this._offsetCount;t++)"stco"===this.boxType?this._offsets.push(e.readUint32()):this._offsets.push(e.readUint64())}},{key:"offsets",get:function(){return this._offsets}},{key:"offsetCount",get:function(){return this._offsetCount}}]),n}();r.default=a},{"./full-box":193}],202:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.STSCBox=r.STSCRecord=void 0;var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=function(){function e(){a(this,e),this._firstChunk=1,this._samplesPerChunk=0,this._sampleDescIndex=1}return i(e,[{key:"read",value:function(e){this._firstChunk=e.readUint32(),this._samplesPerChunk=e.readUint32(),this._sampleDescIndex=e.readUint32()}},{key:"firstChunk",get:function(){return this._firstChunk}},{key:"samplesPerChunk",get:function(){return this._samplesPerChunk}},{key:"sampleDescIndex",get:function(){return this._sampleDescIndex}}]),e}(),u=function(e){function n(e,t){a(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._count=0,r._entries=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._count=e.readUint32();for(var t=0;t<this._count;t++){var r=new f;r.read(e),this._entries.push(r)}}},{key:"count",get:function(){return this._count}},{key:"entries",get:function(){return this._entries}}]),n}();r.STSCRecord=f,r.STSCBox=u},{"./full-box":193}],203:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=i(e("./full-box")),o=i(e("./box-header")),a=e("./box-factory");function i(e){return e&&e.__esModule?e:{"default":e}}var f=function(e){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));return r._count=0,r._descriptions=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,s.default),n(i,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"read",this).call(this,e),this._count=e.readUint32();for(var t=0;t<this._count;t++){var r=new o.default;r.read(e);var n=a.BoxFactory.newBox(r,this);n.read(e),this._descriptions.push(n)}}},{key:"count",get:function(){return this._count}},{key:"descriptions",get:function(){return this._descriptions}}]),i}();r.default=f},{"./box-factory":185,"./box-header":186,"./full-box":193}],204:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._syncCount=0,r._syncTable=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._syncCount=e.readUint32();for(var t=0;t<this._syncCount;t++)this._syncTable.push(e.readUint32())}},{key:"syncCount",get:function(){return this._syncCount}},{key:"syncTable",get:function(){return this._syncTable}}]),n}();r.default=a},{"./full-box":193}],205:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._constantSize=0,r._sizeCount=0,r._sizeTable=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){if(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._constantSize=e.readUint32(),this._sizeCount=e.readUint32(),0===this._constantSize)for(var t=0;t<this._sizeCount;t++)this._sizeTable.push(e.readUint32())}},{key:"constantSize",get:function(){return this._constantSize}},{key:"sizeTable",get:function(){return this._sizeTable}}]),n}();r.default=a},{"./full-box":193}],206:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.STTSBox=r.STTSRecord=void 0;var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=function(){function e(){a(this,e),this._sampleCount=0,this._sampleDelta=0}return i(e,[{key:"read",value:function(e){this._sampleCount=e.readUint32(),this._sampleDelta=e.readUint32()}},{key:"sampleCount",get:function(){return this._sampleCount}},{key:"sampleDelta",get:function(){return this._sampleDelta}}]),e}(),u=function(e){function n(e,t){a(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._count=0,r._entries=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._count=e.readUint32();for(var t=0;t<this._count;t++){var r=new f;r.read(e),this._entries.push(r)}}},{key:"count",get:function(){return this._count}},{key:"entries",get:function(){return this._entries}}]),n}();r.STTSRecord=f,r.STTSBox=u},{"./full-box":193}],207:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._creationTime=0,r._modificationTime=0,r._trackId=0,r._reserved1=0,r._duration=0,r._reserved2=[0,0],r._layer=0,r._alternateGroup=0,r._volume=0,r._matrix=[0,0,0,0,0,0,0,0,0],r._reserved3=[0,0,0,0,0,0],r._width=0,r._height=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),0!==this._version?(this._creationTime=e.readUint64(),this._modificationTime=e.readUint64()):(this._creationTime=e.readUint32(),this._modificationTime=e.readUint32()),this._trackId=e.readUint32(),this._reserved1=e.readUint32(),0===this._version?this._duration=e.readUint32():this._duration=e.readUint64(),this._reserved2[0]=e.readUint32(),this._reserved2[1]=e.readUint32(),this._layer=e.readUint16(),this._alternateGroup=e.readUint16(),this._volume=e.readUint16()/256,this._reserved3=e.readUint16();for(var t=0;t<9;t++)this._matrix[t]=e.readUint32();this._width=e.readUint32()/65536,this._height=e.readUint32()/65536}},{key:"trackId",get:function(){return this._trackId}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),n}();r.default=a},{"./full-box":193}],208:[function(a,e,f){((function(t){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e,r=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),n=a("./box"),i=(e=n)&&e.__esModule?e:{"default":e},s=a("../protocal/byte-array");var o=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._payload=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.default),r(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._payload=new s.ByteArray(t.allocUnsafe(this.payloadSize)),this._payload=e.readBytes(this.payloadSize)}}]),n}();f.default=o})).call(this,a("buffer").Buffer)},{"../protocal/byte-array":210,"./box":188,buffer:274}],209:[function(a,e,f){((function(n){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e,t=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),r=a("./container-box"),s=(e=r)&&e.__esModule?e:{"default":e},o=a("../protocal/byte-array");var i=function(e){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));return r._reserved1=new o.ByteArray(n.allocUnsafe(6)),r._dataReferenceIndex=0,r._predefined1=0,r._reserved2=0,r._predefined2=[],r._width=0,r._height=0,r._horizResolution=0,r._vertResolution=0,r._reserved3=0,r._frameCount=0,r._compressorName=null,r._depth=0,r._predefined3=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,s.default),t(i,[{key:"read",value:function(e){var t=e.position;this._reserved1.writeBytes(e.readBytes(6)),this._dataReferenceIndex=e.readUint16(),this._predefined1=e.readUint16(),this._reserved2=e.readUint16(),this._predefined2[0]=e.readUint32(),this._predefined2[1]=e.readUint32(),this._predefined2[2]=e.readUint32(),this._width=e.readUint16(),this._height=e.readUint16(),this._horizResolution=e.readUint32()/65536,this._vertResolution=e.readUint32()/65536,this._reserved3=e.readUint32(),this._frameCount=e.readUint16();var r=e.position;this._compressorName=e.readString(32),e.position=r+32,this._depth=e.readUint16(),this._predefined3=e.readUint16();var n=this.payloadSize-(e.position-t);(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"readBoxes",this).call(this,e,n)}},{key:"frameCount",get:function(){return this._frameCount}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),i}();f.default=i})).call(this,a("buffer").Buffer)},{"../protocal/byte-array":210,"./container-box":189,buffer:274}],210:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ByteArray=r.Endian=void 0;var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("buffer"),o=e("assert"),a=(n=o)&&n.__esModule?n:{"default":n};var f={BIG_ENDIAN:!1,LITTLE_ENDIAN:!0},u=1,c=2,h=3,l=4,d=8,p=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a.default.ok(s.Buffer.isBuffer(e),"expect Buffer"),this._buf=e,this._pos=0,this._endian=f.BIG_ENDIAN}return i(t,[{key:"readUint8",value:function(){var e=this._buf.readUInt8(this._pos);return this._pos+=u,e}},{key:"writeUint8",value:function(e){this._buf.writeUInt8(e,this._pos),this._pos+=u}},{key:"readUint16",value:function(){var e=this._buf.readUInt16BE(this._pos);return this._pos+=c,e}},{key:"writeUint16",value:function(e){this._buf.writeUInt16BE(e,this._pos),this._pos+=c}},{key:"readUint24",value:function(){var e=(this._buf.readUInt8(this._pos)<<16)+(this._buf.readUInt8(this._pos+1)<<8)+this._buf.readUInt8(this._pos+2);return this._pos+=h,e}},{key:"writeUint24",value:function(e){this._buf.writeUInt8(e>>>16,this._pos),this._buf.writeUInt8((65280&e)>>>8,this._pos+1),this._buf.writeUInt8(255&e,this._pos+2),this._pos+=h}},{key:"readUint32",value:function(){var e=this._buf.readUInt32BE(this._pos);return this._pos+=l,e}},{key:"writeUint32",value:function(e){this._buf.writeUInt32BE(e,this._pos),this._pos+=l}},{key:"readUint64",value:function(){var e=this._buf.readUInt32BE(this._pos).toString(16),t=function(e,t){for(var r=t/4-e.length,n="",i=0;i<r;i++)n+="0";return n+e}(this._buf.readUInt32BE(this._pos+4).toString(16),32);return this._pos+=d,parseInt(e+t,16)}},{key:"writeUint64",value:function(e){var t=e.toString(16),r=t.length;if(0<r){var n=parseInt(t.slice(0,r-8),16);this._buf.writeUInt32BE(n,this._pos);var i=parseInt(t.slice(r-8),16);this._buf.writeUInt32BE(i,this._pos+4)}else this._buf.writeUInt32BE(0,this._pos),this._buf.writeUInt32BE(e,this._pos+4);this._pos+=d}},{key:"readString",value:function(e){for(var t="",r=0;r<e;r++)t+=String.fromCharCode(this._buf.readUInt8(this._pos)),this._pos++;return t}},{key:"writeString",value:function(e){for(var t=0,r=e.length;t<r;t++)this._buf.writeUInt8(e.charCodeAt(t),this._pos),this._pos++}},{key:"readBytes",value:function(e){var t=this._buf.slice(this._pos,this._pos+e);return this._pos+=e,t}},{key:"writeBytes",value:function(e){e.copy(this._buf,this._pos),this._pos+=e.length}},{key:"position",set:function(e){this._pos=e},get:function(){return this._pos}},{key:"buffer",get:function(){return this._buf}},{key:"bytesAvailable",get:function(){return this.length-this._pos}},{key:"length",get:function(){return this._buf.length}}]),t}();r.Endian=f,r.ByteArray=p},{assert:238,buffer:274}],211:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"getSilentFrame",value:function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),e}();r.default=i},{}],212:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function h(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h)}return n(h,null,[{key:"init",value:function(){for(var e in h.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]})h.types.hasOwnProperty(e)&&(h.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var t=h.constants={};t.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),t.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),t.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSC=t.STCO=t.STTS,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),t.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),t.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}},{key:"box",value:function(e){for(var t=8,r=null,n=Array.prototype.slice.call(arguments,1),i=n.length,s=0;s<i;s++)t+=n[s].byteLength;(r=new Uint8Array(t))[0]=t>>>24&255,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r.set(e,4);for(var o=8,a=0;a<i;a++)r.set(n[a],o),o+=n[a].byteLength;return r}},{key:"generateInitSegment",value:function(e){var t=h.box(h.types.ftyp,h.constants.FTYP),r=h.moov(e),n=new Uint8Array(t.byteLength+r.byteLength);return n.set(t,0),n.set(r,t.byteLength),n}},{key:"moov",value:function(e){var t=h.mvhd(e.timescale,e.duration),r=h.trak(e),n=h.mvex(e);return h.box(h.types.moov,t,r,n)}},{key:"mvhd",value:function(e,t){return h.box(h.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"trak",value:function(e){return h.box(h.types.trak,h.tkhd(e),h.mdia(e))}},{key:"tkhd",value:function(e){var t=e.id,r=e.duration,n=e.presentWidth,i=e.presentHeight;return h.box(h.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>>8&255,255&n,0,0,i>>>8&255,255&i,0,0]))}},{key:"mdia",value:function(e){return h.box(h.types.mdia,h.mdhd(e),h.hdlr(e),h.minf(e))}},{key:"mdhd",value:function(e){var t=e.timescale,r=e.duration;return h.box(h.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,r>>>24&255,r>>>16&255,r>>>8&255,255&r,85,196,0,0]))}},{key:"hdlr",value:function(e){var t=null;return t="audio"===e.type?h.constants.HDLR_AUDIO:h.constants.HDLR_VIDEO,h.box(h.types.hdlr,t)}},{key:"minf",value:function(e){var t=null;return t="audio"===e.type?h.box(h.types.smhd,h.constants.SMHD):h.box(h.types.vmhd,h.constants.VMHD),h.box(h.types.minf,t,h.dinf(),h.stbl(e))}},{key:"dinf",value:function(){return h.box(h.types.dinf,h.box(h.types.dref,h.constants.DREF))}},{key:"stbl",value:function(e){return h.box(h.types.stbl,h.stsd(e),h.box(h.types.stts,h.constants.STTS),h.box(h.types.stsc,h.constants.STSC),h.box(h.types.stsz,h.constants.STSZ),h.box(h.types.stco,h.constants.STCO))}},{key:"stsd",value:function(e){return"audio"===e.type?"mp3"===e.codec?h.box(h.types.stsd,h.constants.STSD_PREFIX,h.mp3(e)):h.box(h.types.stsd,h.constants.STSD_PREFIX,h.mp4a(e)):h.box(h.types.stsd,h.constants.STSD_PREFIX,h.avc1(e))}},{key:"mp3",value:function(e){var t=e.channelCount,r=e.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return h.box(h.types[".mp3"],n)}},{key:"mp4a",value:function(e){var t=e.channelCount,r=e.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return h.box(h.types.mp4a,n,h.esds(e))}},{key:"esds",value:function(e){var t=e.config||[],r=t.length,n=new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(t).concat([6,1,2]));return h.box(h.types.esds,n)}},{key:"avc1",value:function(e){var t=e.avcc,r=e.codecWidth,n=e.codecHeight,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,n>>>8&255,255&n,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return h.box(h.types.avc1,i,h.box(h.types.avcC,t))}},{key:"mvex",value:function(e){return h.box(h.types.mvex,h.trex(e))}},{key:"trex",value:function(e){var t=e.id,r=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return h.box(h.types.trex,r)}},{key:"moof",value:function(e,t){return h.box(h.types.moof,h.mfhd(e.sequenceNumber),h.traf(e,t))}},{key:"mfhd",value:function(e){var t=new Uint8Array([0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e]);return h.box(h.types.mfhd,t)}},{key:"traf",value:function(e,t){var r=e.id,n=h.box(h.types.tfhd,new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r])),i=h.box(h.types.tfdt,new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t])),s=h.sdtp(e),o=h.trun(e,s.byteLength+16+16+8+16+8+8);return h.box(h.types.traf,n,i,o,s)}},{key:"sdtp",value:function(e){for(var t=e.samples||[],r=t.length,n=new Uint8Array(4+r),i=0;i<r;i++){var s=t[i].flags;n[i+4]=s.isLeading<<6|s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy}return h.box(h.types.sdtp,n)}},{key:"trun",value:function(e,t){var r=e.samples||[],n=r.length,i=12+16*n,s=new Uint8Array(i);t+=8+i,s.set([0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,255&n,t>>>24&255,t>>>16&255,t>>>8&255,255&t],0);for(var o=0;o<n;o++){var a=r[o].duration,f=r[o].size,u=r[o].flags,c=r[o].cts;s.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,f>>>24&255,f>>>16&255,f>>>8&255,255&f,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.isNonSync,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c],12+16*o)}return h.box(h.types.trun,s)}},{key:"mdat",value:function(e){return h.box(h.types.mdat,e)}}]),h}();i.init(),r.default=i},{}],213:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),K=(i(e("../utils/logger")),i(e("./mp4-generator"))),V=i(e("./aac-silent")),W=i(e("../utils/browser")),O=i(e("../utils/polyfill")),G=e("../core/media-segment-info"),s=e("../utils/error");function i(e){return e&&e.__esModule?e:{"default":e}}function X(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._isLive=!1,this._dtsBase=0,this._dtsBaseInited=!0,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new G.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new G.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!W.default.chrome||!(W.default.version.major<50||50===W.default.version.major&&W.default.version.build<2661)),this._fillSilentAfterSeek=W.default.msedge||W.default.msie,this._mp3UseMpegAudio=!W.default.firefox,this._fillAudioTimestampGap=!0}return n(e,[{key:"destroy",value:function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}},{key:"bindDataSource",value:function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}},{key:"insertDiscontinuity",value:function(){this._audioNextDts=this._videoNextDts=void 0}},{key:"seek",value:function(){this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}},{key:"remux",value:function(e,t){if(!this._onMediaSegment)throw new s.IllegalStateError("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)}},{key:"_onTrackMetadataReceived",value:function(e,t){var r=null,n="mp4",i=t.codec;if("audio"===e)"mp3"===(this._audioMeta=t).codec&&this._mp3UseMpegAudio?(n="mpeg",i="",r=new Uint8Array):r=K.default.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,r=K.default.generateInitSegment(t)}if(!this._onInitSegment)throw new s.IllegalStateError("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:r.buffer,codec:i,container:e+"/"+n,mediaDuration:t.duration})}},{key:"_calculateDtsBase",value:function(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}},{key:"_remuxAudio",value:function(e){if(null!=this._audioMeta){var t,r=e,n=r.samples,i=void 0,s=-1,o=this._audioMeta.refSampleDuration,a="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,f=this._dtsBaseInited&&void 0===this._audioNextDts,u=!1;if(n&&0!==n.length){var c=0,h=null,l=0;a?(c=0,l=r.length):l=(c=8)+r.length;var d=n[0].dts-this._dtsBase;if(this._audioNextDts)i=d-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())i=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(u=!0);else{var p=this._audioSegmentInfoList.getLastSampleBefore(d);if(null!=p){var b=d-(p.originalDts+p.duration);b<=3&&(b=0),i=d-(p.dts+p.duration+b)}else i=0}if(u){var _=d-i,y=this._videoSegmentInfoList.getLastSegmentBefore(d);if(null!=y&&y.beginDts<_){var v=V.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(v){var m=y.beginDts;y.beginDts;n.unshift({unit:v,dts:m,pts:m}),l+=v.byteLength}}else u=!1}for(var g=[],w=0;w<n.length;w++){var S=n[w],k=S.unit,E=S.dts-this._dtsBase,x=E-i;-1===s&&(s=x);var M=0;if(w!==n.length-1)M=n[w+1].dts-this._dtsBase-i-x;else M=1<=g.length?g[g.length-1].duration:Math.floor(o);var I=!1,T=null;if(1.5*o<M&&"mp3"!==this._audioMeta.codec&&this._fillAudioTimestampGap&&!W.default.safari){I=!0;var C=Math.abs(M-o),j=Math.ceil(C/o),O=x+o,A=V.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==A&&(A=k),T=[];for(var P=0;P<j;P++){var B=Math.round(O);if(0<T.length){var R=T[T.length-1];R.duration=B-R.dts}var D={dts:B,pts:B,cts:0,unit:A,size:A.byteLength,duration:0,originalDts:E,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};T.push(D),l+=D.unit.byteLength,O+=o}var L=T[T.length-1];L.duration=x+M-L.dts,M=Math.round(o)}g.push({dts:x,pts:x,cts:0,unit:S.unit,size:S.unit.byteLength,duration:M,originalDts:E,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),I&&g.push.apply(g,X(T))}a?h=new Uint8Array(l):((h=new Uint8Array(l))[0]=l>>>24&255,h[1]=l>>>16&255,h[2]=l>>>8&255,h[3]=255&l,h.set(K.default.types.mdat,4));for(var U=0;U<g.length;U++){var N=g[U].unit;h.set(N,c),c+=N.byteLength}var q=g[g.length-1];t=q.dts+q.duration,this._audioNextDts=t;var F=new G.MediaSegmentInfo;F.beginDts=s,F.endDts=t,F.beginPts=s,F.endPts=t,F.originalBeginDts=g[0].originalDts,F.originalEndDts=q.originalDts+q.duration,F.firstSample=new G.SampleInfo(g[0].dts,g[0].pts,g[0].duration,g[0].originalDts,!1),F.lastSample=new G.SampleInfo(q.dts,q.pts,q.duration,q.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(F),r.samples=g,r.sequenceNumber++;var z=null;z=a?new Uint8Array:K.default.moof(r,s),r.samples=[],r.length=0;var H={type:"audio",data:this._mergeBoxes(z,h).buffer,sampleCount:g.length,info:F};a&&f&&(H.timestampOffset=s),this._onMediaSegment("audio",H)}}}},{key:"_remuxVideo",value:function(e){if(null!=this._videoMeta){var t,r,n=e,i=n.samples,s=void 0,o=-1,a=-1;if(i&&0!==i.length){var f=8,u=8+e.length,c=new Uint8Array(u);c[0]=u>>>24&255,c[1]=u>>>16&255,c[2]=u>>>8&255,c[3]=255&u,c.set(K.default.types.mdat,4);var h=i[0].dts-this._dtsBase;if(this._videoNextDts)s=h-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())s=0;else{var l=this._videoSegmentInfoList.getLastSampleBefore(h);if(null!=l){var d=h-(l.originalDts+l.duration);d<=3&&(d=0),s=h-(l.dts+l.duration+d)}else s=0}for(var p=new G.MediaSegmentInfo,b=[],_=0;_<i.length;_++){var y=i[_],v=y.dts-this._dtsBase,m=y.isKeyframe,g=v-s,w=y.cts,S=g+w;-1===o&&(o=g,a=S);var k=0;if(_!==i.length-1)k=i[_+1].dts-this._dtsBase-s-g;else k=1<=b.length?b[b.length-1].duration:Math.floor(this._videoMeta.refSampleDuration);if(O.default.isRealNaN(k)&&(k=i[0].duration),m){var E=new G.SampleInfo(g,S,k,y.dts,!0);E.fileposition=y.fileposition,p.appendSyncPoint(E)}b.push({dts:g,pts:S,cts:w,units:y.units,size:y.length,isKeyframe:m,duration:k,originalDts:v,flags:{isLeading:0,dependsOn:m?2:1,isDependedOn:m?1:0,hasRedundancy:0,isNonSync:m?0:1}})}for(var x=0;x<b.length;x++)for(var M=b[x].units;M.length;){var I=M.shift().data;c.set(I,f),f+=I.byteLength}var T=b[b.length-1];if(t=T.dts+T.duration,r=T.pts+T.duration,this._videoNextDts=t,p.beginDts=o,p.endDts=t,p.beginPts=a,p.endPts=r,p.originalBeginDts=b[0].originalDts,p.originalEndDts=T.originalDts+T.duration,p.firstSample=new G.SampleInfo(b[0].dts,b[0].pts,b[0].duration,b[0].originalDts,b[0].isKeyframe),p.lastSample=new G.SampleInfo(T.dts,T.pts,T.duration,T.originalDts,T.isKeyframe),this._isLive||this._videoSegmentInfoList.append(p),n.samples=b,n.sequenceNumber++,this._forceFirstIDR){var C=b[0].flags;C.dependsOn=2,C.isNonSync=0}var j=K.default.moof(n,o);n.samples=[],n.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(j,c).buffer,sampleCount:b.length,info:p})}}}},{key:"_mergeBoxes",value:function(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(e,0),r.set(t,e.byteLength),r}},{key:"onInitSegment",get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e}},{key:"onMediaSegment",get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e}}]),e}();r.default=o},{"../core/media-segment-info":171,"../utils/browser":214,"../utils/error":218,"../utils/logger":219,"../utils/polyfill":220,"./aac-silent":211,"./mp4-generator":212}],214:[function(e,t,r){arguments[4][24][0].apply(r,arguments)},{dup:24}],215:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.readViewUint64=function(e,t){var r=e.getUint32(t,!1).toString(16),n=i(e.getUint32(t+4,!1).toString(16),32);return parseInt(r+n,16)};var i=function(e,t){for(var r=t/4-e.length,n="",i=0;i<r;i++)n+="0";return n+e}},{}],216:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.mediaElement=e.media||e.video||e.audio;var t=e.bufferLengthLimit||10;this.bufferLengthLimit=Math.max(t,10),this.clear()}return n(r,[{key:"isBuffered",value:function(e){var t=this.mediaElement;if(!t)return!1;for(var r=0;r<t.buffered.length;r++)if(e>=t.buffered.start(r)&&e<t.buffered.end(r))return!0;return!1}},{key:"getBufferedEnd",value:function(e){var t=this.mediaElement;if(!t)return 0;for(var r=0;r<t.buffered.length;r++)if(e>=t.buffered.start(r)&&e<t.buffered.end(r))return t.buffered.end(r);return 0}},{key:"getTimeFromRange",value:function(e){for(var t=0,r=0;r<e.length;r++)t+=e.end(r)-e.start(r);return t}},{key:"parseTimeRanges",value:function(e){for(var t="length: "+e.length+", ranges: ",r=0;r<e.length;r++)t+="("+e.start(r)+", "+e.end(r)+")";return t}},{key:"clear",value:function(){this.fileType="",this.firstFrame=0,this.fileSize=0,this.isSeeking=!1,this.seekTime=0,this.openTick=0,this.timeStat=[]}},{key:"dispose",value:function(){this.mediaElement=null,this.clear()}},{key:"bufferLength",get:function(){var e=this.mediaElement;if(!e||!e.buffered||0===e.buffered.length)return 0;for(var t=0,r=e.buffered.length;t<r;t++){var n=e.buffered.start(t),i=e.buffered.end(t);if(e.currentTime>=n&&e.currentTime<i)return i-e.currentTime}return 0}},{key:"playTime",get:function(){var e=this.mediaElement;return e&&void 0!==e.currentTime?e.currentTime:0}},{key:"buffered",get:function(){var e=this.mediaElement;return e?this.parseTimeRanges(e.buffered):[]}},{key:"played",get:function(){var e=this.mediaElement;return e?this.parseTimeRanges(e.played):[]}}]),r}();r.default=i},{}],217:[function(s,e,o){((function(t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e,r=s("./browser"),n=(e=r)&&e.__esModule?e:{"default":e};var i="function"==typeof Object.create?Object.create(null):{};i.VERSION="1.3.9",i.WSS_PORT=8443,i.MAX_CACHE_SIZE=37748736,i.RESERVED_CACHE_SIZE=2097152,i.MAX_READING_LENGTH=2097152,i.FILE_TYPE_MP4="mp4",i.FILE_TYPE_MP3="mp3",i.FILE_TYPE_FLV="flv",i.isHttps=function(){if(!t.document||!t.document.location)return!1;return/^https:/.test(t.document.location.href)}(),i.http=i.isHttps?"https":"http",i.ws=i.isHttps?"wss":"ws",i.userAgent=t.navigator&&t.navigator.userAgent?t.navigator.userAgent:"",i.isFetchStreamSupported=function(){try{return!(!t.fetch||!t.ReadableStream||n.default.msedge)}catch(e){return!1}}(),i.isMozChunkedSupported=function(){if(!n.default.firefox)return!1;try{var e=new t.XMLHttpRequest;return e.open("GET","https://example.com",!0),(e.responseType="moz-chunked-arraybuffer")===e.responseType}catch(e){return!1}}(),i.isMSEH264Supported=t.MediaSource&&t.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o.default=i})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":214}],218:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=r.RuntimeError=function(){function t(e){o(this,t),this.message=e}return n(t,[{key:"toString",value:function(){return this.name+": "+this.message}},{key:"name",get:function(){return"RuntimeError"}}]),t}();r.IllegalStateError=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,a),n(t,[{key:"name",get:function(){return"IllegalStateError"}}]),t}(),r.InvalidArgumentError=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,a),n(t,[{key:"name",get:function(){return"InvalidArgumentError"}}]),t}(),r.NetworkError=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,a),n(t,[{key:"name",get:function(){return"NetworkError"}}]),t}(),r.MediaError=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,a),n(t,[{key:"name",get:function(){return"MediaError"}}]),t}(),r.OtherError=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,a),n(t,[{key:"name",get:function(){return"OtherError"}}]),t}()},{}],219:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("../../../xyvod-core-general/build/utils/logger"),s=(n=i)&&n.__esModule?n:{"default":n};r.default=s.default},{"../../../xyvod-core-general/build/utils/logger":30}],220:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"isNumber",value:function(e){return e===+e}},{key:"isInteger",value:function(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&e%1==0}},{key:"isRealNaN",value:function(e){return e!==e}}]),e}();r.default=i},{}],221:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./range"),c=(n=s)&&n.__esModule?n:{"default":n};var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ranges=[],this._start=0,this._end=0}return i(e,[{key:"isIn",value:function(e){for(var t=!1,r=0,n=this._ranges.length;r<n;r++){if(this._ranges[r].isIn(e)){t=!0;break}}return t}},{key:"getRange",value:function(e){for(var t=null,r=0,n=this._ranges.length;r<n;r++){var i=this._ranges[r];if(i.isIn(e)){t=i;break}}return t}},{key:"isContained",value:function(e){if(0===e.length)throw new RangeError("isContained, range.length is 0");if(0===this._ranges.length)return!1;for(var t=0,r=this._ranges.length;t<r;t++)if(this._ranges[t].isContained(e))return!0;return!1}},{key:"addRange",value:function(e){if(0===e.length)throw new RangeError("addRange, range.length is 0");var t=this._ranges.length;if(0===t||this._end<e.position)this._ranges.push(e.clone());else if(this._start>e.end)this._ranges.unshift(e.clone());else{for(var r=0,n=t-1;0<=n;n--){if(this._ranges[n].end<e.position){r=n+1;break}}for(var i=t-1,s=0;s<t;s++){if(this._ranges[s].position>e.end){i=s-1;break}}var o=this._ranges[r],a=this._ranges[i],f=e.clone();e.position>=o.position&&e.position<=o.end&&(f=f.merge(o,!0)),e.end>=a.position&&e.end<=a.end&&(f=f.merge(a,!0)),this._ranges.splice(r,i-r+1,f)}this._updateBound()}},{key:"removeRange",value:function(e){var t;if(0===e.length)throw new RangeError("removeRange, range.length is 0");if(e.position<this._start||e.end>this._end)throw new RangeError("removeRange, range is out of bounds");var r=this._ranges.length;if(!(0===r||this._end<=e.position||this._start>=e.end)){for(var n=0,i=r-1;0<=i;i--){if(this._ranges[i].end<e.position){n=i+1;break}}for(var s=r-1,o=0;o<r;o++){if(this._ranges[o].position>e.end){s=o-1;break}}var a=this._ranges[n],f=this._ranges[s],u=[];e.position>a.position&&e.position<a.end&&u.push(new c.default(a.position,e.position-a.position)),e.end>f.position&&e.end<f.end&&u.push(new c.default(e.end,f.end-e.end)),(t=this._ranges).splice.apply(t,[n,s-n+1].concat(u)),this._updateBound()}}},{key:"equalTo",value:function(e){if(this._ranges.length!==e.ranges.length)return!1;for(var t=0,r=this._ranges.length;t<r;t++)if(!this._ranges[t].equalTo(e.ranges[t]))return!1;return!0}},{key:"clear",value:function(){this._ranges=[],this._start=0,this._end=0}},{key:"toString",value:function(){return"{"+this._ranges.join(",")+"}"}},{key:"_updateBound",value:function(){0!==this._ranges.length&&(this._start=this._ranges[0].position,this._end=this._ranges[this._ranges.length-1].end)}},{key:"length",get:function(){var t=0;return this._ranges.forEach(function(e){t+=e.length}),t}},{key:"ranges",get:function(){return this._ranges}},{key:"end",get:function(){return this._end}},{key:"start",get:function(){return this._start}}]),e}();r.default=o},{"./range":222}],222:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.assign(e,t)}return n(r,[{key:"assign",value:function(e,t){this._pos=e,this._length=t,this._end=e+t}},{key:"isIn",value:function(e){return e>=this._pos&&e<this._end}},{key:"isContained",value:function(e){if(0===e.length)throw new RangeError("isContained, range.length is 0");return e.position>=this._pos&&e.end<=this._end}},{key:"isFullRange",value:function(){return 0===this._pos&&this._length===r.MAX_LENGTH}},{key:"equalTo",value:function(e){return this._pos===e.position&&this._length===e.length}},{key:"toString",value:function(){return"["+this._pos+","+this._length+","+this._end+")"}},{key:"clone",value:function(){return new r(this._pos,this._length)}},{key:"canMerge",value:function(e){if(0===e.length)throw new RangeError("canMerge, range.length is 0");return!(e.end<this._pos||this._end<e.position)}},{key:"merge",value:function(e){if(!(1<arguments.length&&void 0!==arguments[1]&&arguments[1])&&!this.canMerge(e))throw new RangeError("merge, over bound");var t=Math.min(this._pos,e.position);return new r(t,Math.max(this._end,e.end)-t)}},{key:"intersect",value:function(e){if(0===e.length)throw new RangeError("intersect, range.length is 0");if(e.end<=this._pos||this._end<=e.position)return null;var t=this._pos<e.position?e.position:this._pos;return new r(t,(this._end>e.end?e.end:this._end)-t)}},{key:"position",get:function(){return this._pos}},{key:"length",get:function(){return this._length}},{key:"end",get:function(){return this._end}}]),r}();i.MAX_LENGTH=0xffffffffffff,r.default=i},{}],223:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PlayerEvent=r.XYVODPlayer=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=i(e("events")),o=i(e("./utils/logger")),a=i(e("./core/transmuxer")),f=i(e("./utils/polyfill")),u=e("./utils/error"),c=i(e("./utils/common-info"));function i(e){return e&&e.__esModule?e:{"default":e}}var h=new WeakMap,l=0,d=1,p=2,b={ERROR:"error"},_=function(e,t){if(e===p)throw new u.IllegalStateError("XYVODPlayer is already DISPOSED, need to reconstruct");if("load"===t&&e===d)throw new u.IllegalStateError("XYVODPlayer is LOADING")},y=function(){function i(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),!e)throw new u.InvalidArgumentError("XYVODPlayer constructor, expect options");if(!e.media&&!e.video&&!e.audio)throw new u.InvalidArgumentError("XYVODPlayer constructor, expect options.video");f.default.isInteger(e.logLevel)&&(o.default.Level=e.logLevel),o.default.NamingSpace="Player",o.default.Level=99;var t=new c.default(e),r=new a.default(t,e),n=new s.default;r.onError=function(e){n.emit(b.ERROR,e)},h.set(this,{transmuxer:r,info:t,emitter:n,readyState:l})}return n(i,[{key:"on",value:function(e,t){_(this.readyState),h.get(this).emitter.addListener(e,t)}},{key:"off",value:function(e,t){_(this.readyState);var r=h.get(this).emitter;e?t?r.removeListener(e,t):r.removeAllListeners(e):r.removeAllListeners()}},{key:"dispose",value:function(){h.get(this).transmuxer&&(h.get(this).transmuxer.dispose(),h.get(this).transmuxer=null),h.get(this).info&&(h.get(this).info.dispose(),h.get(this).info=null),h.get(this).emitter&&(h.get(this).emitter.removeAllListeners(),h.get(this).emitter=null),h.get(this).readyState=p}},{key:"load",value:function(e){if(_(this.readyState,"load"),!e)throw new u.InvalidArgumentError("url is not correct");h.get(this).transmuxer.open(e),h.get(this).readyState=d}},{key:"unload",value:function(){_(this.readyState),h.get(this).transmuxer.close(),h.get(this).readyState=l}},{key:"play",value:function(){return _(this.readyState),h.get(this).info.mediaElement.play()}},{key:"pause",value:function(){_(this.readyState),h.get(this).info.mediaElement.pause()}},{key:"seek",value:function(e){if(_(this.readyState),!f.default.isNumber(e))throw new u.InvalidArgumentError("second must be a number");e<h.get(this).info.mediaElement.duration?h.get(this).transmuxer.seek(e):this.unload()}},{key:"readyState",get:function(){return h.get(this).readyState}},{key:"info",get:function(){var e=h.get(this).info;return e&&e.getCustomerInfo?e.getCustomerInfo():{}}}]),i}();r.XYVODPlayer=y,r.PlayerEvent=b},{"./core/transmuxer":173,"./utils/common-info":216,"./utils/error":218,"./utils/logger":219,"./utils/polyfill":220,events:309}],224:[function(e,t,r){var n=r;n.bignum=e("bn.js"),n.define=e("./asn1/api").define,n.base=e("./asn1/base"),n.constants=e("./asn1/constants"),n.decoders=e("./asn1/decoders"),n.encoders=e("./asn1/encoders")},{"./asn1/api":225,"./asn1/base":227,"./asn1/constants":231,"./asn1/decoders":233,"./asn1/encoders":236,"bn.js":243}],225:[function(e,t,r){var n=e("../asn1"),i=e("inherits");function s(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}r.define=function(e,t){return new s(e,t)},s.prototype._createNamed=function(t){var r;try{r=e("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){r=function(e){this._initNamed(e)}}return i(r,t),r.prototype._initNamed=function(e){t.call(this,e)},new r(this)},s.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},s.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},s.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},s.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},{"../asn1":224,inherits:327,vm:388}],226:[function(e,t,r){var n=e("inherits"),i=e("../base").Reporter,s=e("buffer").Buffer;function o(e,t){i.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function a(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof a||(e=new a(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(o,i),(r.DecoderBuffer=o).prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},o.prototype.restore=function(e){var t=new o(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},o.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new o(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},o.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},(r.EncoderBuffer=a).prototype.join=function(t,r){return t||(t=new s(this.length)),r||(r=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(e){e.join(t,r),r+=e.length}):("number"==typeof this.value?t[r]=this.value:"string"==typeof this.value?t.write(this.value,r):s.isBuffer(this.value)&&this.value.copy(t,r),r+=this.length)),t}},{"../base":227,buffer:274,inherits:327}],227:[function(e,t,r){var n=r;n.Reporter=e("./reporter").Reporter,n.DecoderBuffer=e("./buffer").DecoderBuffer,n.EncoderBuffer=e("./buffer").EncoderBuffer,n.Node=e("./node")},{"./buffer":226,"./node":228,"./reporter":229}],228:[function(e,t,r){var c=e("../base").Reporter,n=e("../base").EncoderBuffer,d=e("../base").DecoderBuffer,i=e("minimalistic-assert"),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],o=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function a(e,t){var r={};(this._baseState=r).enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=a;var f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];a.prototype.clone=function(){var t=this._baseState,r={};f.forEach(function(e){r[e]=t[e]});var e=new this.constructor(r.parent);return e._baseState=r,e},a.prototype._wrap=function(){var r=this._baseState;o.forEach(function(t){this[t]=function(){var e=new this.constructor(this);return r.children.push(e),e[t].apply(e,arguments)}},this)},a.prototype._init=function(e){var t=this._baseState;i(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),i.equal(t.children.length,1,"Root node can have only one child")},a.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(i(null===t.children),(t.children=r).forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(i(null===t.args),t.args=e,t.reverseArgs=e.map(function(r){if("object"!=typeof r||r.constructor!==Object)return r;var n={};return Object.keys(r).forEach(function(e){e==(0|e)&&(e|=0);var t=r[e];n[t]=e}),n}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){a.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),s.forEach(function(r){a.prototype[r]=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return i(null===e.tag),e.tag=r,this._useArgs(t),this}}),a.prototype.use=function(e){i(e);var t=this._baseState;return i(null===t.use),t.use=e,this},a.prototype.optional=function(){return this._baseState.optional=!0,this},a.prototype.def=function(e){var t=this._baseState;return i(null===t.default),t.default=e,t.optional=!0,this},a.prototype.explicit=function(e){var t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.explicit=e,this},a.prototype.implicit=function(e){var t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.implicit=e,this},a.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},a.prototype.key=function(e){var t=this._baseState;return i(null===t.key),t.key=e,this},a.prototype.any=function(){return this._baseState.any=!0,this},a.prototype.choice=function(t){var e=this._baseState;return i(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},a.prototype.contains=function(e){var t=this._baseState;return i(null===t.use),t.contains=e,this},a.prototype._decode=function(t,r){var e=this._baseState;if(null===e.parent)return t.wrapResult(e.children[0]._decode(t,r));var n,i=e.default,s=!0,o=null;if(null!==e.key&&(o=t.enterKey(e.key)),e.optional){var a=null;if(null!==e.explicit?a=e.explicit:null!==e.implicit?a=e.implicit:null!==e.tag&&(a=e.tag),null!==a||e.any){if(s=this._peekTag(t,a,e.any),t.isError(s))return s}else{var f=t.save();try{null===e.choice?this._decodeGeneric(e.tag,t,r):this._decodeChoice(t,r),s=!0}catch(e){s=!1}t.restore(f)}}if(e.obj&&s&&(n=t.enterObject()),s){if(null!==e.explicit){var u=this._decodeTag(t,e.explicit);if(t.isError(u))return u;t=u}var c=t.offset;if(null===e.use&&null===e.choice){if(e.any)f=t.save();var h=this._decodeTag(t,null!==e.implicit?e.implicit:e.tag,e.any);if(t.isError(h))return h;e.any?i=t.raw(f):t=h}if(r&&r.track&&null!==e.tag&&r.track(t.path(),c,t.length,"tagged"),r&&r.track&&null!==e.tag&&r.track(t.path(),t.offset,t.length,"content"),i=e.any?i:null===e.choice?this._decodeGeneric(e.tag,t,r):this._decodeChoice(t,r),t.isError(i))return i;if(e.any||null!==e.choice||null===e.children||e.children.forEach(function(e){e._decode(t,r)}),e.contains&&("octstr"===e.tag||"bitstr"===e.tag)){var l=new d(i);i=this._getUse(e.contains,t._reporterState.obj)._decode(l,r)}}return e.obj&&s&&(i=t.leaveObject(n)),null===e.key||null===i&&!0!==s?null!==o&&t.exitKey(o):t.leaveKey(o,e.key,i),i},a.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},a.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),i(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},a.prototype._decodeChoice=function(i,s){var o=this._baseState,a=null,f=!1;return Object.keys(o.choice).some(function(e){var t=i.save(),r=o.choice[e];try{var n=r._decode(i,s);if(i.isError(n))return!1;a={type:e,value:n},f=!0}catch(e){return i.restore(t),!1}return!0},this),f?a:i.error("Choice not matched")},a.prototype._createEncoderBuffer=function(e){return new n(e,this.reporter)},a.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},a.prototype._encodeValue=function(n,i,e){var t=this._baseState;if(null===t.parent)return t.children[0]._encode(n,i||new c);var r=null;if(this.reporter=i,t.optional&&void 0===n){if(null===t.default)return;n=t.default}var s=null,o=!1;if(t.any)r=this._createEncoderBuffer(n);else if(t.choice)r=this._encodeChoice(n,i);else if(t.contains)s=this._getUse(t.contains,e)._encode(n,i),o=!0;else if(t.children)s=t.children.map(function(e){if("null_"===e._baseState.tag)return e._encode(null,i,n);if(null===e._baseState.key)return i.error("Child should have a key");var t=i.enterKey(e._baseState.key);if("object"!=typeof n)return i.error("Child expected, but input is not object");var r=e._encode(n[e._baseState.key],i,n);return i.leaveKey(t),r},this).filter(function(e){return e}),s=this._createEncoderBuffer(s);else if("seqof"===t.tag||"setof"===t.tag){if(!t.args||1!==t.args.length)return i.error("Too many args for : "+t.tag);if(!Array.isArray(n))return i.error("seqof/setof, but data is not Array");var a=this.clone();a._baseState.implicit=null,s=this._createEncoderBuffer(n.map(function(e){var t=this._baseState;return this._getUse(t.args[0],n)._encode(e,i)},a))}else null!==t.use?r=this._getUse(t.use,e)._encode(n,i):(s=this._encodePrimitive(t.tag,n),o=!0);if(!t.any&&null===t.choice){var f=null!==t.implicit?t.implicit:t.tag,u=null===t.implicit?"universal":"context";null===f?null===t.use&&i.error("Tag could be omitted only for .use()"):null===t.use&&(r=this._encodeComposite(f,o,u,s))}return null!==t.explicit&&(r=this._encodeComposite(t.explicit,!1,"context",r)),r},a.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||i(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},a.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},a.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},a.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},{"../base":227,"minimalistic-assert":332}],229:[function(e,t,r){var n=e("inherits");function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function s(e,t){this.path=e,this.rethrow(t)}(r.Reporter=i).prototype.isError=function(e){return e instanceof s},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof s;if(t=n?e:new s(r.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(s,Error),s.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:327}],230:[function(e,t,r){var n=e("../constants");r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=n._reverse(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=n._reverse(r.tag)},{"../constants":231}],231:[function(e,t,r){var n=r;n._reverse=function(r){var n={};return Object.keys(r).forEach(function(e){(0|e)==e&&(e|=0);var t=r[e];n[t]=e}),n},n.der=e("./der")},{"./der":230}],232:[function(e,t,r){var n=e("inherits"),i=e("../../asn1"),s=i.base,o=i.bignum,a=i.constants.der;function f(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.Node.call(this,"der",e)}function c(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){var s=r;for(r=0;128==(128&s);){if(s=e.readUInt8(t),e.isError(s))return s;r<<=7,r|=127&s}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;var i=127&n;if(4<i)return e.error("length octect is too long");for(var s=n=0;s<i;s++){n<<=8;var o=e.readUInt8(r);if(e.isError(o))return o;n|=o}return n}(t.exports=f).prototype.decode=function(e,t){return e instanceof s.DecoderBuffer||(e=new s.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(u,s.Node),u.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=c(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},u.prototype._decodeTag=function(e,t,r){var n=c(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=h(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var s=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(i=e.offset-s.offset,e.restore(s),e.skip(i,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){var r=c(e,t);if(e.isError(r))return r;var n,i=h(e,r.primitive,t);if(e.isError(i))return i;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},u.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var s=this._peekTag(e,"end");if(e.isError(s))return s;var o=r.decode(e,"der",n);if(e.isError(o)&&s)break;i.push(o)}return i},u.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(2*s));return i}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,r){for(var n,i=[],s=0;!e.isEmpty();){var o=e.readUInt8();s<<=7,s|=127&o,0==(128&o)&&(i.push(s),s=0)}128&o&&i.push(s);var a=i[0]/40|0,f=i[0]%40;if(n=r?i:[a,f].concat(i.slice(1)),t){var u=t[n.join(" ")];void 0===u&&(u=t[n.join(".")]),void 0!==u&&(n=u)}return n},u.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var n=0|r.slice(0,4),i=0|r.slice(4,6),s=0|r.slice(6,8),o=0|r.slice(8,10),a=0|r.slice(10,12),f=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),s=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),f=0|r.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,s,o,a,f,0)},u.prototype._decodeNull=function(e){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){var r=e.raw(),n=new o(r);return t&&(n=t[n.toString(10)]||n),n},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},{"../../asn1":224,inherits:327}],233:[function(e,t,r){var n=r;n.der=e("./der"),n.pem=e("./pem")},{"./der":232,"./pem":234}],234:[function(e,t,r){var n=e("inherits"),h=e("buffer").Buffer,l=e("./der");function i(e){l.call(this,e),this.enc="pem"}n(i,l),(t.exports=i).prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,o=-1,a=0;a<r.length;a++){var f=r[a].match(i);if(null!==f&&f[2]===n){if(-1!==s){if("END"!==f[1])break;o=a;break}if("BEGIN"!==f[1])break;s=a}}if(-1===s||-1===o)throw new Error("PEM section not found for: "+n);var u=r.slice(s+1,o).join("");u.replace(/[^a-z0-9\+\/=]+/gi,"");var c=new h(u,"base64");return l.prototype.decode.call(this,c,t)}},{"./der":232,buffer:274,inherits:327}],235:[function(e,t,r){var n=e("inherits"),u=e("buffer").Buffer,i=e("../../asn1"),s=i.base,c=i.constants.der;function o(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new a,this.tree._init(e.body)}function a(e){s.Node.call(this,"der",e)}function f(e){return e<10?"0"+e:e}(t.exports=o).prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(a,s.Node),a.prototype._encodeComposite=function(e,t,r,n){var i,s=function(e,t,r,n){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(c.tagByName.hasOwnProperty(e))i=c.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}if(31<=i)return n.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=c.tagClassByName[r||"universal"]<<6}(e,t,r,this.reporter);if(n.length<128)return(i=new u(2))[0]=s,i[1]=n.length,this._createEncoderBuffer([i,n]);for(var o=1,a=n.length;256<=a;a>>=8)o++;(i=new u(2+o))[0]=s,i[1]=128|o;a=1+o;for(var f=n.length;0<f;a--,f>>=8)i[a]=255&f;return this._createEncoderBuffer([i,n])},a.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=new u(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},a.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(40<=e[1])return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var i=0;for(n=0;n<e.length;n++){var s=e[n];for(i++;128<=s;s>>=7)i++}var o=new u(i),a=o.length-1;for(n=e.length-1;0<=n;n--){s=e[n];for(o[a--]=127&s;0<(s>>=7);)o[a--]=128|127&s}return this._createEncoderBuffer(o)},a.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[f(n.getFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[f(n.getFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},a.prototype._encodeNull=function(){return this._createEncoderBuffer("")},a.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!u.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=new u(r)}if(u.isBuffer(e)){var n=e.length;0===e.length&&n++;var i=new u(n);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);n=1;for(var s=e;256<=s;s>>=8)n++;for(s=(i=new Array(n)).length-1;0<=s;s--)i[s]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new u(i))},a.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},a.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},a.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var s=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),s.length!==i.defaultBuffer.length)return!1;for(n=0;n<s.length;n++)if(s[n]!==i.defaultBuffer[n])return!1;return!0}},{"../../asn1":224,buffer:274,inherits:327}],236:[function(e,t,r){var n=r;n.der=e("./der"),n.pem=e("./pem")},{"./der":235,"./pem":237}],237:[function(e,t,r){var n=e("inherits"),s=e("./der");function i(e){s.call(this,e),this.enc="pem"}n(i,s),(t.exports=i).prototype.encode=function(e,t){for(var r=s.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],i=0;i<r.length;i+=64)n.push(r.slice(i,i+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},{"./der":235,inherits:327}],238:[function(w,S,e){((function(t){"use strict";function s(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var c=w("util/"),n=Object.prototype.hasOwnProperty,h=Array.prototype.slice,r="foo"===function(){}.name;function a(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var u=S.exports=e,i=/\s*function\s+([^\(\s]*)\s*/;function l(e){if(c.isFunction(e)){if(r)return e.name;var t=e.toString().match(i);return t&&t[1]}}function d(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function p(e){if(r||!c.isFunction(e))return c.inspect(e);var t=l(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,r,n,i){throw new u.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function e(e,t){e||b(e,!0,t,"==",u.ok)}function _(e,t,r,n){if(e===t)return!0;if(o(e)&&o(t))return 0===s(e,t);if(c.isDate(e)&&c.isDate(t))return e.getTime()===t.getTime();if(c.isRegExp(e)&&c.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&a(e)===a(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===s(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==i&&i===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(c.isPrimitive(e)||c.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=y(e),s=y(t);if(i&&!s||!i&&s)return!1;if(i)return e=h.call(e),t=h.call(t),_(e,t,r);var o,a,f=g(e),u=g(t);if(f.length!==u.length)return!1;for(f.sort(),u.sort(),a=f.length-1;0<=a;a--)if(f[a]!==u[a])return!1;for(a=f.length-1;0<=a;a--)if(o=f[a],!_(e[o],t[o],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function y(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function v(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function m(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&b(i,r,"Missing expected exception"+n);var s="string"==typeof n,o=!e&&i&&!r;if((!e&&c.isError(i)&&s&&v(i,r)||o)&&b(i,r,"Got unwanted exception"+n),e&&i&&r&&!v(i,r)||!e&&i)throw i}u.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=d(p((t=this).actual),128)+" "+t.operator+" "+d(p(t.expected),128),this.generatedMessage=!0);var r=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var i=n.stack,s=l(r),o=i.indexOf("\n"+s);if(0<=o){var a=i.indexOf("\n",o+1);i=i.substring(a+1)}this.stack=i}}},c.inherits(u.AssertionError,Error),u.fail=b,u.ok=e,u.equal=function(e,t,r){e!=t&&b(e,t,r,"==",u.equal)},u.notEqual=function(e,t,r){e==t&&b(e,t,r,"!=",u.notEqual)},u.deepEqual=function(e,t,r){_(e,t,!1)||b(e,t,r,"deepEqual",u.deepEqual)},u.deepStrictEqual=function(e,t,r){_(e,t,!0)||b(e,t,r,"deepStrictEqual",u.deepStrictEqual)},u.notDeepEqual=function(e,t,r){_(e,t,!1)&&b(e,t,r,"notDeepEqual",u.notDeepEqual)},u.notDeepStrictEqual=function e(t,r,n){_(t,r,!0)&&b(t,r,n,"notDeepStrictEqual",e)},u.strictEqual=function(e,t,r){e!==t&&b(e,t,r,"===",u.strictEqual)},u.notStrictEqual=function(e,t,r){e===t&&b(e,t,r,"!==",u.notStrictEqual)},u.throws=function(e,t,r){m(!0,e,t,r)},u.doesNotThrow=function(e,t,r){m(!1,e,t,r)},u.ifError=function(e){if(e)throw e};var g=Object.keys||function(e){var t=[];for(var r in e)n.call(e,r)&&t.push(r);return t}})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":241}],239:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],240:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],241:[function(l,e,I){((function(n,i){var a=/%[sdj%]/g;I.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(f(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(e).replace(a,function(e){if("%%"===e)return"%";if(i<=r)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"};default:return e}}),o=n[r];r<i;o=n[++r])v(o)||!c(o)?s+=" "+o:s+=" "+f(o);return s},I.deprecate=function(e,t){if(w(i.process))return function(){return I.deprecate(e,t).apply(this,arguments)};if(!0===n.noDeprecation)return e;var r=!1;return function(){if(!r){if(n.throwDeprecation)throw new Error(t);n.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}};var e,s={};function f(e,t){var r={seen:[],stylize:u};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),y(t)?r.showHidden=t:t&&I._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),d(r,e,r.depth)}function o(e,t){var r=f.styles[t];return r?"["+f.colors[r][0]+"m"+e+"["+f.colors[r][1]+"m":e}function u(e,t){return e}function d(t,r,n){if(t.customInspect&&r&&x(r.inspect)&&r.inspect!==I.inspect&&(!r.constructor||r.constructor.prototype!==r)){var e=r.inspect(n,t);return g(e)||(e=d(t,e,n)),e}var i=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(t,r);if(i)return i;var s,o=Object.keys(r),a=(s={},o.forEach(function(e,t){s[e]=!0}),s);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),E(r)&&(0<=o.indexOf("message")||0<=o.indexOf("description")))return p(r);if(0===o.length){if(x(r)){var f=r.name?": "+r.name:"";return t.stylize("[Function"+f+"]","special")}if(S(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(k(r))return t.stylize(Date.prototype.toString.call(r),"date");if(E(r))return p(r)}var u,c="",h=!1,l=["{","}"];(_(r)&&(h=!0,l=["[","]"]),x(r))&&(c=" [Function"+(r.name?": "+r.name:"")+"]");return S(r)&&(c=" "+RegExp.prototype.toString.call(r)),k(r)&&(c=" "+Date.prototype.toUTCString.call(r)),E(r)&&(c=" "+p(r)),0!==o.length||h&&0!=r.length?n<0?S(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),u=h?function(t,r,n,i,e){for(var s=[],o=0,a=r.length;o<a;++o)M(r,String(o))?s.push(b(t,r,n,i,String(o),!0)):s.push("");return e.forEach(function(e){e.match(/^\d+$/)||s.push(b(t,r,n,i,e,!0))}),s}(t,r,n,a,o):o.map(function(e){return b(t,r,n,a,e,h)}),t.seen.pop(),function(e,t,r){if(60<e.reduce(function(e,t){return 0,0<=t.indexOf("\n")&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0))return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,c,l)):l[0]+c+l[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function b(e,t,r,n,i,s){var o,a,f;if((f=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=f.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):f.set&&(a=e.stylize("[Setter]","special")),M(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(f.value)<0?-1<(a=v(r)?d(e,f.value,null):d(e,f.value,r-1)).indexOf("\n")&&(a=s?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),w(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function _(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function w(e){return void 0===e}function S(e){return c(e)&&"[object RegExp]"===t(e)}function c(e){return"object"==typeof e&&null!==e}function k(e){return c(e)&&"[object Date]"===t(e)}function E(e){return c(e)&&("[object Error]"===t(e)||e instanceof Error)}function x(e){return"function"==typeof e}function t(e){return Object.prototype.toString.call(e)}function r(e){return e<10?"0"+e.toString(10):e.toString(10)}I.debuglog=function(t){if(w(e)&&(e=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if((new RegExp("\\b"+t+"\\b","i")).test(e)){var r=n.pid;s[t]=function(){var e=I.format.apply(I,arguments);console.error("%s %d: %s",t,r,e)}}else s[t]=function(){};return s[t]},(I.inspect=f).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},I.isArray=_,I.isBoolean=y,I.isNull=v,I.isNullOrUndefined=function(e){return null==e},I.isNumber=m,I.isString=g,I.isSymbol=function(e){return"symbol"==typeof e},I.isUndefined=w,I.isRegExp=S,I.isObject=c,I.isDate=k,I.isError=E,I.isFunction=x,I.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},I.isBuffer=l("./support/isBuffer");var h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[r(e.getHours()),r(e.getMinutes()),r(e.getSeconds())].join(":"),[e.getDate(),h[e.getMonth()],t].join(" ")),I.format.apply(I,arguments))},I.inherits=l("inherits"),I._extend=function(e,t){if(!t||!c(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}})).call(this,l("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":240,_process:345,inherits:239}],242:[function(e,t,r){"use strict";r.byteLength=function(e){var t=d(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){for(var t,r=d(e),n=r[0],i=r[1],s=new l((u=n,c=i,3*(u+c)/4-c)),o=0,a=0<i?n-4:n,f=0;f<a;f+=4)t=h[e.charCodeAt(f)]<<18|h[e.charCodeAt(f+1)]<<12|h[e.charCodeAt(f+2)]<<6|h[e.charCodeAt(f+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=255&t;var u,c;2===i&&(t=h[e.charCodeAt(f)]<<2|h[e.charCodeAt(f+1)]>>4,s[o++]=255&t);1===i&&(t=h[e.charCodeAt(f)]<<10|h[e.charCodeAt(f+1)]<<4|h[e.charCodeAt(f+2)]>>2,s[o++]=t>>8&255,s[o++]=255&t);return s},r.fromByteArray=function(e){for(var t,r=e.length,n=r%3,i=[],s=0,o=r-n;s<o;s+=16383)i.push(f(e,s,o<s+16383?o:s+16383));1===n?(t=e[r-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"="));return i.join("")};for(var a=[],h=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)a[i]=n[i],h[n.charCodeAt(i)]=i;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e,t,r){for(var n,i,s=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(a[(i=n)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return s.join("")}h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},{}],243:[function(k,e,t){!function(e,t){"use strict";function _(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function y(e,t,r){if(y.isBN(e))return e;this.negative=0,this.words=null,this.length=0,(this.red=null)!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var n;"object"==typeof e?e.exports=y:t.BN=y,(y.BN=y).wordSize=26;try{n=k("buffer").Buffer}catch(e){}function o(e,t,r){for(var n=0,i=Math.min(e.length,r),s=t;s<i;s++){var o=e.charCodeAt(s)-48;n<<=4,n|=49<=o&&o<=54?o-49+10:17<=o&&o<=22?o-17+10:15&o}return n}function h(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=49<=a?a-49+10:17<=a?a-17+10:a}return i}y.isBN=function(e){return e instanceof y||null!==e&&"object"==typeof e&&e.constructor.wordSize===y.wordSize&&Array.isArray(e.words)},y.max=function(e,t){return 0<e.cmp(t)?e:t},y.min=function(e,t){return e.cmp(t)<0?e:t},y.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),_(t===(0|t)&&2<=t&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&n++,16===t?this._parseHex(e,n):this._parseBase(e,t,n),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},y.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(_(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},y.prototype._initArray=function(e,t,r){if(_("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s,o=0;if("be"===r)for(n=e.length-1,i=0;0<=n;n-=3)s=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,26<=(o+=24)&&(o-=26,i++);else if("le"===r)for(i=n=0;n<e.length;n+=3)s=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,26<=(o+=24)&&(o-=26,i++);return this.strip()},y.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,s=0;for(r=e.length-6,n=0;t<=r;r-=6)i=o(e,r,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303,26<=(s+=24)&&(s-=26,n++);r+6!==t&&(i=o(e,t,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303),this.strip()},y.prototype._parseBase=function(e,t,r){this.words=[0];for(var n=0,i=this.length=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,f=0,u=r;u<a;u+=n)f=h(e,u,u+n,t),this.imuln(i),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==o){var c=1;for(f=h(e,u,e.length,t),u=0;u<o;u++)c*=t;this.imuln(c),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}},y.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},y.prototype.clone=function(){var e=new y(null);return this.copy(e),e},y.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},y.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},y.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function i(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;n=(r.length=n)-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,f=o/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=f>>>26,h=67108863&f,l=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=l;d++){var p=u-d|0;c+=(o=(i=0|e.words[p])*(s=0|t.words[d])+h)/67108864|0,h=67108863&o}r.words[u]=0|h,f=0|c}return 0!==f?r.words[u]=0|f:r.length--,r.strip()}y.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var n=0,i=0,s=0;s<this.length;s++){var o=this.words[s],a=(16777215&(o<<n|i)).toString(16);r=0!==(i=o>>>24-n&16777215)||s!==this.length-1?l[6-a.length]+a+r:a+r,26<=(n+=2)&&(n-=26,s--)}for(0!==i&&(r=i.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&2<=e&&e<=36){var f=d[e],u=p[e];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var h=c.modn(u).toString(e);r=(c=c.idivn(u)).isZero()?h+r:l[f-h.length]+h+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}_(!1,"Base should be between 2 and 36")},y.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:2<this.length&&_(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},y.prototype.toJSON=function(){return this.toString(16)},y.prototype.toBuffer=function(e,t){return _(void 0!==n),this.toArrayLike(n,e,t)},y.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},y.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),i=r||Math.max(1,n);_(n<=i,"byte array longer than desired length"),_(0<i,"Requested array length <= 0"),this.strip();var s,o,a="le"===t,f=new e(i),u=this.clone();if(a){for(o=0;!u.isZero();o++)s=u.andln(255),u.iushrn(8),f[o]=s;for(;o<i;o++)f[o]=0}else{for(o=0;o<i-n;o++)f[o]=0;for(o=0;!u.isZero();o++)s=u.andln(255),u.iushrn(8),f[i-o-1]=s}return f},y.prototype._countBits=Math.clz32?function(e){return 32-Math.clz32(e)}:function(e){var t=e,r=0;return 4096<=t&&(r+=13,t>>>=13),64<=t&&(r+=7,t>>>=7),8<=t&&(r+=4,t>>>=4),2<=t&&(r+=2,t>>>=2),r+t},y.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},y.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},y.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},y.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},y.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},y.prototype.isNeg=function(){return 0!==this.negative},y.prototype.neg=function(){return this.clone().ineg()},y.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},y.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},y.prototype.ior=function(e){return _(0==(this.negative|e.negative)),this.iuor(e)},y.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},y.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},y.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},y.prototype.iand=function(e){return _(0==(this.negative|e.negative)),this.iuand(e)},y.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},y.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},y.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},y.prototype.ixor=function(e){return _(0==(this.negative|e.negative)),this.iuxor(e)},y.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},y.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},y.prototype.inotn=function(e){_("number"==typeof e&&0<=e);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),0<r&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return 0<r&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},y.prototype.notn=function(e){return this.clone().inotn(e)},y.prototype.setn=function(e,t){_("number"==typeof e&&0<=e);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},y.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},y.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},y.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;0<i?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},y.prototype.sub=function(e){return this.clone().isub(e)};var s=function(e,t,r){var n,i,s,o=e.words,a=t.words,f=r.words,u=0,c=0|o[0],h=8191&c,l=c>>>13,d=0|o[1],p=8191&d,b=d>>>13,_=0|o[2],y=8191&_,v=_>>>13,m=0|o[3],g=8191&m,w=m>>>13,S=0|o[4],k=8191&S,E=S>>>13,x=0|o[5],M=8191&x,I=x>>>13,T=0|o[6],C=8191&T,j=T>>>13,O=0|o[7],A=8191&O,P=O>>>13,B=0|o[8],R=8191&B,D=B>>>13,L=0|o[9],U=8191&L,N=L>>>13,q=0|a[0],F=8191&q,z=q>>>13,H=0|a[1],K=8191&H,V=H>>>13,W=0|a[2],G=8191&W,X=W>>>13,Z=0|a[3],Q=8191&Z,Y=Z>>>13,J=0|a[4],$=8191&J,ee=J>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],fe=8191&ae,ue=ae>>>13,ce=0|a[8],he=8191&ce,le=ce>>>13,de=0|a[9],pe=8191&de,be=de>>>13;r.negative=e.negative^t.negative,r.length=19;var _e=(u+(n=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(l,F)|0))<<13)|0;u=((s=Math.imul(l,z))+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(b,F)|0,s=Math.imul(b,z);var ye=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(l,K)|0))<<13)|0;u=((s=s+Math.imul(l,V)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,F),i=(i=Math.imul(y,z))+Math.imul(v,F)|0,s=Math.imul(v,z),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,V)|0;var ve=(u+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,X)|0)+Math.imul(l,G)|0))<<13)|0;u=((s=s+Math.imul(l,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,z))+Math.imul(w,F)|0,s=Math.imul(w,z),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(v,K)|0,s=s+Math.imul(v,V)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,X)|0;var me=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(l,Q)|0))<<13)|0;u=((s=s+Math.imul(l,Y)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,z))+Math.imul(E,F)|0,s=Math.imul(E,z),n=n+Math.imul(g,K)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(w,K)|0,s=s+Math.imul(w,V)|0,n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(v,G)|0,s=s+Math.imul(v,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,Y)|0;var ge=(u+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(l,$)|0))<<13)|0;u=((s=s+Math.imul(l,ee)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(I,F)|0,s=Math.imul(I,z),n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,V)|0,n=n+Math.imul(g,G)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(w,G)|0,s=s+Math.imul(w,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,Y)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,ee)|0;var we=(u+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((s=s+Math.imul(l,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(j,F)|0,s=Math.imul(j,z),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,V)|0,n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(E,G)|0,s=s+Math.imul(E,X)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,Y)|0)+Math.imul(w,Q)|0,s=s+Math.imul(w,Y)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(h,se)|0)|0)+((8191&(i=(i=i+Math.imul(h,oe)|0)+Math.imul(l,se)|0))<<13)|0;u=((s=s+Math.imul(l,oe)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,z))+Math.imul(P,F)|0,s=Math.imul(P,z),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(j,K)|0,s=s+Math.imul(j,V)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,X)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,Y)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(v,re)|0,s=s+Math.imul(v,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0;var ke=(u+(n=n+Math.imul(h,fe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ue)|0)+Math.imul(l,fe)|0))<<13)|0;u=((s=s+Math.imul(l,ue)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,z))+Math.imul(D,F)|0,s=Math.imul(D,z),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(P,K)|0,s=s+Math.imul(P,V)|0,n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(j,G)|0,s=s+Math.imul(j,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,Y)|0,n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(E,$)|0,s=s+Math.imul(E,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(w,re)|0,s=s+Math.imul(w,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(v,se)|0,s=s+Math.imul(v,oe)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,fe)|0,s=s+Math.imul(b,ue)|0;var Ee=(u+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,le)|0)+Math.imul(l,he)|0))<<13)|0;u=((s=s+Math.imul(l,le)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,z))+Math.imul(N,F)|0,s=Math.imul(N,z),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(D,K)|0,s=s+Math.imul(D,V)|0,n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(P,G)|0,s=s+Math.imul(P,X)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(j,Q)|0,s=s+Math.imul(j,Y)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,$)|0,s=s+Math.imul(I,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(E,re)|0,s=s+Math.imul(E,ne)|0,n=n+Math.imul(g,se)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(w,se)|0,s=s+Math.imul(w,oe)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,ue)|0)+Math.imul(v,fe)|0,s=s+Math.imul(v,ue)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(b,he)|0,s=s+Math.imul(b,le)|0;var xe=(u+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,be)|0)+Math.imul(l,pe)|0))<<13)|0;u=((s=s+Math.imul(l,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(U,K),i=(i=Math.imul(U,V))+Math.imul(N,K)|0,s=Math.imul(N,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(D,G)|0,s=s+Math.imul(D,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(P,Q)|0,s=s+Math.imul(P,Y)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(j,$)|0,s=s+Math.imul(j,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,s=s+Math.imul(I,ne)|0,n=n+Math.imul(k,se)|0,i=(i=i+Math.imul(k,oe)|0)+Math.imul(E,se)|0,s=s+Math.imul(E,oe)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(w,fe)|0,s=s+Math.imul(w,ue)|0,n=n+Math.imul(y,he)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(v,he)|0,s=s+Math.imul(v,le)|0;var Me=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((s=s+Math.imul(b,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,X))+Math.imul(N,G)|0,s=Math.imul(N,X),n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(D,Q)|0,s=s+Math.imul(D,Y)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(P,$)|0,s=s+Math.imul(P,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(j,re)|0,s=s+Math.imul(j,ne)|0,n=n+Math.imul(M,se)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(I,se)|0,s=s+Math.imul(I,oe)|0,n=n+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(E,fe)|0,s=s+Math.imul(E,ue)|0,n=n+Math.imul(g,he)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(w,he)|0,s=s+Math.imul(w,le)|0;var Ie=(u+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,be)|0)+Math.imul(v,pe)|0))<<13)|0;u=((s=s+Math.imul(v,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,Y))+Math.imul(N,Q)|0,s=Math.imul(N,Y),n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(D,$)|0,s=s+Math.imul(D,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(P,re)|0,s=s+Math.imul(P,ne)|0,n=n+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(j,se)|0,s=s+Math.imul(j,oe)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(I,fe)|0,s=s+Math.imul(I,ue)|0,n=n+Math.imul(k,he)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(E,he)|0,s=s+Math.imul(E,le)|0;var Te=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(w,pe)|0))<<13)|0;u=((s=s+Math.imul(w,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,ee))+Math.imul(N,$)|0,s=Math.imul(N,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(D,re)|0,s=s+Math.imul(D,ne)|0,n=n+Math.imul(A,se)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(P,se)|0,s=s+Math.imul(P,oe)|0,n=n+Math.imul(C,fe)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(j,fe)|0,s=s+Math.imul(j,ue)|0,n=n+Math.imul(M,he)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(I,he)|0,s=s+Math.imul(I,le)|0;var Ce=(u+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,be)|0)+Math.imul(E,pe)|0))<<13)|0;u=((s=s+Math.imul(E,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(N,re)|0,s=Math.imul(N,ne),n=n+Math.imul(R,se)|0,i=(i=i+Math.imul(R,oe)|0)+Math.imul(D,se)|0,s=s+Math.imul(D,oe)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(P,fe)|0,s=s+Math.imul(P,ue)|0,n=n+Math.imul(C,he)|0,i=(i=i+Math.imul(C,le)|0)+Math.imul(j,he)|0,s=s+Math.imul(j,le)|0;var je=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(I,pe)|0))<<13)|0;u=((s=s+Math.imul(I,be)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(U,se),i=(i=Math.imul(U,oe))+Math.imul(N,se)|0,s=Math.imul(N,oe),n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(D,fe)|0,s=s+Math.imul(D,ue)|0,n=n+Math.imul(A,he)|0,i=(i=i+Math.imul(A,le)|0)+Math.imul(P,he)|0,s=s+Math.imul(P,le)|0;var Oe=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,be)|0)+Math.imul(j,pe)|0))<<13)|0;u=((s=s+Math.imul(j,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(U,fe),i=(i=Math.imul(U,ue))+Math.imul(N,fe)|0,s=Math.imul(N,ue),n=n+Math.imul(R,he)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(D,he)|0,s=s+Math.imul(D,le)|0;var Ae=(u+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,be)|0)+Math.imul(P,pe)|0))<<13)|0;u=((s=s+Math.imul(P,be)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,he),i=(i=Math.imul(U,le))+Math.imul(N,he)|0,s=Math.imul(N,le);var Pe=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(D,pe)|0))<<13)|0;u=((s=s+Math.imul(D,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(u+(n=Math.imul(U,pe))|0)+((8191&(i=(i=Math.imul(U,be))+Math.imul(N,pe)|0))<<13)|0;return u=((s=Math.imul(N,be))+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,f[0]=_e,f[1]=ye,f[2]=ve,f[3]=me,f[4]=ge,f[5]=we,f[6]=Se,f[7]=ke,f[8]=Ee,f[9]=xe,f[10]=Me,f[11]=Ie,f[12]=Te,f[13]=Ce,f[14]=je,f[15]=Oe,f[16]=Ae,f[17]=Pe,f[18]=Be,0!==u&&(f[19]=u,r.length++),r};function a(e,t,r){return(new f).mulp(e,t,r)}function f(e,t){this.x=e,this.y=t}Math.imul||(s=i),y.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?s(this,e,t):r<63?i(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,f=Math.min(s,t.length-1),u=Math.max(0,s-e.length+1);u<=f;u++){var c=s-u,h=(0|e.words[c])*(0|t.words[u]),l=67108863&h;a=67108863&(l=l+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):a(this,e,t)},f.prototype.makeRBT=function(e){for(var t=new Array(e),r=y.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},f.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},f.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},f.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,f=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=f,l=u,d=0;d<o;d++){var p=r[c+d],b=n[c+d],_=r[c+d+o],y=n[c+d+o],v=h*_-l*y;y=h*y+l*_,_=v,r[c+d]=p+_,n[c+d]=b+y,r[c+d+o]=p-_,n[c+d+o]=b-y,d!==a&&(v=f*h-u*l,l=f*l+u*h,h=v)}},f.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},f.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},f.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},f.prototype.convert13b=function(e,t,r,n){for(var i=0,s=0;s<t;s++)i+=0|e[s],r[2*s]=8191&i,i>>>=13,r[2*s+1]=8191&i,i>>>=13;for(s=2*t;s<n;++s)r[s]=0;_(0===i),_(0==(-8192&i))},f.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},f.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),f=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,u,n),this.transform(o,s,a,f,n,i),this.transform(u,s,c,h,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-f[d]*h[d];f[d]=a[d]*h[d]+f[d]*c[d],a[d]=p}return this.conjugate(a,f,n),this.transform(a,f,l,s,n,i),this.conjugate(l,s,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},y.prototype.mul=function(e){var t=new y(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},y.prototype.mulf=function(e){var t=new y(null);return t.words=new Array(this.length+e.length),a(this,e,t)},y.prototype.imul=function(e){return this.clone().mulTo(e,this)},y.prototype.imuln=function(e){_("number"==typeof e),_(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,i=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=i>>>26,this.words[r]=67108863&i}return 0!==t&&(this.words[r]=t,this.length++),this},y.prototype.muln=function(e){return this.clone().imuln(e)},y.prototype.sqr=function(){return this.mul(this)},y.prototype.isqr=function(){return this.imul(this.clone())},y.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new y(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},y.prototype.iushln=function(e){_("number"==typeof e&&0<=e);var t,r=e%26,n=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&i,a=(0|this.words[t])-o<<r;this.words[t]=a|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==n){for(t=this.length-1;0<=t;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},y.prototype.ishln=function(e){return _(0===this.negative),this.iushln(e)},y.prototype.iushrn=function(e,t,r){var n;_("number"==typeof e&&0<=e),n=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),o=67108863^67108863>>>i<<i,a=r;if(n-=s,n=Math.max(0,n),a){for(var f=0;f<s;f++)a.words[f]=this.words[f];a.length=s}if(0===s);else if(this.length>s)for(this.length-=s,f=0;f<this.length;f++)this.words[f]=this.words[f+s];else this.words[0]=0,this.length=1;var u=0;for(f=this.length-1;0<=f&&(0!==u||n<=f);f--){var c=0|this.words[f];this.words[f]=u<<26-i|c>>>i,u=c&o}return a&&0!==u&&(a.words[a.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},y.prototype.ishrn=function(e,t,r){return _(0===this.negative),this.iushrn(e,t,r)},y.prototype.shln=function(e){return this.clone().ishln(e)},y.prototype.ushln=function(e){return this.clone().iushln(e)},y.prototype.shrn=function(e){return this.clone().ishrn(e)},y.prototype.ushrn=function(e){return this.clone().iushrn(e)},y.prototype.testn=function(e){_("number"==typeof e&&0<=e);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r)&&!!(this.words[r]&n)},y.prototype.imaskn=function(e){_("number"==typeof e&&0<=e);var t=e%26,r=(e-t)/26;if(_(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},y.prototype.maskn=function(e){return this.clone().imaskn(e)},y.prototype.iaddn=function(e){return _("number"==typeof e),_(e<67108864),e<0?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},y.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&67108864<=this.words[t];t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},y.prototype.isubn=function(e){if(_("number"==typeof e),_(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},y.prototype.addn=function(e){return this.clone().iaddn(e)},y.prototype.subn=function(e){return this.clone().isubn(e)},y.prototype.iabs=function(){return this.negative=0,this},y.prototype.abs=function(){return this.clone().iabs()},y.prototype._ishlnsubmul=function(e,t,r){var n,i,s=e.length+r;this._expand(s);var o=0;for(n=0;n<e.length;n++){i=(0|this.words[n+r])+o;var a=(0|e.words[n])*t;o=((i-=67108863&a)>>26)-(a/67108864|0),this.words[n+r]=67108863&i}for(;n<this.length-r;n++)o=(i=(0|this.words[n+r])+o)>>26,this.words[n+r]=67108863&i;if(0===o)return this.strip();for(_(-1===o),n=o=0;n<this.length;n++)o=(i=-(0|this.words[n])+o)>>26,this.words[n]=67108863&i;return this.negative=1,this.strip()},y.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var o,a=n.length-i.length;if("mod"!==t){(o=new y(null)).length=a+1,o.words=new Array(o.length);for(var f=0;f<o.length;f++)o.words[f]=0}var u=n.clone()._ishlnsubmul(i,1,a);0===u.negative&&(n=u,o&&(o.words[a]=1));for(var c=a-1;0<=c;c--){var h=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,c);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);o&&(o.words[c]=h)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},y.prototype.divmod=function(e,t,r){return _(!e.isZero()),this.isZero()?{div:new y(0),mod:new y(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(i=s.mod.neg(),r&&0!==i.negative&&i.iadd(e)),{div:n,mod:i}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(n=s.div.neg()),{div:n,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(i=s.mod.neg(),r&&0!==i.negative&&i.isub(e)),{div:s.div,mod:i}):e.length>this.length||this.cmp(e)<0?{div:new y(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new y(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new y(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,i,s},y.prototype.div=function(e){return this.divmod(e,"div",!1).div},y.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},y.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},y.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},y.prototype.modn=function(e){_(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;0<=n;n--)r=(t*r+(0|this.words[n]))%e;return r},y.prototype.idivn=function(e){_(e<=67108863);for(var t=0,r=this.length-1;0<=r;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},y.prototype.divn=function(e){return this.clone().idivn(e)},y.prototype.egcd=function(e){_(0===e.negative),_(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new y(1),i=new y(0),s=new y(0),o=new y(1),a=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++a;for(var f=r.clone(),u=t.clone();!t.isZero();){for(var c=0,h=1;0==(t.words[0]&h)&&c<26;++c,h<<=1);if(0<c)for(t.iushrn(c);0<c--;)(n.isOdd()||i.isOdd())&&(n.iadd(f),i.isub(u)),n.iushrn(1),i.iushrn(1);for(var l=0,d=1;0==(r.words[0]&d)&&l<26;++l,d<<=1);if(0<l)for(r.iushrn(l);0<l--;)(s.isOdd()||o.isOdd())&&(s.iadd(f),o.isub(u)),s.iushrn(1),o.iushrn(1);0<=t.cmp(r)?(t.isub(r),n.isub(s),i.isub(o)):(r.isub(t),s.isub(n),o.isub(i))}return{a:s,b:o,gcd:r.iushln(a)}},y.prototype._invmp=function(e){_(0===e.negative),_(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,i=new y(1),s=new y(0),o=r.clone();0<t.cmpn(1)&&0<r.cmpn(1);){for(var a=0,f=1;0==(t.words[0]&f)&&a<26;++a,f<<=1);if(0<a)for(t.iushrn(a);0<a--;)i.isOdd()&&i.iadd(o),i.iushrn(1);for(var u=0,c=1;0==(r.words[0]&c)&&u<26;++u,c<<=1);if(0<u)for(r.iushrn(u);0<u--;)s.isOdd()&&s.iadd(o),s.iushrn(1);0<=t.cmp(r)?(t.isub(r),i.isub(s)):(r.isub(t),s.isub(i))}return(n=0===t.cmpn(1)?i:s).cmpn(0)<0&&n.iadd(e),n},y.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0;for(var n=r.negative=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},y.prototype.invm=function(e){return this.egcd(e).a.umod(e)},y.prototype.isEven=function(){return 0==(1&this.words[0])},y.prototype.isOdd=function(){return 1==(1&this.words[0])},y.prototype.andln=function(e){return this.words[0]&e},y.prototype.bincn=function(e){_("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var i=n,s=r;0!==i&&s<this.length;s++){var o=0|this.words[s];i=(o+=i)>>>26,o&=67108863,this.words[s]=o}return 0!==i&&(this.words[s]=i,this.length++),this},y.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},y.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),1<this.length)t=1;else{r&&(e=-e),_(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},y.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},y.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;0<=r;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:i<n&&(t=1);break}}return t},y.prototype.gtn=function(e){return 1===this.cmpn(e)},y.prototype.gt=function(e){return 1===this.cmp(e)},y.prototype.gten=function(e){return 0<=this.cmpn(e)},y.prototype.gte=function(e){return 0<=this.cmp(e)},y.prototype.ltn=function(e){return-1===this.cmpn(e)},y.prototype.lt=function(e){return-1===this.cmp(e)},y.prototype.lten=function(e){return this.cmpn(e)<=0},y.prototype.lte=function(e){return this.cmp(e)<=0},y.prototype.eqn=function(e){return 0===this.cmpn(e)},y.prototype.eq=function(e){return 0===this.cmp(e)},y.red=function(e){return new w(e)},y.prototype.toRed=function(e){return _(!this.red,"Already a number in reduction context"),_(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},y.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},y.prototype._forceRed=function(e){return this.red=e,this},y.prototype.forceRed=function(e){return _(!this.red,"Already a number in reduction context"),this._forceRed(e)},y.prototype.redAdd=function(e){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},y.prototype.redIAdd=function(e){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},y.prototype.redSub=function(e){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},y.prototype.redISub=function(e){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},y.prototype.redShl=function(e){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},y.prototype.redMul=function(e){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},y.prototype.redIMul=function(e){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},y.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},y.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},y.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},y.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},y.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},y.prototype.redPow=function(e){return _(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var u={k256:null,p224:null,p192:null,p25519:null};function c(e,t){this.name=e,this.p=new y(t,16),this.n=this.p.bitLength(),this.k=(new y(1)).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){c.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){c.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function m(){c.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function g(){c.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(e){if("string"==typeof e){var t=y._prime(e);this.m=t.p,this.prime=t}else _(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){w.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=(new y(1)).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c.prototype._tmp=function(){var e=new y(null);return e.words=new Array(Math.ceil(this.n/13)),e},c.prototype.ireduce=function(e){for(var t,r=e;this.split(r,this.tmp),(t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength())>this.n;);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):0<n?r.isub(this.p):r.strip(),r},c.prototype.split=function(e,t){e.iushrn(this.n,0,t)},c.prototype.imulK=function(e){return e.imul(this.k)},r(b,c),b.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void (e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(4194303&s)<<4|i>>>22,i=s}i>>>=22,0===(e.words[n-10]=i)&&10<e.length?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(v,c),r(m,c),r(g,c),g.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},y._prime=function(e){if(u[e])return u[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new v;else if("p192"===e)t=new m;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new g}return u[e]=t},w.prototype._verify1=function(e){_(0===e.negative,"red works only with positives"),_(e.red,"red works only with red numbers")},w.prototype._verify2=function(e,t){_(0==(e.negative|t.negative),"red works only with positives"),_(e.red&&e.red===t.red,"red works only with red numbers")},w.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},w.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},w.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return 0<=r.cmp(this.m)&&r.isub(this.m),r._forceRed(this)},w.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return 0<=r.cmp(this.m)&&r.isub(this.m),r},w.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},w.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},w.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},w.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},w.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},w.prototype.isqr=function(e){return this.imul(e,e.clone())},w.prototype.sqr=function(e){return this.mul(e,e)},w.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(_(t%2==1),3===t){var r=this.m.add(new y(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),i=0;!n.isZero()&&0===n.andln(1);)i++,n.iushrn(1);_(!n.isZero());var s=(new y(1)).toRed(this),o=s.redNeg(),a=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=(new y(2*f*f)).toRed(this);0!==this.pow(f,a).cmp(o);)f.redIAdd(o);for(var u=this.pow(f,n),c=this.pow(e,n.addn(1).iushrn(1)),h=this.pow(e,n),l=i;0!==h.cmp(s);){for(var d=h,p=0;0!==d.cmp(s);p++)d=d.redSqr();_(p<l);var b=this.pow(u,(new y(1)).iushln(l-p-1));c=c.redMul(b),u=b.redSqr(),h=h.redMul(u),l=p}return c},w.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},w.prototype.pow=function(e,t){if(t.isZero())return(new y(1)).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=(new y(1)).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,o=0,a=t.bitLength()%26;for(0===a&&(a=26),n=t.length-1;0<=n;n--){for(var f=t.words[n],u=a-1;0<=u;u--){var c=f>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++o||0===n&&0===u)&&(i=this.mul(i,r[s]),s=o=0)):o=0}a=26}return i},w.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},w.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},y.mont=function(e){return new S(e)},r(S,w),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return 0<=i.cmp(this.m)?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return(new y(0))._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return 0<=i.cmp(this.m)?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)},{buffer:245}],244:[function(e,t,r){var n;function i(e){this.rand=e}if(t.exports=function(e){return n||(n=new i(null)),n.generate(e)},(t.exports.Rand=i).prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=e("crypto");if("function"!=typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return s.randomBytes(e)}}catch(e){}},{crypto:245}],245:[function(e,t,r){arguments[4][157][0].apply(r,arguments)},{dup:157}],246:[function(e,t,r){var i=e("safe-buffer").Buffer;function s(e){i.isBuffer(e)||(e=i.from(e));for(var t=e.length/4|0,r=new Array(t),n=0;n<t;n++)r[n]=e.readUInt32BE(4*n);return r}function n(e){for(;0<e.length;e++)e[0]=0}function o(e,t,r,n,i){for(var s,o,a,f,u=r[0],c=r[1],h=r[2],l=r[3],d=e[0]^t[0],p=e[1]^t[1],b=e[2]^t[2],_=e[3]^t[3],y=4,v=1;v<i;v++)s=u[d>>>24]^c[p>>>16&255]^h[b>>>8&255]^l[255&_]^t[y++],o=u[p>>>24]^c[b>>>16&255]^h[_>>>8&255]^l[255&d]^t[y++],a=u[b>>>24]^c[_>>>16&255]^h[d>>>8&255]^l[255&p]^t[y++],f=u[_>>>24]^c[d>>>16&255]^h[p>>>8&255]^l[255&b]^t[y++],d=s,p=o,b=a,_=f;return s=(n[d>>>24]<<24|n[p>>>16&255]<<16|n[b>>>8&255]<<8|n[255&_])^t[y++],o=(n[p>>>24]<<24|n[b>>>16&255]<<16|n[_>>>8&255]<<8|n[255&d])^t[y++],a=(n[b>>>24]<<24|n[_>>>16&255]<<16|n[d>>>8&255]<<8|n[255&p])^t[y++],f=(n[_>>>24]<<24|n[d>>>16&255]<<16|n[p>>>8&255]<<8|n[255&b])^t[y++],[s>>>=0,o>>>=0,a>>>=0,f>>>=0]}var h=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,f=0;f<256;++f){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99;var c=e[n[r[o]=u]=o],h=e[c],l=e[h],d=257*e[u]^16843008*u;i[0][o]=d<<24|d>>>8,i[1][o]=d<<16|d>>>16,i[2][o]=d<<8|d>>>24,i[3][o]=d,d=16843009*l^65537*h^257*c^16843008*o,s[0][u]=d<<24|d>>>8,s[1][u]=d<<16|d>>>16,s[2][u]=d<<8|d>>>24,s[3][u]=d,0===o?o=a=1:(o=c^e[e[e[l^c]]],a^=e[e[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function a(e){this._key=s(e),this._reset()}a.blockSize=16,a.keySize=32,a.prototype.blockSize=a.blockSize,a.prototype.keySize=a.keySize,a.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],s=0;s<t;s++)i[s]=e[s];for(s=t;s<n;s++){var o=i[s-1];s%t==0?(o=o<<8|o>>>24,o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o],o^=h[s/t|0]<<24):6<t&&s%t==4&&(o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o]),i[s]=i[s-t]^o}for(var a=[],f=0;f<n;f++){var u=n-f,c=i[u-(f%4?0:4)];a[f]=f<4||u<=4?c:l.INV_SUB_MIX[0][l.SBOX[c>>>24]]^l.INV_SUB_MIX[1][l.SBOX[c>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[c>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&c]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=a},a.prototype.encryptBlockRaw=function(e){return o(e=s(e),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},a.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=i.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},a.prototype.decryptBlock=function(e){var t=(e=s(e))[1];e[1]=e[3],e[3]=t;var r=o(e,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),n=i.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n},a.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},t.exports.AES=a},{"safe-buffer":373}],247:[function(e,t,r){var o=e("./aes"),u=e("safe-buffer").Buffer,a=e("cipher-base"),n=e("inherits"),c=e("./ghash"),i=e("buffer-xor"),h=e("./incr32");function s(e,t,r,n){a.call(this);var i=u.alloc(4,0);this._cipher=new o.AES(t);var s=this._cipher.encryptBlock(i);this._ghash=new c(s),r=function(e,t,r){if(12===t.length)return e._finID=u.concat([t,u.from([0,0,0,1])]),u.concat([t,u.from([0,0,0,2])]);var n=new c(r),i=t.length,s=i%16;n.update(t),s&&(s=16-s,n.update(u.alloc(s,0))),n.update(u.alloc(8,0));var o=8*i,a=u.alloc(8);a.writeUIntBE(o,0,8),n.update(a),e._finID=n.state;var f=u.from(e._finID);return h(f),f}(this,r,s),this._prev=u.from(r),this._cache=u.allocUnsafe(0),this._secCache=u.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}n(s,a),s.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=u.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},s.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=i(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},s.prototype.getAuthTag=function(){if(this._decrypt||!u.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},s.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},s.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},t.exports=s},{"./aes":246,"./ghash":251,"./incr32":252,"buffer-xor":273,"cipher-base":275,inherits:327,"safe-buffer":373}],248:[function(e,t,r){var n=e("./encrypter"),i=e("./decrypter"),s=e("./modes/list.json");r.createCipher=r.Cipher=n.createCipher,r.createCipheriv=r.Cipheriv=n.createCipheriv,r.createDecipher=r.Decipher=i.createDecipher,r.createDecipheriv=r.Decipheriv=i.createDecipheriv,r.listCiphers=r.getCiphers=function(){return Object.keys(s)}},{"./decrypter":249,"./encrypter":250,"./modes/list.json":260}],249:[function(e,t,r){var i=e("./authCipher"),s=e("safe-buffer").Buffer,o=e("./modes"),a=e("./streamCipher"),n=e("cipher-base"),f=e("./aes"),u=e("evp_bytestokey");function c(e,t,r){n.call(this),this._cache=new h,this._last=void 0,this._cipher=new f.AES(t),this._prev=s.from(r),this._mode=e,this._autopadding=!0}function h(){this.cache=s.allocUnsafe(0)}function l(e,t,r){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=s.from(r)),"GCM"!==n.mode&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=s.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===n.type?new a(n.module,t,r,!0):"auth"===n.type?new i(n.module,t,r,!0):new c(n.module,t,r)}e("inherits")(c,n),c.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return s.concat(n)},c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||16<t)throw new Error("unable to decrypt data");var r=-1;for(;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=s.concat([this.cache,e])},h.prototype.get=function(e){var t;if(e){if(16<this.cache.length)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(16<=this.cache.length)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},r.createDecipher=function(e,t){var r=o[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return l(e,n.key,n.iv)},r.createDecipheriv=l},{"./aes":246,"./authCipher":247,"./modes":259,"./streamCipher":262,"cipher-base":275,evp_bytestokey:310,inherits:327,"safe-buffer":373}],250:[function(e,t,r){var i=e("./modes"),s=e("./authCipher"),o=e("safe-buffer").Buffer,a=e("./streamCipher"),n=e("cipher-base"),f=e("./aes"),u=e("evp_bytestokey");function c(e,t,r){n.call(this),this._cache=new l,this._cipher=new f.AES(t),this._prev=o.from(r),this._mode=e,this._autopadding=!0}e("inherits")(c,n),c.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return o.concat(n)};var h=o.alloc(16,16);function l(){this.cache=o.allocUnsafe(0)}function d(e,t,r){var n=i[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==n.mode&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===n.type?new a(n.module,t,r):"auth"===n.type?new s(n.module,t,r):new c(n.module,t,r)}c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},l.prototype.add=function(e){this.cache=o.concat([this.cache,e])},l.prototype.get=function(){if(15<this.cache.length){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},l.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return o.concat([this.cache,t])},r.createCipheriv=d,r.createCipher=function(e,t){var r=i[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return d(e,n.key,n.iv)}},{"./aes":246,"./authCipher":247,"./modes":259,"./streamCipher":262,"cipher-base":275,evp_bytestokey:310,inherits:327,"safe-buffer":373}],251:[function(e,t,r){var n=e("safe-buffer").Buffer,i=n.alloc(16,0);function o(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function s(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}s.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},s.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),t=3;0<t;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=o(i)},s.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);16<=this.cache.length;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},s.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},t.exports=s},{"safe-buffer":373}],252:[function(e,t,r){t.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},{}],253:[function(e,t,r){var i=e("buffer-xor");r.encrypt=function(e,t){var r=i(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},r.decrypt=function(e,t){var r=e._prev;e._prev=t;var n=e._cipher.decryptBlock(t);return i(n,r)}},{"buffer-xor":273}],254:[function(e,t,r){var s=e("safe-buffer").Buffer,o=e("buffer-xor");function a(e,t,r){var n=t.length,i=o(t,e._cache);return e._cache=e._cache.slice(n),e._prev=s.concat([e._prev,r?t:i]),i}r.encrypt=function(e,t,r){for(var n,i=s.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=s.allocUnsafe(0)),!(e._cache.length<=t.length)){i=s.concat([i,a(e,t,r)]);break}n=e._cache.length,i=s.concat([i,a(e,t.slice(0,n),r)]),t=t.slice(n)}return i}},{"buffer-xor":273,"safe-buffer":373}],255:[function(e,t,r){var o=e("safe-buffer").Buffer;function a(e,t,r){for(var n,i,s=-1,o=0;++s<8;)n=t&1<<7-s?128:0,o+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^n))>>s%8,e._prev=f(e._prev,r?n:i);return o}function f(e,t){var r=e.length,n=-1,i=o.allocUnsafe(e.length);for(e=o.concat([e,o.from([t])]);++n<r;)i[n]=e[n]<<1|e[n+1]>>7;return i}r.encrypt=function(e,t,r){for(var n=t.length,i=o.allocUnsafe(n),s=-1;++s<n;)i[s]=a(e,t[s],r);return i}},{"safe-buffer":373}],256:[function(e,t,r){var c=e("safe-buffer").Buffer;r.encrypt=function(e,t,r){for(var n,i,s,o,a=t.length,f=c.allocUnsafe(a),u=-1;++u<a;)f[u]=(n=e,i=t[u],s=r,void 0,o=n._cipher.encryptBlock(n._prev)[0]^i,n._prev=c.concat([n._prev.slice(1),c.from([s?i:o])]),o);return f}},{"safe-buffer":373}],257:[function(e,t,r){var c=e("buffer-xor"),h=e("safe-buffer").Buffer,l=e("../incr32");r.encrypt=function(e,t){var r,n,i=Math.ceil(t.length/16),s=e._cache.length;e._cache=h.concat([e._cache,h.allocUnsafe(16*i)]);for(var o=0;o<i;o++){var a=(void 0,n=(r=e)._cipher.encryptBlockRaw(r._prev),l(r._prev),n),f=s+16*o;e._cache.writeUInt32BE(a[0],f+0),e._cache.writeUInt32BE(a[1],f+4),e._cache.writeUInt32BE(a[2],f+8),e._cache.writeUInt32BE(a[3],f+12)}var u=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),c(t,u)}},{"../incr32":252,"buffer-xor":273,"safe-buffer":373}],258:[function(e,t,r){r.encrypt=function(e,t){return e._cipher.encryptBlock(t)},r.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],259:[function(e,t,r){var n={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},i=e("./list.json");for(var s in i)i[s].module=n[i[s].mode];t.exports=i},{"./cbc":253,"./cfb":254,"./cfb1":255,"./cfb8":256,"./ctr":257,"./ecb":258,"./list.json":260,"./ofb":261}],260:[function(e,t,r){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],261:[function(e,t,r){((function(i){var s=e("buffer-xor");r.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=i.concat([e._cache,(r=e,r._prev=r._cipher.encryptBlock(r._prev),r._prev)]);var r,n=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),s(t,n)}})).call(this,e("buffer").Buffer)},{buffer:274,"buffer-xor":273}],262:[function(e,t,r){var i=e("./aes"),s=e("safe-buffer").Buffer,o=e("cipher-base");function n(e,t,r,n){o.call(this),this._cipher=new i.AES(t),this._prev=s.from(r),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=n,this._mode=e}e("inherits")(n,o),n.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()},t.exports=n},{"./aes":246,"cipher-base":275,inherits:327,"safe-buffer":373}],263:[function(e,t,r){var n=e("browserify-des"),i=e("browserify-aes/browser"),s=e("browserify-aes/modes"),o=e("browserify-des/modes"),a=e("evp_bytestokey");function f(e,t,r){if(e=e.toLowerCase(),s[e])return i.createCipheriv(e,t,r);if(o[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function u(e,t,r){if(e=e.toLowerCase(),s[e])return i.createDecipheriv(e,t,r);if(o[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}r.createCipher=r.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),s[e])r=s[e].key,n=s[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");r=8*o[e].key,n=o[e].iv}var i=a(t,!1,r,n);return f(e,i.key,i.iv)},r.createCipheriv=r.Cipheriv=f,r.createDecipher=r.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),s[e])r=s[e].key,n=s[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");r=8*o[e].key,n=o[e].iv}var i=a(t,!1,r,n);return u(e,i.key,i.iv)},r.createDecipheriv=r.Decipheriv=u,r.listCiphers=r.getCiphers=function(){return Object.keys(o).concat(i.getCiphers())}},{"browserify-aes/browser":248,"browserify-aes/modes":259,"browserify-des":264,"browserify-des/modes":265,evp_bytestokey:310}],264:[function(e,t,r){var o=e("cipher-base"),n=e("des.js"),i=e("inherits"),a=e("safe-buffer").Buffer,f={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function s(e){o.call(this);var t,r=e.mode.toLowerCase(),n=f[r];t=e.decrypt?"decrypt":"encrypt";var i=e.key;a.isBuffer(i)||(i=a.from(i)),"des-ede"!==r&&"des-ede-cbc"!==r||(i=a.concat([i,i.slice(0,8)]));var s=e.iv;a.isBuffer(s)||(s=a.from(s)),this._des=n.create({key:i,iv:s,type:t})}f.des=f["des-cbc"],f.des3=f["des-ede3-cbc"],i(t.exports=s,o),s.prototype._update=function(e){return a.from(this._des.update(e))},s.prototype._final=function(){return a.from(this._des.final())}},{"cipher-base":275,"des.js":283,inherits:327,"safe-buffer":373}],265:[function(e,t,r){r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}},{}],266:[function(t,r,e){((function(b){var _=t("bn.js"),n=t("randombytes");function e(e,t){var r,n,i={blinder:(n=y(r=t)).toRed(_.mont(r.modulus)).redPow(new _(r.publicExponent)).fromRed(),unblinder:n.invm(r.modulus)},s=t.modulus.byteLength(),o=(_.mont(t.modulus),(new _(e)).mul(i.blinder).umod(t.modulus)),a=o.toRed(_.mont(t.prime1)),f=o.toRed(_.mont(t.prime2)),u=t.coefficient,c=t.prime1,h=t.prime2,l=a.redPow(t.exponent1),d=f.redPow(t.exponent2);l=l.fromRed(),d=d.fromRed();var p=l.isub(d).imul(u).umod(c);return p.imul(h),d.iadd(p),new b(d.imul(i.unblinder).umod(t.modulus).toArray(!1,s))}function y(e){for(var t=e.modulus.byteLength(),r=new _(n(t));0<=r.cmp(e.modulus)||!r.umod(e.prime1)||!r.umod(e.prime2);)r=new _(n(t));return r}(r.exports=e).getr=y})).call(this,t("buffer").Buffer)},{"bn.js":243,buffer:274,randombytes:356}],267:[function(e,t,r){t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":268}],268:[function(e,t,r){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],269:[function(e,t,r){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],270:[function(h,l,e){((function(i){var r=h("create-hash"),n=h("stream"),e=h("inherits"),s=h("./sign"),o=h("./verify"),a=h("./algorithms.json");function t(e){n.Writable.call(this);var t=a[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){n.Writable.call(this);var t=a[e];if(!t)throw new Error("Unknown message digest");this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function u(e){return new t(e)}function c(e){return new f(e)}Object.keys(a).forEach(function(e){a[e].id=new i(a[e].id,"hex"),a[e.toLowerCase()]=a[e]}),e(t,n.Writable),t.prototype._write=function(e,t,r){this._hash.update(e),r()},t.prototype.update=function(e,t){return"string"==typeof e&&(e=new i(e,t)),this._hash.update(e),this},t.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=s(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},e(f,n.Writable),f.prototype._write=function(e,t,r){this._hash.update(e),r()},f.prototype.update=function(e,t){return"string"==typeof e&&(e=new i(e,t)),this._hash.update(e),this},f.prototype.verify=function(e,t,r){"string"==typeof t&&(t=new i(t,r)),this.end();var n=this._hash.digest();return o(t,n,e,this._signType,this._tag)},l.exports={Sign:u,Verify:c,createSign:u,createVerify:c}})).call(this,h("buffer").Buffer)},{"./algorithms.json":268,"./sign":271,"./verify":272,buffer:274,"create-hash":278,inherits:327,stream:382}],271:[function(e,t,r){((function(b){var u=e("create-hmac"),c=e("browserify-rsa"),h=e("elliptic").ec,_=e("bn.js"),l=e("parse-asn1"),d=e("./curves.json");function y(e,t,r,n){if((e=new b(e.toArray())).length<t.byteLength()){var i=new b(t.byteLength()-e.length);i.fill(0),e=b.concat([i,e])}var s=r.length,o=function(e,t){e=(e=v(e,t)).mod(t);var r=new b(e.toArray());if(r.length<t.byteLength()){var n=new b(t.byteLength()-r.length);n.fill(0),r=b.concat([n,r])}return r}(r,t),a=new b(s);a.fill(1);var f=new b(s);return f.fill(0),f=u(n,f).update(a).update(new b([0])).update(e).update(o).digest(),a=u(n,f).update(a).digest(),{k:f=u(n,f).update(a).update(new b([1])).update(e).update(o).digest(),v:a=u(n,f).update(a).digest()}}function v(e,t){var r=new _(e),n=(e.length<<3)-t.bitLength();return 0<n&&r.ishrn(n),r}function m(e,t,r){var n,i;do{for(n=new b(0);8*n.length<e.bitLength();)t.v=u(r,t.k).update(t.v).digest(),n=b.concat([n,t.v]);i=v(n,e),t.k=u(r,t.k).update(t.v).update(new b([0])).digest(),t.v=u(r,t.k).update(t.v).digest()}while(-1!==i.cmp(e));return i}t.exports=function(e,t,r,n,i){var s=l(t);if(s.curve){if("ecdsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");return function(e,t){var r=d[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var n=(new h(r)).keyFromPrivate(t.privateKey).sign(e);return new b(n.toDER())}(e,s)}if("dsa"===s.type){if("dsa"!==n)throw new Error("wrong private key type");return function(e,t,r){for(var n,i,s,o,a=t.params.priv_key,f=t.params.p,u=t.params.q,c=t.params.g,h=new _(0),l=v(e,u).mod(u),d=!1,p=y(a,u,e,r);!1===d;)n=m(u,p,r),i=n,s=f,o=u,h=c.toRed(_.mont(s)).redPow(i).fromRed().mod(o),0===(d=n.invm(u).imul(l.add(a.mul(h))).mod(u)).cmpn(0)&&(d=!1,h=new _(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var r=[48,e.length+t.length+4,2,e.length];return r=r.concat(e,[2,t.length],t),new b(r)}(h,d)}(e,s,r)}if("rsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");e=b.concat([i,e]);for(var o=s.modulus.byteLength(),a=[0,1];e.length+a.length+1<o;)a.push(255);a.push(0);for(var f=-1;++f<e.length;)a.push(e[f]);return c(a,s)},t.exports.getKey=y,t.exports.makeKey=m})).call(this,e("buffer").Buffer)},{"./curves.json":269,"bn.js":243,"browserify-rsa":266,buffer:274,"create-hmac":280,elliptic:293,"parse-asn1":338}],272:[function(e,t,r){((function(l){var d=e("bn.js"),p=e("elliptic").ec,b=e("parse-asn1"),_=e("./curves.json");function y(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}t.exports=function(e,t,r,n,i){var s=b(r);if("ec"===s.type){if("ecdsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong public key type");return function(e,t,r){var n=_[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new p(n),s=r.data.subjectPrivateKey.data;return i.verify(t,e,s)}(e,t,s)}if("dsa"===s.type){if("dsa"!==n)throw new Error("wrong public key type");return function(e,t,r){var n=r.data.p,i=r.data.q,s=r.data.g,o=r.data.pub_key,a=b.signature.decode(e,"der"),f=a.s,u=a.r;y(f,i),y(u,i);var c=d.mont(n),h=f.invm(i);return 0===s.toRed(c).redPow((new d(t)).mul(h).mod(i)).fromRed().mul(o.toRed(c).redPow(u.mul(h).mod(i)).fromRed()).mod(n).mod(i).cmp(u)}(e,t,s)}if("rsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong public key type");t=l.concat([i,t]);for(var o=s.modulus.byteLength(),a=[1],f=0;t.length+a.length+2<o;)a.push(255),f++;a.push(0);for(var u=-1;++u<t.length;)a.push(t[u]);a=new l(a);var c=d.mont(s.modulus);e=(e=(new d(e)).toRed(c)).redPow(new d(s.publicExponent)),e=new l(e.fromRed().toArray());var h=f<8?1:0;for(o=Math.min(e.length,a.length),e.length!==a.length&&(h=1),u=-1;++u<o;)h|=e[u]^a[u];return 0===h}})).call(this,e("buffer").Buffer)},{"./curves.json":269,"bn.js":243,buffer:274,elliptic:293,"parse-asn1":338}],273:[function(e,t,r){((function(s){t.exports=function(e,t){for(var r=Math.min(e.length,t.length),n=new s(r),i=0;i<r;++i)n[i]=e[i]^t[i];return n}})).call(this,e("buffer").Buffer)},{buffer:274}],274:[function(e,t,r){"use strict";var n=e("base64-js"),s=e("ieee754");r.Buffer=h,r.SlowBuffer=function(e){+e!=e&&(e=0);return h.alloc(+e)},r.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(i<e)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=h.prototype,t}function h(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(e)}return a(e,t,r)}function a(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return D(e)||e&&D(e.buffer)?function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=h.prototype,n}(e,t,r):"string"==typeof e?function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|d(e,t),n=o(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t):function(e){if(h.isBuffer(e)){var t=0|l(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}if(e){if(ArrayBuffer.isView(e)||"length"in e)return"number"!=typeof e.length||L(e.length)?o(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}(e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e){return f(e),o(e<0?0:0|l(e))}function c(e){for(var t=e.length<0?0:0|l(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function l(e){if(i<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function d(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||D(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(e).length;default:if(n)return P(e).length;t=(""+t).toLowerCase(),n=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),L(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=h.from(t,n)),h.isBuffer(t))return 0===t.length?-1:_(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,n,i){var s,o=1,a=e.length,f=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a/=o=2,f/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(s=r;s<a;s++)if(u(e,s)===u(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===f)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(a<r+f&&(r=a-f),s=r;0<=s;s--){for(var h=!0,l=0;l<f;l++)if(u(e,s+l)!==u(t,l)){h=!1;break}if(h)return s}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?i<(n=Number(n))&&(n=i):n=i;var s=t.length;s/2<n&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(L(a))return o;e[r+o]=a}return o}function v(e,t,r,n){return R(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function m(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function g(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,f,u=e[i],c=null,h=239<u?4:223<u?3:191<u?2:1;if(i+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(s=e[i+1]))&&127<(f=(31&u)<<6|63&s)&&(c=f);break;case 3:s=e[i+1],o=e[i+2],128==(192&s)&&128==(192&o)&&2047<(f=(15&u)<<12|(63&s)<<6|63&o)&&(f<55296||57343<f)&&(c=f);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&65535<(f=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)&&f<1114112&&(c=f)}null===c?(c=65533,h=1):65535<c&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(e){var t=e.length;if(t<=w)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=w));return r}(n)}r.kMaxLength=i,(h.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{get:function(){if(this instanceof h)return this.buffer}}),Object.defineProperty(h.prototype,"offset",{get:function(){if(this instanceof h)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=function(e,t,r){return a(e,t,r)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(e,t,r){return i=t,s=r,f(n=e),n<=0?o(n):void 0!==i?"string"==typeof s?o(n).fill(i,s):o(n).fill(i):o(n);var n,i,s},h.allocUnsafe=function(e){return u(e)},h.allocUnsafeSlow=function(e){return u(e)},h.isBuffer=function(e){return null!=e&&!0===e._isBuffer},h.compare=function(e,t){if(!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);var r;if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;var n=h.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(ArrayBuffer.isView(s)&&(s=h.from(s)),!h.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},h.byteLength=d,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?g(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,r);case"utf8":case"utf-8":return g(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return k(this,t,r);case"base64":return m(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},h.prototype.compare=function(e,t,r,n,i){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=t)return 0;if(i<=n)return-1;if(r<=t)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),a=Math.min(s,o),f=this.slice(n,i),u=e.slice(t,r),c=0;c<a;++c)if(f[c]!==u[c]){s=f[c],o=u[c];break}return s<o?-1:o<s?1:0},h.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},h.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},h.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},h.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||i<r)&&(r=i),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s,o,a,f,u,c,h,l,d,p=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return l=t,d=r,R(P(e,(h=this).length-l),h,l,d);case"ascii":return v(this,e,t,r);case"latin1":case"binary":return v(this,e,t,r);case"base64":return f=this,u=t,c=r,R(B(e),f,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o=t,a=r,R(function(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,(s=this).length-o),s,o,a);default:if(p)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function E(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||n<r)&&(r=n);for(var i="",s=t;s<r;++s)i+=A(e[s]);return i}function x(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function M(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,i,s){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function T(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function C(e,t,r,n,i){return t=+t,r>>>=0,i||T(e,0,r,4),s.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,i){return t=+t,r>>>=0,i||T(e,0,r,8),s.write(e,t,r,n,52,8),r+8}h.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=h.prototype,n},h.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},h.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);for(var n=this[e+ --t],i=1;0<t&&(i*=256);)n+=this[e+ --t]*i;return n},h.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*t)),n},h.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);for(var n=t,i=1,s=this[e+ --n];0<n&&(i*=256);)s+=this[e+ --n]*i;return(i*=128)<=s&&(s-=Math.pow(2,8*t)),s},h.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),s.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),s.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),s.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),s.read(this,e,!1,52,8)},h.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},h.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[t+i]=255&e;0<=--i&&(s*=256);)this[t+i]=e/s&255;return t+r},h.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},h.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;0<=--s&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},h.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeFloatLE=function(e,t,r){return C(this,e,t,!0,r)},h.prototype.writeFloatBE=function(e,t,r){return C(this,e,t,!1,r)},h.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},h.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},h.prototype.copy=function(e,t,r,n){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),0<n&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var s=i-1;0<=s;--s)e[s+t]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},h.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var o=h.isBuffer(e)?e:new h(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<r-t;++s)this[s+t]=o[s%a]}return this};var O=/[^+/0-9A-Za-z-_]/g;function A(e){return e<16?"0"+e.toString(16):e.toString(16)}function P(e,t){var r;t=t||1/0;for(var n=e.length,i=null,s=[],o=0;o<n;++o){if(55295<(r=e.charCodeAt(o))&&r<57344){if(!i){if(56319<r){-1<(t-=3)&&s.push(239,191,189);continue}if(o+1===n){-1<(t-=3)&&s.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(t-=3)&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(t-=3)&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function B(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function D(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function L(e){return e!=e}},{"base64-js":242,ieee754:325}],275:[function(e,t,r){var i=e("safe-buffer").Buffer,n=e("stream").Transform,s=e("string_decoder").StringDecoder;function o(e){n.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(o,n),o.prototype.update=function(e,t,r){"string"==typeof e&&(e=i.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},o.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},o.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},o.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},t.exports=o},{inherits:327,"safe-buffer":373,stream:382,string_decoder:383}],276:[function(e,t,r){((function(e){function t(e){return Object.prototype.toString.call(e)}r.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isNull=function(e){return null===e},r.isNullOrUndefined=function(e){return null==e},r.isNumber=function(e){return"number"==typeof e},r.isString=function(e){return"string"==typeof e},r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=function(e){return void 0===e},r.isRegExp=function(e){return"[object RegExp]"===t(e)},r.isObject=function(e){return"object"==typeof e&&null!==e},r.isDate=function(e){return"[object Date]"===t(e)},r.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},r.isFunction=function(e){return"function"==typeof e},r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e.isBuffer})).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":328}],277:[function(e,a,t){((function(s){var t=e("elliptic"),n=e("bn.js");a.exports=function(e){return new i(e)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function i(e){this.curveType=r[e],this.curveType||(this.curveType={name:e}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}function o(e,t,r){Array.isArray(e)||(e=e.toArray());var n=new s(e);if(r&&n.length<r){var i=new s(r-n.length);i.fill(0),n=s.concat([i,n])}return t?n.toString(t):n}r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1,i.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},i.prototype.computeSecret=function(e,t,r){return t=t||"utf8",s.isBuffer(e)||(e=new s(e,t)),o(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},i.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),o(r,e)},i.prototype.getPrivateKey=function(e){return o(this.keys.getPrivate(),e)},i.prototype.setPublicKey=function(e,t){return t=t||"utf8",s.isBuffer(e)||(e=new s(e,t)),this.keys._importPublic(e),this},i.prototype.setPrivateKey=function(e,t){t=t||"utf8",s.isBuffer(e)||(e=new s(e,t));var r=new n(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}})).call(this,e("buffer").Buffer)},{"bn.js":243,buffer:274,elliptic:293}],278:[function(e,t,r){"use strict";var n=e("inherits"),i=e("md5.js"),s=e("ripemd160"),o=e("sha.js"),a=e("cipher-base");function f(e){a.call(this,"digest"),this._hash=e}n(f,a),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){return this._hash.digest()},t.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new s:new f(o(e))}},{"cipher-base":275,inherits:327,"md5.js":330,ripemd160:372,"sha.js":375}],279:[function(e,t,r){var n=e("md5.js");t.exports=function(e){return(new n).update(e).digest()}},{"md5.js":330}],280:[function(e,t,r){"use strict";var n=e("inherits"),i=e("./legacy"),o=e("cipher-base"),a=e("safe-buffer").Buffer,s=e("create-hash/md5"),f=e("ripemd160"),u=e("sha.js"),c=a.alloc(128);function h(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var r="sha512"===e||"sha384"===e?128:64;(this._alg=e,(this._key=t).length>r)?t=("rmd160"===e?new f:u(e)).update(t).digest():t.length<r&&(t=a.concat([t,c],r));for(var n=this._ipad=a.allocUnsafe(r),i=this._opad=a.allocUnsafe(r),s=0;s<r;s++)n[s]=54^t[s],i[s]=92^t[s];this._hash="rmd160"===e?new f:u(e),this._hash.update(n)}n(h,o),h.prototype._update=function(e){this._hash.update(e)},h.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new f:u(this._alg)).update(this._opad).update(e).digest()},t.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new h("rmd160",t):"md5"===e?new i(s,t):new h(e,t)}},{"./legacy":281,"cipher-base":275,"create-hash/md5":279,inherits:327,ripemd160:372,"safe-buffer":373,"sha.js":375}],281:[function(e,t,r){"use strict";var n=e("inherits"),s=e("safe-buffer").Buffer,o=e("cipher-base"),a=s.alloc(128);function i(e,t){o.call(this,"digest"),"string"==typeof t&&(t=s.from(t)),this._alg=e,64<(this._key=t).length?t=e(t):t.length<64&&(t=s.concat([t,a],64));for(var r=this._ipad=s.allocUnsafe(64),n=this._opad=s.allocUnsafe(64),i=0;i<64;i++)r[i]=54^t[i],n[i]=92^t[i];this._hash=[r]}n(i,o),i.prototype._update=function(e){this._hash.push(e)},i.prototype._final=function(){var e=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,e]))},t.exports=i},{"cipher-base":275,inherits:327,"safe-buffer":373}],282:[function(e,t,r){"use strict";r.randomBytes=r.rng=r.pseudoRandomBytes=r.prng=e("randombytes"),r.createHash=r.Hash=e("create-hash"),r.createHmac=r.Hmac=e("create-hmac");var n=e("browserify-sign/algos"),i=Object.keys(n),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);r.getHashes=function(){return s};var o=e("pbkdf2");r.pbkdf2=o.pbkdf2,r.pbkdf2Sync=o.pbkdf2Sync;var a=e("browserify-cipher");r.Cipher=a.Cipher,r.createCipher=a.createCipher,r.Cipheriv=a.Cipheriv,r.createCipheriv=a.createCipheriv,r.Decipher=a.Decipher,r.createDecipher=a.createDecipher,r.Decipheriv=a.Decipheriv,r.createDecipheriv=a.createDecipheriv,r.getCiphers=a.getCiphers,r.listCiphers=a.listCiphers;var f=e("diffie-hellman");r.DiffieHellmanGroup=f.DiffieHellmanGroup,r.createDiffieHellmanGroup=f.createDiffieHellmanGroup,r.getDiffieHellman=f.getDiffieHellman,r.createDiffieHellman=f.createDiffieHellman,r.DiffieHellman=f.DiffieHellman;var u=e("browserify-sign");r.createSign=u.createSign,r.Sign=u.Sign,r.createVerify=u.createVerify,r.Verify=u.Verify,r.createECDH=e("create-ecdh");var c=e("public-encrypt");r.publicEncrypt=c.publicEncrypt,r.privateEncrypt=c.privateEncrypt,r.publicDecrypt=c.publicDecrypt,r.privateDecrypt=c.privateDecrypt;var h=e("randomfill");r.randomFill=h.randomFill,r.randomFillSync=h.randomFillSync,r.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},r.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":263,"browserify-sign":270,"browserify-sign/algos":267,"create-ecdh":277,"create-hash":278,"create-hmac":280,"diffie-hellman":289,pbkdf2:339,"public-encrypt":346,randombytes:356,randomfill:357}],283:[function(e,t,r){"use strict";r.utils=e("./des/utils"),r.Cipher=e("./des/cipher"),r.DES=e("./des/des"),r.CBC=e("./des/cbc"),r.EDE=e("./des/ede")},{"./des/cbc":284,"./des/cipher":285,"./des/des":286,"./des/ede":287,"./des/utils":288}],284:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),s=e("inherits"),o={};function i(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}r.instantiate=function(t){function r(e){t.call(this,e),this._cbcInit()}s(r,t);for(var e=Object.keys(o),n=0;n<e.length;n++){var i=e[n];r.prototype[i]=o[i]}return r.create=function(e){return new r(e)},r},o._cbcInit=function(){var e=new i(this.options.iv);this._cbcState=e},o._update=function(e,t,r,n){var i=this._cbcState,s=this.constructor.super_.prototype,o=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=e[t+a];s._update.call(this,o,0,r,n);for(a=0;a<this.blockSize;a++)o[a]=r[n+a]}else{s._update.call(this,e,t,r,n);for(a=0;a<this.blockSize;a++)r[n+a]^=o[a];for(a=0;a<this.blockSize;a++)o[a]=e[t+a]}}},{inherits:327,"minimalistic-assert":332}],285:[function(e,t,r){"use strict";var n=e("minimalistic-assert");function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}(t.exports=i).prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var s=e.length-(e.length-t)%this.blockSize;t<s;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);0<n;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},{"minimalistic-assert":332}],286:[function(e,t,r){"use strict";var o=e("minimalistic-assert"),n=e("inherits"),i=e("../des"),l=i.utils,s=i.Cipher;function a(){this.tmp=new Array(2),this.keys=null}function f(e){s.call(this,e);var t=new a;this._desState=t,this.deriveKeys(t,e.key)}n(f,s),(t.exports=f).create=function(e){return new f(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];f.prototype.deriveKeys=function(e,t){e.keys=new Array(32),o.equal(t.length,this.blockSize,"Invalid key length");var r=l.readUInt32BE(t,0),n=l.readUInt32BE(t,4);l.pc1(r,n,e.tmp,0),r=e.tmp[0],n=e.tmp[1];for(var i=0;i<e.keys.length;i+=2){var s=u[i>>>1];r=l.r28shl(r,s),n=l.r28shl(n,s),l.pc2(r,n,e.keys,i)}},f.prototype._update=function(e,t,r,n){var i=this._desState,s=l.readUInt32BE(e,t),o=l.readUInt32BE(e,t+4);l.ip(s,o,i.tmp,0),s=i.tmp[0],o=i.tmp[1],"encrypt"===this.type?this._encrypt(i,s,o,i.tmp,0):this._decrypt(i,s,o,i.tmp,0),s=i.tmp[0],o=i.tmp[1],l.writeUInt32BE(r,s,n),l.writeUInt32BE(r,o,n+4)},f.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},f.prototype._unpad=function(e){for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)o.equal(e[r],t);return e.slice(0,e.length-t)},f.prototype._encrypt=function(e,t,r,n,i){for(var s=t,o=r,a=0;a<e.keys.length;a+=2){var f=e.keys[a],u=e.keys[a+1];l.expand(o,e.tmp,0),f^=e.tmp[0],u^=e.tmp[1];var c=l.substitute(f,u),h=o;o=(s^l.permute(c))>>>0,s=h}l.rip(o,s,n,i)},f.prototype._decrypt=function(e,t,r,n,i){for(var s=r,o=t,a=e.keys.length-2;0<=a;a-=2){var f=e.keys[a],u=e.keys[a+1];l.expand(s,e.tmp,0),f^=e.tmp[0],u^=e.tmp[1];var c=l.substitute(f,u),h=s;s=(o^l.permute(c))>>>0,o=h}l.rip(s,o,n,i)}},{"../des":283,inherits:327,"minimalistic-assert":332}],287:[function(e,t,r){"use strict";var s=e("minimalistic-assert"),n=e("inherits"),i=e("../des"),o=i.Cipher,a=i.DES;function f(e,t){s.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),n=t.slice(8,16),i=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:n}),a.create({type:"encrypt",key:i})]:[a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:r})]}function u(e){o.call(this,e);var t=new f(this.type,this.options.key);this._edeState=t}n(u,o),(t.exports=u).create=function(e){return new u(e)},u.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},{"../des":283,inherits:327,"minimalistic-assert":332}],288:[function(e,t,r){"use strict";r.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},r.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},r.ip=function(e,t,r,n){for(var i=0,s=0,o=6;0<=o;o-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>>a+o&1}for(o=6;0<=o;o-=2){for(a=1;a<=25;a+=8)s<<=1,s|=t>>>a+o&1;for(a=1;a<=25;a+=8)s<<=1,s|=e>>>a+o&1}r[n+0]=i>>>0,r[n+1]=s>>>0},r.rip=function(e,t,r,n){for(var i=0,s=0,o=0;o<4;o++)for(var a=24;0<=a;a-=8)i<<=1,i|=t>>>a+o&1,i<<=1,i|=e>>>a+o&1;for(o=4;o<8;o++)for(a=24;0<=a;a-=8)s<<=1,s|=t>>>a+o&1,s<<=1,s|=e>>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},r.pc1=function(e,t,r,n){for(var i=0,s=0,o=7;5<=o;o--){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+o&1}for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+o&1;for(o=1;o<=3;o++){for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1;for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1}for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},r.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var f=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];r.pc2=function(e,t,r,n){for(var i=0,s=0,o=f.length>>>1,a=0;a<o;a++)i<<=1,i|=e>>>f[a]&1;for(a=o;a<f.length;a++)s<<=1,s|=t>>>f[a]&1;r[n+0]=i>>>0,r[n+1]=s>>>0},r.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var s=23;15<=s;s-=4)n<<=6,n|=e>>>s&63;for(s=11;3<=s;s-=4)i|=e>>>s&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];r.substitute=function(e,t){for(var r=0,n=0;n<4;n++){r<<=4,r|=i[64*n+(e>>>18-6*n&63)]}for(n=0;n<4;n++){r<<=4,r|=i[256+64*n+(t>>>18-6*n&63)]}return r>>>0};var n=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];r.permute=function(e){for(var t=0,r=0;r<n.length;r++)t<<=1,t|=e>>>n[r]&1;return t>>>0},r.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],s=0;s<t;s+=r)i.push(n.slice(s,s+r));return i.join(" ")}},{}],289:[function(e,t,r){((function(s){var o=e("./lib/generatePrime"),n=e("./lib/primes.json"),a=e("./lib/dh");var f={binary:!0,hex:!0,base64:!0};r.DiffieHellmanGroup=r.createDiffieHellmanGroup=r.getDiffieHellman=function(e){var t=new s(n[e].prime,"hex"),r=new s(n[e].gen,"hex");return new a(t,r)},r.createDiffieHellman=r.DiffieHellman=function e(t,r,n,i){return s.isBuffer(r)||void 0===f[r]?e(t,"binary",r,n):(r=r||"binary",i=i||"binary",n=n||new s([2]),s.isBuffer(n)||(n=new s(n,i)),"number"==typeof t?new a(o(t,n),n,!0):(s.isBuffer(t)||(t=new s(t,r)),new a(t,n,!0)))}})).call(this,e("buffer").Buffer)},{"./lib/dh":290,"./lib/generatePrime":291,"./lib/primes.json":292,buffer:274}],290:[function(b,_,e){((function(s){var o=b("bn.js"),a=new(b("miller-rabin")),f=new o(24),u=new o(11),c=new o(10),h=new o(3),l=new o(7),d=b("./generatePrime"),e=b("randombytes");function n(e,t){return t=t||"utf8",s.isBuffer(e)||(e=new s(e,t)),this._pub=new o(e),this}function i(e,t){return t=t||"utf8",s.isBuffer(e)||(e=new s(e,t)),this._priv=new o(e),this}_.exports=t;var p={};function t(e,t,r){this.setGenerator(t),this.__prime=new o(e),this._prime=o.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=n,this.setPrivateKey=i):this._primeCode=8}function r(e,t){var r=new s(e.toArray());return t?r.toString(t):r}Object.defineProperty(t.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in p)return p[n];var i,s=0;if(e.isEven()||!d.simpleSieve||!d.fermatTest(e)||!a.test(e))return s+=1,s+="02"===r||"05"===r?8:4,p[n]=s;switch(a.test(e.shrn(1))||(s+=2),r){case"02":e.mod(f).cmp(u)&&(s+=8);break;case"05":(i=e.mod(c)).cmp(h)&&i.cmp(l)&&(s+=8);break;default:s+=4}return p[n]=s}(this.__prime,this.__gen)),this._primeCode}}),t.prototype.generateKeys=function(){return this._priv||(this._priv=new o(e(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},t.prototype.computeSecret=function(e){var t=(e=(e=new o(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new s(t.toArray()),n=this.getPrime();if(r.length<n.length){var i=new s(n.length-r.length);i.fill(0),r=s.concat([i,r])}return r},t.prototype.getPublicKey=function(e){return r(this._pub,e)},t.prototype.getPrivateKey=function(e){return r(this._priv,e)},t.prototype.getPrime=function(e){return r(this.__prime,e)},t.prototype.getGenerator=function(e){return r(this._gen,e)},t.prototype.setGenerator=function(e,t){return t=t||"utf8",s.isBuffer(e)||(e=new s(e,t)),this.__gen=e,this._gen=new o(e),this}})).call(this,b("buffer").Buffer)},{"./generatePrime":291,"bn.js":243,buffer:274,"miller-rabin":331,randombytes:356}],291:[function(e,t,r){var i=e("randombytes");(t.exports=n).simpleSieve=_,n.fermatTest=y;var s=e("bn.js"),o=new s(24),a=new(e("miller-rabin")),f=new s(1),u=new s(2),c=new s(5),h=(new s(16),new s(8),new s(10)),l=new s(3),d=(new s(7),new s(11)),p=new s(4),b=(new s(12),null);function _(e){for(var t=function(){if(null!==b)return b;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return b=e}(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function y(e){var t=s.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function n(e,t){if(e<16)return new s(2===t||5===t?[140,123]:[140,39]);var r,n;for(t=new s(t);;){for(r=new s(i(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(f),r.testn(1)||r.iadd(u),t.cmp(u)){if(!t.cmp(c))for(;r.mod(h).cmp(l);)r.iadd(p)}else for(;r.mod(o).cmp(d);)r.iadd(p);if(_(n=r.shrn(1))&&_(r)&&y(n)&&y(r)&&a.test(n)&&a.test(r))return r}}},{"bn.js":243,"miller-rabin":331,randombytes:356}],292:[function(e,t,r){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],293:[function(e,t,r){"use strict";var n=r;n.version=e("../package.json").version,n.utils=e("./elliptic/utils"),n.rand=e("brorand"),n.curve=e("./elliptic/curve"),n.curves=e("./elliptic/curves"),n.ec=e("./elliptic/ec"),n.eddsa=e("./elliptic/eddsa")},{"../package.json":308,"./elliptic/curve":296,"./elliptic/curves":299,"./elliptic/ec":300,"./elliptic/eddsa":303,"./elliptic/utils":307,brorand:244}],294:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils,x=i.getNAF,M=i.getJSF,h=i.assert;function s(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=(new n(0)).toRed(this.red),this.one=(new n(1)).toRed(this.red),this.two=(new n(2)).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||0<r.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function o(e,t){this.curve=e,this.type=t,this.precomputed=null}(t.exports=s).prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(e,t){h(e.precomputed);var r=e._getDoubles(),n=x(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],o=0;o<n.length;o+=r.step){var a=0;for(t=o+r.step-1;o<=t;t--)a=(a<<1)+n[t];s.push(a)}for(var f=this.jpoint(null,null,null),u=this.jpoint(null,null,null),c=i;0<c;c--){for(o=0;o<s.length;o++){(a=s[o])===c?u=u.mixedAdd(r.points[o]):a===-c&&(u=u.mixedAdd(r.points[o].neg()))}f=f.add(u)}return f.toP()},s.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=x(t,r),o=this.jpoint(null,null,null),a=s.length-1;0<=a;a--){for(t=0;0<=a&&0===s[a];a--)t++;if(0<=a&&t++,o=o.dblp(t),a<0)break;var f=s[a];h(0!==f),o="affine"===e.type?0<f?o.mixedAdd(i[f-1>>1]):o.mixedAdd(i[-f-1>>1].neg()):0<f?o.add(i[f-1>>1]):o.add(i[-f-1>>1].neg())}return"affine"===e.type?o.toP():o},s.prototype._wnafMulAdd=function(e,t,r,n,i){for(var s=this._wnafT1,o=this._wnafT2,a=this._wnafT3,f=0,u=0;u<n;u++){var c=(k=t[u])._getNAFPoints(e);s[u]=c.wnd,o[u]=c.points}for(u=n-1;1<=u;u-=2){var h=u-1,l=u;if(1===s[h]&&1===s[l]){var d=[t[h],null,null,t[l]];0===t[h].y.cmp(t[l].y)?(d[1]=t[h].add(t[l]),d[2]=t[h].toJ().mixedAdd(t[l].neg())):0===t[h].y.cmp(t[l].y.redNeg())?(d[1]=t[h].toJ().mixedAdd(t[l]),d[2]=t[h].add(t[l].neg())):(d[1]=t[h].toJ().mixedAdd(t[l]),d[2]=t[h].toJ().mixedAdd(t[l].neg()));var p=[-3,-1,-5,-7,0,7,5,1,3],b=M(r[h],r[l]);f=Math.max(b[0].length,f),a[h]=new Array(f),a[l]=new Array(f);for(var _=0;_<f;_++){var y=0|b[0][_],v=0|b[1][_];a[h][_]=p[3*(y+1)+(v+1)],a[l][_]=0,o[h]=d}}else a[h]=x(r[h],s[h]),a[l]=x(r[l],s[l]),f=Math.max(a[h].length,f),f=Math.max(a[l].length,f)}var m=this.jpoint(null,null,null),g=this._wnafT4;for(u=f;0<=u;u--){for(var w=0;0<=u;){var S=!0;for(_=0;_<n;_++)g[_]=0|a[_][u],0!==g[_]&&(S=!1);if(!S)break;w++,u--}if(0<=u&&w++,m=m.dblp(w),u<0)break;for(_=0;_<n;_++){var k,E=g[_];0!==E&&(0<E?k=o[_][E-1>>1]:E<0&&(k=o[_][-E-1>>1].neg()),m="affine"===k.type?m.mixedAdd(k):m.add(k))}}for(u=0;u<n;u++)o[u]=null;return i?m:m.toP()},(s.BasePoint=o).prototype.eq=function(){throw new Error("Not implemented")},o.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?h(e[e.length-1]%2==0):7===e[0]&&h(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},o.prototype.encodeCompressed=function(e){return this.encode(e,!0)},o.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},o.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},o.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},o.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},o.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},o.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},o.prototype._getBeta=function(){return null},o.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},{"../../elliptic":293,"bn.js":243}],295:[function(e,t,r){"use strict";var n=e("../curve"),i=e("../../elliptic"),f=e("bn.js"),s=e("inherits"),o=n.base,a=i.utils.assert;function u(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=(new f(e.a,16)).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=(new f(e.c,16)).toRed(this.red),this.c2=this.c.redSqr(),this.d=(new f(e.d,16)).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function c(e,t,r,n,i){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new f(t,16),this.y=new f(r,16),this.z=n?new f(n,16):this.curve.one,this.t=i&&new f(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(u,o),(t.exports=u).prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},u.prototype.pointFromX=function(e,t){(e=new f(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(i.redInvm()),o=s.redSqrt();if(0!==o.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var a=o.fromRed().isOdd();return(t&&!a||!t&&a)&&(o=o.redNeg()),this.point(e,o)},u.prototype.pointFromY=function(e,t){(e=new f(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.one),i=r.redMul(this.d).redAdd(this.one),s=n.redMul(i.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(0!==o.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return o.isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},s(c,o.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,r,n){return new c(this,e,t,r,n)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),o=s.redSub(r),a=n.redSub(t),f=i.redMul(o),u=s.redMul(a),c=i.redMul(a),h=o.redMul(s);return this.curve.point(f,u,h,c)},c.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var o=(u=this.curve._mulA(i)).redAdd(s);if(this.zOne)e=n.redSub(i).redSub(s).redMul(o.redSub(this.curve.two)),t=o.redMul(u.redSub(s)),r=o.redSqr().redSub(o).redSub(o);else{var a=this.z.redSqr(),f=o.redSub(a).redISub(a);e=n.redSub(i).redISub(s).redMul(f),t=o.redMul(u.redSub(s)),r=o.redMul(f)}}else{var u=i.redAdd(s);a=this.curve._mulC(this.c.redMul(this.z)).redSqr(),f=u.redSub(a).redSub(a);e=this.curve._mulC(n.redISub(u)).redMul(f),t=this.curve._mulC(u).redMul(i.redISub(s)),r=u.redMul(f)}return this.curve.point(e,t,r)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),o=i.redSub(n),a=i.redAdd(n),f=r.redAdd(t),u=s.redMul(o),c=a.redMul(f),h=s.redMul(f),l=o.redMul(a);return this.curve.point(u,c,l,h)},c.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),f=i.redSub(a),u=i.redAdd(a),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),h=n.redMul(f).redMul(c);return this.curve.twisted?(t=n.redMul(u).redMul(o.redSub(this.curve._mulA(s))),r=f.redMul(u)):(t=n.redMul(u).redMul(o.redSub(s)),r=this.curve._mulC(f).redMul(u)),this.curve.point(h,t,r)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},c.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),0<=r.cmp(this.curve.p))return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}return!1},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../../elliptic":293,"../curve":296,"bn.js":243,inherits:327}],296:[function(e,t,r){"use strict";var n=r;n.base=e("./base"),n.short=e("./short"),n.mont=e("./mont"),n.edwards=e("./edwards")},{"./base":294,"./edwards":295,"./mont":297,"./short":298}],297:[function(e,t,r){"use strict";var n=e("../curve"),i=e("bn.js"),s=e("inherits"),o=n.base,a=e("../../elliptic").utils;function f(e){o.call(this,"mont",e),this.a=(new i(e.a,16)).toRed(this.red),this.b=(new i(e.b,16)).toRed(this.red),this.i4=(new i(4)).toRed(this.red).redInvm(),this.two=(new i(2)).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(f,o),(t.exports=f).prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},s(u,o.BasePoint),f.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},f.prototype.point=function(e,t){return new u(this,e,t)},f.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),o=i.redMul(n),a=t.z.redMul(s.redAdd(o).redSqr()),f=t.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,f)},u.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;0<=s;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../../elliptic":293,"../curve":296,"bn.js":243,inherits:327}],298:[function(e,t,r){"use strict";var n=e("../curve"),i=e("../../elliptic"),w=e("bn.js"),s=e("inherits"),o=n.base,a=i.utils.assert;function f(e){o.call(this,"short",e),this.a=(new w(e.a,16)).toRed(this.red),this.b=(new w(e.b,16)).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new w(t,16),this.y=new w(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(e,t,r,n){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new w(0)):(this.x=new w(t,16),this.y=new w(r,16),this.z=new w(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(f,o),(t.exports=f).prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=(new w(e.beta,16)).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new w(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map(function(e){return{a:new w(e.a,16),b:new w(e.b,16)}}):this._getEndoBasis(r)}}},f.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:w.mont(e),r=(new w(2)).toRed(t).redInvm(),n=r.redNeg(),i=(new w(3)).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},f.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,o,a,f,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,l=this.n.clone(),d=new w(1),p=new w(0),b=new w(0),_=new w(1),y=0;0!==h.cmpn(0);){var v=l.div(h);f=l.sub(v.mul(h)),u=b.sub(v.mul(d));var m=_.sub(v.mul(p));if(!n&&f.cmp(c)<0)t=a.neg(),r=d,n=f.neg(),i=u;else if(n&&2==++y)break;l=h,h=a=f,b=d,d=u,_=p,p=m}s=f.neg(),o=u;var g=n.sqr().add(i.sqr());return 0<=s.sqr().add(o.sqr()).cmp(g)&&(s=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},f.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),f=i.mul(r.b),u=s.mul(n.b);return{k1:e.sub(o).sub(a),k2:f.add(u).neg()}},f.prototype.pointFromX=function(e,t){(e=new w(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},f.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},f.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],f=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),f=f.neg(!0)),n[2*s]=a,n[2*s+1]=f,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),c=0;c<2*s;c++)n[c]=null,i[c]=null;return u},s(u,o.BasePoint),f.prototype.point=function(e,t,r){return new u(this,e,t,r)},f.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};(e.beta=t).precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new w(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(c,o.BasePoint),f.prototype.jpoint=function(e,t,r){return new c(this,e,t,r)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),f=s.redSub(o);if(0===a.cmpn(0))return 0!==f.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),l=f.redSqr().redIAdd(c).redISub(h).redISub(h),d=f.redMul(h.redISub(l)).redISub(s.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(l,d,p)},c.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=o.redSqr(),u=f.redMul(o),c=r.redMul(f),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),l=a.redMul(c.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(o);return this.curve.jpoint(h,l,d)},c.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,f=a.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var c=s.redSqr(),h=u.redSqr(),l=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(f)),p=s.redMul(h),b=d.redSqr().redISub(p.redAdd(p)),_=p.redISub(b),y=d.redMul(_);y=y.redIAdd(y).redISub(l);var v=u.redMul(a);r+1<e&&(f=f.redMul(l)),s=b,a=v,u=y}return this.curve.jpoint(s,u.redMul(i),a)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),f=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=f,t=a.redMul(o.redISub(f)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),l=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(l);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),b=p.redSqr(),_=l.redIAdd(l);_=(_=_.redIAdd(_)).redIAdd(_),e=b.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(_),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},c.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),f=a.redSqr().redISub(o).redISub(o);e=f;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(o.redISub(f)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),l=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),b=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var _=h.redSqr();_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_),t=d.redMul(p.redISub(e)).redISub(_)}return this.curve.jpoint(e,t,r)},c.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),f=t.redAdd(t),u=(f=f.redIAdd(f)).redMul(o),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(h).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),f=n.redIAdd(n);f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var u=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(f),c=t.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var l=this.y.redMul(u.redMul(f.redISub(u)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,l,d)},c.prototype.mul=function(e,t){return e=new w(e,t),this.curve._wnafMul(this,e)},c.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},c.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),0<=n.cmp(this.curve.p))return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}return!1},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../../elliptic":293,"../curve":296,"bn.js":243,inherits:327}],299:[function(e,t,r){"use strict";var n,i=r,s=e("hash.js"),o=e("../elliptic"),a=o.utils.assert;function f(e){"short"===e.type?this.curve=new o.curve.short(e):"edwards"===e.type?this.curve=new o.curve.edwards(e):this.curve=new o.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(t,r){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var e=new f(r);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:e}),e}})}i.PresetCurve=f,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=e("./precomputed/secp256k1")}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"../elliptic":293,"./precomputed/secp256k1":306,"hash.js":312}],300:[function(e,t,r){"use strict";var _=e("bn.js"),y=e("hmac-drbg"),s=e("../../elliptic"),d=s.utils.assert,n=e("./key"),v=e("./signature");function i(e){if(!(this instanceof i))return new i(e);"string"==typeof e&&(d(s.curves.hasOwnProperty(e),"Unknown curve "+e),e=s.curves[e]),e instanceof s.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}(t.exports=i).prototype.keyPair=function(e){return new n(this,e)},i.prototype.keyFromPrivate=function(e,t){return n.fromPrivate(this,e,t)},i.prototype.keyFromPublic=function(e,t){return n.fromPublic(this,e,t)},i.prototype.genKeyPair=function(e){e||(e={});for(var t=new y({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new _(2));;){var i=new _(t.generate(r));if(!(0<i.cmp(n)))return i.iaddn(1),this.keyFromPrivate(i)}},i.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return 0<r&&(e=e.ushrn(r)),!t&&0<=e.cmp(this.n)?e.sub(this.n):e},i.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new _(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),o=e.toArray("be",i),a=new y({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),f=this.n.sub(new _(1)),u=0;;u++){var c=n.k?n.k(u):new _(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||0<=c.cmp(f))){var h=this.g.mul(c);if(!h.isInfinity()){var l=h.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var b=(h.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return n.canonical&&0<p.cmp(this.nh)&&(p=this.n.sub(p),b^=1),new v({r:d,s:p,recoveryParam:b})}}}}}},i.prototype.verify=function(e,t,r,n){e=this._truncateToN(new _(e,16)),r=this.keyFromPublic(r,n);var i=(t=new v(t,"hex")).r,s=t.s;if(i.cmpn(1)<0||0<=i.cmp(this.n))return!1;if(s.cmpn(1)<0||0<=s.cmp(this.n))return!1;var o,a=s.invm(this.n),f=a.mul(e).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(f,r.getPublic(),u)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(f,r.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},i.prototype.recoverPubKey=function(e,t,r,n){d((3&r)===r,"The recovery param is more than two bits"),t=new v(t,n);var i=this.n,s=new _(e),o=t.r,a=t.s,f=1&r,u=r>>1;if(0<=o.cmp(this.curve.p.umod(this.curve.n))&&u)throw new Error("Unable to find sencond key candinate");o=u?this.curve.pointFromX(o.add(this.curve.n),f):this.curve.pointFromX(o,f);var c=t.r.invm(i),h=i.sub(s).mul(c).umod(i),l=a.mul(c).umod(i);return this.g.mulAdd(h,o,l)},i.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new v(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},{"../../elliptic":293,"./key":301,"./signature":302,"bn.js":243,"hmac-drbg":324}],301:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils.assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}(t.exports=s).fromPublic=function(e,t,r){return t instanceof s?t:new s(e,{pub:t,pubEnc:r})},s.fromPrivate=function(e,t,r){return t instanceof s?t:new s(e,{priv:t,privEnc:r})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void (this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.mul(this.priv).getX()},s.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},s.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../../elliptic":293,"bn.js":243}],302:[function(e,t,r){"use strict";var a=e("bn.js"),f=e("../../elliptic").utils,n=f.assert;function i(e,t){if(e instanceof i)return e;this._importDER(e,t)||(n(e.r&&e.s,"Signature without r or s"),this.r=new a(e.r,16),this.s=new a(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function u(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o];return t.place=o,i}function o(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function h(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}(t.exports=i).prototype._importDER=function(e,t){e=f.toArray(e,t);var r=new u;if(48!==e[r.place++])return!1;if(c(e,r)+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var n=c(e,r),i=e.slice(r.place,n+r.place);if(r.place+=n,2!==e[r.place++])return!1;var s=c(e,r);if(e.length!==s+r.place)return!1;var o=e.slice(r.place,s+r.place);return 0===i[0]&&128&i[1]&&(i=i.slice(1)),0===o[0]&&128&o[1]&&(o=o.slice(1)),this.r=new a(i),this.s=new a(o),!(this.recoveryParam=null)},i.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=o(t),r=o(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];h(n,t.length),(n=n.concat(t)).push(2),h(n,r.length);var i=n.concat(r),s=[48];return h(s,i.length),s=s.concat(i),f.encode(s,e)}},{"../../elliptic":293,"bn.js":243}],303:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("../../elliptic"),s=i.utils,o=s.assert,f=s.parseBytes,a=e("./key"),u=e("./signature");function c(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof c))return new c(e);e=i.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}(t.exports=c).prototype.sign=function(e,t){e=f(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),s=this.encodePoint(i),o=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),a=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:a,Rencoded:s})},c.prototype.verify=function(e,t,r){e=f(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(s)},c.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(e){return a.fromPublic(this,e)},c.prototype.keyFromSecret=function(e){return a.fromSecret(this,e)},c.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},c.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},c.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=s.intFromLE(r);return this.curve.pointFromY(i,n)},c.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(e){return s.intFromLE(e)},c.prototype.isPoint=function(e){return e instanceof this.pointClass}},{"../../elliptic":293,"./key":304,"./signature":305,"hash.js":312}],304:[function(e,t,r){"use strict";var n=e("../../elliptic").utils,i=n.assert,s=n.parseBytes,o=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(a,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),o(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},t.exports=a},{"../../elliptic":293}],305:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils,s=i.assert,o=i.cachedProperty,a=i.parseBytes;function f(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(f,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(f,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(f,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(f,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),f.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},f.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=f},{"../../elliptic":293,"bn.js":243}],306:[function(e,t,r){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],307:[function(e,t,r){"use strict";var n=r,i=e("bn.js"),s=e("minimalistic-assert"),o=e("minimalistic-crypto-utils");n.assert=s,n.toArray=o.toArray,n.zero2=o.zero2,n.toHex=o.toHex,n.encode=o.encode,n.getNAF=function(e,t){for(var r=[],n=1<<t+1,i=e.clone();0<=i.cmpn(1);){var s;if(i.isOdd()){var o=i.andln(n-1);s=(n>>1)-1<o?(n>>1)-o:o,i.isubn(s)}else s=0;r.push(s);for(var a=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,f=1;f<a;f++)r.push(0);i.iushrn(a)}return r},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;0<e.cmpn(-n)||0<t.cmpn(-i);){var s,o,a,f=e.andln(3)+n&3,u=t.andln(3)+i&3;3===f&&(f=-1),3===u&&(u=-1),s=0==(1&f)?0:3!=(a=e.andln(7)+n&7)&&5!==a||2!==u?f:-f,r[0].push(s),o=0==(1&u)?0:3!=(a=t.andln(7)+i&7)&&5!==a||2!==f?u:-u,r[1].push(o),2*n===s+1&&(n=1-n),2*i===o+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},{"bn.js":243,"minimalistic-assert":332,"minimalistic-crypto-utils":333}],308:[function(e,t,r){t.exports={_from:"elliptic@^6.0.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.0.0",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.0.0",saveSpec:null,fetchSpec:"^6.0.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_spec:"elliptic@^6.0.0",_where:"C:\\dev\\h5sdk\\xyvod\\node_modules\\browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},{}],309:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function f(e){return"function"==typeof e}function u(e){return"object"==typeof e&&null!==e}function c(e){return void 0===e}((t.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,i,s,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var a=new Error('Uncaught, unspecified "error" event. ('+t+")");throw a.context=t,a}if(c(r=this._events[e]))return!1;if(f(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(u(r))for(i=Array.prototype.slice.call(arguments,1),n=(o=r.slice()).length,s=0;s<n;s++)o[s].apply(this,i);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var r;if(!f(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,f(t.listener)?t.listener:t),this._events[e]?u(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,u(this._events[e])&&!this._events[e].warned&&(r=c(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&0<r&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){if(!f(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var r,n,i,s;if(!f(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,n=-1,r===t||f(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(u(r)){for(s=i;0<s--;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(f(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?f(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(f(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],310:[function(e,t,r){var d=e("safe-buffer").Buffer,p=e("md5.js");t.exports=function(e,t,r,n){if(d.isBuffer(e)||(e=d.from(e,"binary")),t&&(d.isBuffer(t)||(t=d.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,s=d.alloc(i),o=d.alloc(n||0),a=d.alloc(0);0<i||0<n;){var f=new p;f.update(a),f.update(e),t&&f.update(t),a=f.digest();var u=0;if(0<i){var c=s.length-i;u=Math.min(i,a.length),a.copy(s,c,0,u),i-=u}if(u<a.length&&0<n){var h=o.length-n,l=Math.min(n,a.length-u);a.copy(o,h,u,u+l),n-=l}}return a.fill(0),{key:s,iv:o}}},{"md5.js":330,"safe-buffer":373}],311:[function(e,t,r){"use strict";var a=e("safe-buffer").Buffer,n=e("stream").Transform;function i(e){n.call(this),this._block=a.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(i,n),i.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},i.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,t){if(function(e,t){if(!a.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(e)||(e=a.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var s=0,o=8*e.length;0<o;++s)this._length[s]+=o,0<(o=this._length[s]/4294967296|0)&&(this._length[s]-=4294967296*o);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0);for(var r=this._blockOffset=0;r<4;++r)this._length[r]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=i},{inherits:327,"safe-buffer":373,stream:382}],312:[function(e,t,r){var n=r;n.utils=e("./hash/utils"),n.common=e("./hash/common"),n.sha=e("./hash/sha"),n.ripemd=e("./hash/ripemd"),n.hmac=e("./hash/hmac"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},{"./hash/common":313,"./hash/hmac":314,"./hash/ripemd":315,"./hash/sha":316,"./hash/utils":323}],313:[function(e,t,r){"use strict";var i=e("./utils"),n=e("minimalistic-assert");function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}(r.BlockHash=s).prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),n(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n}},{"./utils":323,"minimalistic-assert":332}],314:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}(t.exports=s).prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":323,"minimalistic-assert":332}],315:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./common"),p=n.rotl32,b=n.sum32,_=n.sum32_3,y=n.sum32_4,s=i.BlockHash;function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function v(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function m(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function g(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(o,s),(r.ripemd160=o).blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,f=n,u=i,c=s,h=o,l=0;l<80;l++){var d=b(p(y(r,v(l,n,i,s),e[w[l]+t],m(l)),k[l]),o);r=o,o=s,s=p(i,10),i=n,n=d,d=b(p(y(a,v(79-l,f,u,c),e[S[l]+t],g(l)),E[l]),h),a=h,h=c,c=p(u,10),u=f,f=d}d=_(this.h[1],i,c),this.h[1]=_(this.h[2],s,h),this.h[2]=_(this.h[3],o,a),this.h[3]=_(this.h[4],r,f),this.h[4]=_(this.h[0],n,u),this.h[0]=d},o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var w=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],S=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],k=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],E=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":313,"./utils":323}],316:[function(e,t,r){"use strict";r.sha1=e("./sha/1"),r.sha224=e("./sha/224"),r.sha256=e("./sha/256"),r.sha384=e("./sha/384"),r.sha512=e("./sha/512")},{"./sha/1":317,"./sha/224":318,"./sha/256":319,"./sha/384":320,"./sha/512":321}],317:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),s=e("./common"),h=n.rotl32,l=n.sum32,d=n.sum32_5,p=s.ft_1,o=i.BlockHash,b=[1518500249,1859775393,2400959708,3395469782];function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(a,o),(t.exports=a).blockSize=512,a.outSize=160,a.hmacStrength=80,a.padLength=64,a.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=h(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],f=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),c=d(h(i,5),p(u,s,o,a),f,r[n],b[u]);f=a,a=o,o=h(s,30),s=i,i=c}this.h[0]=l(this.h[0],i),this.h[1]=l(this.h[1],s),this.h[2]=l(this.h[2],o),this.h[3]=l(this.h[3],a),this.h[4]=l(this.h[4],f)},a.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":313,"../utils":323,"./common":322}],318:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./256");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),(t.exports=s).blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},{"../utils":323,"./256":319}],319:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),s=e("./common"),p=e("minimalistic-assert"),b=n.sum32,_=n.sum32_4,y=n.sum32_5,v=s.ch32,m=s.maj32,g=s.s0_256,w=s.s1_256,S=s.g0_256,k=s.g1_256,o=i.BlockHash,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function f(){if(!(this instanceof f))return new f;o.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=a,this.W=new Array(64)}n.inherits(f,o),(t.exports=f).blockSize=512,f.outSize=256,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=_(k(r[n-2]),r[n-7],S(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],f=this.h[4],u=this.h[5],c=this.h[6],h=this.h[7];for(p(this.k.length===r.length),n=0;n<r.length;n++){var l=y(h,w(f),v(f,u,c),this.k[n],r[n]),d=b(g(i),m(i,s,o));h=c,c=u,u=f,f=b(a,l),a=o,o=s,s=i,i=b(l,d)}this.h[0]=b(this.h[0],i),this.h[1]=b(this.h[1],s),this.h[2]=b(this.h[2],o),this.h[3]=b(this.h[3],a),this.h[4]=b(this.h[4],f),this.h[5]=b(this.h[5],u),this.h[6]=b(this.h[6],c),this.h[7]=b(this.h[7],h)},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":313,"../utils":323,"./common":322,"minimalistic-assert":332}],320:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./512");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),(t.exports=s).blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},{"../utils":323,"./512":321}],321:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),B=e("minimalistic-assert"),s=n.rotr64_hi,o=n.rotr64_lo,a=n.shr64_hi,f=n.shr64_lo,R=n.sum64,D=n.sum64_hi,L=n.sum64_lo,l=n.sum64_4_hi,d=n.sum64_4_lo,U=n.sum64_5_hi,N=n.sum64_5_lo,u=i.BlockHash,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=c,this.W=new Array(160)}function q(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function F(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function z(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function H(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function K(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function V(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function W(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function G(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function p(e,t){var r=s(e,t,1)^s(e,t,8)^a(e,t,7);return r<0&&(r+=4294967296),r}function b(e,t){var r=o(e,t,1)^o(e,t,8)^f(e,t,7);return r<0&&(r+=4294967296),r}function _(e,t){var r=s(e,t,19)^s(t,e,29)^a(e,t,6);return r<0&&(r+=4294967296),r}function y(e,t){var r=o(e,t,19)^o(t,e,29)^f(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(h,u),(t.exports=h).blockSize=1024,h.outSize=512,h.hmacStrength=192,h.padLength=128,h.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=_(r[n-4],r[n-3]),s=y(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],f=p(r[n-30],r[n-29]),u=b(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=l(i,s,o,a,f,u,c,h),r[n+1]=d(i,s,o,a,f,u,c,h)}},h.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],f=this.h[5],u=this.h[6],c=this.h[7],h=this.h[8],l=this.h[9],d=this.h[10],p=this.h[11],b=this.h[12],_=this.h[13],y=this.h[14],v=this.h[15];B(this.k.length===r.length);for(var m=0;m<r.length;m+=2){var g=y,w=v,S=W(h,l),k=G(h,l),E=q(h,l,d,p,b),x=F(h,l,d,p,b,_),M=this.k[m],I=this.k[m+1],T=r[m],C=r[m+1],j=U(g,w,S,k,E,x,M,I,T,C),O=N(g,w,S,k,E,x,M,I,T,C);g=K(n,i),w=V(n,i),S=z(n,i,s,o,a),k=H(n,i,s,o,a,f);var A=D(g,w,S,k),P=L(g,w,S,k);y=b,v=_,b=d,_=p,d=h,p=l,h=D(u,c,j,O),l=L(c,c,j,O),u=a,c=f,a=s,f=o,s=n,o=i,n=D(j,O,A,P),i=L(j,O,A,P)}R(this.h,0,n,i),R(this.h,2,s,o),R(this.h,4,a,f),R(this.h,6,u,c),R(this.h,8,h,l),R(this.h,10,d,p),R(this.h,12,b,_),R(this.h,14,y,v)},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":313,"../utils":323,"minimalistic-assert":332}],322:[function(e,t,r){"use strict";var n=e("../utils").rotr32;function i(e,t,r){return e&t^~e&r}function s(e,t,r){return e&t^e&r^t&r}function o(e,t,r){return e^t^r}r.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?o(t,r,n):2===e?s(t,r,n):void 0},r.ch32=i,r.maj32=s,r.p32=o,r.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},r.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},r.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},r.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},{"../utils":323}],323:[function(e,t,r){"use strict";var u=e("minimalistic-assert"),n=e("inherits");function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function i(e){return 1===e.length?"0"+e:e}function o(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}r.inherits=n,r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t},r.htonl=s,r.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=o(i.toString(16))}return r},r.zero2=i,r.zero8=o,r.join32=function(e,t,r,n){var i=r-t;u(i%4==0);for(var s=new Array(i/4),o=0,a=t;o<s.length;o++,a+=4){var f;f="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],s[o]=f>>>0}return s},r.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},r.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},r.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,o=(s<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=s},r.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},r.sum64_lo=function(e,t,r,n){return t+n>>>0},r.sum64_4_hi=function(e,t,r,n,i,s,o,a){var f=0,u=t;return f+=(u=u+n>>>0)<t?1:0,f+=(u=u+s>>>0)<s?1:0,e+r+i+o+(f+=(u=u+a>>>0)<a?1:0)>>>0},r.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},r.sum64_5_hi=function(e,t,r,n,i,s,o,a,f,u){var c=0,h=t;return c+=(h=h+n>>>0)<t?1:0,c+=(h=h+s>>>0)<s?1:0,c+=(h=h+a>>>0)<a?1:0,e+r+i+o+f+(c+=(h=h+u>>>0)<u?1:0)>>>0},r.sum64_5_lo=function(e,t,r,n,i,s,o,a,f,u){return t+n+s+a+u>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},{inherits:327,"minimalistic-assert":332}],324:[function(e,t,r){"use strict";var n=e("hash.js"),o=e("minimalistic-crypto-utils"),i=e("minimalistic-assert");function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc||"hex"),r=o.toArray(e.nonce,e.nonceEnc||"hex"),n=o.toArray(e.pers,e.persEnc||"hex");i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}(t.exports=s).prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=o.toArray(e,t),r=o.toArray(r,n),i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=o.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(r),this._reseed++,o.encode(s,t)}},{"hash.js":312,"minimalistic-assert":332,"minimalistic-crypto-utils":333}],325:[function(e,t,r){r.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,f=(1<<a)-1,u=f>>1,c=-7,h=r?i-1:0,l=r?-1:1,d=e[t+h];for(h+=l,s=d&(1<<-c)-1,d>>=-c,c+=a;0<c;s=256*s+e[t+h],h+=l,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;0<c;o=256*o+e[t+h],h+=l,c-=8);if(0===s)s=1-u;else{if(s===f)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=u}return(d?-1:1)*o*Math.pow(2,s-n)},r.write=function(e,t,r,n,i,s){var o,a,f,u=8*s-i-1,c=(1<<u)-1,h=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-o))<1&&(o--,f*=2),2<=(t+=1<=o+h?l/f:l*Math.pow(2,1-h))*f&&(o++,f/=2),c<=o+h?(a=0,o=c):1<=o+h?(a=(t*f-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));8<=i;e[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;0<u;e[r+d]=255&o,d+=p,o/=256,u-=8);e[r+d-p]|=128*b}},{}],326:[function(e,t,r){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},{}],327:[function(e,t,r){arguments[4][239][0].apply(r,arguments)},{dup:239}],328:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(n(e)||"function"==typeof (t=e).readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))||!!e._isBuffer);var t}},{}],329:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],330:[function(i,s,e){((function(t){"use strict";var e=i("inherits"),r=i("hash-base"),o=new Array(16);function n(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function a(e,t){return e<<t|e>>>32-t}function f(e,t,r,n,i,s,o){return a(e+(t&r|~t&n)+i+s|0,o)+t|0}function u(e,t,r,n,i,s,o){return a(e+(t&n|r&~n)+i+s|0,o)+t|0}function c(e,t,r,n,i,s,o){return a(e+(t^r^n)+i+s|0,o)+t|0}function h(e,t,r,n,i,s,o){return a(e+(r^(t|~n))+i+s|0,o)+t|0}e(n,r),n.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,s=this._d;n=h(n=h(n=h(n=h(n=c(n=c(n=c(n=c(n=u(n=u(n=u(n=u(n=f(n=f(n=f(n=f(n,i=f(i,s=f(s,r=f(r,n,i,s,e[0],3614090360,7),n,i,e[1],3905402710,12),r,n,e[2],606105819,17),s,r,e[3],3250441966,22),i=f(i,s=f(s,r=f(r,n,i,s,e[4],4118548399,7),n,i,e[5],1200080426,12),r,n,e[6],2821735955,17),s,r,e[7],4249261313,22),i=f(i,s=f(s,r=f(r,n,i,s,e[8],1770035416,7),n,i,e[9],2336552879,12),r,n,e[10],4294925233,17),s,r,e[11],2304563134,22),i=f(i,s=f(s,r=f(r,n,i,s,e[12],1804603682,7),n,i,e[13],4254626195,12),r,n,e[14],2792965006,17),s,r,e[15],1236535329,22),i=u(i,s=u(s,r=u(r,n,i,s,e[1],4129170786,5),n,i,e[6],3225465664,9),r,n,e[11],643717713,14),s,r,e[0],3921069994,20),i=u(i,s=u(s,r=u(r,n,i,s,e[5],3593408605,5),n,i,e[10],38016083,9),r,n,e[15],3634488961,14),s,r,e[4],3889429448,20),i=u(i,s=u(s,r=u(r,n,i,s,e[9],568446438,5),n,i,e[14],3275163606,9),r,n,e[3],4107603335,14),s,r,e[8],1163531501,20),i=u(i,s=u(s,r=u(r,n,i,s,e[13],2850285829,5),n,i,e[2],4243563512,9),r,n,e[7],1735328473,14),s,r,e[12],2368359562,20),i=c(i,s=c(s,r=c(r,n,i,s,e[5],4294588738,4),n,i,e[8],2272392833,11),r,n,e[11],1839030562,16),s,r,e[14],4259657740,23),i=c(i,s=c(s,r=c(r,n,i,s,e[1],2763975236,4),n,i,e[4],1272893353,11),r,n,e[7],4139469664,16),s,r,e[10],3200236656,23),i=c(i,s=c(s,r=c(r,n,i,s,e[13],681279174,4),n,i,e[0],3936430074,11),r,n,e[3],3572445317,16),s,r,e[6],76029189,23),i=c(i,s=c(s,r=c(r,n,i,s,e[9],3654602809,4),n,i,e[12],3873151461,11),r,n,e[15],530742520,16),s,r,e[2],3299628645,23),i=h(i,s=h(s,r=h(r,n,i,s,e[0],4096336452,6),n,i,e[7],1126891415,10),r,n,e[14],2878612391,15),s,r,e[5],4237533241,21),i=h(i,s=h(s,r=h(r,n,i,s,e[12],1700485571,6),n,i,e[3],2399980690,10),r,n,e[10],4293915773,15),s,r,e[1],2240044497,21),i=h(i,s=h(s,r=h(r,n,i,s,e[8],1873313359,6),n,i,e[15],4264355552,10),r,n,e[6],2734768916,15),s,r,e[13],1309151649,21),i=h(i,s=h(s,r=h(r,n,i,s,e[4],4149444226,6),n,i,e[11],3174756917,10),r,n,e[2],718787259,15),s,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},n.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},s.exports=n})).call(this,i("buffer").Buffer)},{buffer:274,"hash-base":311,inherits:327}],331:[function(e,t,r){var d=e("bn.js"),n=e("brorand");function i(e){this.rand=e||new n.Rand}(t.exports=i).create=function(e){return new i(e)},i.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var n=new d(this.rand.generate(r))}while(0<=n.cmp(e));return n},i.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},i.prototype.test=function(e,t,r){var n=e.bitLength(),i=d.mont(e),s=(new d(1)).toRed(i);t||(t=Math.max(1,n/48|0));for(var o=e.subn(1),a=0;!o.testn(a);a++);for(var f=e.shrn(a),u=o.toRed(i);0<t;t--){var c=this._randrange(new d(2),o);r&&r(c);var h=c.toRed(i).redPow(f);if(0!==h.cmp(s)&&0!==h.cmp(u)){for(var l=1;l<a;l++){if(0===(h=h.redSqr()).cmp(s))return!1;if(0===h.cmp(u))break}if(l===a)return!1}}return!0},i.prototype.getDivisor=function(e,t){var r=e.bitLength(),n=d.mont(e),i=(new d(1)).toRed(n);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),o=0;!s.testn(o);o++);for(var a=e.shrn(o),f=s.toRed(n);0<t;t--){var u=this._randrange(new d(2),s),c=e.gcd(u);if(0!==c.cmpn(1))return c;var h=u.toRed(n).redPow(a);if(0!==h.cmp(i)&&0!==h.cmp(f)){for(var l=1;l<o;l++){if(0===(h=h.redSqr()).cmp(i))return h.fromRed().subn(1).gcd(e);if(0===h.cmp(f))break}if(l===o)return(h=h.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},{"bn.js":243,brorand:244}],332:[function(e,t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}(t.exports=n).equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},{}],333:[function(e,t,r){"use strict";var n=r;function i(e){return 1===e.length?"0"+e:e}function s(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},n.zero2=i,n.toHex=s,n.encode=function(e,t){return"hex"===t?s(e):e}},{}],334:[function(e,t,r){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],335:[function(e,t,r){"use strict";var n=e("asn1.js");r.certificate=e("./certificate");var i=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});r.RSAPrivateKey=i;var s=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});r.RSAPublicKey=s;var o=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});r.PublicKey=o;var a=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),f=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});r.PrivateKey=f;var u=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});r.EncryptedPrivateKey=u;var c=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});r.DSAPrivateKey=c,r.DSAparam=n.define("DSAparam",function(){this.int()});var h=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(l),this.key("publicKey").optional().explicit(1).bitstr())});r.ECPrivateKey=h;var l=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});r.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":336,"asn1.js":224}],336:[function(e,t,r){"use strict";var n=e("asn1.js"),i=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),a=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),f=n.define("RelativeDistinguishedName",function(){this.setof(s)}),u=n.define("RDNSequence",function(){this.seqof(f)}),c=n.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),h=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),l=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(c),this.key("validity").use(h),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(l).optional())}),p=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});t.exports=p},{"asn1.js":224}],337:[function(e,t,r){((function(l){var d=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,p=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m,b=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,_=e("evp_bytestokey"),y=e("browserify-aes");t.exports=function(e,t){var r,n=e.toString(),i=n.match(d);if(i){var s="aes"+i[1],o=new l(i[2],"hex"),a=new l(i[3].replace(/[\r\n]/g,""),"base64"),f=_(t,o.slice(0,8),parseInt(i[1],10)).key,u=[],c=y.createDecipheriv(s,f,o);u.push(c.update(a)),u.push(c.final()),r=l.concat(u)}else{var h=n.match(b);r=new l(h[2].replace(/[\r\n]/g,""),"base64")}return{tag:n.match(p)[1],data:r}}})).call(this,e("buffer").Buffer)},{"browserify-aes":248,buffer:274,evp_bytestokey:310}],338:[function(t,r,e){((function(v){var m=t("./asn1"),g=t("./aesid.json"),w=t("./fixProc"),S=t("browserify-aes"),k=t("pbkdf2");function e(e){var t;"object"!=typeof e||v.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=new v(e));var r,n,i,s,o,a,f,u,c,h,l,d,p,b=w(e,t),_=b.tag,y=b.data;switch(_){case"CERTIFICATE":n=m.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(n||(n=m.PublicKey.decode(y,"der")),r=n.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return m.RSAPublicKey.decode(n.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return n.subjectPrivateKey=n.subjectPublicKey,{type:"ec",data:n};case"1.2.840.10040.4.1":return n.algorithm.params.pub_key=m.DSAparam.decode(n.subjectPublicKey.data,"der"),{type:"dsa",data:n.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+_);case"ENCRYPTED PRIVATE KEY":y=m.EncryptedPrivateKey.decode(y,"der"),s=t,o=(i=y).algorithm.decrypt.kde.kdeparams.salt,a=parseInt(i.algorithm.decrypt.kde.kdeparams.iters.toString(),10),f=g[i.algorithm.decrypt.cipher.algo.join(".")],u=i.algorithm.decrypt.cipher.iv,c=i.subjectPrivateKey,h=parseInt(f.split("-")[1],10)/8,l=k.pbkdf2Sync(s,o,a,h),d=S.createDecipheriv(f,l,u),(p=[]).push(d.update(c)),p.push(d.final()),y=v.concat(p);case"PRIVATE KEY":switch(r=(n=m.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return m.RSAPrivateKey.decode(n.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:n.algorithm.curve,privateKey:m.ECPrivateKey.decode(n.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return n.algorithm.params.priv_key=m.DSAparam.decode(n.subjectPrivateKey,"der"),{type:"dsa",params:n.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+_);case"RSA PUBLIC KEY":return m.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return m.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:m.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=m.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+_)}}(r.exports=e).signature=m.signature})).call(this,t("buffer").Buffer)},{"./aesid.json":334,"./asn1":335,"./fixProc":337,"browserify-aes":248,buffer:274,pbkdf2:339}],339:[function(e,t,r){r.pbkdf2=e("./lib/async"),r.pbkdf2Sync=e("./lib/sync")},{"./lib/async":340,"./lib/sync":343}],340:[function(e,t,r){((function(u,c){var h,l=e("./precondition"),d=e("./default-encoding"),p=e("./sync"),b=e("safe-buffer").Buffer,_=c.crypto&&c.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},v=[];function m(e,t,r,n,i){return _.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return _.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)}).then(function(e){return b.from(e)})}t.exports=function(t,r,n,i,s,o){"function"==typeof s&&(o=s,s=void 0);var e,a,f=y[(s=s||"sha1").toLowerCase()];if(!f||"function"!=typeof c.Promise)return u.nextTick(function(){var e;try{e=p(t,r,n,i,s)}catch(e){return o(e)}o(null,e)});if(l(t,r,n,i),"function"!=typeof o)throw new Error("No callback provided to pbkdf2");b.isBuffer(t)||(t=b.from(t,d)),b.isBuffer(r)||(r=b.from(r,d)),e=function(e){if(c.process&&!c.process.browser)return Promise.resolve(!1);if(!_||!_.importKey||!_.deriveBits)return Promise.resolve(!1);if(void 0!==v[e])return v[e];var t=m(h=h||b.alloc(8),h,10,128,e).then(function(){return!0}).catch(function(){return!1});return v[e]=t}(f).then(function(e){return e?m(t,r,n,i,f):p(t,r,n,i,s)}),a=o,e.then(function(e){u.nextTick(function(){a(null,e)})},function(e){u.nextTick(function(){a(e)})})}})).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":341,"./precondition":342,"./sync":343,_process:345,"safe-buffer":373}],341:[function(e,r,t){((function(e){var t;e.browser?t="utf-8":t=6<=parseInt(e.version.split(".")[0].slice(1),10)?"utf-8":"binary";r.exports=t})).call(this,e("_process"))},{_process:345}],342:[function(e,t,r){((function(r){var i=Math.pow(2,30)-1;function s(e,t){if("string"!=typeof e&&!r.isBuffer(e))throw new TypeError(t+" must be a buffer or string")}t.exports=function(e,t,r,n){if(s(e,"Password"),s(t,"Salt"),"number"!=typeof r)throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if("number"!=typeof n)throw new TypeError("Key length not a number");if(n<0||i<n||n!=n)throw new TypeError("Bad key length")}})).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":328}],343:[function(e,t,r){var c=e("create-hash/md5"),h=e("ripemd160"),l=e("sha.js"),_=e("./precondition"),y=e("./default-encoding"),v=e("safe-buffer").Buffer,d=v.alloc(128),m={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(e,t,r){var n,i="rmd160"===(n=e)||"ripemd160"===n?h:"md5"===n?c:function(e){return l(n).update(e).digest()},s="sha512"===e||"sha384"===e?128:64;t.length>s?t=i(t):t.length<s&&(t=v.concat([t,d],s));for(var o=v.allocUnsafe(s+m[e]),a=v.allocUnsafe(s+m[e]),f=0;f<s;f++)o[f]=54^t[f],a[f]=92^t[f];var u=v.allocUnsafe(s+r+4);o.copy(u,0,0,s),this.ipad1=u,this.ipad2=o,this.opad=a,this.alg=e,this.blocksize=s,this.hash=i,this.size=m[e]}g.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(e,t,r,n,i){_(e,t,r,n),v.isBuffer(e)||(e=v.from(e,y)),v.isBuffer(t)||(t=v.from(t,y));var s=new g(i=i||"sha1",e,t.length),o=v.allocUnsafe(n),a=v.allocUnsafe(t.length+4);t.copy(a,0,0,t.length);for(var f=0,u=m[i],c=Math.ceil(n/u),h=1;h<=c;h++){a.writeUInt32BE(h,t.length);for(var l=s.run(a,s.ipad1),d=l,p=1;p<r;p++){d=s.run(d,s.ipad2);for(var b=0;b<u;b++)l[b]^=d[b]}l.copy(o,f),f+=u}return o}},{"./default-encoding":341,"./precondition":342,"create-hash/md5":279,ripemd160:372,"safe-buffer":373,"sha.js":375}],344:[function(e,t,r){((function(a){"use strict";!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?t.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,s,o=arguments.length;switch(o){case 0:case 1:return a.nextTick(e);case 2:return a.nextTick(function(){e.call(null,t)});case 3:return a.nextTick(function(){e.call(null,t,r)});case 4:return a.nextTick(function(){e.call(null,t,r,n)});default:for(i=new Array(o-1),s=0;s<i.length;)i[s++]=arguments[s];return a.nextTick(function(){e.apply(null,i)})}}}:t.exports=a})).call(this,e("_process"))},{_process:345}],345:[function(e,t,r){var n,i,s=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function f(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u,c=[],h=!1,l=-1;function d(){h&&u&&(h=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!h){var e=f(d);h=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function _(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new b(e,t)),1!==c.length||h||f(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=_,s.addListener=_,s.once=_,s.off=_,s.removeListener=_,s.removeAllListeners=_,s.emit=_,s.prependListener=_,s.prependOnceListener=_,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],346:[function(e,t,r){r.publicEncrypt=e("./publicEncrypt"),r.privateDecrypt=e("./privateDecrypt"),r.privateEncrypt=function(e,t){return r.publicEncrypt(e,t,!0)},r.publicDecrypt=function(e,t){return r.privateDecrypt(e,t,!0)}},{"./privateDecrypt":348,"./publicEncrypt":349}],347:[function(e,t,r){((function(s){var o=e("create-hash");function a(e){var t=new s(4);return t.writeUInt32BE(e,0),t}t.exports=function(e,t){for(var r,n=new s(""),i=0;n.length<t;)r=a(i++),n=s.concat([n,o("sha1").update(e).update(r).digest()]);return n.slice(0,t)}})).call(this,e("buffer").Buffer)},{buffer:274,"create-hash":278}],348:[function(e,t,r){((function(c){var f=e("parse-asn1"),h=e("./mgf"),l=e("./xor"),u=e("bn.js"),d=e("browserify-rsa"),p=e("create-hash"),b=e("./withPublic");t.exports=function(e,t,r){var n;n=e.padding?e.padding:r?1:4;var i,s=f(e),o=s.modulus.byteLength();if(t.length>o||0<=(new u(t)).cmp(s.modulus))throw new Error("decryption error");i=r?b(new u(t),s):d(t,s);var a=new c(o-i.length);if(a.fill(0),i=c.concat([a,i],o),4===n)return function(e,t){e.modulus;var r=e.modulus.byteLength(),n=(t.length,p("sha1").update(new c("")).digest()),i=n.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,i+1),o=t.slice(i+1),a=l(s,h(o,i)),f=l(o,h(a,r-i-1));if(function(e,t){e=new c(e),t=new c(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));var i=-1;for(;++i<n;)r+=e[i]^t[i];return r}(n,f.slice(0,i)))throw new Error("decryption error");var u=i;for(;0===f[u];)u++;if(1!==f[u++])throw new Error("decryption error");return f.slice(u)}(s,i);if(1===n)return function(e,t,r){var n=t.slice(0,2),i=2,s=0;for(;0!==t[i++];)if(i>=t.length){s++;break}var o=t.slice(2,i-1);t.slice(i-1,i);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&s++;o.length<8&&s++;if(s)throw new Error("decryption error");return t.slice(i)}(0,i,r);if(3===n)return i;throw new Error("unknown padding")}})).call(this,e("buffer").Buffer)},{"./mgf":347,"./withPublic":350,"./xor":351,"bn.js":243,"browserify-rsa":266,buffer:274,"create-hash":278,"parse-asn1":338}],349:[function(e,t,r){((function(l){var o=e("parse-asn1"),d=e("randombytes"),p=e("create-hash"),b=e("./mgf"),_=e("./xor"),y=e("bn.js"),a=e("./withPublic"),f=e("browserify-rsa");t.exports=function(e,t,r){var n;n=e.padding?e.padding:r?1:4;var i,s=o(e);if(4===n)i=function(e,t){var r=e.modulus.byteLength(),n=t.length,i=p("sha1").update(new l("")).digest(),s=i.length,o=2*s;if(r-o-2<n)throw new Error("message too long");var a=new l(r-n-o-2);a.fill(0);var f=r-s-1,u=d(s),c=_(l.concat([i,a,new l([1]),t],f),b(u,f)),h=_(u,b(c,s));return new y(l.concat([new l([0]),h,c],r))}(s,t);else if(1===n)i=function(e,t,r){var n,i=t.length,s=e.modulus.byteLength();if(s-11<i)throw new Error("message too long");r?(n=new l(s-i-3)).fill(255):n=function(e,t){var r,n=new l(e),i=0,s=d(2*e),o=0;for(;i<e;)o===s.length&&(s=d(2*e),o=0),(r=s[o++])&&(n[i++]=r);return n}(s-i-3);return new y(l.concat([new l([0,r?1:2]),n,new l([0]),t],s))}(s,t,r);else{if(3!==n)throw new Error("unknown padding");if(0<=(i=new y(t)).cmp(s.modulus))throw new Error("data too long for modulus")}return r?f(i,s):a(i,s)}})).call(this,e("buffer").Buffer)},{"./mgf":347,"./withPublic":350,"./xor":351,"bn.js":243,"browserify-rsa":266,buffer:274,"create-hash":278,"parse-asn1":338,randombytes:356}],350:[function(e,t,r){((function(r){var n=e("bn.js");t.exports=function(e,t){return new r(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}})).call(this,e("buffer").Buffer)},{"bn.js":243,buffer:274}],351:[function(e,t,r){t.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},{}],352:[function(e,A,P){((function(O){!function(e){var t="object"==typeof P&&P&&!P.nodeType&&P,r="object"==typeof A&&A&&!A.nodeType&&A,n="object"==typeof O&&O;n.global!==n&&n.window!==n&&n.self!==n||(e=n);var i,s,y=2147483647,v=36,m=1,g=26,o=38,a=700,w=72,S=128,k="-",f=/^xn--/,u=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},l=v-m,E=Math.floor,x=String.fromCharCode;function M(e){throw new RangeError(h[e])}function d(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function p(e,t){var r=e.split("@"),n="";return 1<r.length&&(n=r[0]+"@",e=r[1]),n+d((e=e.replace(c,".")).split("."),t).join(".")}function I(e){for(var t,r,n=[],i=0,s=e.length;i<s;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<s?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function T(e){return d(e,function(e){var t="";return 65535<e&&(t+=x((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=x(e)}).join("")}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function j(e,t,r){var n=0;for(e=r?E(e/a):e>>1,e+=E(e/t);l*g>>1<e;n+=v)e=E(e/l);return E(n+(l+1)*e/(e+o))}function b(e){var t,r,n,i,s,o,a,f,u,c,h,l=[],d=e.length,p=0,b=S,_=w;for((r=e.lastIndexOf(k))<0&&(r=0),n=0;n<r;++n)128<=e.charCodeAt(n)&&M("not-basic"),l.push(e.charCodeAt(n));for(i=0<r?r+1:0;i<d;){for(s=p,o=1,a=v;d<=i&&M("invalid-input"),h=e.charCodeAt(i++),(v<=(f=h-48<10?h-22:h-65<26?h-65:h-97<26?h-97:v)||f>E((y-p)/o))&&M("overflow"),p+=f*o,!(f<(u=a<=_?m:_+g<=a?g:a-_));a+=v)o>E(y/(c=v-u))&&M("overflow"),o*=c;_=j(p-s,t=l.length+1,0==s),E(p/t)>y-b&&M("overflow"),b+=E(p/t),p%=t,l.splice(p++,0,b)}return T(l)}function _(e){var t,r,n,i,s,o,a,f,u,c,h,l,d,p,b,_=[];for(l=(e=I(e)).length,t=S,s=w,o=r=0;o<l;++o)(h=e[o])<128&&_.push(x(h));for(n=i=_.length,i&&_.push(k);n<l;){for(a=y,o=0;o<l;++o)t<=(h=e[o])&&h<a&&(a=h);for(a-t>E((y-r)/(d=n+1))&&M("overflow"),r+=(a-t)*d,t=a,o=0;o<l;++o)if((h=e[o])<t&&++r>y&&M("overflow"),h==t){for(f=r,u=v;!(f<(c=u<=s?m:s+g<=u?g:u-s));u+=v)b=f-c,p=v-c,_.push(x(C(c+b%p,0))),f=E(b/p);_.push(x(C(f,0))),s=j(r,d,n==i),r=0,++n}++r,++t}return _.join("")}if(i={version:"1.4.1",ucs2:{decode:I,encode:T},decode:b,encode:_,toASCII:function(e){return p(e,function(e){return u.test(e)?"xn--"+_(e):e})},toUnicode:function(e){return p(e,function(e){return f.test(e)?b(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return i});else if(t&&r)if(A.exports==t)r.exports=i;else for(s in i)i.hasOwnProperty(s)&&(t[s]=i[s]);else e.punycode=i}(this)})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],353:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(t);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var a,f,u=e.length;0<o&&o<u&&(u=o);for(var c=0;c<u;++c){var h,l,d,p,b=e[c].replace(s,"%20"),_=b.indexOf(r);0<=_?(h=b.substr(0,_),l=b.substr(_+1)):(h=b,l=""),d=decodeURIComponent(h),p=decodeURIComponent(l),a=i,f=d,Object.prototype.hasOwnProperty.call(a,f)?y(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i};var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],354:[function(e,t,r){"use strict";var s=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(r,n,i,e){return n=n||"&",i=i||"=",null===r&&(r=void 0),"object"==typeof r?a(f(r),function(e){var t=encodeURIComponent(s(e))+i;return o(r[e])?a(r[e],function(e){return t+encodeURIComponent(s(e))}).join(n):t+encodeURIComponent(s(r[e]))}).join(n):e?encodeURIComponent(s(e))+i+encodeURIComponent(s(r)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var f=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],355:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":353,"./encode":354}],356:[function(e,t,r){((function(i,s){"use strict";var o=e("safe-buffer").Buffer,a=s.crypto||s.msCrypto;a&&a.getRandomValues?t.exports=function(e,t){if(65536<e)throw new Error("requested too many random bytes");var r=new s.Uint8Array(e);0<e&&a.getRandomValues(r);var n=o.from(r.buffer);if("function"==typeof t)return i.nextTick(function(){t(null,n)});return n}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}})).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:345,"safe-buffer":373}],357:[function(r,e,d){((function(o,i){"use strict";function e(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var t=r("safe-buffer"),a=r("randombytes"),s=t.Buffer,n=t.kMaxLength,f=i.crypto||i.msCrypto,u=Math.pow(2,32)-1;function c(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(u<e||e<0)throw new TypeError("offset must be a uint32");if(n<e||t<e)throw new RangeError("offset out of range")}function h(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(u<e||e<0)throw new TypeError("size must be a uint32");if(r<e+t||n<e)throw new RangeError("buffer too small")}function l(r,n,e,i){if(o.browser){var t=r.buffer,s=new Uint8Array(t,n,e);return f.getRandomValues(s),i?void o.nextTick(function(){i(null,r)}):r}if(!i)return a(e).copy(r,n),r;a(e,function(e,t){if(e)return i(e);t.copy(r,n),i(null,r)})}f&&f.getRandomValues||!o.browser?(d.randomFill=function(e,t,r,n){if(!(s.isBuffer(e)||e instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)n=t,t=0,r=e.length;else if("function"==typeof r)n=r,r=e.length-t;else if("function"!=typeof n)throw new TypeError('"cb" argument must be a function');return c(t,e.length),h(r,t,e.length),l(e,t,r,n)},d.randomFillSync=function(e,t,r){void 0===t&&(t=0);if(!(s.isBuffer(e)||e instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');c(t,e.length),void 0===r&&(r=e.length-t);return h(r,t,e.length),l(e,t,r)}):(d.randomFill=e,d.randomFillSync=e)})).call(this,r("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:345,randombytes:356,"safe-buffer":373}],358:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":359}],359:[function(e,t,r){"use strict";var n=e("process-nextick-args"),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=h;var s=e("core-util-is");s.inherits=e("inherits");var o=e("./_stream_readable"),a=e("./_stream_writable");s.inherits(h,o);for(var f=i(a.prototype),u=0;u<f.length;u++){var c=f[u];h.prototype[c]||(h.prototype[c]=a.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},{"./_stream_readable":361,"./_stream_writable":363,"core-util-is":276,inherits:327,"process-nextick-args":344}],360:[function(e,t,r){"use strict";t.exports=s;var n=e("./_stream_transform"),i=e("core-util-is");function s(e){if(!(this instanceof s))return new s(e);n.call(this,e)}i.inherits=e("inherits"),i.inherits(s,n),s.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":362,"core-util-is":276,inherits:327}],361:[function(P,B,e){((function(_,e){"use strict";var y=P("process-nextick-args");B.exports=l;var o,v=P("isarray");l.ReadableState=s;P("events").EventEmitter;var m=function(e,t){return e.listeners(t).length},i=P("./internal/streams/stream"),u=P("safe-buffer").Buffer,c=e.Uint8Array||function(){};var t=P("core-util-is");t.inherits=P("inherits");var r=P("util"),g=void 0;g=r&&r.debuglog?r.debuglog("stream"):function(){};var a,f=P("./internal/streams/BufferList"),n=P("./internal/streams/destroy");t.inherits(l,i);var h=["error","close","destroy","pause","resume"];function s(e,t){e=e||{};var r=t instanceof(o=o||P("./_stream_duplex"));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(i||0===i)?i:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(a||(a=P("string_decoder/").StringDecoder),this.decoder=new a(e.encoding),this.encoding=e.encoding)}function l(e){if(o=o||P("./_stream_duplex"),!(this instanceof l))return new l(e);this._readableState=new s(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),i.call(this)}function d(e,t,r,n,i){var s,o,a,f=e._readableState;null===t?(f.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,S(e)}(e,f)):(i||(s=function(e,t){var r;n=t,u.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(f,t)),s?e.emit("error",s):f.objectMode||t&&0<t.length?("string"==typeof t||f.objectMode||Object.getPrototypeOf(t)===u.prototype||(o=t,t=u.from(o)),n?f.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):p(e,f,t,!0):f.ended?e.emit("error",new Error("stream.push() after EOF")):(f.reading=!1,f.decoder&&!r?(t=f.decoder.write(t),f.objectMode||0!==t.length?p(e,f,t,!1):E(e,f)):p(e,f,t,!1))):n||(f.reading=!1));return!(a=f).ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function p(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&S(e)),E(e,t)}Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),l.prototype.destroy=n.destroy,l.prototype._undestroy=n.undestroy,l.prototype._destroy=function(e,t){this.push(null),t(e)},l.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),d(this,e,t,!1,r)},l.prototype.unshift=function(e){return d(this,e,null,!0,!1)},l.prototype.isPaused=function(){return!1===this._readableState.flowing},l.prototype.setEncoding=function(e){return a||(a=P("string_decoder/").StringDecoder),this._readableState.decoder=new a(e),this._readableState.encoding=e,this};var b=8388608;function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=(b<=(r=e)?r=b:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0));var r}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(g("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?y.nextTick(k,e):k(e))}function k(e){g("emit readable"),e.emit("readable"),T(e)}function E(e,t){t.readingMore||(t.readingMore=!0,y.nextTick(x,e,t))}function x(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(g("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function M(e){g("readable nexttick read 0"),e.read(0)}function I(e,t){t.reading||(g("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),T(e),t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;for(g("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),0===(e-=o)){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r).data=s.slice(o);break}++n}return t.length-=n,i}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),0===(e-=o)){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n).data=s.slice(o);break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function j(e){var t=e._readableState;if(0<t.length)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,y.nextTick(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function A(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}l.prototype.read=function(e){g("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return g("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):S(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&j(this),null;var n,i=t.needReadable;return g("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&g("length less than watermark",i=!0),t.ended||t.reading?g("reading or ended",i=!1):i&&(g("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(r,t))),null===(n=0<e?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&j(this)),null!==n&&this.emit("data",n),n},l.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},l.prototype.pipe=function(r,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r)}i.pipesCount+=1,g("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||!1!==e.end)&&r!==_.stdout&&r!==_.stderr?o:b;function s(e,t){g("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,g("cleanup"),r.removeListener("close",d),r.removeListener("finish",p),r.removeListener("drain",f),r.removeListener("error",l),r.removeListener("unpipe",s),n.removeListener("end",o),n.removeListener("end",b),n.removeListener("data",h),u=!0,!i.awaitDrain||r._writableState&&!r._writableState.needDrain||f())}function o(){g("onend"),r.end()}i.endEmitted?y.nextTick(t):n.once("end",t),r.on("unpipe",s);var a,f=(a=n,function(){var e=a._readableState;g("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&m(a,"data")&&(e.flowing=!0,T(a))});r.on("drain",f);var u=!1;var c=!1;function h(e){g("ondata"),(c=!1)!==r.write(e)||c||((1===i.pipesCount&&i.pipes===r||1<i.pipesCount&&-1!==A(i.pipes,r))&&!u&&(g("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,c=!0),n.pause())}function l(e){g("onerror",e),b(),r.removeListener("error",l),0===m(r,"error")&&r.emit("error",e)}function d(){r.removeListener("finish",p),b()}function p(){g("onfinish"),r.removeListener("close",d),b()}function b(){g("unpipe"),n.unpipe(r)}return n.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?v(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(r,"error",l),r.once("close",d),r.once("finish",p),r.emit("pipe",n),i.flowing||(g("pipe resume"),n.resume()),r},l.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=A(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},l.prototype.addListener=l.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&S(this):y.nextTick(M,this))}return r},l.prototype.resume=function(){var e,t,r=this._readableState;return r.flowing||(g("resume"),r.flowing=!0,e=this,(t=r).resumeScheduled||(t.resumeScheduled=!0,y.nextTick(I,e,t))),this},l.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},l.prototype.wrap=function(t){var r=this,n=this._readableState,i=!1;for(var e in t.on("end",function(){if(g("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),t.on("data",function(e){(g("wrapped data"),n.decoder&&(e=n.decoder.write(e)),n.objectMode&&null==e)||(n.objectMode||e&&e.length)&&(r.push(e)||(i=!0,t.pause()))}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var s=0;s<h.length;s++)t.on(h[s],this.emit.bind(this,h[s]));return this._read=function(e){g("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),l._fromList=C})).call(this,P("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":359,"./internal/streams/BufferList":364,"./internal/streams/destroy":365,"./internal/streams/stream":366,_process:345,"core-util-is":276,events:309,inherits:327,isarray:329,"process-nextick-args":344,"safe-buffer":373,"string_decoder/":367,util:245}],362:[function(e,t,r){"use strict";t.exports=s;var n=e("./_stream_duplex"),i=e("core-util-is");function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,(r.writecb=null)!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var r=this;"function"==typeof this._flush?this._flush(function(e,t){a(r,e,t)}):a(this,null,null)}function a(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},{"./_stream_duplex":359,"core-util-is":276,inherits:327}],363:[function(k,E,e){((function(e,t,r){"use strict";var y=k("process-nextick-args");function h(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}E.exports=c;var a,l=!e.browser&&-1<["v0.10","v0.9."].indexOf(e.version.slice(0,5))?r:y.nextTick;c.WritableState=u;var n=k("core-util-is");n.inherits=k("inherits");var i={deprecate:k("util-deprecate")},s=k("./internal/streams/stream"),v=k("safe-buffer").Buffer,m=t.Uint8Array||function(){};var o,f=k("./internal/streams/destroy");function g(){}function u(e,t){a=a||k("./_stream_duplex"),e=e||{};var r=t instanceof a;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(i||0===i)?i:s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(h=r,h.writing=!1,h.writecb=null,h.length-=h.writelen,h.writelen=0,t)o=e,a=r,f=n,u=t,c=i,--a.pendingcb,f?(y.nextTick(c,u),y.nextTick(S,o,a),o._writableState.errorEmitted=!0,o.emit("error",u)):(c(u),o._writableState.errorEmitted=!0,o.emit("error",u),S(o,a));else{var s=b(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||p(e,r),n?l(d,e,r,s,i):d(e,r,s,i)}var o,a,f,u,c;var h}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function c(e){if(a=a||k("./_stream_duplex"),!(o.call(c,this)||this instanceof a))return new c(e);this._writableState=new u(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function w(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function d(e,t,r,n){var i,s;r||(i=e,0===(s=t).length&&s.needDrain&&(s.needDrain=!1,i.emit("drain"))),t.pendingcb--,n(),S(e,t)}function p(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)(i[o]=r).isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,w(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new h(t),t.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,u=r.encoding,c=r.callback;if(w(e,t,!1,t.objectMode?1:f.length,f,u,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function b(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(t,r){t._final(function(e){r.pendingcb--,e&&t.emit("error",e),r.prefinished=!0,t.emit("prefinish"),S(t,r)})}function S(e,t){var r,n,i=b(t);return i&&(r=e,(n=t).prefinished||n.finalCalled||("function"==typeof r._final?(n.pendingcb++,n.finalCalled=!0,y.nextTick(_,r,n)):(n.prefinished=!0,r.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}n.inherits(c,s),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===c&&e&&e._writableState instanceof u}})):o=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,r){var n,i,s,o,a,f,u,c,h,l,d,p=this._writableState,b=!1,_=!p.objectMode&&(n=e,v.isBuffer(n)||n instanceof m);return _&&!v.isBuffer(e)&&(i=e,e=v.from(i)),"function"==typeof t&&(r=t,t=null),_?t="buffer":t||(t=p.defaultEncoding),"function"!=typeof r&&(r=g),p.ended?(h=this,l=r,d=new Error("write after end"),h.emit("error",d),y.nextTick(l,d)):(_||(s=this,o=p,f=r,c=!(u=!0),null===(a=e)?c=new TypeError("May not write null values to stream"):"string"==typeof a||void 0===a||o.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c&&(s.emit("error",c),y.nextTick(f,c),u=!1),u))&&(p.pendingcb++,b=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=v.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else w(e,t,!1,a,n,i,s);return f}(this,p,_,e,t,r)),b},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||p(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),c.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,t=e=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,S(e,t),r&&(t.finished?y.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=f.destroy,c.prototype._undestroy=f.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}})).call(this,k("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},k("timers").setImmediate)},{"./_stream_duplex":359,"./internal/streams/destroy":365,"./internal/streams/stream":366,_process:345,"core-util-is":276,inherits:327,"process-nextick-args":344,"safe-buffer":373,timers:384,"util-deprecate":387}],364:[function(e,t,r){"use strict";var a=e("safe-buffer").Buffer,n=e("util");t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return a.alloc(0);if(1===this.length)return this.head.data;for(var t,r,n,i=a.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,r=i,n=o,t.copy(r,n),o+=s.data.length,s=s.next;return i},e}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var e=n.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":373,util:245}],365:[function(e,t,r){"use strict";var s=e("process-nextick-args");function o(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||s.nextTick(o,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(s.nextTick(o,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":344}],366:[function(e,t,r){t.exports=e("events").EventEmitter},{events:309}],367:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=f,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=l,void (this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"ï¿½";if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"ï¿½";if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"ï¿½"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void (this.lastNeed-=e.length))}function f(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(55296<=n&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}(r.StringDecoder=s).prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(0<=i)return 0<i&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(0<=(i=o(t[n])))return 0<i&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(0<=(i=o(t[n])))return 0<i&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":373}],368:[function(e,t,r){t.exports=e("./readable").PassThrough},{"./readable":369}],369:[function(e,t,r){(((r=t.exports=e("./lib/_stream_readable.js")).Stream=r).Readable=r).Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":359,"./lib/_stream_passthrough.js":360,"./lib/_stream_readable.js":361,"./lib/_stream_transform.js":362,"./lib/_stream_writable.js":363}],370:[function(e,t,r){t.exports=e("./readable").Transform},{"./readable":369}],371:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":363}],372:[function(e,t,r){"use strict";var n=e("buffer").Buffer,i=e("inherits"),s=e("hash-base"),_=new Array(16),y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],w=[0,1518500249,1859775393,2400959708,2840853838],S=[1352829926,1548603684,1836072691,2053994217,0];function o(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function k(e,t){return e<<t|e>>>32-t}function E(e,t,r,n,i,s,o,a){return k(e+(t^r^n)+s+o|0,a)+i|0}function x(e,t,r,n,i,s,o,a){return k(e+(t&r|~t&n)+s+o|0,a)+i|0}function M(e,t,r,n,i,s,o,a){return k(e+((t|~r)^n)+s+o|0,a)+i|0}function I(e,t,r,n,i,s,o,a){return k(e+(t&n|r&~n)+s+o|0,a)+i|0}function T(e,t,r,n,i,s,o,a){return k(e+(t^(r|~n))+s+o|0,a)+i|0}i(o,s),o.prototype._update=function(){for(var e=_,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,o=0|this._e,a=0|this._a,f=0|this._b,u=0|this._c,c=0|this._d,h=0|this._e,l=0;l<80;l+=1){var d,p;l<16?(d=E(r,n,i,s,o,e[y[l]],w[0],m[l]),p=T(a,f,u,c,h,e[v[l]],S[0],g[l])):l<32?(d=x(r,n,i,s,o,e[y[l]],w[1],m[l]),p=I(a,f,u,c,h,e[v[l]],S[1],g[l])):l<48?(d=M(r,n,i,s,o,e[y[l]],w[2],m[l]),p=M(a,f,u,c,h,e[v[l]],S[2],g[l])):l<64?(d=I(r,n,i,s,o,e[y[l]],w[3],m[l]),p=x(a,f,u,c,h,e[v[l]],S[3],g[l])):(d=T(r,n,i,s,o,e[y[l]],w[4],m[l]),p=E(a,f,u,c,h,e[v[l]],S[4],g[l])),r=o,o=s,s=k(i,10),i=n,n=d,a=h,h=c,c=k(u,10),u=f,f=p}var b=this._b+i+c|0;this._b=this._c+s+h|0,this._c=this._d+o+a|0,this._d=this._e+r+f|0,this._e=this._a+n+u|0,this._a=b},o.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},t.exports=o},{buffer:274,"hash-base":311,inherits:327}],373:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,r),r.Buffer=o),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:274}],374:[function(e,t,r){var c=e("safe-buffer").Buffer;function n(e,t){this._block=c.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}n.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=c.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,s=this._len,o=0;o<i;){for(var a=s%n,f=Math.min(i-o,n-a),u=0;u<f;u++)r[a+u]=e[o+u];o+=f,(s+=f)%n==0&&this._update(r)}return this._len+=i,this},n.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n},{"safe-buffer":373}],375:[function(e,t,r){(r=t.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t}).sha=e("./sha"),r.sha1=e("./sha1"),r.sha224=e("./sha224"),r.sha256=e("./sha256"),r.sha384=e("./sha384"),r.sha512=e("./sha512")},{"./sha":376,"./sha1":377,"./sha224":378,"./sha256":379,"./sha384":380,"./sha512":381}],376:[function(e,t,r){var n=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,y=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function a(){this.init(),this._w=o,i.call(this,64,56)}n(a,i),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},a.prototype._update=function(e){for(var t,r,n,i,s,o,a=this._w,f=0|this._a,u=0|this._b,c=0|this._c,h=0|this._d,l=0|this._e,d=0;d<16;++d)a[d]=e.readInt32BE(4*d);for(;d<80;++d)a[d]=a[d-3]^a[d-8]^a[d-14]^a[d-16];for(var p=0;p<80;++p){var b=~~(p/20),_=0|((o=f)<<5|o>>>27)+(n=u,i=c,s=h,0===(r=b)?n&i|~n&s:2===r?n&i|n&s|i&s:n^i^s)+l+a[p]+y[b];l=h,h=c,c=(t=u)<<30|t>>>2,u=f,f=_}this._a=f+this._a|0,this._b=u+this._b|0,this._c=c+this._c|0,this._d=h+this._d|0,this._e=l+this._e|0},a.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=a},{"./hash":374,inherits:327,"safe-buffer":373}],377:[function(e,t,r){var n=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,v=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function a(){this.init(),this._w=o,i.call(this,64,56)}n(a,i),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},a.prototype._update=function(e){for(var t,r,n,i,s,o,a,f=this._w,u=0|this._a,c=0|this._b,h=0|this._c,l=0|this._d,d=0|this._e,p=0;p<16;++p)f[p]=e.readInt32BE(4*p);for(;p<80;++p)f[p]=(t=f[p-3]^f[p-8]^f[p-14]^f[p-16])<<1|t>>>31;for(var b=0;b<80;++b){var _=~~(b/20),y=0|((a=u)<<5|a>>>27)+(i=c,s=h,o=l,0===(n=_)?i&s|~i&o:2===n?i&s|i&o|s&o:i^s^o)+d+f[b]+v[_];d=l,l=h,h=(r=c)<<30|r>>>2,c=u,u=y}this._a=u+this._a|0,this._b=c+this._b|0,this._c=h+this._c|0,this._d=l+this._d|0,this._e=d+this._e|0},a.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=a},{"./hash":374,inherits:327,"safe-buffer":373}],378:[function(e,t,r){var n=e("inherits"),i=e("./sha256"),s=e("./hash"),o=e("safe-buffer").Buffer,a=new Array(64);function f(){this.init(),this._w=a,s.call(this,64,56)}n(f,i),f.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},f.prototype._hash=function(){var e=o.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=f},{"./hash":374,"./sha256":379,inherits:327,"safe-buffer":373}],379:[function(e,t,r){var n=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function a(){this.init(),this._w=o,i.call(this,64,56)}n(a,i),a.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},a.prototype._update=function(e){for(var t,r,n,i,s,o,a,f=this._w,u=0|this._a,c=0|this._b,h=0|this._c,l=0|this._d,d=0|this._e,p=0|this._f,b=0|this._g,_=0|this._h,y=0;y<16;++y)f[y]=e.readInt32BE(4*y);for(;y<64;++y)f[y]=0|(((r=f[y-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)+f[y-7]+(((t=f[y-15])>>>7|t<<25)^(t>>>18|t<<14)^t>>>3)+f[y-16];for(var v=0;v<64;++v){var m=_+(((a=d)>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+((o=b)^d&(p^o))+w[v]+f[v]|0,g=0|(((s=u)>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+((n=u)&(i=c)|h&(n|i));_=b,b=p,p=d,d=l+m|0,l=h,h=c,c=u,u=m+g|0}this._a=u+this._a|0,this._b=c+this._b|0,this._c=h+this._c|0,this._d=l+this._d|0,this._e=d+this._e|0,this._f=p+this._f|0,this._g=b+this._g|0,this._h=_+this._h|0},a.prototype._hash=function(){var e=s.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=a},{"./hash":374,inherits:327,"safe-buffer":373}],380:[function(e,t,r){var n=e("inherits"),i=e("./sha512"),s=e("./hash"),o=e("safe-buffer").Buffer,a=new Array(160);function f(){this.init(),this._w=a,s.call(this,128,112)}n(f,i),f.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},f.prototype._hash=function(){var n=o.allocUnsafe(48);function e(e,t,r){n.writeInt32BE(e,r),n.writeInt32BE(t,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),n},t.exports=f},{"./hash":374,"./sha512":381,inherits:327,"safe-buffer":373}],381:[function(e,t,r){var n=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,ee=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function a(){this.init(),this._w=o,i.call(this,128,112)}function te(e,t,r){return r^e&(t^r)}function re(e,t,r){return e&t|r&(e|t)}function ne(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function ie(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function se(e,t){return e>>>0<t>>>0?1:0}n(a,i),a.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},a.prototype._update=function(e){for(var t,r,n,i,s,o,a,f,u=this._w,c=0|this._ah,h=0|this._bh,l=0|this._ch,d=0|this._dh,p=0|this._eh,b=0|this._fh,_=0|this._gh,y=0|this._hh,v=0|this._al,m=0|this._bl,g=0|this._cl,w=0|this._dl,S=0|this._el,k=0|this._fl,E=0|this._gl,x=0|this._hl,M=0;M<32;M+=2)u[M]=e.readInt32BE(4*M),u[M+1]=e.readInt32BE(4*M+4);for(;M<160;M+=2){var I=u[M-30],T=u[M-30+1],C=((a=I)>>>1|(f=T)<<31)^(a>>>8|f<<24)^a>>>7,j=((s=T)>>>1|(o=I)<<31)^(s>>>8|o<<24)^(s>>>7|o<<25);I=u[M-4],T=u[M-4+1];var O=((n=I)>>>19|(i=T)<<13)^(i>>>29|n<<3)^n>>>6,A=((t=T)>>>19|(r=I)<<13)^(r>>>29|t<<3)^(t>>>6|r<<26),P=u[M-14],B=u[M-14+1],R=u[M-32],D=u[M-32+1],L=j+B|0,U=C+P+se(L,j)|0;U=(U=U+O+se(L=L+A|0,A)|0)+R+se(L=L+D|0,D)|0,u[M]=U,u[M+1]=L}for(var N=0;N<160;N+=2){U=u[N],L=u[N+1];var q=re(c,h,l),F=re(v,m,g),z=ne(c,v),H=ne(v,c),K=ie(p,S),V=ie(S,p),W=ee[N],G=ee[N+1],X=te(p,b,_),Z=te(S,k,E),Q=x+V|0,Y=y+K+se(Q,x)|0;Y=(Y=(Y=Y+X+se(Q=Q+Z|0,Z)|0)+W+se(Q=Q+G|0,G)|0)+U+se(Q=Q+L|0,L)|0;var J=H+F|0,$=z+q+se(J,H)|0;y=_,x=E,_=b,E=k,b=p,k=S,p=d+Y+se(S=w+Q|0,w)|0,d=l,w=g,l=h,g=m,h=c,m=v,c=Y+$+se(v=Q+J|0,Q)|0}this._al=this._al+v|0,this._bl=this._bl+m|0,this._cl=this._cl+g|0,this._dl=this._dl+w|0,this._el=this._el+S|0,this._fl=this._fl+k|0,this._gl=this._gl+E|0,this._hl=this._hl+x|0,this._ah=this._ah+c+se(this._al,v)|0,this._bh=this._bh+h+se(this._bl,m)|0,this._ch=this._ch+l+se(this._cl,g)|0,this._dh=this._dh+d+se(this._dl,w)|0,this._eh=this._eh+p+se(this._el,S)|0,this._fh=this._fh+b+se(this._fl,k)|0,this._gh=this._gh+_+se(this._gl,E)|0,this._hh=this._hh+y+se(this._hl,x)|0},a.prototype._hash=function(){var n=s.allocUnsafe(64);function e(e,t,r){n.writeInt32BE(e,r),n.writeInt32BE(t,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),n},t.exports=a},{"./hash":374,inherits:327,"safe-buffer":373}],382:[function(e,t,r){t.exports=n;var c=e("events").EventEmitter;function n(){c.call(this)}e("inherits")(n,c),n.Readable=e("readable-stream/readable.js"),n.Writable=e("readable-stream/writable.js"),n.Duplex=e("readable-stream/duplex.js"),n.Transform=e("readable-stream/transform.js"),n.PassThrough=e("readable-stream/passthrough.js"),(n.Stream=n).prototype.pipe=function(t,e){var r=this;function n(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),t.on("drain",i),t._isStdio||e&&!1===e.end||(r.on("end",o),r.on("close",a));var s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function f(e){if(u(),0===c.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",f),t.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("error",f),t.on("error",f),r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t}},{events:309,inherits:327,"readable-stream/duplex.js":358,"readable-stream/passthrough.js":368,"readable-stream/readable.js":369,"readable-stream/transform.js":370,"readable-stream/writable.js":371}],383:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=f,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=l,void (this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"ï¿½".repeat(r);if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"ï¿½".repeat(r+1);if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"ï¿½".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void (this.lastNeed-=e.length))}function f(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(55296<=n&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}(r.StringDecoder=s).prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½".repeat(this.lastTotal-this.lastNeed):t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(0<=i)return 0<i&&(e.lastNeed=i-1),i;if(--n<r)return 0;if(0<=(i=o(t[n])))return 0<i&&(e.lastNeed=i-2),i;if(--n<r)return 0;if(0<=(i=o(t[n])))return 0<i&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":373}],384:[function(f,e,u){((function(e,t){var n=f("process/browser.js").nextTick,r=Function.prototype.apply,i=Array.prototype.slice,s={},o=0;function a(e,t){this._id=e,this._clearFn=t}u.setTimeout=function(){return new a(r.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new a(r.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(e){e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},u.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},u._unrefActive=u.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},u.setImmediate="function"==typeof e?e:function(e){var t=o++,r=!(arguments.length<2)&&i.call(arguments,1);return s[t]=!0,n(function(){s[t]&&(r?e.apply(null,r):e.call(null),u.clearImmediate(t))}),t},u.clearImmediate="function"==typeof t?t:function(e){delete s[e]}})).call(this,f("timers").setImmediate,f("timers").clearImmediate)},{"process/browser.js":345,timers:384}],385:[function(e,t,r){"use strict";var P=e("punycode"),B=e("./util");function I(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=s,r.resolve=function(e,t){return s(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?s(e,!1,!0).resolveObject(t):t},r.format=function(e){B.isString(e)&&(e=s(e));return e instanceof I?e.format():I.prototype.format.call(e)},r.Url=I;var R=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,D=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),L=["'"].concat(i),U=["%","/","?",";","#"].concat(L),N=["/","?","#"],q=/^[+a-z0-9A-Z_-]{0,63}$/,F=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,z={javascript:!0,"javascript:":!0},H={javascript:!0,"javascript:":!0},K={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},V=e("querystring");function s(e,t,r){if(e&&B.isObject(e)&&e instanceof I)return e;var n=new I;return n.parse(e,t,r),n}I.prototype.parse=function(e,t,r){if(!B.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=-1!==n&&n<e.indexOf("#")?"?":"#",s=e.split(i);s[0]=s[0].replace(/\\/g,"/");var o=e=s.join(i);if(o=o.trim(),!r&&1===e.split("#").length){var a=D.exec(o);if(a)return this.path=o,this.href=o,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?V.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var f=R.exec(o);if(f){var u=(f=f[0]).toLowerCase();this.protocol=u,o=o.substr(f.length)}if(r||f||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===o.substr(0,2);!c||f&&H[f]||(o=o.substr(2),this.slashes=!0)}if(!H[f]&&(c||f&&!K[f])){for(var h,l,d=-1,p=0;p<N.length;p++){-1!==(b=o.indexOf(N[p]))&&(-1===d||b<d)&&(d=b)}-1!==(l=-1===d?o.lastIndexOf("@"):o.lastIndexOf("@",d))&&(h=o.slice(0,l),o=o.slice(l+1),this.auth=decodeURIComponent(h)),d=-1;for(p=0;p<U.length;p++){var b;-1!==(b=o.indexOf(U[p]))&&(-1===d||b<d)&&(d=b)}-1===d&&(d=o.length),this.host=o.slice(0,d),o=o.slice(d),this.parseHost(),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_)for(var y=this.hostname.split(/\./),v=(p=0,y.length);p<v;p++){var m=y[p];if(m&&!m.match(q)){for(var g="",w=0,S=m.length;w<S;w++)127<m.charCodeAt(w)?g+="x":g+=m[w];if(!g.match(q)){var k=y.slice(0,p),E=y.slice(p+1),x=m.match(F);x&&(k.push(x[1]),E.unshift(x[2])),E.length&&(o="/"+E.join(".")+o),this.hostname=k.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=P.toASCII(this.hostname));var M=this.port?":"+this.port:"",I=this.hostname||"";this.host=I+M,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!z[u])for(p=0,v=L.length;p<v;p++){var T=L[p];if(-1!==o.indexOf(T)){var C=encodeURIComponent(T);C===T&&(C=escape(T)),o=o.split(T).join(C)}}var j=o.indexOf("#");-1!==j&&(this.hash=o.substr(j),o=o.slice(0,j));var O=o.indexOf("?");if(-1!==O?(this.search=o.substr(O),this.query=o.substr(O+1),t&&(this.query=V.parse(this.query)),o=o.slice(0,O)):t&&(this.search="",this.query={}),o&&(this.pathname=o),K[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){M=this.pathname||"";var A=this.search||"";this.path=M+A}return this.href=this.format(),this},I.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&B.isObject(this.query)&&Object.keys(this.query).length&&(s=V.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||K[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),t+i+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(o=o.replace("#","%23"))+n},I.prototype.resolve=function(e){return this.resolveObject(s(e,!1,!0)).format()},I.prototype.resolveObject=function(e){if(B.isString(e)){var t=new I;t.parse(e,!1,!0),e=t}for(var r=new I,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var f=o[a];"protocol"!==f&&(r[f]=e[f])}return K[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!K[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var h=u[c];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||H[e.protocol])r.pathname=e.pathname;else{for(var l=(e.pathname||"").split("/");l.length&&!(e.host=l.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==l[0]&&l.unshift(""),l.length<2&&l.unshift(""),r.pathname=l.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var d=r.pathname||"",p=r.search||"";r.path=d+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=_||b||r.host&&e.pathname,v=y,m=r.pathname&&r.pathname.split("/")||[],g=(l=e.pathname&&e.pathname.split("/")||[],r.protocol&&!K[r.protocol]);if(g&&(r.hostname="",r.port=null,r.host&&(""===m[0]?m[0]=r.host:m.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===l[0]?l[0]=e.host:l.unshift(e.host)),e.host=null),y=y&&(""===l[0]||""===m[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,m=l;else if(l.length)m||(m=[]),m.pop(),m=m.concat(l),r.search=e.search,r.query=e.query;else if(!B.isNullOrUndefined(e.search)){if(g)r.hostname=r.host=m.shift(),(x=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"))&&(r.auth=x.shift(),r.host=r.hostname=x.shift());return r.search=e.search,r.query=e.query,B.isNull(r.pathname)&&B.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!m.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var w=m.slice(-1)[0],S=(r.host||e.host||1<m.length)&&("."===w||".."===w)||""===w,k=0,E=m.length;0<=E;E--)"."===(w=m[E])?m.splice(E,1):".."===w?(m.splice(E,1),k++):k&&(m.splice(E,1),k--);if(!y&&!v)for(;k--;k)m.unshift("..");!y||""===m[0]||m[0]&&"/"===m[0].charAt(0)||m.unshift(""),S&&"/"!==m.join("/").substr(-1)&&m.push("");var x,M=""===m[0]||m[0]&&"/"===m[0].charAt(0);g&&(r.hostname=r.host=M?"":m.length?m.shift():"",(x=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"))&&(r.auth=x.shift(),r.host=r.hostname=x.shift()));return(y=y||r.host&&m.length)&&!M&&m.unshift(""),m.length?r.pathname=m.join("/"):(r.pathname=null,r.path=null),B.isNull(r.pathname)&&B.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},I.prototype.parseHost=function(){var e=this.host,t=n.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":386,punycode:352,querystring:355}],386:[function(e,t,r){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],387:[function(e,t,r){((function(r){function n(e){try{if(!r.localStorage)return!1}catch(e){return!1}var t=r.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}t.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],388:[function(require,module,exports){var indexOf=require("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var r=e.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(t),function(e){r[e]=t[e]}),forEach(globals,function(e){t[e]&&(r[e]=t[e])});var s=Object_keys(r),o=n.call(r,this.code);return forEach(Object_keys(r),function(e){(e in t||-1===indexOf(s,e))&&(t[e]=r[e])}),forEach(globals,function(e){e in t||defineProp(t,e,r[e])}),document.body.removeChild(e),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var r=Script.createContext(t),e=this.runInContext(r);return forEach(Object_keys(r),function(e){t[e]=r[e]}),e},forEach(Object_keys(Script.prototype),function(r){exports[r]=Script[r]=function(e){var t=Script(e);return t[r].apply(t,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(t){var r=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(e){r[e]=t[e]}),r}},{indexof:326}]},{},[178])(178)});
(function(){var c8g=NEJ.P,be8W=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),hs1x=c8g("nm.w.player.log");var lq2x=q8i.ij1x.B8t();var LogLevel={ERROR:10,INFO:6,DEBUG:2};var hL1x=function(t8l,bF9w,sz4D){var cM9D=l8d.fD0x("{0} {1} {2}",k8c.iv1x(new Date,"yyyy-MM-dd HH:mm:ss"),t8l,bF9w);if(sz4D==LogLevel.ERROR){lq2x.fa0x("playerror",{message:bF9w})}if(sz4D>=LogLevel.INFO){lq2x.bLX6R(cM9D)}if(location.hostname.indexOf("igame.163.com")!=-1){console.log(cM9D)}};hs1x.ca9R=function(){hL1x("PLAY_ERROR",l8d.fD0x.apply(null,arguments),LogLevel.ERROR)};hs1x.rl4p=function(){hL1x("PLAY_INFO",l8d.fD0x.apply(null,arguments),LogLevel.INFO)};hs1x.cPX0x=function(){hL1x("PLAY_DEBUG",l8d.fD0x.apply(null,arguments),LogLevel.DEBUG)};hs1x.cIr8j=function(params){lq2x.fa0x("sysaction",params)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),G8y=c8g("nej.ut"),k8c=c8g("nej.u"),x8p=c8g("nm.w"),eS0x=c8g("flash.cb");var cr9i=["loadedmetadata","play","pause","ended","waiting","playing","timeupdate","progress","stalled","error"];var Ao6i,bim9d,wC5H,hC1x;x8p.cIu8m=function(t8l,cJ9A){if(t8l!="flash"){if(!Ao6i){Ao6i=a7h.ds0x("audio");k8c.bf8X(cr9i,function(t8l){h8b.s8k(Ao6i,t8l,onMediaCallBack)})}if(Ao6i&&Ao6i.canPlayType&&Ao6i.canPlayType("audio/mpeg")){cJ9A(new MediaWrap("audio"));return}}if(!bim9d){a7h.tW5b({src:"/style/swf/music/music.swf?v=20151204",hidden:true,params:{allowscriptaccess:"always"},onready:function(iy1x){bim9d=iy1x;k8c.bf8X(cr9i,function(t8l){eS0x[t8l]=onMediaCallBack;bim9d.addCallback(t8l,"flash.cb."+t8l)});cJ9A(new MediaWrap("flash"))}.f8d(this)})}else{cJ9A(new MediaWrap("flash"))}};function InitXyPlayer(){if(typeof xyvod!="undefined"&&xyvod.isSupported()){if(hC1x){hC1x.dispose();hC1x=null}if(Math.random()>.5){hC1x=xyvod.createPlayer({media:Ao6i});hC1x.on(xyvod.Events.ERROR,function(error){onMediaCallBack({type:"xyerror",error:error})})}}}function MediaWrap(IQ9H){var gR1x;G8y.fV0x.B8t({element:this,event:cr9i.concat(["interrupt","recover","xyerror"])});gR1x=IQ9H=="audio"?Ao6i:bim9d;this.type=IQ9H;this.destroy=function(){if(hC1x){hC1x.dispose();hC1x=null;this.bis9j=false}};this.setSrc=function(Z8R,setType){cIv8n=Z8R;if(wC5H!=this){var gD1x=wC5H;if(gD1x){gD1x.interrupt()}wC5H=this}if(IQ9H=="flash"){gR1x.setSrc(Z8R)}else{if(setType!=="fallback"&&setType!=="reload"){InitXyPlayer();if(hC1x){this.bis9j="xy";hC1x.load(Z8R)}else{gR1x.src=Z8R;this.bis9j=false}}else{gR1x.src=Z8R}}};this.getcdnInfo=function(){var params={};if(hC1x){params.cdnBytes=hC1x.info.cdnBytes;params.p2pBytes=hC1x.info.p2pBytes}return params};this.play=function(){if(wC5H!=this){var gD1x=wC5H;if(gD1x){gD1x.interrupt();wC5H=this;this.recover()}else{wC5H=this}}if(IQ9H=="flash"){gR1x.as_play()}else if(hC1x){hC1x.play()}else{gR1x.play()}};this.pause=function(){if(wC5H!=this)return;if(IQ9H=="flash"){gR1x.as_pause()}else if(hC1x){hC1x.pause()}else{gR1x.pause()}};this.load=function(cIv8n){if(wC5H!=this)return;if(IQ9H=="flash"){gR1x.as_load()}else{gR1x.load()}};this.interrupt=function(){onMediaCallBack({type:"interrupt"})};this.recover=function(){onMediaCallBack({type:"recover"})};this.getMedia=function(){return gR1x};var qi3x=["Src","Duration","CurrentTime","Paused","Ended","ReadyState","Volume","Error","Buffered","NetworkState"];k8c.bf8X(qi3x,function(Y8Q){var ZE4I="get"+Y8Q,FR8J="set"+Y8Q;if(IQ9H=="flash"){if(!this[ZE4I]){this[ZE4I]=function(){return gR1x[ZE4I]()}}if(!this[FR8J]){this[FR8J]=function(value){gR1x[FR8J](value)}}}else{var bpS1x=Y8Q.slice(0,1).toLowerCase()+Y8Q.slice(1);if(!this[ZE4I]){this[ZE4I]=function(){return gR1x[bpS1x]}}if(!this[FR8J]){if(hC1x){if(FR8J==="setCurrentTime"){this[FR8J]=function(value){hC1x.seek(value)}}else{this[FR8J]=function(value){Ao6i[bpS1x]=value}}}else{this[FR8J]=function(value){gR1x[bpS1x]=value}}}}},this)}function onMediaCallBack(d8f){if(wC5H){h8b.z8r(wC5H,d8f.type,d8f)}}})();
(function(){var c8g=NEJ.P,h8b=c8g("nej.v"),v8n=c8g("nej.j"),G8y=c8g("nej.ut"),cG9x=c8g("nej.p"),x8p=c8g("nm.w"),l8d=c8g("nm.x"),hs1x=c8g("nm.w.player.log"),b8h;var DEFAULT_BR=128e3;var CDN_HOST_REG=/(m\d+\.music\.126\.net)/;var MAX_STALLED_RETRY=2;var MediaError={MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4};var ErrorType={INFO_GET_ERR:1,NET_ERR:2,UNKNOWN_ERR:10,XY_ERR:8};var LoadState={LOAD_START:1,LOADED_META:2,IN_RELOAD:3,IN_RE_GET_URL:4,IN_SWITCH_CDN:5,IN_SWITCH_MEDIA:6};var RetryLevel={NONE:0,GET_URL:1,RELOAD:2,SWITCH_CDN:3};var bMG6A=false,ZU4Y=false;x8p.gp1x=NEJ.C();b8h=x8p.gp1x.M8E(G8y.cO9F);b8h.bp8h=function(e8e){this.bq8i(e8e);this.cF9w={};this.mR2x={};this.biG9x(e8e.media);v8n.bm8e("/api/cdns",{type:"json",onload:function(d8f){if(d8f.code){this.sq4u=d8f.data}}.f8d(this)})};b8h.bC9t=function(){this.bH9y();delete this.cF9w};b8h.bpR1x=function(){this.mR2x={loadeddataTime:(new Date).getTime(),seekWaitTime:0,seekWait_Array:[],playWaitTime:0,playWait_Array:[]}};b8h.biJ9A=function(bn8f){if(!bn8f)return;var rX4b=this.cF9w.volume;if(this.dQ0x){this.dQ0x.pause()}if(typeof xyvod!="undefined"&&xyvod.isSupported()){ZU4Y=true}else{ZU4Y=false}if(this.cF9w.id&&this.cF9w.time!==0){if(Math.floor(this.cF9w.duration)!==Math.floor(this.cF9w.time)){this.biL9C(false)}}this.cF9w={time:0,id:bn8f.id,duration:bn8f.duration/1e3,play:this.cF9w.play,stalledRetryCount:0};if(rX4b!=null){this.cF9w.volume=rX4b}this.cF9w.loadState=LoadState.LOAD_START;this.bMC6w(bn8f.id);hs1x.rl4p("play song id: {0}",bn8f.id)};b8h.ey0x=function(){if(this.cF9w.error){this.cF9w.error=null;if(this.cF9w.error==ErrorType.INFO_GET_ERR||this.bpO1x()){this.bMo6i()}else{this.QK1x()}}else{if(this.dQ0x){this.dQ0x.play()}}this.cF9w.play=true;this.rD4H("play")};b8h.fT0x=function(){if(this.dQ0x){this.dQ0x.pause()}this.cF9w.play=false;this.rD4H("pause")};b8h.qA4E=function(bA9r){if(this.dQ0x){this.dQ0x.setCurrentTime(bA9r)}this.cF9w.time=bA9r;this.mR2x.seekWaitTime=(new Date).getTime();hs1x.rl4p("seek to: {0}",bA9r)};b8h.bpM1x=function(){return this.cF9w.duration||0};b8h.vZ5e=function(){return!!this.cF9w.play};b8h.nl2x=function(QQ1x){this.cF9w.volume=QQ1x;if(this.dQ0x){this.dQ0x.setVolume(QQ1x)}};b8h.biY9P=function(){return this.cF9w.time};b8h.biG9x=function(t8l){x8p.cIu8m(t8l,function(gR1x){this.dQ0x=gR1x;hs1x.rl4p("media loaded: {0}",gR1x.type);this.bZ9Q([[this.dQ0x,"loadedmetadata",this.cII8A.f8d(this)],[this.dQ0x,"ended",this.cIJ8B.f8d(this)],[this.dQ0x,"waiting",this.Cl7e.f8d(this)],[this.dQ0x,"play",this.xT6N.f8d(this)],[this.dQ0x,"pause",this.bpK1x.f8d(this)],[this.dQ0x,"playing",this.QW1x.f8d(this)],[this.dQ0x,"timeupdate",this.cIL8D.f8d(this)],[this.dQ0x,"progress",this.sS4W.f8d(this)],[this.dQ0x,"stalled",this.bpH1x.f8d(this)],[this.dQ0x,"interrupt",this.fT0x.f8d(this)],[this.dQ0x,"recover",this.cIO8G.f8d(this)],[this.dQ0x,"error",this.dY0x.f8d(this)],[this.dQ0x,"xyerror",this.cIP8H.f8d(this)]]);if(this.cF9w){if(this.cF9w.loadState==LoadState.LOAD_START||this.cF9w.loadState==LoadState.IN_SWITCH_MEDIA){this.bpF1x(t8l);if(this.cF9w.volume!=null){this.dQ0x.setVolume(this.cF9w.volume)}}}}.f8d(this))};b8h.cIP8H=function(error){this.cF9w.error=ErrorType.XY_ERR;if(!this.bpO1x()){this.biL9C(true,error.error.message);this.dQ0x.otherCDN=false;this.bLt6n("fallback")}ZU4Y="NotFirst"};b8h.bLo6i=function(countArray){if(countArray.length===0){return 0}var bjp9g=countArray.reduce(function(before,after){return before+after});return{fk0x:Math.max.apply(null,countArray),fH0x:Math.min.apply(null,countArray),bLk6e:bjp9g/countArray.length}};b8h.biL9C=function(error,errorType){var cdnType=this.dQ0x.bis9j||"NetEase";var cdnInfo=this.dQ0x.getcdnInfo();if(this.mR2x.loadeddataTime>12e4){this.mR2x.loadeddataTime=0}var logParams={dataType:"cdnCompare",cdnType:cdnType,time:this.cF9w.time,loadeddataTime:this.mR2x.loadeddataTime,resourceType:"audio",resourceId:this.cF9w.id,resourceUrl:this.cF9w.playUrl,cdnBytes:cdnInfo.cdnBytes||0,p2pBytes:cdnInfo.p2pBytes||0,xySupport:ZU4Y,error:error,errorType:errorType||""};var playWaitResult=this.bLo6i(this.mR2x.playWait_Array),seekWaitResult=this.bLo6i(this.mR2x.seekWait_Array);if(playWaitResult===0){logParams.playWaitMax=0;logParams.playWaitMin=0;logParams.playWait_Aver=0}else{logParams.playWaitMax=playWaitResult.fk0x;logParams.playWaitMin=playWaitResult.fH0x;logParams.playWait_Aver=playWaitResult.bLk6e}if(seekWaitResult===0){logParams.seekWaitMax=0;logParams.seekWaitMin=0;logParams.seekWait_Aver=0}else{logParams.seekWaitMax=seekWaitResult.fk0x;logParams.seekWaitMin=seekWaitResult.fH0x;logParams.seekWait_Aver=seekWaitResult.bLk6e}hs1x.cIr8j(logParams)};b8h.bLt6n=function(t8l){this.PL1x();this.dQ0x.destroy();this.cF9w.loadState=LoadState.IN_SWITCH_MEDIA;this.Cl7e();this.biG9x(t8l);hs1x.rl4p("switch media")};b8h.cPT0x=function(){return this.dQ0x};b8h.bMC6w=function(){this.Cl7e();v8n.bm8e("/api/song/enhance/player/url",{type:"json",query:{ids:JSON.stringify([this.cF9w.id]),br:DEFAULT_BR},onload:this.bLc6W.f8d(this),onerror:this.bLc6W.f8d(this)})};b8h.bLc6W=function(d8f){if(d8f.code==200&&d8f.data&&d8f.data.length){var R8J=d8f.data[0];if(!R8J.url){this.cF9w.error=ErrorType.INFO_GET_ERR;this.rD4H("error",{code:this.cF9w.error});return}this.cF9w.playUrl=R8J.url;this.cF9w.expireTime=(new Date).getTime()+R8J.expi*1e3;this.bpF1x()}else{this.cF9w.error=ErrorType.INFO_GET_ERR;this.rD4H("error",{code:this.cF9w.error});hs1x.ca9R("info load error")}};b8h.bpF1x=function(t8l){if(this.dQ0x){var Z8R=this.cF9w.playUrl;if(this.cF9w.time>0&&(this.cF9w.loadState==LoadState.IN_RE_GET_URL||this.cF9w.loadState==LoadState.IN_RE_GET_URL)){Z8R+="#t="+this.cF9w.time}this.bpR1x();this.dQ0x.setSrc(Z8R,t8l);hs1x.rl4p("load mp3: {0},loadState: {1}.",Z8R,this.cF9w.loadState)}};b8h.bLb6V=function(){if(/#t=(\d+)$/.test(this.dQ0x.getSrc())){return parseInt(RegExp.$1)||0}else{return 0}};b8h.QK1x=function(){var bA9r=parseInt(this.cF9w.time)||0,cIV8N=this.bLb6V();if(bA9r===cIV8N){this.dQ0x.load(this.cF9w.playUrl)}else{this.dQ0x.setSrc(this.cF9w.playUrl+"#t="+bA9r,"reload")}this.bpR1x();this.cF9w.loadState=LoadState.IN_RELOAD;this.Cl7e();hs1x.rl4p("reload from: {0}",bA9r)};b8h.bMo6i=function(){this.cF9w.loadState=LoadState.IN_RE_GET_URL;this.bMC6w()};b8h.bKX6R=function(){var tV5a=getHost(this.cF9w.playUrl);if(tV5a){for(var i=0;i<this.sq4u.length;i++){var iQ1x=this.sq4u[i]||[],r8j=iQ1x.indexOf(tV5a);if(r8j>=0&&iQ1x.length>1){return iQ1x[(r8j+1)%iQ1x.length]}}}function getHost(Z8R){if(CDN_HOST_REG.test(Z8R))return RegExp.$1}};b8h.cIY8Q=function(){this.cF9w.playUrl=this.cF9w.playUrl.replace(CDN_HOST_REG,this.bKX6R());this.cF9w.loadState=LoadState.IN_SWITCH_CDN;this.bpF1x();this.Cl7e()};b8h.cII8A=function(){this.mR2x.loadeddataTime=(new Date).getTime()-this.mR2x.loadeddataTime;if(this.cF9w.loadState==LoadState.LOAD_START){this.cF9w.loadState=LoadState.LOADED_META;if(this.dQ0x.type=="audio"){this.cF9w.duration=this.dQ0x.getDuration()}this.rD4H("loadedmeta",{duration:this.cF9w.duration})}else{this.cF9w.loadState=LoadState.LOADED_META}if(this.cF9w.play){this.dQ0x.play()}else{this.dQ0x.pause()}if(this.cF9w.time&&parseInt(this.cF9w.time)!=this.bLb6V()){this.dQ0x.setCurrentTime(this.cF9w.time)}this.Ns0x();this.QW1x();bMG6A=true;hs1x.rl4p("loaded meta")};b8h.cIJ8B=function(){this.cF9w.ended=true;this.biL9C(false);this.rD4H("ended")};b8h.Cl7e=function(){var seekWait=false;if(!this.cF9w.waiting){this.cF9w.waiting=true;this.cF9w.waitTimestamp=+(new Date);this.rD4H("waiting")}if(this.mR2x.seekWaitTime>0){seekWait=true;setTimeout(function(){seekWait=false},300);return}if(this.mR2x.seekWaitTime===0&&this.cF9w.time>0&&!seekWait){this.mR2x.playWaitTime=(new Date).getTime()}};b8h.QW1x=function(){this.cF9w.waiting=false;this.cF9w.waitTimestamp=0;this.rD4H("playing")};b8h.xT6N=function(){this.rD4H("play")};b8h.bpK1x=function(){this.rD4H("pause")};b8h.cIL8D=function(){if(this.cF9w.loadState!=LoadState.LOADED_META)return;var bA9r=this.dQ0x.getCurrentTime();if(this.cF9w.waiting&&bA9r>this.cF9w.time){this.QW1x()}this.cF9w.time=bA9r;if(this.mR2x.seekWaitTime>0){this.mR2x.seekWait_Array.push((new Date).getTime()-this.mR2x.seekWaitTime);this.mR2x.seekWaitTime=0}if(this.mR2x.playWaitTime>0){this.mR2x.playWait_Array.push((new Date).getTime()-this.mR2x.playWaitTime);this.mR2x.playWaitTime=0}this.rD4H("timeupdate",{time:this.cF9w.time,duration:this.cF9w.duration})};b8h.sS4W=function(d8f){if(this.cF9w.loadState!=LoadState.LOADED_META)return;var m8e={};if(d8f.data){m8e.total=d8f.data.total;m8e.loaded=d8f.data.loaded}else{var eP0x=this.dQ0x.getBuffered(),bA9r=this.dQ0x.getCurrentTime(),pF3x=0;for(var i=0;i<eP0x.length;i++){if(bA9r>eP0x.start(i)&&bA9r<eP0x.end(i)){pF3x=eP0x.end(i);break}}m8e.total=this.cF9w.duration;m8e.loaded=Math.min(pF3x,m8e.total)}this.rD4H("progress",m8e)};b8h.Ns0x=function(){if(this.cF9w.retry){clearTimeout(this.cF9w.retry.tid);this.cF9w.retry=null}};b8h.dY0x=function(){var bV9M=this.dQ0x.getError();hs1x.ca9R("media error code: {0}, netState: {1}",bV9M.code,this.dQ0x.getNetworkState());this.biL9C(true);ZU4Y="NotFirst";if(bV9M.code==MediaError.MEDIA_ERR_NETWORK||bV9M.code==MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED){var HN9E=l8d.bxd2x();if(!this.cF9w.retry){this.cF9w.retry={level:RetryLevel.NONE}}else{window.clearTimeout(this.cF9w.retry.tid)}if(this.cF9w.retry.level==RetryLevel.NONE){if(this.bpO1x()){this.cF9w.retry.level=RetryLevel.GET_URL;this.bMo6i();hs1x.rl4p("Url expired, get url.")}else{this.cF9w.retry.level=RetryLevel.RELOAD;this.cF9w.retry.tid=setTimeout(this.QK1x.f8d(this),3e3);hs1x.rl4p("Reload mp3 3s later.")}}else if(this.cF9w.retry.level==RetryLevel.GET_URL){this.cF9w.retry.level=RetryLevel.RELOAD;this.cF9w.retry.tid=setTimeout(this.QK1x.f8d(this),3e3);hs1x.rl4p("Reload mp3 3s later.")}else if(this.cF9w.retry.level==RetryLevel.RELOAD){this.cF9w.retry.level=RetryLevel.SWITCH_CDN;if(this.bKX6R()){this.cF9w.retry.tid=setTimeout(this.cIY8Q.f8d(this),5e3);hs1x.rl4p("Switch CDN 5s later.")}else{this.cF9w.retry.tid=setTimeout(this.QK1x.f8d(this),5e3);hs1x.rl4p("Reload mp3 5s later.")}}else if(!bMG6A&&this.dQ0x.type=="audio"&&!HN9E.useFlash&&!cG9x.QA1x.mac&&l8d.bzQ3x().supported){HN9E.useFlash=true;l8d.HM9D(HN9E);this.bLt6n("flash")}else{this.Ns0x();this.fT0x();this.cF9w.error=ErrorType.NET_ERR;this.rD4H("error",{code:this.cF9w.error});hs1x.ca9R("error can not retry.")}}else{this.Ns0x();this.fT0x();this.cF9w.error=ErrorType.UNKNOWN_ERR;this.rD4H("error",{code:this.cF9w.error});hs1x.ca9R("error can not retry.")}};b8h.bpH1x=function(){var iB1x=0,bKU6O=5e3;return function(){if(this.dQ0x.bis9j==="xy"){return}this.Cl7e();clearTimeout(iB1x);setTimeout(function(){var fp0x=+(new Date);if(this.cF9w.waiting&&fp0x-this.cF9w.waitTimestamp>=bKU6O&&this.cF9w.stalledRetryCount<MAX_STALLED_RETRY){hs1x.rl4p("stalled too long retry.");this.cF9w.stalledRetryCount++;this.QK1x()}}.f8d(this),bKU6O);hs1x.rl4p("stalled")}}();b8h.bpO1x=function(){var fp0x=+(new Date);return fp0x>this.cF9w.expireTime};b8h.cIO8G=function(){var bA9r=parseInt(this.cF9w.time)||0;this.dQ0x.setSrc(this.cF9w.playUrl+"#t="+bA9r);this.bpR1x();this.cF9w.loadState=LoadState.IN_RELOAD;this.Cl7e();hs1x.rl4p("recover from: {0}",bA9r)};b8h.rD4H=function(X8P,i8a){h8b.z8r(x8p.gp1x,"playaction",{action:X8P,data:i8a||{}})};G8y.fV0x.B8t({element:x8p.gp1x,event:["playaction"]})})();
(function(){if(!(window==top)){return}var c8g=NEJ.P,h8b=c8g("nej.v"),G8y=c8g("nej.ut"),x8p=c8g("nm.w"),b8h;x8p.GF8x=NEJ.C();b8h=x8p.GF8x.M8E(x8p.gp1x);L8D=x8p.GF8x.cx9o;b8h.cC9t=function(){this.cK9B()};b8h.cJa8S=function(bR9I){this.biJ9A(bR9I);this.ey0x()};b8h.bpB1x=function(){this.fT0x()};b8h.yG6A=function(d8f){if(d8f.action=="play"){this.fT0x()}};b8h.rD4H=function(X8P,i8a){h8b.z8r(x8p.GF8x,"tmpplayaction",{action:X8P,data:i8a||{},tmp:true})};b8h.vm5r=function(){return this.cF9w};G8y.fV0x.B8t({element:x8p.GF8x,event:["tmpplayaction"]})})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),ga0x=c8g("nej.n"),v8n=c8g("nej.j"),G8y=c8g("nej.ut"),bc8U=c8g("nej.ui"),x8p=c8g("nm.w"),n8f=c8g("nm.l"),lz2x=c8g("nm.c"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),b8h,L8D,bjI9z=[{item:"m-publish-search-single",type:1},{item:"m-publish-search-artist",type:100},{item:"m-publish-search-album",type:10},{item:"m-publish-search-mv",type:1004},{item:"m-publish-search-playlist",type:1e3},{item:"m-publish-search-djRadio",type:1009}];var bpA1x={song:0,artist:1,album:2,mv:3,playlist:4,djradio:5};x8p.bpz1x=NEJ.C();b8h=x8p.bpz1x.M8E(bc8U.eu0x);b8h.cC9t=function(e8e){this.cK9B(e8e);var j8b=a7h.F8x(this.o8g,"j-flag");this.cPS0x=j8b.shift();this.cJc8U=j8b.shift();this.Nt0x=j8b.shift();this.bpy1x=j8b.shift();this.bpx1x=[j8b.shift(),j8b.shift(),j8b.shift(),j8b.shift(),j8b.shift(),j8b.shift()];this.bjQ9H=j8b.shift();this.bKC6w=j8b.shift();this.tk4o={list:this.bpx1x,selected:"z-curr",onchange:this.bKv6p.f8d(this)};h8b.s8k(this.Nt0x,"input",this.bjV9M.f8d(this));h8b.s8k(this.Nt0x,"propertychange",this.bjV9M.f8d(this));h8b.s8k(this.Nt0x,"keyup",this.bjV9M.f8d(this));h8b.s8k(this.cJc8U,"click",this.bjV9M.f8d(this));h8b.s8k(this.bjQ9H,"click",this.cR9I.f8d(this));h8b.s8k(this.bKC6w,"click",function(){this.z8r("oncancel",{})}.f8d(this));this.U8M=q8i.HZ9Q.fW0x();this.RB1x=top.nm.w.GF8x.fW0x();G8y.fV0x.B8t({element:top.nm.w.GF8x,event:["tmpplayaction"]});this.tp4t={limit:100,offset:0,parent:this.bjQ9H,onbeforelistload:this.si4m.f8d(this)};q8i.sk="fuck"+a7h.u8m(this.bpy1x,"xname")+"458";h8b.s8k(top.nm.w.GF8x,"tmpplayaction",this.yG6A.f8d(this))};b8h.ci9Z=function(){this.cg9X="m-xwgt-publish-search"};b8h.bp8h=function(e8e){this.bq8i(e8e);if(!!this.FV8N){this.FV8N.W8O();delete this.FV8N}this.tk4o.index=bpA1x[e8e.type||"song"];this.FV8N=G8y.HC9t.B8t(this.tk4o);this.Nt0x.value="";this.Nt0x.focus();this.wr5w="";this.cPR0x=0;if(e8e.showMV==true){this.bpx1x[bpA1x["mv"]].parentNode.style.display="";a7h.w8o(this.bpy1x,"srchtab-1")}else{this.bpx1x[bpA1x["mv"]].parentNode.style.display="none";a7h.y8q(this.bpy1x,"srchtab-1")}if(!!this.dT0x){this.dT0x=this.dT0x.W8O()}if(e8e.hideBack){a7h.w8o(this.bKC6w.parentNode,"f-hide")}};b8h.bC9t=function(){this.RB1x.bpB1x();this.bH9y()};b8h.bjV9M=function(){var value=this.Nt0x.value.trim();if(value&&value.length){if(value!=this.wr5w){this.wr5w=value;this.bKv6p({index:this.FV8N.vx5C()})}}else{if(this.dT0x){this.dT0x=this.dT0x.W8O()}}this.wr5w=value};b8h.cR9I=function(){var cJe8W=function(H8z){return a7h.bG9x(H8z,"sitm")||a7h.bG9x(H8z,"itm")||a7h.bG9x(H8z,"mv-item")},cJf8X=function(H8z){return a7h.bG9x(H8z,"ply")},bKm5r=function(){n8f.bb8T.J8B({type:2,tip:"因合作方要求，该资源需付费使用"})},cJl8d=function(){n8f.bb8T.J8B({type:2,tip:"因合作方要求，该资源需下载后播放"})},bpw1x=function(bn8f){if(bn8f&&bn8f.privilege&&bn8f.privilege.toast){v8n.bm8e("/api/song/toast",{query:{id:bn8f.id},type:"json",onload:Uc2x.f8d(this),onerror:Uc2x.f8d(this)})}else{Ud2x()}},Uc2x=function(T8L){Ud2x((T8L||be8W).toast)},Ud2x=function(bF9w){n8f.bb8T.J8B({type:2,tip:bF9w||"因合作方要求，该资源暂时下架>_<"})};return function(d8f){var wu5z=h8b.ba8S(d8f,cJf8X),j8b=h8b.ba8S(d8f,cJe8W),dW0x=this.RB1x.vm5r();if(!!j8b){h8b.bi8a(d8f);this.RM2x=a7h.u8m(j8b,"id");this.RN2x=a7h.u8m(j8b,"type");if(this.RN2x==18){var bR9I=this.U8M.eY0x(this.RM2x),sz4D=l8d.qJ4N(bR9I);if(!wu5z){if(sz4D==10){bKm5r();return}else if(sz4D==100){bpw1x(bR9I);return}}else{if(sz4D==10){bKm5r();return}else if(sz4D==100){bpw1x(bR9I);return}else if(sz4D==11){cJl8d();return}else{a7h.y8q(this.FS8K,"z-pause z-loading");if(wu5z==this.FS8K&&dW0x.play&&!dW0x.ended){this.RB1x.bpB1x()}else{this.FS8K=wu5z;this.RB1x.cJa8S(bR9I)}return}}}else if(this.RN2x==70){if(a7h.bG9x(j8b,"z-noprogram")){n8f.bb8T.J8B({type:2,tip:"不能分享没有节目的电台"});return}}this.cJq8i()}}}();b8h.cJq8i=function(){var iH1x=this.U8M.eY0x(this.RM2x),ur5w=l8d.bYH0x(this.RN2x,iH1x);ur5w.title=ur5w.title||"";ur5w.author=ur5w.author||"";ur5w.picUrl=ur5w.picUrl||"";ur5w.authors=ur5w.authors||"";if(this.RN2x==70){this.RM2x=this.RM2x.slice(0,-4)}this.z8r("onfinish",{id:this.RM2x,type:this.RN2x,data:ur5w})};b8h.yG6A=function(d8f){var i8a=d8f.data;if(!this.FS8K){return}switch(d8f.action){case"play":a7h.fx0x(this.FS8K,"z-pause z-play","z-loading");break;case"pause":case"ended":a7h.y8q(this.FS8K,"z-pause z-loading");break;case"error":n8f.bb8T.J8B({type:2,tip:"试听遇到问题，播放失败"});a7h.y8q(this.FS8K,"z-pause z-loading");break;case"playing":a7h.fx0x(this.FS8K,"z-loading","z-pause");break;case"waiting":a7h.fx0x(this.FS8K,"z-pause","z-loading");break}};b8h.cJy8q=function(d8f){if(d8f.result.code==407){this.bjQ9H.innerHTML='<div class="n-norlt s-fc1">根据相关法律法规和政策，搜索结果未予显示</div>';return}this.bjQ9H.innerHTML='<div class="n-norlt s-fc1">页面出错，请稍后再试！</div>'};b8h.bKv6p=function(d8f){if(!this.wr5w||d8f.index<0||d8f.index>5){return}this.RB1x.bpB1x();var bk8c=bjI9z[d8f.index],e8e=NEJ.X({},this.tp4t);e8e.cache={klass:q8i.HZ9Q,clear:true,onerror:this.cJy8q.f8d(this)};e8e.cache.lkey="search-publish-"+bk8c.type+"-"+this.wr5w;e8e.item={klass:bk8c.item,getRestrictLevel:l8d.qJ4N,dur2time:l8d.lW2x};if(!e8e.cache.data){e8e.cache.data={}}e8e.cache.data.s=this.wr5w;e8e.cache.data.type=bk8c.type;e8e.cache.data.isPub=true;if(bk8c.type==1){e8e.cache.data.hlpretag='<span class="s-fc7">';e8e.cache.data.hlposttag="</span>"}e8e.onemptylist=this.cJz8r.f8d(this,this.wr5w);if(!!this.Jg9X)this.U8M.ya6U(this.Jg9X);if(!!this.dT0x){this.dT0x=this.dT0x.W8O()}this.dT0x=G8y.nV3x.B8t(e8e);this.Jg9X=e8e.cache.lkey};b8h.si4m=function(d8f){d8f.value=a7h.iN1x("m-publish-search-loading")};b8h.cJz8r=function(K8C,d8f){a7h.dI0x(d8f.parent,"m-publish-emtpy-message",{key:K8C});d8f.stopped=true}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),cG9x=c8g("nej.p"),v8n=c8g("nej.j"),ch9Y=c8g("nej.ut"),bD9u=c8g("nej.ui"),x8p=c8g("nm.w"),b8h,L8D;var cJC8u=".j-item.j-selected a{background:#eee;text-decoration:none;color:#333;}";x8p.Jd9U=NEJ.C();b8h=x8p.Jd9U.M8E(bD9u.eu0x);var gJ1x=a7h.eA0x("m-wgt-receiverInput");var cJD8v=a7h.eA0x("m-wgt-receiverList");var jx1x=a7h.uJ5O(cJC8u);var cJI8A=a7h.eA0x('<div data-id=${userId} class="blk s-fc3 j-receiver">${username}<a href="#" class="cls" title="删除">&times;</a></div>');b8h.cC9t=function(e8e){this.bh8Z=[];this.zB6v=e8e.receiver||null;this.cJJ8B=e8e.unique||false;this.gX1x=e8e.err;this.bJS5X(this.bJN5S,e8e.uid);this.cK9B(e8e)};b8h.bp8h=function(e8e){this.bq8i(e8e);this.Sd2x();this.Se2x();this.baD4H();if(e8e.receiver)this.bpo0x(e8e.receiver.nickname,e8e.receiver.userId);a7h.bd8V(this.DG7z,"display","block");a7h.bd8V(this.bpk0x,"cursor","text");a7h.bd8V(this.DG7z,"cursor","text")};b8h.ci9Z=function(){var i8a=this.bIZ5e();this.cg9X=a7h.jU2x(a7h.cf9W(gJ1x,{receiver:this.zB6v,users:i8a}));this.ng2x=jx1x};b8h.bY9P=function(){this.cj9a();var bO9F=a7h.F8x(this.o8g,"j-flag");var hQ1x=a7h.F8x(this.o8g,"j-item");this.bpk0x=bO9F[0];this.bIX5c=bO9F[1];this.er0x=bO9F[2];this.DG7z=bO9F[3];this.baK5P=bO9F[4];this.bpi0x=bO9F[5];this.ge0x=hQ1x;a7h.w8o(this.ge0x[0],"j-selected");h8b.s8k(this.er0x,"keyup",this.bph0x.f8d(this));h8b.s8k(this.er0x,"keydown",this.Sn2x.f8d(this));h8b.s8k(this.er0x,"focus",this.kQ2x.f8d(this));h8b.s8k(this.baK5P,"click",this.cKo8g.f8d(this));h8b.s8k(this.bpk0x,"click",this.cKx8p.f8d(this));h8b.s8k(document.body,"click",this.qa3x.f8d(this));h8b.s8k(this.er0x,"input",this.ff0x.f8d(this));h8b.s8k(this.er0x,"blur",this.oU3x.f8d(this))};b8h.bC9t=function(e8e){h8b.nt3x(document.body,"click",this.qa3x.f8d(this));this.bH9y();this.baD4H();this.cKy8q();this.qa3x()};b8h.bph0x=function(d8f){h8b.bi8a(d8f);var kA2x=d8f.keyCode||d8f.which;var bt9k=this.er0x.value;var br8j=this.ge0x.length;var tx4B=a7h.F8x(this.o8g,"j-selected")[0];switch(kA2x){case 13:var mj2x=a7h.hl1x(tx4B,"data-username");var io1x=a7h.hl1x(tx4B,"data-userId");this.bpo0x(mj2x,io1x);this.qa3x();this.er0x.value="";break;case 38:var r8j=a7h.hl1x(tx4B,"data-index")-1<0?br8j-1:a7h.hl1x(tx4B,"data-index")-1;a7h.y8q(tx4B,"j-selected");a7h.w8o(this.ge0x[r8j],"j-selected");break;case 40:var r8j=parseInt(a7h.hl1x(tx4B,"data-index"))+1>=br8j?0:parseInt(a7h.hl1x(tx4B,"data-index"))+1;a7h.y8q(tx4B,"j-selected");a7h.w8o(this.ge0x[r8j],"j-selected");break;default:this.zr6l()}};b8h.Sn2x=function(d8f){var kA2x=d8f.keyCode||d8f.which;var bt9k=this.er0x.value;var r8j=a7h.F8x(this.o8g,"j-receiver").length-1;if(kA2x===8&&bt9k==="")this.cKA8s(r8j)};b8h.ff0x=function(d8f){var bt9k=this.er0x.value;if(bt9k.length>10){this.er0x.value=bt9k.substring(0,10);return}cG9x.dC0x.browser=="ie"&&cG9x.dC0x.version<"7.0"?setTimeout(this.boY0x.f8d(this),0):this.boY0x();this.Se2x()};b8h.kQ2x=function(){if(this.bh8Z[0])this.zr6l();else this.bJS5X(this.cKB8t);a7h.bd8V(this.DG7z,"display","none")};b8h.oU3x=function(){var br8j=a7h.F8x(this.o8g,"j-receiver").length;if(this.er0x.value.trim()==""&&br8j<=0)a7h.bd8V(this.DG7z,"display","block")};b8h.bpo0x=function(mj2x,io1x){var NK0x=this.SD2x();if(NK0x.length>=10){this.ed0x();return}var bc8U;for(bc8U=0;bc8U<NK0x.length;bc8U++){if(NK0x[bc8U]==io1x){this.qa3x();return}}if(!mj2x||!io1x)return;var g8c=a7h.dH0x(a7h.jU2x(a7h.cf9W(cJI8A,{username:mj2x,userId:io1x})));var bJ9A=this.bIX5c.parentNode;if(this.cJJ8B){this.baD4H()}bJ9A.insertBefore(g8c,this.bIX5c);this.er0x.value="";var br8j=a7h.F8x(this.o8g,"j-receiver").length;if(br8j>1)a7h.bd8V(this.DG7z,"display","none");this.boY0x();this.Se2x()};b8h.baD4H=function(){var SE2x=a7h.F8x(this.o8g,"j-receiver");var bc8U;if(SE2x.length>0){for(bc8U=0;bc8U<SE2x.length;bc8U++){a7h.cV9M(SE2x[bc8U],false)}}};b8h.cKy8q=function(){this.er0x.value=""};b8h.cKA8s=function(r8j){this.ed0x(!0);var SE2x=a7h.F8x(this.o8g,"j-receiver");a7h.cV9M(SE2x[r8j],false);this.Se2x()};b8h.zr6l=function(){var bt9k=this.er0x.value;var bx9o=bt9k.trim().toLowerCase();var i8a;bx9o=bx9o.replace(/\[/g,"\\[");bx9o=bx9o.replace(/\]/g,"\\]");i8a=this.bIZ5e(bx9o);this.cKC8u(i8a)};b8h.qa3x=function(d8f){a7h.bd8V(this.baK5P,"display","none")};b8h.ed0x=function(dU0x){if(dU0x&&this.gX1x){a7h.bd8V(this.gX1x,"display","none");return}if(this.gX1x)a7h.bd8V(this.gX1x,"display","block")};b8h.cKo8g=function(d8f){h8b.cu9l(d8f);var bI9z=d8f.target||d8f.srcElement;if(a7h.bG9x(bI9z,"j-flag"))return;var bJ9A=bI9z.nodeName.toLowerCase()=="a"?bI9z.parentNode:bI9z.parentNode.parentNode;var mj2x=a7h.hl1x(bJ9A,"data-username");var io1x=a7h.hl1x(bJ9A,"data-userId");this.bpo0x(mj2x,io1x);this.qa3x();a7h.bd8V(this.DG7z,"display","none")};b8h.cKx8p=function(d8f){h8b.bi8a(d8f);var bI9z=d8f.target||d8f.srcElement;if(a7h.bG9x(bI9z.parentNode,"j-receiver")){a7h.cV9M(bI9z.parentNode,false);this.ed0x(!0);this.Se2x()}else this.er0x.focus()};b8h.boY0x=function(){this.bpi0x.innerHTML=this.er0x.value;var cB9s=this.bpi0x.offsetWidth+2;a7h.bd8V(this.er0x,"width",cB9s+"px")};b8h.Se2x=function(){var bbg5l=a7h.ir1x(this.er0x,this.o8g).y;var bIo5t=Math.floor((bbg5l-8)/27);if(bIo5t<0)return;a7h.bd8V(this.bpk0x,"height",19+bIo5t*29+"px")};b8h.Sd2x=function(){var rj4n=["height","paddingLeft","paddingTop","paddingRight","paddingBottom","fontSize","fontFamily","lineHeight"];for(var i=0;i<rj4n.length;i++){a7h.bd8V(this.bpi0x,rj4n[i],a7h.dp9g(this.er0x,rj4n[i]))}};b8h.bJS5X=function(cJ9A,D8v){var dy0x=D8v?D8v:window.GUser.userId;var Z8R="/api/user/getfollows/"+dy0x;var gh0x=v8n.bm8e(Z8R,{sync:false,method:"get",query:"offset = 0&limit=1000&order=true",onload:cJ9A.f8d(this),onerror:function(i8a){this.bh8Z=[]},onbeforerequest:function(i8a){}})};b8h.bJN5S=function(i8a){this.bh8Z=JSON.parse(i8a).follow||[];var D8v=GUser.userId;for(var i=0;i<this.bh8Z.length;i++){if(this.bh8Z[i].userId==D8v){this.bh8Z.splice(i,1);continue}this.bh8Z[i].avatarUrl=this.bh8Z[i].avatarUrl+"?param=30y30"}};b8h.cKB8t=function(i8a){if(this.bh8Z[0])return;this.bJN5S(i8a);this.zr6l()};b8h.bIZ5e=function(bx9o){var bx9o=bx9o?bx9o:"";this.bh8Z=this.bh8Z[0]?this.bh8Z:[];var br8j=this.bh8Z.length;var QE1x=this.SD2x();var un5s=[];var SK2x,SL2x,boV0x;if(!this.bh8Z[0])return un5s;for(var bc8U=0;bc8U<br8j;bc8U++){boV0x=false;for(var v8n=0;v8n<QE1x.length;v8n++){if(this.bh8Z[bc8U].userId==QE1x[v8n]){boV0x=true;break}}if(boV0x)continue;SK2x=this.bh8Z[bc8U].nickname.toLowerCase().search(bx9o);SL2x=this.bh8Z[bc8U].py?this.bh8Z[bc8U].py.toLowerCase().search(bx9o):-1;if(SK2x!==-1||SL2x!=-1)un5s.push(this.bh8Z[bc8U])}return un5s};b8h.cKC8u=function(i8a){a7h.dI0x(this.baK5P,cJD8v,{users:i8a});a7h.w8o(a7h.F8x(this.o8g,"j-item")[0],"j-selected");this.ge0x=a7h.F8x(this.o8g,"j-item");a7h.bd8V(this.baK5P,"display","block")};b8h.SD2x=function(){var un5s=a7h.F8x(this.o8g,"j-receiver")||[];var io1x=[];for(var i=0;i<un5s.length;i++){io1x.push(a7h.hl1x(un5s[i],"data-id"))}return io1x};b8h.cPM0x=function(){var io1x=this.SD2x();var un5s=[];for(var i=0;i<io1x.length;i++){for(var j=0;j<this.bh8Z.length;j++){if(io1x[i]==this.bh8Z[j].userId)un5s.push(this.bh8Z[j])}}return un5s};b8h.cKK8C=function(){this.baD4H()};x8p.Jd9U.J8B=function(e8e){if(!GUser||!GUser.userId||GUser.userId<=0){n8f.pT3x.J8B({title:"登录"});return}e8e=e8e||{};if(e8e.parent===undefined)e8e.parent=document.body;!!this.fF0x&&this.fF0x.W8O();this.fF0x=this.B8t(e8e)};x8p.Jd9U.bu9l=function(){!!this.fF0x&&this.fF0x.W8O()};x8p.Jd9U.KX0x=function(){return this.qa3x()};x8p.Jd9U.cPL0x=function(){return this.zr6l()}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),l8d=c8g("nm.x"),n8f=c8g("nm.l"),b8h,L8D;n8f.NN0x=NEJ.C();b8h=n8f.NN0x.M8E(n8f.bxQ2x);L8D=n8f.NN0x.cx9o;b8h.bp8h=function(){var KU0x;var cKO8G=function(C8u,K8C){KU0x=KU0x||[];if(K8C!="18")KU0x.push({key:K8C,value:C8u})};return function(e8e){this.bq8i(e8e);if(e8e.upwards){a7h.w8o(this.o8g,"m-emts-up")}else{a7h.y8q(this.o8g,"m-emts-up")}if(e8e.rightwards){a7h.w8o(this.o8g,"m-emts-right")}else{a7h.y8q(this.o8g,"m-emts-right")}if(!KU0x){var bB9s=l8d.cnb3x();k8c.eR0x(bB9s,cKO8G)}var br8j=KU0x.length;KU0x.splice(br8j-2,0,{key:"18",value:"186"});this.bbw5B=KU0x;this.cKP8H=!!e8e.autoHide}}();b8h.ci9Z=function(){this.cg9X="ntp-portrait"};b8h.bY9P=function(){this.cj9a();var j8b=a7h.F8x(this.o8g,"j-flag");this.bL9C=j8b[0];this.cKY8Q=j8b[1];this.cKZ8R=j8b[2];this.cLb9S=j8b[3];h8b.s8k(this.bL9C,"click",this.BK7D.f8d(this));h8b.s8k(this.cKY8Q,"click",this.KJ0x.f8d(this,1));h8b.s8k(this.cLb9S,"click",this.KJ0x.f8d(this,2))};b8h.boL0x=function(r8j){this.bbF5K=r8j;var bl8d=(r8j-1)*50;var j8b=this.bbw5B.slice(bl8d,Math.min(bl8d+50,this.bbw5B.length));this.bL9C.innerHTML=a7h.cf9W("jst-portrait",{plist:j8b},{purl:l8d.bTx9o});this.cKZ8R.innerText=r8j+"/"+Math.ceil(this.bbw5B.length/50)};b8h.KJ0x=function(r8j){var cLd9U=Math.ceil(this.bbw5B.length/50);if(r8j==1&&this.bbF5K==1||r8j==2&&this.bbF5K==cLd9U)return;r8j==1?this.boL0x(this.bbF5K-1):this.boL0x(this.bbF5K+1)};b8h.BK7D=function(d8f){var H8z=h8b.ba8S(d8f,"d:text");if(!H8z)return;var d8f={url:a7h.u8m(H8z,"url"),text:a7h.u8m(H8z,"text")};this.z8r("onselect",d8f);if(this.cKP8H&&!d8f.stopped){this.bu9l()}};b8h.J8B=function(){L8D.J8B.call(this);this.boL0x(1)}})();
(function(){var c8g=NEJ.P,h8b=c8g("nej.v"),k8c=c8g("nej.u"),cG9x=c8g("nej.p"),bg8Y=c8g("nej.h"),G8y=c8g("nej.ut"),lp2x=/^[#?]+/,Ju9l=/#(.*?)$/,BV7O=window,boK0x=!history.pushState||cG9x.QA1x.android||!history.auto;var bbJ5O=function(Z8R,boJ0x){BV7O.history[!boJ0x?"pushState":"replaceState"](null,document.title,Z8R)};var bbL5Q=function(){return location.parse(BV7O.location.href)};bbJ5O=bbJ5O.eT0x(function(d8f){if(!boK0x)return;var bj8b=d8f.args;d8f.stopped=!0;Z8R=bj8b[0].replace(lp2x,"");!bj8b[1]?BV7O.location.hash=Z8R:BV7O.location.replace("#"+Z8R)});bbL5Q=bbL5Q.eT0x(function(d8f){if(!boK0x)return;d8f.stopped=!0;var cZ9Q=Ju9l.test(BV7O.location.href)?RegExp.$1:"";d8f.value=location.parse(cZ9Q.replace(lp2x,""))});location.redirect=function(Z8R,boJ0x){bbJ5O(Z8R,boJ0x);return this};location.active=function(){var et0x,Z8R,kh2x,dk9b,RZ2x;var boI0x=function(hO1x){if(!!dk9b){dk9b=!1;return}var d8f={oldValue:kh2x,newValue:bbL5Q()};if(!!location.ignored){location.ignored=!1}else{h8b.z8r(location,"beforeurlchange",d8f);if(d8f.stopped){if(!!kh2x){dk9b=!0;bbJ5O(kh2x.href,!0)}return}}Z8R=BV7O.location.href;kh2x=d8f.newValue;h8b.z8r(location,"urlchange",kh2x);bg8Y.bmu0x(kh2x.href)};var bHm5r=function(){if(Z8R!=BV7O.location.href)boI0x();et0x=requestAnimationFrame(bHm5r)};return function(bM9D){if(!!RZ2x)return this;RZ2x=!0;BV7O=bM9D||window;if(boK0x&&"onhashchange"in window&&cG9x.oG3x.trident2){h8b.s8k(BV7O,"hashchange",boI0x);boI0x()}else if(!et0x){et0x=requestAnimationFrame(bHm5r)}return this}}();location.parse=function(){var ho1x=/^https?:\/\/.*?\//i,lp2x=/[?#]/;return function(Z8R){var m8e={href:Z8R};Z8R=(Z8R||"").replace(ho1x,"/").split(lp2x);var cn9e=1;if(Z8R[0]=="/"&&(Z8R[1]||"").indexOf("/")==0)cn9e=2;m8e.path=Z8R.splice(0,cn9e).join("?");m8e.query=k8c.ha1x(Z8R.join("&"));return m8e}}();location.same=function(Z8R){return bbL5Q().href==Z8R};G8y.fV0x.B8t({element:location,event:["beforeurlchange","urlchange"]})})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),gL1x=c8g("nm.ut");gL1x.xc5h=function(ex0x){var hM1x={text:"",start:0,end:0};if(ex0x.setSelectionRange){hM1x.start=ex0x.selectionStart;hM1x.end=ex0x.selectionEnd;hM1x.text=hM1x.start!=hM1x.end?ex0x.value.substring(hM1x.start,hM1x.end):""}else if(document.selection){var i,bbR5W=document.selection.createRange(),CF7y=document.body.createTextRange();CF7y.moveToElementText(ex0x);hM1x.text=bbR5W.text;hM1x.bookmark=bbR5W.getBookmark();for(i=0;CF7y.compareEndPoints("StartToStart",bbR5W)<0&&bbR5W.moveStart("character",-1)!==0;i++){if(ex0x.value.charAt(i)=="\n"){i++}}hM1x.start=i;hM1x.end=hM1x.text.length+hM1x.start}return hM1x};gL1x.bbT5Y=function(ex0x,hM1x){var CF7y;if(!hM1x){hM1x={text:"",start:0,end:0}}ex0x.focus();if(ex0x.setSelectionRange){ex0x.setSelectionRange(hM1x.start,hM1x.end)}else if(ex0x.createTextRange){CF7y=ex0x.createTextRange();if(ex0x.value.length===hM1x.start){CF7y.collapse(false);CF7y.select()}else{CF7y.moveToBookmark(hM1x.bookmark);CF7y.select()}}};gL1x.NS0x=function(ex0x,hM1x,cM9D){var hM1x=hM1x||{text:"",start:0,end:0};var boF0x,bHe5j,CF7y,Tn2x,bHd5i,bHc5h,IJ9A;this.bbT5Y(ex0x,hM1x);if(ex0x.setSelectionRange){boF0x=ex0x.value;bHe5j=boF0x.substring(0,hM1x.start)+cM9D+boF0x.substring(hM1x.end);bHd5i=bHc5h=hM1x.start+cM9D.length;IJ9A=ex0x.scrollTop;ex0x.value=bHe5j;if(ex0x.scrollTop!=IJ9A){ex0x.scrollTop=IJ9A}ex0x.setSelectionRange(bHd5i,bHc5h)}else if(ex0x.createTextRange){Tn2x=document.selection.createRange();Tn2x.text=cM9D;Tn2x.setEndPoint("StartToEnd",Tn2x);Tn2x.select()}h8b.z8r(ex0x,"keyup")}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),cG9x=c8g("nej.p"),k8c=c8g("nej.u"),ch9Y=c8g("nej.ut"),x8p=c8g("nm.w"),gL1x=c8g("nm.ut"),b8h;x8p.bHb5g=NEJ.C();b8h=x8p.bHb5g.M8E(ch9Y.cO9F);b8h.cC9t=function(e8e){this.cK9B(e8e)};b8h.bp8h=function(e8e){this.bq8i(e8e);this.gN1x=e8e.txt;this.Ie9V=e8e.sgtsContainer;this.bGN5S=e8e.sgtsList[0];this.bcf5k=e8e.sgtsItem;this.pA3x=e8e.rangeData;this.NY1x=e8e.atIndex;a7h.w8o(this.bcf5k[0],"selected-item");this.HK9B()};b8h.bC9t=function(){this.bH9y();h8b.nt3x(document.body,"keyup",this.bGF4J.f8d(this));h8b.nt3x(document.body,"click",this.bGC4G.f8d(this))};b8h.HK9B=function(){this.bZ9Q([[document.body,"keyup",this.bGF4J.f8d(this)],[document.body,"click",this.bGC4G.f8d(this)],[this.gN1x,"keydown",this.bGz4D.f8d(this)],[this.gN1x,"keypress",this.bGz4D.f8d(this)],[this.bGN5S,"click",this.bGy4C.f8d(this)],[this.bGN5S,"mouseover",this.GK8C.f8d(this)]])};b8h.GK8C=function(d8f){var bI9z=h8b.ba8S(d8f);var p8h=a7h.F8x(this.Ie9V,"selected-item");if(a7h.bG9x(bI9z,"j-sgt")){a7h.y8q(p8h[0],"selected-item");a7h.w8o(bI9z,"selected-item")}};b8h.bGF4J=function(d8f){var p8h=a7h.F8x(this.Ie9V,"selected-item");var br8j=this.bcf5k.length;var kA2x=d8f.keyCode||d8f.which;var r8j,i8a;switch(kA2x){case 38:r8j=a7h.hl1x(p8h[0],"data-index")-1<0?br8j-1:a7h.hl1x(p8h[0],"data-index")-1;a7h.y8q(p8h[0],"selected-item");a7h.w8o(this.bcf5k[r8j],"selected-item");break;case 40:r8j=parseInt(a7h.hl1x(p8h[0],"data-index"))+1>=br8j?0:parseInt(a7h.hl1x(p8h[0],"data-index"))+1;a7h.y8q(p8h[0],"selected-item");a7h.w8o(this.bcf5k[r8j],"selected-item");break;case 13:this.bGy4C(d8f);break;case 27:this.qa3x();break;case 32:var bt9k=this.gN1x.value;var r8j=gL1x.xc5h(this.gN1x);if(bt9k.charAt(r8j.start-1)!==" ")return;this.qa3x();break}};b8h.bGz4D=function(d8f){var kA2x=d8f.keyCode||d8f.which;if(kA2x===13||kA2x===38||kA2x===40){h8b.cu9l(d8f);d8f.keyCode=0;d8f.which=0;d8f.returnvalue=false}};b8h.bGC4G=function(d8f){var bI9z=d8f.target||d8f.srcElement;if(bI9z===this.gN1x)return;this.qa3x()};b8h.bGy4C=function(d8f){h8b.bi8a(d8f);var p8h=a7h.F8x(this.Ie9V,"selected-item")[0];var tx4B=d8f.target||d8f.srcElement;var t8l=d8f.type;if(a7h.bG9x(tx4B,"lst"))return;if(t8l=="click"){a7h.y8q(p8h,"selected-item");a7h.w8o(tx4B,"selected-item")}else tx4B=p8h;var i8a=tx4B.innerHTML+" ";this.qa3x();var hM1x=this.pA3x;hM1x.start=this.NY1x+1;if(cG9x.dC0x.browser=="ie"&&cG9x.dC0x.version<"9.0"){this.gN1x.value=this.gN1x.value.substring(0,hM1x.start)+this.gN1x.value.substring(hM1x.end,this.gN1x.value.length);hM1x.end=hM1x.start}gL1x.NS0x(this.gN1x,hM1x,i8a);h8b.z8r(this.gN1x,"keyup")};b8h.qa3x=function(d8f){if(!!this.Ie9V)a7h.bd8V(this.Ie9V,"display","none");this.W8O()};b8h.zr6l=function(d8f){if(!!this.Ie9V)a7h.bd8V(this.Ie9V,"display","block")}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v8n=c8g("nej.j"),x8p=c8g("nm.w"),ch9Y=c8g("nej.ut"),bD9u=c8g("nej.ui"),b8h;var cLs9j=".u-atlist{position: absolute;z-index: 10000;}.f-thide.selected-item{background-color: #eee;}";var cLt9k=a7h.eA0x("m-wgt-atlist");var jx1x=a7h.uJ5O(cLs9j);x8p.bGp4t=NEJ.C();b8h=x8p.bGp4t.M8E(bD9u.eu0x);b8h.cC9t=function(e8e){this.gr1x={};this.cK9B()};b8h.bp8h=function(e8e){this.gr1x.txt=a7h.A8s(e8e.target);this.gr1x.data=e8e.data;this.gr1x.offset=e8e.offset;this.gr1x.rangeData=e8e.rangeData;this.gr1x.atIndex=e8e.atIndex;this.cLy9p(e8e);this.bq8i(e8e);this.gr1x.sgtsContainer=this.o8g;this.gr1x.sgtsList=a7h.F8x(this.o8g,"lst");this.gr1x.sgtsItem=a7h.F8x(this.o8g,"f-thide");this.Vl2x(e8e);this.cLE9v=x8p.bHb5g.B8t(this.gr1x)};b8h.bC9t=function(e8e){this.bH9y();this.cLE9v.W8O()};b8h.ci9Z=function(){this.ng2x=jx1x};b8h.bY9P=function(){this.cj9a()};b8h.cLy9p=function(e8e){this.o8g=a7h.dH0x(a7h.jU2x(a7h.cf9W(cLt9k,e8e.data)))};b8h.Vl2x=function(e8e){var bGh4l=a7h.F8x(this.o8g,"selected-item")[0];if(bGh4l)a7h.y8q(bGh4l,"selected-item");var di9Z=e8e.offset.x+"px";var hW1x=e8e.offset.y+"px";a7h.bd8V(this.o8g,"left",di9Z);a7h.bd8V(this.o8g,"top",hW1x)}})();
(function(){var c8g=NEJ.P,v8n=c8g("nej.j"),gL1x=c8g("nm.ut");gL1x.bGd4h=function(bt9k){if(!GUser||!GUser.userId||GUser.userId<=0)return;var dr9i=/@([a-zA-Z0-9_\-\u4E00-\u9FA5]+)/g;var Oc1x=bt9k.match(dr9i)||[];for(var bc8U=0;bc8U<Oc1x.length;bc8U++){Oc1x[bc8U]=Oc1x[bc8U].split("@")[1]}Oc1x=Oc1x.reverse();var io1x=GUser.userId;var cLF9w=v8n.vj5o("mentioners"+io1x)||[];var kM2x=Oc1x.concat(cLF9w);if(kM2x.length>10)kM2x=kM2x.slice(0,10);v8n.xR6L("mentioners"+io1x,kM2x)};gL1x.cLG9x=function(){if(!GUser||!GUser.userId||GUser.userId<=0)return;var io1x=GUser.userId;return v8n.vj5o("mentioners"+io1x)||[]}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),cG9x=c8g("nej.p"),v8n=c8g("nej.j"),k8c=c8g("nej.u"),ch9Y=c8g("nej.ut"),x8p=c8g("nm.w"),gL1x=c8g("nm.ut"),l8d=c8g("nm.x"),b8h;var FullscreenApi=l8d.Iy9p||{};x8p.bFT4X=NEJ.C();b8h=x8p.bFT4X.M8E(ch9Y.cO9F);b8h.cC9t=function(e8e){this.cK9B(e8e);this.bFR4V()};b8h.bp8h=function(e8e){this.bq8i(e8e);this.gN1x=e8e.txt;this.o8g=e8e.body;this.bFP4T=e8e.before;this.XC3x=e8e.flag;this.cLH9y=e8e.after;this.rW4a=[];if(cG9x.dC0x.browser!="ie"){setTimeout(function(){this.mQ2x()}.f8d(this),0)}this.HK9B()};b8h.bC9t=function(){this.bH9y();if(this.xG6A)this.xG6A.W8O();delete this.xG6A};b8h.HK9B=function(){this.bZ9Q([[this.gN1x,"keyup",this.bFM4Q.f8d(this,this.gN1x)],[this.gN1x,"click",this.bFM4Q.f8d(this,this.gN1x)],[this.gN1x,"focus",this.mQ2x.f8d(this)]])};b8h.mQ2x=function(d8f){this.pA3x=gL1x.xc5h(this.gN1x)};b8h.bFR4V=function(){if(!GUser||!GUser.userId||GUser.userId<=0){window.GFollowers=[];return}var dy0x=window.GUser.userId;var Z8R="/api/user/getfollows/"+dy0x;var gh0x=v8n.bm8e(Z8R,{sync:false,method:"get",query:"offset = 0&limit=1000&order=true",onload:function(i8a){window.GFollowers=JSON.parse(i8a).follow}.f8d(this),onerror:function(i8a){},onbeforerequest:function(i8a){}})};b8h.bFK4O=function(index){var C8u=this.gN1x.value,bl8d,boA0x,boz0x,TY2x;this.bFP4T.innerHTML=k8c.dP0x(C8u.substr(0,index)).replace(/\n/g,"<br/>").replace(/\s/g,'<span class="j-test" style="display:inline-block;white-space: pre-wrap; font-family:Arial, Helvetica, sans-serif;"></span>');var nE3x=a7h.F8x(this.bFP4T,"j-test");for(var bc8U=0;bc8U<nE3x.length;bc8U++){nE3x[bc8U].innerText=" "}this.XC3x.innerHTML=C8u.charAt(index);this.cLH9y.innerHTML=k8c.dP0x(C8u.substr(index+1,C8u.length));TY2x=parseInt(a7h.dp9g(this.gN1x,"lineHeight"));a7h.bd8V(this.o8g,"display","block");boA0x=a7h.ir1x(this.XC3x,this.o8g);boz0x=a7h.ir1x(this.gN1x);a7h.bd8V(this.o8g,"display","none");var di9Z=boA0x.x+boz0x.x;var hW1x=boA0x.y+boz0x.y+TY2x;bl8d={x:di9Z,y:hW1x};this.cLI9z(bl8d)};b8h.bFM4Q=function(ex0x,d8f){h8b.cu9l(d8f);var ex0x=ex0x;var C8u=ex0x.value;var br8j=C8u.length;var r8j=gL1x.xc5h(ex0x).start;var bFv4z=0;var kA2x=d8f.keyCode||d8f.which;var kM2x;this.pA3x=gL1x.xc5h(ex0x);var bFq4u=false;for(var i=1;i<20;i++){kM2x=r8j-i;if(C8u.charAt(kM2x)===" ")break;if(C8u.charAt(kM2x)==="@"){bFq4u=true;this.NY1x=bFv4z=kM2x;break}}if(bFq4u&&d8f.shiftKey===false&&kA2x!==38&&kA2x!==40){if(kA2x!==27&&kA2x!==13){this.xG6A?this.xG6A.W8O():null;this.bFK4O(bFv4z)}}else if(kA2x!==38&&kA2x!==40&&d8f.keyCode!==32){this.xG6A?this.xG6A.W8O():null}};b8h.cLI9z=function(bl8d){var bl8d=bl8d;var i8a=this.xO6I();var e8e={parent:document[FullscreenApi.fullscreenElement]||document.body,offset:bl8d,data:i8a,target:this.gN1x,rangeData:this.pA3x,atIndex:this.NY1x};this.xG6A?this.xG6A.W8O():null;this.xG6A=x8p.bGp4t.B8t(e8e)};b8h.xO6I=function(){var cLJ9A=gL1x.xc5h(this.gN1x).start;var cLK9B=this.NY1x+1;var bFd4h=gL1x.cLG9x()||[];var bFc4g=[];var bx9o=this.gN1x.value.substring(cLK9B,cLJ9A).toLowerCase();bx9o=bx9o.replace(/\[/g,"\\[");bx9o=bx9o.replace(/\]/g,"\\]");if(window.GFollowers){this.rW4a=window.GFollowers[0]?window.GFollowers:[]}else this.rW4a=[];if(!this.rW4a[0])this.bFR4V();for(var bc8U=0;bc8U<bFd4h.length;bc8U++){for(var v8n=0;v8n<this.rW4a.length;v8n++){if(this.rW4a[v8n].nickname==bFd4h[bc8U])bFc4g.push(this.rW4a[v8n])}}this.rW4a=k8c.cMo9f(this.rW4a,bFc4g,{union:true,begin:true});var cLM9D=this.rW4a.length;var bcU5Z=[];var SK2x,SL2x;if(!this.rW4a[0])return{suggests:bcU5Z};for(var i=0;i<cLM9D;i++){SK2x=this.rW4a[i].nickname.toLowerCase().search(bx9o);SL2x=this.rW4a[i].py?this.rW4a[i].py.toLowerCase().search(bx9o):-1;if(SK2x!==-1||SL2x!=-1)bcU5Z.push(this.rW4a[i]);if(bcU5Z.length===10)break}return{suggests:bcU5Z}};b8h.Ui2x=function(){var hM1x=this.pA3x||{text:"",start:0,end:0};h8b.z8r(this.gN1x,"focus");gL1x.NS0x(this.gN1x,hM1x,"@");this.pA3x=gL1x.xc5h(this.gN1x);this.NY1x=hM1x.start;this.bFK4O(this.NY1x)};b8h.KX0x=function(){if(this.xG6A)this.xG6A.W8O()}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v8n=c8g("nej.j"),x8p=c8g("nm.w"),ch9Y=c8g("nej.ut"),bD9u=c8g("nej.ui"),b8h;var cLN9E="#shadow-box{position: absolute;display: block;left: 450px;top: 1020px;border: 1px solid black;word-wrap: break-word;display:none;opacity: 0;filter: Alpha(opacity=0);z-index: -1000;}";var cLP9G='<div id="shadow-box" style="word-wrap:break-word"><span  class="node-before"></span><span>@</span><span  class="node-after"></span></div>';var gJ1x=a7h.jU2x(cLP9G);var jx1x=a7h.uJ5O(cLN9E);x8p.Ul2x=NEJ.C();b8h=x8p.Ul2x.M8E(bD9u.eu0x);b8h.cC9t=function(e8e){this.gr1x={};this.cK9B()};b8h.bp8h=function(e8e){this.bq8i(e8e);this.gr1x.txt=a7h.A8s(e8e.target);this.Sd2x();this.Um2x=x8p.bFT4X.B8t(this.gr1x)};b8h.bC9t=function(e8e){this.bH9y();this.Um2x.W8O()};b8h.ci9Z=function(){this.cg9X=gJ1x;this.ng2x=jx1x};b8h.bY9P=function(){this.cj9a();var j8b=a7h.dn9e(a7h.A8s(this.o8g));this.gr1x.body=this.o8g;this.gr1x.before=j8b[0];this.gr1x.flag=j8b[1];this.gr1x.after=j8b[2]};b8h.Sd2x=function(){var rj4n=["width","borderWidth","border-style","outline","marginLeft","marginTop","marginRight","marginBottom","height","paddingLeft","paddingTop","fontSize","wordWrap","fontFamily","lineHeight","overflowX","overflowY"];for(var i=0;i<rj4n.length;i++){if(rj4n[i]==="width"&&a7h.dp9g(this.gr1x.txt,rj4n[i])=="100%"){var cMb9S=this.gr1x.txt.offsetWidth;if(!cMb9S){setTimeout(function(){a7h.bd8V(this.o8g,rj4n[i],this.gr1x.txt.offsetWidth+"px")}.f8d(this),300)}else{a7h.bd8V(this.o8g,rj4n[i],this.gr1x.txt.offsetWidth+"px")}continue}a7h.bd8V(this.o8g,rj4n[i],a7h.dp9g(this.gr1x.txt,rj4n[i]))}};b8h.Ui2x=function(){this.Um2x.Ui2x()};b8h.KX0x=function(){this.Um2x.KX0x()}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,fN0x=NEJ.R,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),lz2x=c8g("nm.c"),Q8I={},b8h;if(!!lz2x.bou0x)return;lz2x.bou0x=NEJ.C();b8h=lz2x.bou0x.M8E(G8y.cO9F);b8h.cC9t=function(){this.cK9B()};b8h.bp8h=function(e8e){this.bq8i(e8e)};b8h.bC9t=function(){this.bH9y()};b8h.Hy9p=function(fA0x,cJ9A,bdd5i){if(Q8I[fA0x]){this.gv1x("register commonJST["+fA0x+"] duplicate");return}if(!k8c.hf1x(cJ9A)){cJ9A=ctl.comJST.cMT9K(fA0x,cJ9A,bdd5i)}Q8I[fA0x]=cJ9A};b8h.cMX9O=function(bdh5m){if(k8c.el0x(bdh5m)){k8c.bf8X(bdh5m,function(p8h){ctl.comJST.Hy9p.apply(this,p8h)},this)}else if(k8c.mz2x(bdh5m)){k8c.eR0x(bdh5m,function(fK0x,K8C){ctl.comJST.Hy9p(K8C,fK0x)})}};b8h.cMT9K=function(fA0x,yf6Z,bdd5i){yf6Z=yf6Z||{};NEJ.X(yf6Z,{comJST:this.oH3x});if(yf6Z.resetDataName&&!k8c.el0x(yf6Z.resetDataName)){yf6Z.resetDataName=[yf6Z.resetDataName]}return function(){var i8a=arguments[0],ke2x=arguments[1];if(yf6Z.resetDataName){var kM2x={};for(var i=0,ii=yf6Z.resetDataName.length;i<ii;i++){kM2x[yf6Z.resetDataName[i]]=arguments[i]}i8a=kM2x;ke2x=arguments[ii]}NEJ.X(i8a,yf6Z,ek0x);if(bdd5i){ke2x=ke2x||{};NEJ.X(ke2x,bdd5i)}return a7h.cf9W(fA0x,i8a,ke2x)}};b8h.oH3x=function(fA0x){if(!Q8I[fA0x]){this.gv1x("commonJST["+fA0x+"] is unregister");return""}else{return Q8I[fA0x].apply(null,fN0x.slice.call(arguments,1))}};b8h.dump=function(){return Q8I};b8h.gv1x=function(cNi9Z){if(console&&console.log){console.log(cNi9Z)}};var ek0x=function(fK0x,K8C){return K8C=="resetDataName"};c8g("ctl").comJST=lz2x.bou0x.fW0x();a7h.cIC8u({comJST:c8g("ctl").comJST.oH3x})})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,bs8k=NEJ.F,fN0x=NEJ.R,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),lz2x=c8g("nm.c"),l8d=c8g("nm.x"),Q8I={},b8h;if(!!lz2x.boj0x)return;lz2x.boj0x=NEJ.C();b8h=lz2x.boj0x.M8E(G8y.cO9F);b8h.cC9t=function(){this.cK9B();var e8e={"com-mv-artists":function(gu1x,eo0x,Uw2x,boi0x){return a7h.cf9W("com-mv-artists",{artists:gu1x,clazz:eo0x,boxClazz:boi0x,mark:Uw2x||function(cT9K){return cT9K},escape:k8c.dP0x,comJST:ctl.comJST.oH3x})},"com-album-artists":function(gu1x,eo0x,Uw2x,boi0x){return a7h.cf9W("com-album-artists",{artists:gu1x,clazz:eo0x,boxClazz:boi0x,mark:Uw2x||function(cT9K){return cT9K},escape:k8c.dP0x,comJST:ctl.comJST.oH3x})},"com-artists-title":{resetDataName:["artists"],escape:k8c.dP0x},"com-user-type":function(dz0x,eo0x,ms2x,zE6y,cbI0x){return a7h.cf9W("com-user-type",{x:dz0x,clazz:eo0x||"",clazz2:typeof cbI0x=="undefined"?"icn":cbI0x,before:ms2x||"",after:zE6y||"",isEmptyObject:l8d.bXz9q})}};for(var D8v in e8e){ctl.comJST.Hy9p(D8v,e8e[D8v])}};b8h.bp8h=function(e8e){this.bq8i(e8e)};b8h.bC9t=function(){this.bH9y()};c8g("ctl").comJSTUtil=lz2x.boj0x.fW0x()})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,a7h=c8g("nej.e"),cG9x=c8g("nej.p"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),v8n=c8g("nej.j"),x8p=c8g("nm.w"),gL1x=c8g("nm.ut"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),n8f=c8g("nm.l"),bog0x=[2,3],eq0x=["sn","db"],b8h,L8D,cNq9h={13:"playlist",17:"djprogram",18:"song",19:"album",20:"artist",21:"mv",24:"topic",25:"activity",70:"djradio",38:"concert",39:"video",41:"cloudvideo"},bdr5w={djprogram:"节目",album:"专辑",playlist:"歌单",song:"单曲",yunsong:"单曲",artist:"歌手",mv:"MV",topic:"音乐专栏",djradio:"电台",concert:"演出",video:"视频",cloudvideo:"视频"},caY0x={djprogram:" - ",album:" - ",playlist:" by ",song:" - ",yunsong:" - ",artist:"",mv:" - ",djradio:" by ",cloudvideo:" by "},cNW9N={0:13,1:17,3:19,4:18,5:21,6:24,14:70,17:20},Lk0x={pubEventWithPics:false,pubEventWithoutResource:false,pubEventWithPictureForbiddenNotice:"等级达到Lv.4，即可添加图片"},FullscreenApi=l8d.Iy9p||{};n8f.pB3x=NEJ.C();b8h=n8f.pB3x.M8E(n8f.es0x);L8D=n8f.pB3x.cx9o;b8h.bp8h=function(e8e){if(e8e.onclose===undefined){e8e.onclose=this.bYn0x.f8d(this)}this.bq8i(e8e);this.Ad6X=e8e.isPub;this.jw1x=e8e.rid||-1;this.eL0x=e8e.type||-1;this.bnY0x=e8e.purl;this.UG2x=e8e.name||"";this.UH2x=e8e.author||"";this.bnX0x=e8e.authors||"";this.bdD5I=e8e.actId;this.bdE5J=e8e.actName;this.bWW9N=e8e.title;this.bdG5L={};this.cOq9h=e8e.mesg||"";this.cOA9r=e8e.placeholder||"说点什么吧";this.bnU0x=e8e.hideTip;this.cOD9u=e8e.videoJumpUrl;var j8b,fp0x=+(new Date);try{j8b=top.localCache.A8s("user")||{}}catch(e){j8b={}}for(var i=0,j8b=j8b.bindings||[],cs9j;i<j8b.length;++i){cs9j=!j8b[i].tokenJsonStr?null:JSON.parse(j8b[i].tokenJsonStr);if(!cs9j||cs9j.expires_in===undefined)continue;var bdL5Q=parseInt(cs9j.expires_in),bdM5R=parseInt(j8b[i].refreshTime),cOH9y=(bdL5Q+bdM5R)*1e3-5*60*1e3;if(cOH9y>fp0x)this.bdG5L[j8b[i].type]=!0}this.zB6v=x8p.Jd9U.B8t({parent:this.bdO5T,err:this.bUt9k});if(this.hX1x){this.hX1x.W8O()}this.hX1x=x8p.Ul2x.B8t({parent:document.body,target:this.eJ0x});if(this.eL0x==24||this.eL0x==21||this.eL0x==41||this.Ka9R()){this.An6h.style.display="none"}else{this.An6h.style.display="";this.pH3x=x8p.byb3x.B8t({parent:this.bnG0x,button:this.An6h,onstartupload:this.bTk9b.f8d(this,true),onfinishupload:this.bTk9b.f8d(this,false)})}if(this.Ka9R()){this.qO4S.innerText="";a7h.w8o(this.qO4S,"info-video");a7h.w8o(this.bnF0x,"f-hide")}else{a7h.y8q(this.bnF0x,"f-hide")}};b8h.bC9t=function(){this.bH9y();if(this.zB6v){this.zB6v.W8O();delete this.zB6v}if(this.hX1x){this.hX1x.W8O();delete this.hX1x}if(this.pH3x){this.pH3x.W8O();delete this.pH3x}if(this.nN3x){this.nN3x.W8O();delete this.nN3x}};b8h.ci9Z=function(){this.cg9X="m-wgt-sharewin"};b8h.bY9P=function(){this.cj9a();this.bSU8M=a7h.dn9e(this.o8g)[0];var bw9n=a7h.F8x(this.o8g,"j-flag");this.rQ4U=bw9n.shift();this.bUt9k=bw9n.shift();this.bdO5T=bw9n.shift();this.eJ0x=bw9n.shift();this.qO4S=bw9n.shift();this.bnE0x=bw9n.shift();this.cIo8g=bw9n.shift();this.An6h=bw9n.shift();this.cS9J=bw9n.shift();this.bnG0x=bw9n.shift();this.DT8L=bw9n.shift();this.cPY0x=bw9n.shift();this.bnF0x=bw9n.shift();this.ec0x=bw9n.shift();this.bei6c=a7h.F8x(this.bnF0x,"j-t");this.FV8N=G8y.HC9t.B8t({list:a7h.dn9e(this.rQ4U),selected:"z-slt",onchange:this.bnD0x.f8d(this)});if(cG9x.dC0x.browser=="ie"&&cG9x.dC0x.version<"8.0"){a7h.bd8V(this.bdO5T,"position","relative");a7h.bd8V(this.bdO5T,"zIndex","10")}h8b.s8k(window,"snsbind",this.Vg2x.f8d(this));h8b.s8k(this.eJ0x,"input",this.ff0x.f8d(this));h8b.s8k(this.eJ0x,"keyup",this.xu6o.f8d(this));h8b.s8k(this.o8g,"click",this.cR9I.f8d(this));this.U8M=q8i.bzx3x.B8t();this.U8M.s8k("onshareall",this.bel6f.f8d(this,0));this.U8M.s8k("onshareerror",this.jD1x.f8d(this));this.U8M.s8k("onshareprivate",this.bel6f.f8d(this,1));this.bem6g=q8i.Ba7T.B8t();this.gv1x=q8i.ij1x.B8t();try{this.Vh2x=top.api.sharePermission}catch(e){}if(!this.Vh2x){this.Vh2x=Lk0x;v8n.bm8e("/api/event/user/permission",{type:"json",onload:function(d8f){if(d8f.code==200){this.Vh2x=NEJ.EX(Lk0x,d8f)}}.f8d(this)})}l8d.kl2x()};b8h.bnD0x=function(d8f){d8f.index==0?a7h.y8q(this.bSU8M,"m-plshare"):a7h.w8o(this.bSU8M,"m-plshare");this.bdO5T.style.display=d8f.index==0?"none":"";this.cIo8g.style.display=d8f.index==0?"":"none";this.An6h.style.display=d8f.index==0?"":"none";if(this.eL0x==24||this.eL0x==21){this.An6h.style.display="none"}this.bUt9k.style.display="none";this.eJ0x.value="";this.ca9R();this.Hu9l();if(d8f.index==0){var cB9s=a7h.dp9g(this.eJ0x,"width");if(cB9s=="auto"||!cB9s){return}else{if(this.hX1x){this.hX1x.W8O()}this.hX1x=x8p.Ul2x.B8t({parent:document.body,target:this.eJ0x})}this.bnG0x.style.display=""}else{if(this.hX1x){this.hX1x.W8O();delete this.hX1x}this.bnG0x.style.display="none"}};b8h.cR9I=function(d8f){var g8c=h8b.ba8S(d8f,"d:action");if(!g8c)return;if(a7h.u8m(g8c,"action")=="search"){h8b.cu9l(d8f)}else if(a7h.u8m(g8c,"default")===undefined){h8b.cu9l(d8f)}switch(a7h.u8m(g8c,"action")){case"txt":this.mQ2x();break;case"search":if(this.Ka9R()){top.location.href=this.cOD9u}else if(this.Ad6X&&this.eL0x!=24){if(this.nN3x){this.nN3x.W8O()}this.nN3x=x8p.bpz1x.B8t({parent:this.o8g.parentNode,onfinish:this.bnC0x.f8d(this),oncancel:this.cIe8W.f8d(this)});this.bnB0x=true;this.o8g.style.display="none";this.GX8P(this.jw1x<0?"添加音乐":"更换音乐")}break;case"at":h8b.uQ5V(d8f);!!this.hS1x&&this.hS1x.bu9l();this.hX1x.Ui2x();this.gE1x();break;case"emot":h8b.uQ5V(d8f);!!this.hX1x&&this.hX1x.KX0x();if(!this.hS1x){this.hS1x=n8f.NN0x.B8t({parent:this.bnE0x});this.hS1x.s8k("onselect",this.BK7D.f8d(this))}this.hS1x.J8B();break;case"upload":break;case"sns":h8b.bi8a(d8f);var bnA0x,bx9o,t8l=a7h.u8m(g8c,"type");if(!this.bdG5L[t8l]){bnA0x=g8c.href.split("?");bx9o=k8c.ha1x(bnA0x[1]);bx9o["csrf_token"]=v8n.gW1x("__csrf");top.open(bnA0x[0]+"?"+k8c.cE9v(bx9o));return}var bB9s={2:"sn",3:"db",4:"rr"};l8d.Ep8h(g8c,"u-slg-"+bB9s[t8l]+"-gray");break;case"close":!!this.hS1x&&this.hS1x.bu9l();this.bYn0x();break;case"share":h8b.bi8a(d8f);if(this.Ka9R()){if(!a7h.bG9x(g8c,"u-btn2-2-dis")){this.cHV8N()}}else if(a7h.bG9x(g8c,"u-btn2-2-dis")){if(!this.Vh2x.pubEventWithoutResource&&this.jw1x<0){this.cHI8A()}else{}}else if(this.jw1x<0&&!this.eJ0x.value&&this.pH3x&&this.pH3x.Yi3x().length==0){n8f.bb8T.J8B({type:2,tip:"请输入内容"})}else{this.cHH8z()}break}};b8h.cHI8A=function(){var kn2x=0,bny0x=function(){if(kn2x%2){a7h.y8q(this.qO4S,"z-show")}else{a7h.w8o(this.qO4S,"z-show")}kn2x++;if(kn2x>5){clearInterval(et0x)}},et0x;return function(){kn2x=0;clearInterval(et0x);et0x=setInterval(bny0x.f8d(this),200)}}();b8h.Vg2x=function(m8e){m8e=m8e.result;this.bdG5L[m8e.type]=!0;var r8j=k8c.du0x(bog0x,m8e.type),cm9d="u-slg-"+eq0x[r8j]+"-gray";a7h.y8q(this.bei6c[r8j],cm9d)};b8h.bnC0x=function(R8J){var i8a=R8J.data;this.jw1x=R8J.id;this.eL0x=R8J.type;this.o8g.style.display="";this.GX8P(this.bWW9N);this.nN3x&&this.nN3x.W8O();this.bnB0x=false;this.bnY0x=i8a.picUrl;this.UG2x=i8a.title||"";this.UH2x=i8a.author||"";this.bnX0x=i8a.authors||"";this.cHD8v();this.beA6u()};b8h.cIe8W=function(){this.nN3x&&this.nN3x.W8O();this.o8g.style.display="";this.GX8P(this.bWW9N);this.bnB0x=false;this.beA6u()};b8h.BK7D=function(d8f){var bt9k="["+d8f.text+"]";gL1x.NS0x(this.eJ0x,this.pA3x,bt9k);this.gE1x()};b8h.ff0x=function(d8f){cG9x.dC0x.browser=="ie"&&cG9x.dC0x.version<"7.0"?setTimeout(this.gE1x.f8d(this),0):this.gE1x()};b8h.xu6o=function(d8f){this.mQ2x();if(d8f.keyCode==8)this.gE1x()};b8h.gE1x=function(){this.mQ2x();this.Hu9l()};b8h.Hu9l=function(){var br8j=Math.ceil(k8c.fS0x(this.eJ0x.value.trim())/2);this.cS9J.innerText=140-br8j;br8j>140?a7h.fx0x(this.cS9J,"s-fc4","s-fc6"):a7h.fx0x(this.cS9J,"s-fc6","s-fc4")};b8h.cHH8z=function(){if(this.cX9O())return;if(k8c.fS0x(this.eJ0x.value.trim())>280){this.ca9R("字数超过140个字符");return}l8d.lF2x(this.cHu8m.f8d(this))};b8h.cHu8m=function(cs9j){var t8l=this.FV8N.vx5C(),i8a;if(t8l==0){for(var i=0,OJ1x=[];i<this.bei6c.length;++i){if(!a7h.bG9x(this.bei6c[i],"u-slg-"+eq0x[i]+"-gray"))OJ1x.push(bog0x[i])}this.cX9O(!0);i8a={id:this.jw1x,msg:this.eJ0x.value.trim(),type:this.beD6x(this.eL0x),picUrl:this.bnY0x,snsTypes:OJ1x.join(","),isPub:this.Ad6X,checkToken:cs9j||""};if(this.bdD5I>0){i8a.actId=this.bdD5I;if(this.bdE5J){i8a.msg="#"+this.bdE5J+"#"+i8a.msg}}var px3x=this.pH3x&&this.pH3x.Yi3x();if(px3x&&px3x.length){i8a.pics=px3x}this.U8M.coc3x(i8a)}else{var un5s=this.zB6v.SD2x();if(un5s.length<=0){this.ca9R("请至少选择一位好友");return}this.U8M.coe3x({data:{id:this.jw1x,msg:this.eJ0x.value.trim(),type:this.beD6x(this.eL0x==41?39:this.eL0x),userIds:"["+un5s.join(",")+"]",checkToken:cs9j||""}})}};b8h.cHV8N=function(){if(this.cX9O()){return}this.gv1x.fa0x("click",{target:"share",targetid:"button",page:"sharevideo"});if(k8c.fS0x(this.eJ0x.value.trim())>280){this.ca9R("字数超过140个字符");return}l8d.lF2x(this.cHs8k.bind(this))};b8h.cHs8k=function(cs9j){this.cX9O(!0);var i8a={msg:this.eJ0x.value.trim()||"",type:"video",checkToken:cs9j||""},cHr8j={videoId:this.jw1x};if(this.bdD5I>0){i8a.actId=this.bdD5I;if(this.bdE5J){i8a.msg="#"+this.bdE5J+"#"+i8a.msg}}i8a.videoinfo=JSON.stringify(cHr8j);this.U8M.cof3x({data:{videoId:this.jw1x,commit:true},data2:i8a,snsTypes:""})};b8h.bel6f=function(t8l,m8e){this.cX9O(!1);this.bu9l();if(!this.bnU0x){if(this.Ka9R()){n8f.bb8T.J8B({tip:"视频将在转码完成后自动发出",autoclose:true})}else{n8f.bb8T.J8B({tip:"分享成功"+(m8e.point>0?' 获得<em class="s-fc6">'+m8e.point+"积分</em>":""),autoclose:true})}}h8b.z8r(n8f.pB3x,"sharesuccess",{isPrivate:t8l,rid:this.jw1x,rtype:this.eL0x,data:m8e.event});this.z8r("onshare")};b8h.jD1x=function(m8e){this.cX9O(!1);var bF9w="分享失败";if(m8e.code){switch(m8e.code){case 250:bF9w=m8e.message||m8e.msg||(this.Ad6X?"发布异常":"分享异常");break;case 404:bF9w="分享的资源不存在";break;case 407:bF9w="输入内容包含有关键字";break;case 408:bF9w="分享太快了，过会再分享吧";break;case 315:bF9w=m8e.message||"根据对方设置，你没有该操作权限";break;case 329:return l8d.eX0x({clazz:"m-layer-w2",btntxt:"知道了",message:"当前账号存在较多未完成发布的视频<br>请稍后再试"})}}this.ca9R(bF9w)};b8h.mQ2x=function(){this.pA3x=gL1x.xc5h(this.eJ0x)};b8h.ca9R=function(bF9w){this.ed0x(this.ec0x,bF9w)};b8h.cX9O=function(dk9b){return this.ee0x(this.DT8L,dk9b,"分享","分享中...")};b8h.beD6x=function(iL1x){return cNq9h[iL1x]||""};b8h.cHm8e=function(){var ex0x,xE6y=this.beD6x(this.eL0x);this.qO4S.style.display="";if(this.jw1x<0){this.qO4S.innerHTML='<i class="highlight"></i><div class="text f-thide f-fl f-fs1"><i class="logo f-fl u-icn2 u-icn2-quaver"></i><span class="f-fs1 f-fl">给动态配上音乐</span></div><i class="f-fr icn u-icn2 u-icn2-plus"></i>'}else{if(!this.UG2x){this.qO4S.style.display="none";return}var beJ6D=this.Ad6X&&this.eL0x!=24;ex0x=(bdr5w[xE6y]?bdr5w[xE6y]+"：":"")+this.UG2x+(caY0x[xE6y]||" ")+(xE6y=="mv"||xE6y=="album"?this.bnX0x||this.UH2x:this.UH2x);a7h.dI0x(this.qO4S,"m-xwgt-share-infobar",{canChange:beJ6D,info:ex0x});if(beJ6D){a7h.y8q(this.qO4S,"z-dis")}else{a7h.w8o(this.qO4S,"z-dis")}}a7h.y8q(this.qO4S,"info-video")};b8h.cHD8v=function(){var xE6y=this.beD6x(this.eL0x),ex0x=(bdr5w[xE6y]?bdr5w[xE6y]+"：":"")+this.UG2x+(caY0x[xE6y]||" ")+(xE6y=="mv"||xE6y=="album"?this.bnX0x||this.UH2x:this.UH2x);beJ6D=this.Ad6X&&this.eL0x!=24;if(this.Ka9R()){}else{a7h.y8q(this.qO4S,"info-video");a7h.dI0x(this.qO4S,"m-xwgt-share-infobar",{canChange:beJ6D,isPub:this.Ad6X,info:ex0x})}};b8h.cHl8d=function(){var OL1x=this.eJ0x.value;if(this.Ad6X){if(!!this.bnB0x){return!!OL1x&&!!OL1x.length||!!this.pH3x&&this.pH3x.Yi3x().length>0}else{return!(this.jw1x<0)||!!OL1x&&!!OL1x.length||!!this.pH3x&&this.pH3x.Yi3x().length>0}}else{return!!OL1x&&!!OL1x.length||!!this.pH3x&&this.pH3x.Yi3x().length>0}};b8h.beA6u=function(){var bRl8d=false;if(!this.Ad6X||this.Vh2x.pubEventWithoutResource||!(this.jw1x<0)){bRl8d=true}if(bRl8d){a7h.y8q(this.DT8L,"u-btn2-2-dis")}else{a7h.w8o(this.DT8L,"u-btn2-2-dis")}};b8h.bTk9b=function(bnu0x){if(bnu0x){a7h.w8o(this.DT8L,"u-btn2-2-dis")}else{this.beA6u()}};b8h.bYn0x=function(d8f){if(d8f){d8f.stopped=true}if(this.cHl8d()){l8d.hT1x({parent:document[FullscreenApi.fullscreenElement]||document.body,title:"提示",message:"是否退出本次编辑？",btnok:"退出",action:function(X8P){if(X8P=="ok"){this.z8r("forceclose",{});this.bu9l();h8b.z8r(n8f.pB3x,"shareclose",{})}}.f8d(this)})}else{this.z8r("forceclose",{});this.bu9l();h8b.z8r(n8f.pB3x,"shareclose",{})}};b8h.GX8P=function(ez0x,eg0x){this.pU3x.Dy7r(ez0x,eg0x)};b8h.beO6I=function(t8l){this.gv1x.fa0x("page",{type:t8l})};b8h.Ka9R=function(){return this.eL0x==39};b8h.J8B=function(){var cEh7a=function(p8h,r8j){var cm9d="u-slg-"+eq0x[r8j]+"-gray";!this.bdG5L[bog0x[r8j]]?a7h.w8o(p8h,cm9d):a7h.y8q(p8h,cm9d)};return function(){L8D.J8B.call(this);this.o8g.style.display="";this.ca9R();this.cX9O(!1);this.FV8N.XQ3x(0);this.eJ0x.focus();this.eJ0x.value=this.cOq9h||"";this.eJ0x.placeholder=this.cOA9r||"";if(!this.Ka9R()){this.cHm8e()}else{a7h.w8o(this.qO4S,"info-video");a7h.dI0x(this.qO4S,"m-xwgt-share-videobar",{title:this.UG2x,picUrl:this.bnY0x})}this.gE1x();this.zB6v.cKK8C();k8c.bf8X(this.bei6c,cEh7a,this);this.mQ2x();if(this.Ad6X){this.rQ4U.style.display="none"}else{this.rQ4U.style.display=""}this.beA6u()}}();b8h.bu9l=function(d8f){L8D.bu9l.call(this);!!this.hS1x&&this.hS1x.bu9l();if(this.zB6v){this.zB6v.W8O();delete this.zB6v}if(this.hX1x){this.hX1x.W8O();delete this.hX1x}if(this.pH3x){this.pH3x.W8O();delete this.pH3x}if(this.bQv7o){this.bQv7o=this.bQv7o.W8O()}if(this.nN3x){this.nN3x.W8O();delete this.nN3x}};l8d.lE2x=function(e8e){if(!GUser||!GUser.userId||GUser.userId<=0){top.login();return}if(e8e.title===undefined){e8e.title="分享"}if(e8e.actId&&e8e.type!=39){var t8l=cNW9N[e8e.resourceType],bW9N=e8e.resourceJson,iH1x;if(k8c.fX0x(bW9N)){try{bW9N=JSON.parse(bW9N)}catch(e){}}if(t8l){iH1x=l8d.bYH0x(t8l,bW9N);e8e.name=iH1x.title;e8e.author=iH1x.author;e8e.picUrl=iH1x.picUrl;e8e.type=t8l;e8e.rid=(bW9N||[]).id}}n8f.pB3x.J8B(e8e)};G8y.fV0x.B8t({element:n8f.pB3x,event:["sharesuccess","shareclose"]})})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,h8b=c8g("nej.v"),a7h=c8g("nej.e"),v8n=c8g("nej.j"),n8f=c8g("nm.l"),x8p=c8g("nm.w"),bD9u=c8g("nej.ui"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),b8h,L8D;n8f.beR6L=NEJ.C();b8h=n8f.beR6L.M8E(n8f.es0x);L8D=n8f.beR6L.cx9o;b8h.cC9t=function(){this.cK9B()};b8h.bY9P=function(){this.cj9a();var j8b=a7h.F8x(this.o8g,"j-flag");h8b.s8k(j8b[0],"click",this.Iq9h.f8d(this))};b8h.ci9Z=function(){this.cg9X="m-import-ok"};b8h.bp8h=function(e8e){e8e.parent=e8e.parent||document.body;e8e.title="歌曲同步完成";this.bq8i(e8e)};b8h.bC9t=function(){this.bH9y()};b8h.Iq9h=function(d8f){this.bu9l();if(location.pathname.indexOf("my")>=0){location.reload()}else{location.dispatch2("/my/")}};b8h.DU8M=function(){this.bu9l()};b8h.bTE9v=function(d8f){if(d8f.keyCode==13)this.IO9F()}})();
(function(){var c8g=NEJ.P,be8W=NEJ.O,h8b=c8g("nej.v"),a7h=c8g("nej.e"),v8n=c8g("nej.j"),P8H=c8g("nej.p"),k8c=c8g("nej.u"),n8f=c8g("nm.l"),x8p=c8g("nm.w"),bD9u=c8g("nej.ui"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),b8h,L8D;n8f.bQt7m=NEJ.C();b8h=n8f.bQt7m.M8E(n8f.es0x);b8h.ci9Z=function(){this.cg9X="m-programtips-layer"};b8h.bY9P=function(){this.cj9a();this.bX9O=a7h.F8x(this.o8g,"j-flag")};b8h.bp8h=function(e8e){if(e8e.inner){var innerNode=a7h.F8x(this.o8g,"wrap-p")[0];if(innerNode){innerNode.innerHTML=e8e.inner}}e8e.clazz=" m-layer-programtips "+(e8e.clazz||"");e8e.parent=e8e.parent||document.body;e8e.title=e8e.title||"付费内容提示";e8e.draggable=!0;e8e.destroyalbe=!0;e8e.mask=true;this.bq8i(e8e);this.hD1x=e8e.id;this.cEc7V=e8e.radiotype;this.lI2x=location.protocol+"//"+(this.bnm0x()||"music.163.com")+"/m/"+this.cEc7V+"?id="+this.hD1x;this.lI2x=e8e.url||this.lI2x;this.cDZ7S()};b8h.bC9t=function(){this.bH9y()};b8h.DU8M=function(){this.bu9l()};b8h.Iq9h=function(d8f){this.z8r("onok",C8u);this.bu9l()};l8d.VH3x=function(e8e){n8f.bQt7m.B8t(e8e).J8B()};b8h.cDZ7S=function(){v8n.bm8e("/api/web/qrcode/get",{method:"POST",type:"json",data:k8c.cE9v({url:this.lI2x,size:180}),onload:function(i8a){if(i8a.code==200){this.cDN7G(i8a.qrcodeImageUrl)}else{alert("二维码获取失败")}}.f8d(this)})};b8h.bnm0x=function(){var RC1x=location.host;if(RC1x.indexOf("music")>=0){return"music.163.com"}else{return"igame.163.com"}};b8h.cDN7G=function(kH2x){this.bX9O[0].style.backgroundImage="url("+kH2x+")"}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),cG9x=c8g("nej.p"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G8y=c8g("nej.ut"),v8n=c8g("nej.j"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),E8w=c8g("nm.m"),n8f=c8g("nm.l"),N8F=c8g("nm.m.f"),b8h,L8D;E8w.dq9h=NEJ.C();b8h=E8w.dq9h.M8E(G8y.dv0x);b8h.bK9B=function(){var so4s=!1;return function(){if(so4s)return;so4s=!0;this.bS9J();if(top==self){return}this.vH5M=a7h.A8s("g_backtop");if(window.GRef!="mail"){}else{this.bPE7x()}G8y.fV0x.B8t({element:window,event:["share","playchange","snsbind","playstatechange"]});this.bZ9Q([[window,"scroll",this.DD7w.f8d(this)],[document,"keyup",this.cDq7j.f8d(this)],[document.body,"click",this.uH5M.f8d(this)],[document,"mouseup",this.cCx7q.f8d(this)],[this.vH5M,"click",this.VP3x.f8d(this)],[q8i.uS5X,"message",this.wX5c.f8d(this)]]);l8d.cnO3x(document.body);this.DD7w();if(this.DC7v!==false&&typeof GUser!=="undefined"&&GUser.userId>0)q8i.uS5X.fW0x().xk5p();try{top.GUser=NEJ.X(top.GUser,GUser);top.api.refreshUserInfo();if(cG9x.dC0x.browser=="ie"&&parseInt(cG9x.dC0x.version)<9&&/#(.*?)$/.test(top.document.title)){top.document.title="网易云音乐"}else{var hJ1x=top.player.getPlaying();if(hJ1x&&hJ1x.track&&hJ1x.playing){top.document.title=decodeURIComponent("%E2%96%B6%20")+hJ1x.track.name}else{top.document.title=document.title}}}catch(e){}window.share=this.Bm7f.f8d(this);this.kX2x=q8i.ij1x.B8t();window.log=this.hL1x.f8d(this);var uz5E=location.search;if(uz5E){var bx9o=uz5E.substr(uz5E.indexOf("?")+1),gQ1x=k8c.ha1x(bx9o);if(gQ1x&&gQ1x["_hash"])location.hash=gQ1x["_hash"]}}}();b8h.cDq7j=function(d8f){var g8c=h8b.ba8S(d8f);try{if(d8f.keyCode==80&&l8d.bWL9C()||["textarea","input"].indexOf(g8c.tagName.toLowerCase())>=0)return;h8b.z8r(top.document,"keyup",{ctrlKey:d8f.ctrlKey,keyCode:d8f.keyCode})}catch(e){}};b8h.uH5M=function(d8f){var g8c=h8b.ba8S(d8f);if(g8c&&g8c.tagName=="INPUT")return;var g8c=h8b.ba8S(d8f,"d:pid");if(g8c){h8b.cu9l(d8f);var pm3x=a7h.u8m(g8c,"pid"),DB7u=a7h.u8m(g8c,"ptype"),X8P=a7h.u8m(g8c,"action")||"play";switch(X8P){case"subscribe":l8d.oz3x({tracks:[pm3x]});break}}g8c=h8b.ba8S(d8f,"d:resAction");if(g8c&&g8c.className.indexOf("-dis")==-1){var dc9T=a7h.u8m(g8c,"resId"),t8l=a7h.u8m(g8c,"resType"),bnf0x=a7h.u8m(g8c,"resRadiotype"),bne0x=a7h.u8m(g8c,"resRadioid"),ej0x=a7h.u8m(g8c,"resFrom"),i8a=a7h.u8m(g8c,"resData"),X8P=a7h.u8m(g8c,"resAction"),bpw1x=a7h.u8m(g8c,"resCopyright"),bfl6f=a7h.u8m(g8c,"resAuditstatus");if(X8P!="log"&&X8P!="bilog")h8b.cu9l(d8f);switch(X8P){case"log":i8a=(i8a||"").split("|");if(!!i8a[0]){var bk8c={id:dc9T,alg:i8a[2]||"itembased",scene:i8a[3],position:i8a[1]||0};if(!!i8a[4])bk8c.srcid=i8a[4];window.log(i8a[0],bk8c)}break;case"bilog":var bCy4C=a7h.u8m(g8c,"logAction"),bCx4B=a7h.u8m(g8c,"logJson");window.log(bCy4C,bCx4B);break;case"share":if(bfl6f&&bfl6f==1){l8d.jc1x("由于版权问题，该节目暂时无法分享。")}else{share(dc9T,t8l,a7h.u8m(g8c,"resPic"),a7h.u8m(g8c,"resName"),a7h.u8m(g8c,"resAuthor"),a7h.u8m(g8c,"resAuthors"))}break;case"fav":case"subscribe":if(t8l==18){var sz4D=a7h.u8m(g8c,"resLevel"),pk3x=a7h.u8m(g8c,"resFee");if(sz4D==10){l8d.xM6G(pk3x,dc9T,"song");break}l8d.oz3x({tracks:[dc9T]})}break;case"download":l8d.OB1x({id:dc9T,type:t8l});break;case"programtips":if(bfl6f&&bfl6f==1){l8d.jc1x("由于版权问题，该节目暂时无法分享。")}else{l8d.VH3x({id:bne0x,radiotype:bnf0x})}break}}if(top==self)return;try{top.onIframeClick(d8f)}catch(e){}};b8h.cCx7q=function(d8f){try{h8b.z8r(top.document,"mouseup")}catch(e){}};b8h.DD7w=function(){var cAV6P=function(){var cb9S=window.innerHeight;if(!k8c.uR5W(cb9S))cb9S=(document.documentElement||document.body).clientHeight;return cb9S};return function(d8f){if(!this.vH5M)return;var bfn6h=cAV6P(),gw1x=document.documentElement.scrollTop||document.body.scrollTop;a7h.bd8V(this.vH5M,"display",gw1x>0?"":"none");if(cG9x.dC0x.browser=="ie"&&cG9x.dC0x.version<"7.0"){var gU1x=Math.min(document.body.clientHeight,bfn6h+gw1x)-204;a7h.bd8V(this.vH5M,"top",gU1x+"px")}}}();b8h.VP3x=function(d8f){h8b.cu9l(d8f);document.body.scrollTop=0;document.documentElement.scrollTop=0};b8h.Bm7f=function(){var bnb0x=function(d8f){h8b.z8r(window,"share",d8f)};return function(dc9T,t8l,Bq7j,Y8Q,Lb0x,KB0x){l8d.lE2x({rid:dc9T,type:t8l,purl:Bq7j,name:Y8Q,author:Lb0x,authors:KB0x,onshare:bnb0x.f8d(this)})}}();b8h.hL1x=function(X8P,bk8c){try{top.log(X8P,bk8c)}catch(e){if(X8P.indexOf("new|")==0){return this.kX2x.fa0x(X8P.slice(4),bk8c)}switch(X8P){case"play":this.kX2x.ey0x(bk8c);break;case"search":this.kX2x.bLF6z(bk8c);break;default:this.kX2x.fa0x(X8P,bk8c)}}};b8h.bPE7x=function(){var bfs6m,bna0x=false,bv9m=[45,60];var cAD6x=function(bF9w){if(bF9w.title!="MailBoxImport")return;var T8L=JSON.parse(bF9w.content||"null")||be8W;if(T8L.status==10){n8f.beR6L.B8t().J8B();window.clearTimeout(bfs6m)}};var pv3x=function(d8f){if(d8f.code==200){if(d8f.status==1){h8b.s8k(q8i.Fc8U,"message",cAD6x.f8d(this));q8i.Fc8U.B8t().bBM3x();bna0x=true}else{if(bna0x){if(d8f.status==10){n8f.beR6L.B8t().J8B();h8b.hE1x(q8i.Fc8U,"message");window.clearTimeout(bfs6m);bna0x=false}}else{window.clearTimeout(bfs6m)}}}};return function(){var uM5R=bv9m.shift()*1e3;v8n.bm8e("/api/musicbox/mail/status",{type:"json",method:"get",onload:pv3x.f8d(this)});if(uM5R){bfs6m=window.setTimeout(arguments.callee,uM5R)}}}();b8h.wX5c=function(d8f){try{top.polling(d8f)}catch(e){}}})()