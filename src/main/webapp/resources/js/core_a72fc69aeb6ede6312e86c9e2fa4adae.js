(function(){window.NEJ=window.NEJ||{};NEJ.O={};NEJ.R=[];NEJ.F=function(){return!1};NEJ.P=function(Ma4e){if(!Ma4e||!Ma4e.length)return null;var bir2x=window;for(var a=Ma4e.split("."),l=a.length,i=a[0]=="window"?1:0;i<l;bir2x=bir2x[a[i]]=bir2x[a[i]]||{},i++);return bir2x};NEJ.Q=function(bL9C,Ma4e){bL9C=bL9C||NEJ.O;var bv9m=Ma4e.split(".");for(var i=0,l=bv9m.length;i<l;i++){bL9C=bL9C[bv9m[i]];if(!bL9C)break}return bL9C};NEJ.C=function(){var bPO1x=function(){return NEJ.O.toString.call(arguments[0])!="[object Function]"};var caR7K=function(C9t,bA9r){for(var x in bA9r)if(C9t==bA9r[x])return x;return null};var bls3x={cF0x:0,bp9g:1,bC9t:2,bY0x:3,bK9B:4,fr1x:5,lu4y:6,eJ1x:7},yC0x={cO0x:0,bq9h:1,bJ9A:2,ck0x:3,bS0x:4,ha2x:5,mr4v:6,gt2x:7};return function(){var gd2x=function(){this.bIs9j();return this.cF0x.apply(this,arguments)};gd2x.prototype.bIs9j=NEJ.F;gd2x.prototype.cF0x=NEJ.F;gd2x.M9D=function(GF2x,bJB0x){if(bPO1x(GF2x))return;if(bJB0x==null||!!bJB0x)NEJ.X(this,GF2x,bPO1x);this.cjm9d=GF2x;this.cy0x=GF2x.prototype;var bI9z=function(){};bI9z.prototype=GF2x.prototype;this.prototype=new bI9z;var Ht2x=this.prototype;Ht2x.constructor=this;var cm0x;for(var x in bls3x){cm0x=caR7K(bls3x[x],yC0x);if(!cm0x||!this.cy0x[x])continue;Ht2x[x]=function(Y9P){return function(){this[Y9P].apply(this,arguments)}}(cm0x)}var Hv2x={};for(var x in yC0x){cm0x=caR7K(yC0x[x],bls3x);if(!cm0x||!this.cy0x[cm0x])continue;Hv2x[cm0x]=GF2x;Ht2x[x]=function(Y9P){return function(){var m8e,bI9z=this.blF3x[Y9P],bbl0x=bI9z.prototype[Y9P];this.blF3x[Y9P]=bI9z.cjm9d||GF2x;if(!!bbl0x)m8e=bbl0x.apply(this,arguments);this.blF3x[Y9P]=GF2x;return m8e}}(cm0x)}Ht2x.bIs9j=function(){this.blF3x=NEJ.X({},Hv2x)};Ht2x.cYf6Z=Ht2x.cO0x;return Ht2x};return gd2x}}();NEJ.X=function(gR2x,bU0x,en1x){if(!gR2x||!bU0x)return gR2x;en1x=en1x||NEJ.F;for(var x in bU0x){if(bU0x.hasOwnProperty(x)&&!en1x(bU0x[x],x))gR2x[x]=bU0x[x]}return gR2x};NEJ.EX=function(gR2x,bU0x){if(!gR2x||!bU0x)return gR2x;for(var x in gR2x){if(gR2x.hasOwnProperty(x)&&bU0x[x]!=null)gR2x[x]=bU0x[x]}return gR2x};var Rp6j=Function.prototype;Rp6j.eW1x=function(mG4K,yY0x){var f=NEJ.F,yY0x=yY0x||f,mG4K=mG4K||f,dF1x=this;return function(){var d8f={args:NEJ.R.slice.call(arguments,0)};mG4K(d8f);if(!d8f.stopped){d8f.value=dF1x.apply(this,d8f.args);yY0x(d8f)}return d8f.value}};Rp6j.f8d=function(){var bk9b=arguments,gR2x=arguments[0],blG3x=this;return function(){var wl8d=NEJ.R.slice.call(bk9b,1);NEJ.R.push.apply(wl8d,arguments);return blG3x.apply(gR2x||window,wl8d)}};Rp6j.eS1x=function(){var bk9b=arguments,gR2x=NEJ.R.shift.call(bk9b),blG3x=this;return function(){NEJ.R.push.apply(arguments,bk9b);return blG3x.apply(gR2x||window,arguments)}};var Rp6j=String.prototype;if(!Rp6j.trim){Rp6j.trim=function(){var ds1x=/(?:^\s+)|(?:\s+$)/g;return function(){return this.replace(ds1x,"")}}()}if(!window.MWF)window.MWF=NEJ;if(!window.mwf)window.mwf=NEJ.P("nej");if(!window.console){NEJ.P("console").log=NEJ.F;NEJ.P("console").error=NEJ.F}var lt,gt,amp,nbsp,quot,apos,copy,reg})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,P9G=c8g("nej.p"),yA0x=window.navigator.platform,yz0x=window.navigator.userAgent;var mo4s={mac:yA0x,win:yA0x,linux:yA0x,ipad:yz0x,ipod:yz0x,iphone:yA0x,android:yz0x};P9G.Rn6h=mo4s;for(var x in mo4s)mo4s[x]=(new RegExp(x,"i")).test(mo4s[x]);mo4s.ios=mo4s.ipad||mo4s.iphone||mo4s.ipod;mo4s.tablet=mo4s.ipad;mo4s.desktop=mo4s.mac||mo4s.win||mo4s.linux&&!mo4s.android;var jm3x={engine:"unknow",release:"unknow",browser:"unknow",version:"unknow",prefix:{css:"",pro:"",clz:""}};P9G.dC1x=jm3x;if(/msie\s+(.*?);/i.test(yz0x)||/trident\/.+rv:([\d\.]+)/i.test(yz0x)){jm3x.engine="trident";jm3x.browser="ie";jm3x.version=RegExp.$1;jm3x.prefix={css:"ms",pro:"ms",clz:"MS",evt:"MS"};var nt4x={6:"2.0",7:"3.0",8:"4.0",9:"5.0",10:"6.0",11:"7.0"};jm3x.release=nt4x[document.documentMode]||nt4x[parseInt(jm3x.version)]}else if(/webkit\/?([\d.]+?)(?=\s|$)/i.test(yz0x)){jm3x.engine="webkit";jm3x.release=RegExp.$1||"";jm3x.prefix={css:"webkit",pro:"webkit",clz:"WebKit"}}else if(/rv\:(.*?)\)\s+gecko\//i.test(yz0x)){jm3x.engine="gecko";jm3x.release=RegExp.$1||"";jm3x.browser="firefox";jm3x.prefix={css:"Moz",pro:"moz",clz:"Moz"};if(/firefox\/(.*?)(?=\s|$)/i.test(yz0x))jm3x.version=RegExp.$1||""}else if(/presto\/(.*?)\s/i.test(yz0x)){jm3x.engine="presto";jm3x.release=RegExp.$1||"";jm3x.browser="opera";jm3x.prefix={css:"O",pro:"o",clz:"O"};if(/version\/(.*?)(?=\s|$)/i.test(yz0x))jm3x.version=RegExp.$1||""}if(jm3x.browser=="unknow"){var nt4x=["chrome","maxthon","safari"];for(var i=0,l=nt4x.length,Y9P;i<l;i++){Y9P=nt4x[i]=="safari"?"version":nt4x[i];if((new RegExp(Y9P+"/(.*?)(?=\\s|$)","i")).test(yz0x)){jm3x.browser=nt4x[i];jm3x.version=RegExp.$1.trim();break}}}P9G.bUn4r={};var bbG0x=jm3x.engine!="trident";P9G.oQ5V={gecko:jm3x.engine!="gecko",webkit:jm3x.engine!="webkit",presto:jm3x.engine!="presto",trident0:bbG0x||jm3x.release>"2.0",trident1:bbG0x||jm3x.release<"6.0",trident2:bbG0x||jm3x.release>"3.0",trident:bbG0x||jm3x.release>="6.0"}})();
(function(){var eH1x=NEJ.P("nej.c"),Q9H={};var blH3x=function(){var ds1x=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(Z9Q){Z9Q=Z9Q||"";if(ds1x.test(Z9Q))return RegExp.$1;return location.protocol+"//"+location.host}}();var baz9q=function(){var bYb6V=function(j8b,bA9r){if(!j8b||!j8b.length)return;for(var i=0,l=j8b.length,kL3x;i<l;i++){kL3x=j8b[i];if(kL3x.indexOf("://")>0)bA9r[blH3x(kL3x)]=kL3x}};var bl9c={portrait:{name:"portrait",dft:"portrait/"},"ajax.swf":{name:"ajax",dft:"nej_proxy_flash.swf"},"chart.swf":{name:"chart",dft:"nej_flex_chart.swf"},"audio.swf":{name:"audio",dft:"nej_player_audio.swf"},"video.swf":{name:"video",dft:"nej_player_video.swf"},"clipboard.swf":{name:"clipboard",dft:"nej_clipboard.swf"}};return function(bU0x){eH1x.Rm6g("root",bU0x.root||"/res/");var blW3x,gA2x=eH1x.B9s("root");for(var x in bl9c){blW3x=bl9c[x];eH1x.Rm6g(x,bU0x[blW3x.name]||gA2x+blW3x.dft)}var GB2x=bU0x.p_csrf;if(GB2x==!0){GB2x={cookie:"AntiCSRF",param:"AntiCSRF"}}eH1x.Rm6g("csrf",NEJ.EX({cookie:"",param:""},GB2x));Q9H.frames={};bYb6V(bU0x.p_frame,Q9H.frames);Q9H.flashs={};bYb6V(bU0x.p_flash,Q9H.flashs)}}();eH1x.Rm6g=function(K9B,C9t){Q9H[K9B]=C9t};eH1x.B9s=function(K9B){return Q9H[K9B]};eH1x.cpL2x=function(Z9Q){var ux8p=blH3x(Z9Q);return Q9H.frames[ux8p]||ux8p+"/res/nej_proxy_frame.html"};eH1x.cpN2x=function(Z9Q){return Q9H.flashs[blH3x(Z9Q)]};baz9q(window.NEJ_CONF||NEJ.O)})();
(function(){var c8g=NEJ.P,P9G=c8g("nej.p"),eH1x=c8g("nej.c"),bU0x=window.NEJ_CONF||NEJ.O;if(P9G.oQ5V.trident)return;eH1x.Rm6g("storage.swf",bU0x.storage||eH1x.B9s("root")+"nej_storage.swf");if(P9G.dC1x.release<"4.0"){eH1x.Rm6g("blank.png",bU0x.blank||eH1x.B9s("root")+"nej_blank.gif")}var j8b=bU0x.xdr,hk2x=/^(https?:\/\/.*?)(?=\/|$)/i,lq3x=/[\/?=&]/i;var bKw0x=function(Z9Q){return(hk2x.test(Z9Q)?RegExp.$1:"").toLowerCase()};if(!!j8b&&!!j8b.length)for(var i=j8b.length-1,Z9Q,K9B;i>=0;i--){Z9Q=j8b[i];K9B=bKw0x(Z9Q);if(!!K9B)eH1x.Rm6g(K9B,Z9Q)}eH1x.cXe5j=function(Z9Q){var K9B=bKw0x(Z9Q);if(!K9B){if(lq3x.test(Z9Q)){K9B=location.protocol+"//"+location.host}else if(Z9Q.indexOf("://")<0){K9B=location.protocol+"//"+Z9Q}else{K9B=Z9Q}}return eH1x.B9s(K9B)||K9B+"/res/nej_xdomain.html"}})();
(function(){var c8g=NEJ.P,eH1x=c8g("nej.c"),P9G=c8g("nej.g"),hl2x=+(new Date);P9G.cXd5i=1e4-hl2x;P9G.bmg3x=10001-hl2x;P9G.cXa5f=10002-hl2x;P9G.bOX1x=10003-hl2x;P9G.csW4a=10004-hl2x;P9G.cWO5T=10005-hl2x;P9G.bmq3x=10006-hl2x;P9G.cth4l=10007-hl2x;P9G.AJ0x="Content-Type";P9G.cWI5N="text/plain";P9G.HJ2x="multipart/form-data";P9G.ctk4o="application/x-www-form-urlencoded";P9G.bmr3x=eH1x.B9s("blank.png")||"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})();
(function(){var c8g=NEJ.P,fR2x=NEJ.R,P9G=c8g("nej.p"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),bg9X=c8g("nej.h");var lt4x=P9G.dC1x.prefix,bQd2x=P9G.bUn4r,cto4s={scale:"scale({x|1},{y|1})",rotate:"rotate({a})",translate:"translate({x},{y})"},cts4w={scale:"scale3d({x|1},{y|1},{z|1})",rotate:"rotate3d({x},{y},{z},{a})",translate:"translate3d({x},{y},{z})"},ZR9I={transition:!0,transform:!0,animation:!0,keyframes:!0,box:!0,"box-pack":!0,"box-flex":!0,marquee:!0,"border-radius":!0,"user-select":!0};var baz9q=function(){var qy5D=bg9X.bQC2x();bQd2x.css3d=!!qy5D&&qy5D.m41!=null;var ds1x=/-([a-z])/g;for(var x in ZR9I){ZR9I[bRj3x(x)]=ZR9I[x]}};var bRj3x=function(){var ds1x=/-([a-z])/g;return function(Y9P){Y9P=Y9P||"";return Y9P.replace(ds1x,function($1,$2){return $2.toUpperCase()})}}();var bTu4y=function(Y9P){return(!bQd2x.css3d?cto4s:cts4w)[Y9P]};var bUI5N=function(){var ds1x=/\s+/;return function(gd2x){gd2x=(gd2x||"").trim();return!!gd2x?gd2x.split(ds1x):null}}();var bey1x=function(H9y,t8l,gd2x){H9y=a7h.B9s(H9y);if(!H9y)return;k8c.bf9W(bUI5N(gd2x),function(ev1x){H9y.classList[t8l](ev1x)})};bg9X.Rb5g=function(j8b){return fR2x.slice.call(j8b,0)};bg9X.bmF3x=function(H9y){return bg9X.Rb5g(H9y.children)};bg9X.bmG3x=function(H9y,gd2x){return bg9X.Rb5g(H9y.getElementsByClassName(gd2x))};bg9X.bmI3x=function(H9y,Ra5f){bey1x(H9y,"add",Ra5f)};bg9X.bmJ3x=function(H9y,QY5d){bey1x(H9y,"remove",QY5d)};bg9X.ZG9x=function(H9y,QY5d,Ra5f){bey1x(H9y,"remove",QY5d);bey1x(H9y,"add",Ra5f)};bg9X.bmM3x=function(H9y,gd2x){H9y=a7h.B9s(H9y);if(!H9y)return!1;var j8b=H9y.classList;if(!j8b||!j8b.length)return!1;return k8c.dw1x(bUI5N(gd2x),function(ev1x){return j8b.contains(ev1x)})>=0};bg9X.bmN3x=function(H9y,ev1x){};bg9X.bmW3x=function(H9y){};bg9X.bnd3x=function(gJ2x,lK4O){gJ2x.selectionEnd=lK4O.end||0;gJ2x.selectionStart=lK4O.start||0;gJ2x.focus()};bg9X.bnj3x=function(gJ2x){return{end:gJ2x.selectionEnd,start:gJ2x.selectionStart}};bg9X.bnl3x=function(){var Kl3x=function(ev1x,d8f){var H9y=h8b.ba9R(d8f);if(!H9y.value)a7h.y9p(H9y,ev1x)};var QU5Z=function(ev1x,d8f){a7h.w9n(h8b.ba9R(d8f),ev1x)};return function(H9y,ep1x,ev1x){if(ep1x==1){h8b.s8k(H9y,"blur",Kl3x.f8d(null,ev1x))}if(ep1x==1||ep1x==-1){h8b.s8k(H9y,"focus",QU5Z.f8d(null,ev1x))}}}();bg9X.bno3x=function(I9z){return(new XMLSerializer).serializeToString(I9z)||""};bg9X.bnq3x=function(Gj2x){var gA2x=(new DOMParser).parseFromString(Gj2x,"text/xml").documentElement;return gA2x.nodeName=="parsererror"?null:gA2x};bg9X.bns3x=function(H9y){};bg9X.ps5x=function(H9y){return null};bg9X.bnu3x=function(H9y){return null};bg9X.bnv3x=function(co0x){};bg9X.bnw3x=function(){var bk9b=bg9X.Rb5g(arguments);bk9b[0]=a7h.B9s(bk9b[0]);if(!bk9b[0])return null;bk9b[1]=(bk9b[1]||"").toLowerCase();if(!bk9b[1])return null;return bk9b};bg9X.Gi2x=function(){var zq0x={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},ki3x={transitionend:"TransitionEnd",animationend:"AnimationEnd",animationstart:"AnimationStart",animationiteration:"AnimationIteration"};var cyb6V=function(t8l){return(lt4x.evt||lt4x.pro)+t8l};return function(){var bk9b=bg9X.bnw3x.apply(bg9X,arguments);if(!bk9b)return;var bhm2x=ki3x[bk9b[1]],bhz2x=zq0x[bk9b[1]];if(!!bhm2x){bk9b[4]=bk9b[1];bk9b[1]=cyb6V(bhm2x)}else if(!!bhz2x){var Y9P="on"+bk9b[1];if(!(Y9P in bk9b[0])){bk9b[4]=bk9b[1];bk9b[1]=bhz2x}}return bk9b}}();bg9X.bnG3x=function(){var bk9b=arguments;bk9b[0].addEventListener(bk9b[1],bk9b[2],!!bk9b[3])};bg9X.bhN2x=function(){var bk9b=arguments;bk9b[0].removeEventListener(bk9b[1],bk9b[2],!!bk9b[3])};bg9X.bnI3x=function(H9y,t8l,e8e){var d8f=document.createEvent("Event");d8f.initEvent(t8l,!0,!0);NEJ.X(d8f,e8e);H9y.dispatchEvent(d8f)};bg9X.bQC2x=function(){var hk2x=/\((.*?)\)/,lq3x=/\s*,\s*/,j8b=["m11","m12","m21","m22","m41","m42"];var LV4Z=function(qy5D){var iS3x={};if(hk2x.test(qy5D||"")){k8c.bf9W(RegExp.$1.split(lq3x),function(C9t,r8j){iS3x[j8b[r8j]]=C9t||""})}return iS3x};return function(qy5D){if(!!window.CSSMatrix)return new CSSMatrix(qy5D);var Y9P=lt4x.clz+"CSSMatrix";if(!!window[Y9P])return new window[Y9P](qy5D||"");return LV4Z(qy5D)}}();bg9X.bMN1x=function(){var ds1x=/\{(.*?)\}/g;return function(Y9P,bA9r){bA9r=bA9r||o;var qq5v=bTu4y(Y9P);return!qq5v?"":qq5v.replace(ds1x,function($1,$2){var bv9m=$2.split("|");return bA9r[bv9m[0]]||bv9m[1]||"0"})}}();bg9X.bnK3x=function(H9y,Y9P,C9t){H9y.style[bg9X.bNi1x(Y9P)]=C9t};bg9X.bNi1x=function(){var ds1x=/^[a-z]/,bnM3x=lt4x.css;var cBd7W=function(Y9P){return Y9P.replace(ds1x,function($1){return bnM3x+$1.toUpperCase()})};return function(Y9P){Y9P=bRj3x(Y9P);var cBS7L=bg9X.cCC8u(Y9P,ZR9I);return cBS7L?cBd7W(Y9P):Y9P}}();bg9X.cCC8u=function(){var ds1x=/^([a-z]+?)[A-Z]/;return function(Y9P,bA9r){if(!bA9r[Y9P]){if(ds1x.test(Y9P))Y9P=RegExp.$1}return!!bA9r[Y9P]}}();bg9X.cCD8v=function(){var ds1x=/\$<(.*?)>/gi,bnM3x="-"+lt4x.css.toLowerCase()+"-";return function(lp3x){return lp3x.replace(ds1x,function($1,$2){var fN2x=$2,bv9m=fN2x.split("|"),qq5v=bTu4y(bv9m[0]);if(!!qq5v){return bg9X.bMN1x(bv9m[0],k8c.hb2x(bv9m[1]))}return!bg9X.cEd8V(fN2x,ZR9I)?fN2x:bnM3x+fN2x})}}();bg9X.cEd8V=function(Y9P,bA9r){return!!bA9r[Y9P]};bg9X.bnY4c=function(cn0x,lp3x){cn0x.textContent=lp3x};bg9X.boa4e=function(cn0x,lp3x){var AZ0x=cn0x.sheet,br9i=AZ0x.cssRules.length;AZ0x.insertRule(lp3x,br9i);return AZ0x.cssRules[br9i]};bg9X.cTz4D=function(H9y,e8e){};bg9X.bfJ1x=function(bgR1x){return(bgR1x||"").toLowerCase()!="transparent"};bg9X.cFC9t=function(H9y){};bg9X.bof4j=function(H9y,Y9P){if(!!H9y.getAttribute)return H9y.getAttribute(Y9P);return""};bg9X.bhp2x=function(fd1x){a7h.cY1x(fd1x)};baz9q()})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),P9G=c8g("nej.p"),bg9X=c8g("nej.h");if(P9G.oQ5V.trident0)return;var hl2x=+(new Date);Q9H={};bg9X.bmN3x=bg9X.bmN3x.eW1x(function(d8f){d8f.stopped=!0;var bk9b=d8f.args,D9u=a7h.my4C(bk9b[0]),K9B="hover-"+D9u;if(!D9u||!!Q9H[K9B])return;Q9H[K9B]=!0;h8b.s8k(D9u,"mouseenter",a7h.w9n.f8d(a7h,D9u,bk9b[1]));h8b.s8k(D9u,"mouseleave",a7h.y9p.f8d(a7h,D9u,bk9b[1]))});bg9X.bmW3x=function(){var cTd4h=function(){};return bg9X.bmW3x.eW1x(function(d8f){d8f.stopped=!0;var H9y=d8f.args[0],D9u="fixed-"+a7h.my4C(H9y);if(!!Q9H[D9u])return;var bl9c={};Q9H[D9u]=bl9c})}();bg9X.bns3x=bg9X.bns3x.eW1x(function(d8f){d8f.stopped=!0;var H9y=d8f.args[0],cn0x=H9y.style,bSd4h=a7h.qh5m();cn0x.width=bSd4h.scrollWidth+"px";cn0x.height=bSd4h.scrollHeight+"px"});bg9X.ps5x=bg9X.ps5x.eW1x(function(d8f){d8f.stopped=!0;var H9y=d8f.args[0],md4h=Q9H[H9y.msk];if(!md4h){H9y.msk=hl2x++;md4h=a7h.dt1x("iframe");md4h.style.position="absolute";Q9H[H9y.msk]=md4h}d8f.value=md4h;var cn0x=md4h.style;cn0x.top=(parseInt(a7h.dr1x(H9y,"top"))||0)+"px";cn0x.left=(parseInt(a7h.dr1x(H9y,"left"))||0)+"px";cn0x.width=H9y.offsetWidth+"px";cn0x.height=H9y.offsetHeight+"px";H9y.insertAdjacentElement("beforeBegin",md4h)});bg9X.bnu3x=bg9X.bnu3x.eW1x(function(d8f){d8f.stopped=!0;var md4h=Q9H[d8f.args[0].msk];if(!!md4h)a7h.nx4B(md4h)})})();
(function(){var c8g=NEJ.P,P9G=c8g("nej.p"),a7h=c8g("nej.e"),bg9X=c8g("nej.h");if(P9G.oQ5V.trident1)return;bg9X.Gi2x=function(){var zq0x={touchcancel:"MSPointerCancel",touchstart:"MSPointerDown",touchmove:"MSPointerMove",touchend:"MSPointerUp"};return bg9X.Gi2x.eW1x(function(d8f){var bk9b=bg9X.bnw3x.apply(bg9X,d8f.args);if(!bk9b){d8f.stopped=!0;return}var t8l=zq0x[bk9b[1]];if(!!t8l&&("on"+t8l).toLowerCase()in bk9b[0]){bk9b[4]=bk9b[1];bk9b[1]=t8l;d8f.stopped=!0;d8f.value=bk9b}})}();bg9X.bfJ1x=function(bgR1x){return!0};bg9X.bhp2x=bg9X.bhp2x.eW1x(function(d8f){d8f.stopped=!0;var fd1x=d8f.args[0];a7h.bd9U(fd1x,"display","none");try{fd1x.contentWindow.document.body.innerHTML="&nbsp;"}catch(ex){}})})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,P9G=c8g("nej.p"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),bg9X=c8g("nej.h"),bol4p={};if(P9G.oQ5V.trident)return;bg9X.Rb5g=bg9X.Rb5g.eW1x(function(d8f){d8f.stopped=!0;var j8b=d8f.args[0];if(!j8b){d8f.value=null;return}var r8j=0,m8e=[];while(!!j8b[r8j]){m8e.push(j8b[r8j++])}d8f.value=m8e});bg9X.bmF3x=bg9X.bmF3x.eW1x(function(d8f){d8f.stopped=!0;var bv9m=[];k8c.bf9W(d8f.args[0].childNodes,function(g8c){if(g8c.nodeType==1)bv9m.push(g8c)});d8f.value=bv9m});bg9X.bmG3x=bg9X.bmG3x.eW1x(function(d8f){var H9y=d8f.args[0];if(!!H9y.getElementsByClassName)return;d8f.stopped=!0;var m8e=[],YK8C=new RegExp("(\\s|^)(?:"+d8f.args[1].replace(/\s+/g,"|")+")(?=\\s|$)");k8c.bf9W(H9y.getElementsByTagName("*"),function(g8c){if(YK8C.test(g8c.className))m8e.push(g8c)});d8f.value=m8e});bg9X.bnd3x=bg9X.bnd3x.eW1x(function(d8f){var gJ2x=d8f.args[0],lK4O=d8f.args[1];if(gJ2x.selectionStart==null){d8f.stopped=!0;var dn1x=gJ2x.createTextRange();dn1x.collapse(!0);dn1x.moveStart("character",lK4O.start);dn1x.moveEnd("character",lK4O.end-lK4O.start);dn1x.select();gJ2x.focus()}});bg9X.bnj3x=bg9X.bnj3x.eW1x(function(d8f){var gJ2x=d8f.args[0];gJ2x.focus();if(gJ2x.selectionStart==null){d8f.stopped=!0;var bSn4r=document.selection.createRange();var bSp4t=gJ2x.createTextRange();bSp4t.moveToBookmark(bSn4r.getBookmark());var boq4u=gJ2x.createTextRange();boq4u.collapse(!0);boq4u.setEndPoint("EndToStart",bSp4t);var eT1x=boq4u.text.length;d8f.value={start:eT1x,end:eT1x+bSn4r.text.length}}});bg9X.bno3x=bg9X.bno3x.eW1x(function(d8f){if(!!window.XMLSerializer)return;d8f.stopped=!0;var H9y=d8f.args[0];d8f.value=H9y.xml!=null?H9y.xml:H9y.outHTML});bg9X.bnq3x=function(){var YG8y=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var cIc0x=function(){try{for(var i=0,l=YG8y.length;i<l;i++)return new ActiveXObject(YG8y[i])}catch(ex){return null}};return bg9X.bnq3x.eW1x(function(d8f){if(!!window.DOMParser)return;d8f.stopped=!0;var pg5l=cIc0x();if(!!pg5l&&pg5l.loadXML(d8f.args[0])&&!pg5l.parseError.errorCode)d8f.value=pg5l.documentElement})}();bg9X.Gi2x=function(){var ki3x={input:"propertychange",load:"readystatechange"};for(var x in ki3x)bol4p[ki3x[x]]=!0;var cIQ0x=function(H9y,t8l){if("on"+t8l in H9y)return null;return ki3x[t8l]||""};var cIW0x=function(t8l,dF1x){var cL0x=dF1x;switch(t8l){case"readystatechange":cL0x=function(d8f){var H9y=h8b.ba9R(d8f)||this;if(H9y.readyState=="loaded"||H9y.readyState=="complete"){d8f.target=H9y;dF1x.call(H9y,d8f)}};break;case"propertychange":cL0x=function(d8f){var H9y=h8b.ba9R(d8f)||this;if("value"in H9y&&d8f.propertyName=="value"){d8f.target=H9y;dF1x.call(H9y,d8f)}};break}return cL0x};return bg9X.Gi2x.eW1x(function(d8f){var bk9b=bg9X.bnw3x.apply(bg9X,d8f.args);if(!bk9b){d8f.stopped=!0;return}var t8l=cIQ0x(bk9b[0],bk9b[1]);if(!!t8l){d8f.stopped=!0;bk9b[4]=bk9b[1];bk9b[1]=t8l;if(!!bk9b[2]){bk9b[5]=bk9b[2];bk9b[2]=cIW0x(bk9b[1],bk9b[2])}d8f.value=bk9b}},function(d8f){var bk9b=d8f.value;if(!bk9b[0]||!k8c.he2x(bk9b[2]))return;if(!k8c.he2x(bk9b[5]))bk9b[5]=bk9b[2];bk9b[2]=bk9b[2].f8d(bk9b[0])})}();bg9X.bnG3x=bg9X.bnG3x.eW1x(function(d8f){var bk9b=d8f.args;if(!!bol4p[bk9b[1]]||!document.addEventListener){d8f.stopped=!0;bk9b[0].attachEvent("on"+bk9b[1],bk9b[2])}});bg9X.bhN2x=bg9X.bhN2x.eW1x(function(d8f){var bk9b=d8f.args;if(!!bol4p[bk9b[1]]||!document.removeEventListener){d8f.stopped=!0;bk9b[0].detachEvent("on"+bk9b[1],bk9b[2])}});bg9X.bnI3x=bg9X.bnI3x.eW1x(function(d8f){if(!document.createEvent){d8f.stopped=!0;var bk9b=d8f.args,bTA4E=document.createEventObject();NEJ.X(bTA4E,bk9b[2]);try{bk9b[0].fireEvent("on"+bk9b[1],bTA4E)}catch(ex){console.error(ex.message);console.error(ex.stack)}}});bg9X.bnK3x=bg9X.bnK3x.eW1x(function(d8f){var bk9b=d8f.args,Y9P=bk9b[1].toLowerCase();if(Y9P=="opacity"&&!(Y9P in document.body.style)){bk9b[1]="filter";bk9b[2]="alpha(opacity="+bk9b[2]*100+")"}});bg9X.bnY4c=function(){var fn1x=30;return bg9X.bnY4c.eW1x(function(d8f){var H9y=d8f.args[0];if(!H9y.styleSheet)return;d8f.stopped=!0;var lp3x=d8f.args[1];var j8b=document.styleSheets;if(j8b.length>fn1x){H9y=j8b[fn1x];lp3x=H9y.cssText+lp3x}else{H9y=H9y.styleSheet}H9y.cssText=lp3x})}();bg9X.boa4e=bg9X.boa4e.eW1x(function(d8f){var bk9b=d8f.args,AZ0x=bk9b[0].sheet;if(!!AZ0x)return;d8f.stopped=!0;var AZ0x=bk9b[0].styleSheet,br9i=AZ0x.rules.length,bv9m=bk9b[1].split(/[\{\}]/);AZ0x.addRule(bv9m[0],bv9m[1],br9i);d8f.value=AZ0x.rules[br9i]});bg9X.bnl3x=function(){var Kl3x=function(ev1x,d8f){a7h.y9p(h8b.ba9R(d8f),ev1x)};return bg9X.bnl3x.eW1x(function(d8f){if(P9G.dC1x.release>="4.0")return;var bk9b=d8f.args;if(bk9b[1]!=1){h8b.s8k(bk9b[0],"blur",Kl3x.f8d(null,bk9b[2]));bk9b[1]=-1}})}();bg9X.bfJ1x=function(bgR1x){return!0};bg9X.bof4j=bg9X.bof4j.eW1x(function(d8f){var bk9b=d8f.args,g8c=(bk9b[0].attributes||be9V)[bk9b[1]];if(!!g8c){d8f.stopped=!0;d8f.value=g8c.value}},function(d8f){var bk9b=d8f.args;if(bk9b[1]=="maxlength"&&d8f.value==2147483647)d8f.value=""});if(P9G.dC1x.release<5){bg9X.bnv3x=function(){var ew1x,fd1x,jH3x=[],boy4C="cb-"+ +(new Date),bt9k='<script>parent.nej.h["'+boy4C+'"] = !0;parent.location.hash = decodeURIComponent("#<HASH>");</scr'+"ipt>";var bTY4c=function(){ew1x=window.clearTimeout(ew1x);if(!jH3x.length)return;var co0x=jH3x.shift();try{var zI0x=fd1x.contentWindow.document;zI0x.open();zI0x.write("<head><title>");zI0x.write(document.title);zI0x.write("</title>");zI0x.write(bt9k.replace("#<HASH>",encodeURIComponent(co0x)));zI0x.write("</head><body></body>");if(location.hostname!=document.domain)zI0x.domain=document.domain;zI0x.close();bg9X[boy4C]=!1}catch(ex){console.log(ex.message||ex);jH3x.unshift(co0x)}ew1x=window.setTimeout(bTY4c,50)};return bg9X.bnv3x.eW1x(function(d8f){d8f.stopped=!0;var co0x=d8f.args[0];if(!!bg9X[boy4C]||!fd1x&&!co0x)return;jH3x.push(co0x);if(!fd1x)fd1x=a7h.biX2x();bTY4c()})}()}try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}})();
(function(){var c8g=NEJ.P,h8b=c8g("nej.v"),bg9X=c8g("nej.h"),P9G=c8g("nej.p"),biZ2x=P9G.bUn4r;if(P9G.oQ5V.gecko)return;var baz9q=function(){biZ2x.css3d=biZ2x.css3d||"MozPerspective"in document.body.style;if(!document.body.insertAdjacentElement)HTMLElement.prototype.insertAdjacentElement=function(jT3x,H9y){if(!jT3x||!H9y)return;switch(jT3x){case"beforeEnd":this.appendChild(H9y);return;case"beforeBegin":this.parentNode.insertBefore(H9y,this);return;case"afterBegin":!this.firstChild?this.appendChild(H9y):this.insertBefore(H9y,this.firstChild);return;case"afterEnd":!this.nextSibling?this.parentNode.appendChild(H9y):this.parentNode.insertBefore(H9y,this.nextSibling);return}};if(!("innerText"in document.body)){HTMLElement.prototype["__defineGetter__"]("innerText",function(){return this.textContent});HTMLElement.prototype["__defineSetter__"]("innerText",function(bt9k){this.textContent=bt9k})}};bg9X.Gi2x=function(){var hk2x=/^(?:transitionend|animationend|animationstart|animationiteration)$/i;return bg9X.Gi2x.eW1x(function(d8f){var bk9b=d8f.args;if(hk2x.test(bk9b[1]||"")){d8f.stopped=!0;d8f.value=bk9b}})}();bg9X.cFC9t=function(){var cLk1x=function(d8f){h8b.bi9Z(d8f);h8b.ba9R(d8f).control.click()};return function(H9y){h8b.s8k(H9y,"click",cLk1x)}}();baz9q()})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),bg9X=c8g("nej.h");var bjM2x=function(){var nt4x=!!document.body.classList;return function(){return nt4x}}();var bUG5L=function(){var ds1x=/\s+/g;return function(gd2x){gd2x=(gd2x||"").trim();return!gd2x?null:new RegExp("(\\s|^)(?:"+gd2x.replace(ds1x,"|")+")(?=\\s|$)","g")}}();bg9X.ZG9x=bg9X.ZG9x.eW1x(function(d8f){if(bjM2x())return;d8f.stopped=!0;var bk9b=d8f.args,H9y=a7h.B9s(bk9b[0]);if(!H9y||!bk9b[1]&&!bk9b[2])return;var gd2x=H9y.className||"";var Ra5f=" "+(bk9b[2]||""),QY5d=bUG5L((bk9b[1]||"")+Ra5f);!!QY5d&&(gd2x=gd2x.replace(QY5d,"$1"));H9y.className=(gd2x+Ra5f).replace(/\s+/g," ").trim()});bg9X.bmI3x=bg9X.bmI3x.eW1x(function(d8f){if(bjM2x())return;d8f.stopped=!0;var bk9b=d8f.args;bg9X.ZG9x(bk9b[0],"",bk9b[1])});bg9X.bmJ3x=bg9X.bmJ3x.eW1x(function(d8f){if(bjM2x())return;d8f.stopped=!0;var bk9b=d8f.args;bg9X.ZG9x(bk9b[0],bk9b[1],"")});bg9X.bmM3x=bg9X.bmM3x.eW1x(function(d8f){if(bjM2x())return;d8f.stopped=!0;var bk9b=d8f.args,H9y=a7h.B9s(bk9b[0]);if(!H9y){d8f.value=!1;return}var ds1x=bUG5L(bk9b[1]);d8f.value=!ds1x?!1:ds1x.test(H9y.className||"")})})();
(function(){var c8g=NEJ.P,P9G=c8g("nej.p"),bg9X=c8g("nej.h");if(P9G.oQ5V.webkit)return;bg9X.bfJ1x=function(bgR1x){return!0}})();
(function(){var c8g=NEJ.P,bg9X=c8g("nej.h"),a7h=c8g("nej.e"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),di1x=c8g("nej.x"),Q9H={};var bUH5M=function(H9y){H9y=a7h.B9s(H9y);if(!H9y||!Q9H[H9y.id])return;var bkv3x=!0,D9u=H9y.id;k8c.eX1x(Q9H[D9u],function(){bkv3x=!1;return!0});if(bkv3x)delete Q9H[D9u]};h8b.s8k=di1x.s8k=function(){var cNR2x=function(){var bk9b=bg9X.Gi2x.apply(bg9X,arguments);if(!bk9b||!bk9b[2])return;var xW9N=a7h.my4C(bk9b[0]),pX5c=Q9H[xW9N]||{};Q9H[xW9N]=pX5c;xW9N=bk9b[4]||bk9b[1];var FI2x=pX5c[xW9N]||[];pX5c[xW9N]=FI2x;FI2x.push({type:bk9b[1],func:bk9b[2],capt:!!bk9b[3],sfun:bk9b[5]||bk9b[2]});return bk9b.slice(0,4)};return function(){var bk9b=cNR2x.apply(null,arguments);if(!!bk9b)bg9X.bnG3x.apply(bg9X,bk9b);return this}}();h8b.ny4C=di1x.ny4C=function(){var cOa2x=function(){var wl8d=arguments,xW9N=a7h.my4C(wl8d[0]),pX5c=Q9H[xW9N],t8l=(wl8d[1]||"").toLowerCase(),d8f=wl8d[2];if(!pX5c||!t8l||!d8f)return;pX5c=pX5c[t8l];if(!pX5c)return;var cOb2x=!!wl8d[3],r8j=k8c.dw1x(pX5c,function(ki3x){return d8f==ki3x.sfun&&cOb2x==ki3x.capt});if(r8j<0)return;var ki3x=pX5c.splice(r8j,1)[0];return!ki3x?null:[a7h.B9s(xW9N),ki3x.type,ki3x.func,ki3x.capt]};return function(){var bk9b=cOa2x.apply(null,arguments);if(!!bk9b){bg9X.bhN2x.apply(bg9X,bk9b);bUH5M(bk9b[0])}return this}}();h8b.hH2x=di1x.hH2x=function(){var bUM5R=function(){var wl8d=arguments,xW9N=a7h.my4C(wl8d[0]),pX5c=Q9H[xW9N],FI2x=(wl8d[1]||"").toLowerCase();if(!pX5c||!FI2x)return;var H9y=a7h.B9s(xW9N);k8c.oB5G(pX5c[FI2x],function(ki3x,r8j,j8b){bg9X.bhN2x(H9y,ki3x.type,ki3x.func,ki3x.capt);j8b.splice(r8j,1)});delete pX5c[FI2x]};var cOW3x=function(H9y){H9y=a7h.B9s(H9y);if(!H9y)return;var D9u=H9y.id;k8c.eX1x(Q9H[D9u],function(j8b,t8l){bUM5R(D9u,t8l)});delete Q9H[D9u]};return function(H9y,t8l){!t8l?cOW3x(H9y):bUM5R(H9y,t8l);bUH5M(H9y);return this}}();h8b.ba9R=function(){var boG4K;var Qt5y=function(Y9P,H9y){var bv9m=Y9P.split(":");if(bv9m.length>1){if(!boG4K)boG4K={c:a7h.bG9x,d:a7h.u9l,a:a7h.hc2x};var Qs5x=boG4K[bv9m[0]];if(!!Qs5x)return!!Qs5x(H9y,bv9m[1]);Y9P=bv9m[1]}return!!a7h.hc2x(H9y,Y9P)||!!a7h.u9l(H9y,Y9P)||a7h.bG9x(H9y,Y9P)};return function(d8f){if(!d8f)return null;var H9y=d8f.target||d8f.srcElement,en1x=arguments[1];if(!en1x)return H9y;if(k8c.fX2x(en1x))en1x=Qt5y.f8d(null,en1x);if(k8c.he2x(en1x)){while(H9y){if(!!en1x(H9y))return H9y;H9y=H9y.parentNode}return null}return H9y}}();h8b.bi9Z=function(d8f){h8b.vU8M(d8f);h8b.cv0x(d8f);return this};h8b.vU8M=function(d8f){if(!!d8f){!!d8f.stopPropagation?d8f.stopPropagation():d8f.cancelBubble=!0}return this};h8b.cv0x=function(d8f){if(!!d8f){!!d8f.preventDefault?d8f.preventDefault():d8f.returnValue=!1}return this};h8b.cRM4Q=function(){var sv6p=!1;var cQj3x=function(){if(sv6p)return;sv6p=!0;h8b.s8k(document,"click",cRA3x,!0)};var cRA3x=function(d8f){var H9y=h8b.ba9R(d8f),cRv3x=a7h.u9l(H9y,"stopped");if(cRv3x=="true"){h8b.bi9Z(d8f);a7h.u9l(H9y,"stopped","false")}};return function(d8f){if(!d8f)return;if(d8f.type=="click"){h8b.bi9Z(d8f);return}cQj3x();a7h.u9l(h8b.ba9R(d8f),"stopped","true")}}();h8b.kA3x=function(d8f){return d8f.pageX!=null?d8f.pageX:d8f.clientX+a7h.qh5m().scrollLeft};h8b.na4e=function(d8f){return d8f.pageY!=null?d8f.pageY:d8f.clientY+a7h.qh5m().scrollTop};h8b.z9q=di1x.z9q=function(H9y,t8l,e8e){var bk9b=bg9X.Gi2x(H9y,t8l);if(!!bk9b)bg9X.bnI3x(bk9b[0],bk9b[1],e8e);return this};c8g("dbg").dumpEV=function(){return Q9H};di1x.isChange=!0})();
(function(){var o=!0,w=null;(function(B){function v(a){if("bug-string-char-index"==a)return"a"!="a"[0];var f,c="json"==a;if(c||"json-stringify"==a||"json-parse"==a){if("json-stringify"==a||c){var d=k.stringify,b="function"==typeof d&&l;if(b){(f=function(){return 1}).toJSON=f;try{b="0"===d(0)&&"0"===d(new Number)&&'""'==d(new String)&&d(m)===r&&d(r)===r&&d()===r&&"1"===d(f)&&"[1]"==d([f])&&"[null]"==d([r])&&"null"==d(w)&&"[null,null,null]"==d([r,m,w])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==d({a:[f,o,!1,w,"\0\b\n\f\r\t"]})&&"1"===d(w,f)&&"[\n 1,\n 2\n]"==d([1,2],w,1)&&'"-271821-04-20T00:00:00.000Z"'==d(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==d(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==d(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==d(new Date(-1))}catch(n){b=!1}}if(!c)return b}if("json-parse"==a||c){a=k.parse;if("function"==typeof a)try{if(0===a("0")&&!a(!1)){f=a('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var e=5==f.a.length&&1===f.a[0];if(e){try{e=!a('"\t"')}catch(g){}if(e)try{e=1!==a("01")}catch(i){}}}}catch(O){e=!1}if(!c)return e}return b&&e}}var m={}.toString,p,C,r,D=typeof define==="function"&&define.amd,k="object"==typeof exports&&exports;k||D?"object"==typeof JSON&&JSON?k?(k.stringify=JSON.stringify,k.parse=JSON.parse):k=JSON:D&&(k=B.JSON={}):k=B.JSON||(B.JSON={});var l=new Date(-0xc782b5b800cec);try{l=-109252==l.getUTCFullYear()&&0===l.getUTCMonth()&&1===l.getUTCDate()&&10==l.getUTCHours()&&37==l.getUTCMinutes()&&6==l.getUTCSeconds()&&708==l.getUTCMilliseconds()}catch(P){}if(!v("json")){var s=v("bug-string-char-index");if(!l)var t=Math.floor,J=[0,31,59,90,120,151,181,212,243,273,304,334],z=function(a,f){return J[f]+365*(a-1970)+t((a-1969+(f=+(f>1)))/4)-t((a-1901+f)/100)+t((a-1601+f)/400)};if(!(p={}.hasOwnProperty))p=function(a){var f={},c;if((f.__proto__=w,f.__proto__={toString:1},f).toString!=m)p=function(a){var f=this.__proto__,a=a in(this.__proto__=w,this);this.__proto__=f;return a};else{c=f.constructor;p=function(a){var f=(this.constructor||c).prototype;return a in this&&!(a in f&&this[a]===f[a])}}f=w;return p.call(this,a)};var K={"boolean":1,number:1,string:1,"undefined":1};C=function(a,f){var c=0,b,h,n;(b=function(){this.valueOf=0}).prototype.valueOf=0;h=new b;for(n in h)p.call(h,n)&&c++;b=h=w;if(c)c=c==2?function(a,f){var c={},b=m.call(a)=="[object Function]",d;for(d in a)!(b&&d=="prototype")&&!p.call(c,d)&&(c[d]=1)&&p.call(a,d)&&f(d)}:function(a,f){var c=m.call(a)=="[object Function]",b,d;for(b in a)!(c&&b=="prototype")&&p.call(a,b)&&!(d=b==="constructor")&&f(b);(d||p.call(a,b="constructor"))&&f(b)};else{h=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];c=function(a,f){var c=m.call(a)=="[object Function]",b,d;if(d=!c)if(d=typeof a.constructor!="function"){d=typeof a.hasOwnProperty;d=d=="object"?!!a.hasOwnProperty:!K[d]}d=d?a.hasOwnProperty:p;for(b in a)!(c&&b=="prototype")&&d.call(a,b)&&f(b);for(c=h.length;b=h[--c];d.call(a,b)&&f(b));}}c(a,f)};if(!v("json-stringify")){var L={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},u=function(a,f){return("000000"+(f||0)).slice(-a)},G=function(a){var f='"',b=0,d=a.length,h=d>10&&s,n;for(h&&(n=a.split(""));b<d;b++){var e=a.charCodeAt(b);switch(e){case 8:case 9:case 10:case 12:case 13:case 34:case 92:f=f+L[e];break;default:if(e<32){f=f+("\\u00"+u(2,e.toString(16)));break}f=f+(h?n[b]:s?a.charAt(b):a[b])}}return f+'"'},E=function(a,b,c,d,h,n,e){var g=b[a],i,j,k,l,q,s,v,x,y;try{g=b[a]}catch(A){}if(typeof g=="object"&&g){i=m.call(g);if(i=="[object Date]"&&!p.call(g,"toJSON"))if(g>-1/0&&g<1/0){if(z){k=t(g/864e5);for(i=t(k/365.2425)+1970-1;z(i+1,0)<=k;i++);for(j=t((k-z(i,0))/30.42);z(i,j+1)<=k;j++);k=1+k-z(i,j);l=(g%864e5+864e5)%864e5;q=t(l/36e5)%24;s=t(l/6e4)%60;v=t(l/1e3)%60;l=l%1e3}else{i=g.getUTCFullYear();j=g.getUTCMonth();k=g.getUTCDate();q=g.getUTCHours();s=g.getUTCMinutes();v=g.getUTCSeconds();l=g.getUTCMilliseconds()}g=(i<=0||i>=1e4?(i<0?"-":"+")+u(6,i<0?-i:i):u(4,i))+"-"+u(2,j+1)+"-"+u(2,k)+"T"+u(2,q)+":"+u(2,s)+":"+u(2,v)+"."+u(3,l)+"Z"}else g=w;else if(typeof g.toJSON=="function"&&(i!="[object Number]"&&i!="[object String]"&&i!="[object Array]"||p.call(g,"toJSON")))g=g.toJSON(a)}c&&(g=c.call(b,a,g));if(g===w)return"null";i=m.call(g);if(i=="[object Boolean]")return""+g;if(i=="[object Number]")return g>-1/0&&g<1/0?""+g:"null";if(i=="[object String]")return G(""+g);if(typeof g=="object"){for(a=e.length;a--;)if(e[a]===g)throw TypeError();e.push(g);x=[];b=n;n=n+h;if(i=="[object Array]"){j=0;for(a=g.length;j<a;y||(y=o),j++){i=E(j,g,c,d,h,n,e);x.push(i===r?"null":i)}a=y?h?"[\n"+n+x.join(",\n"+n)+"\n"+b+"]":"["+x.join(",")+"]":"[]"}else{C(d||g,function(a){var b=E(a,g,c,d,h,n,e);b!==r&&x.push(G(a)+":"+(h?" ":"")+b);y||(y=o)});a=y?h?"{\n"+n+x.join(",\n"+n)+"\n"+b+"}":"{"+x.join(",")+"}":"{}"}e.pop();return a}};k.stringify=function(a,b,c){var d,h,j;if(typeof b=="function"||typeof b=="object"&&b)if(m.call(b)=="[object Function]")h=b;else if(m.call(b)=="[object Array]"){j={};for(var e=0,g=b.length,i;e<g;i=b[e++],(m.call(i)=="[object String]"||m.call(i)=="[object Number]")&&(j[i]=1));}if(c)if(m.call(c)=="[object Number]"){if((c=c-c%1)>0){d="";for(c>10&&(c=10);d.length<c;d=d+" ");}}else m.call(c)=="[object String]"&&(d=c.length<=10?c:c.slice(0,10));return E("",(i={},i[""]=a,i),h,j,d,"",[])}}if(!v("json-parse")){var M=String.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},b,A,j=function(){b=A=w;throw SyntaxError()},q=function(){for(var a=A,f=a.length,c,d,h,k,e;b<f;){e=a.charCodeAt(b);switch(e){case 9:case 10:case 13:case 32:b++;break;case 123:case 125:case 91:case 93:case 58:case 44:c=s?a.charAt(b):a[b];b++;return c;case 34:c="@";for(b++;b<f;){e=a.charCodeAt(b);if(e<32)j();else if(e==92){e=a.charCodeAt(++b);switch(e){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c=c+N[e];b++;break;case 117:d=++b;for(h=b+4;b<h;b++){e=a.charCodeAt(b);e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70||j()}c=c+M("0x"+a.slice(d,b));break;default:j()}}else{if(e==34)break;e=a.charCodeAt(b);for(d=b;e>=32&&e!=92&&e!=34;)e=a.charCodeAt(++b);c=c+a.slice(d,b)}}if(a.charCodeAt(b)==34){b++;return c}j();default:d=b;if(e==45){k=o;e=a.charCodeAt(++b)}if(e>=48&&e<=57){for(e==48&&(e=a.charCodeAt(b+1),e>=48&&e<=57)&&j();b<f&&(e=a.charCodeAt(b),e>=48&&e<=57);b++);if(a.charCodeAt(b)==46){for(h=++b;h<f&&(e=a.charCodeAt(h),e>=48&&e<=57);h++);h==b&&j();b=h}e=a.charCodeAt(b);if(e==101||e==69){e=a.charCodeAt(++b);(e==43||e==45)&&b++;for(h=b;h<f&&(e=a.charCodeAt(h),e>=48&&e<=57);h++);h==b&&j();b=h}return+a.slice(d,b)}k&&j();if(a.slice(b,b+4)=="true"){b=b+4;return o}if(a.slice(b,b+5)=="false"){b=b+5;return false}if(a.slice(b,b+4)=="null"){b=b+4;return w}j()}}return"$"},F=function(a){var b,c;a=="$"&&j();if(typeof a=="string"){if((s?a.charAt(0):a[0])=="@")return a.slice(1);if(a=="["){for(b=[];;c||(c=o)){a=q();if(a=="]")break;if(c)if(a==","){a=q();a=="]"&&j()}else j();a==","&&j();b.push(F(a))}return b}if(a=="{"){for(b={};;c||(c=o)){a=q();if(a=="}")break;if(c)if(a==","){a=q();a=="}"&&j()}else j();(a==","||typeof a!="string"||(s?a.charAt(0):a[0])!="@"||q()!=":")&&j();b[a.slice(1)]=F(q())}return b}j()}return a},I=function(a,b,c){c=H(a,b,c);c===r?delete a[b]:a[b]=c},H=function(a,b,c){var d=a[b],h;if(typeof d=="object"&&d)if(m.call(d)=="[object Array]")for(h=d.length;h--;)I(d,h,c);else C(d,function(a){I(d,a,c)});return c.call(a,b,d)};k.parse=function(a,f){var c,d;b=0;A=""+a;c=F(q());q()!="$"&&j();b=A=w;return f&&m.call(f)=="[object Function]"?H((d={},d[""]=c,d),"",f):c}}}D&&define(function(){return k})})(this)})();
(function(){var c8g=NEJ.P,P9G=c8g("nej.p");if(P9G.oQ5V.trident0)return;JSON.parse=JSON.parse.eW1x(function(d8f){var cC0x=d8f.args[0]||"";if(cC0x.length>=5e5){d8f.stopped=!0;d8f.value=eval("("+cC0x+")")}})})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,ec1x=c8g("nej.g"),a7h=c8g("nej.e"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),bg9X=c8g("nej.h"),di1x=c8g("nej.x"),Qp5u,boH4L={},Q9H=document.createDocumentFragment();a7h.my4C=di1x.my4C=function(H9y){H9y=a7h.B9s(H9y);if(!H9y)return;var D9u=!!H9y.id?H9y.id:"auto-id-"+k8c.Yi8a(16);H9y.id=D9u;if(a7h.B9s(D9u)!=H9y)boH4L[D9u]=H9y;return D9u};a7h.B9s=di1x.B9s=function(H9y){var g8c=boH4L[""+H9y];if(!!g8c)return g8c;if(!k8c.fX2x(H9y)&&!k8c.vS8K(H9y))return H9y;return document.getElementById(H9y)};a7h.dm1x=di1x.dm1x=function(H9y,ev1x){H9y=a7h.B9s(H9y);if(!H9y)return null;var j8b=bg9X.bmF3x(H9y);if(!!ev1x)k8c.oB5G(j8b,function(g8c,r8j){if(!a7h.bG9x(g8c,ev1x))j8b.splice(r8j,1)});return j8b};a7h.F9w=di1x.F9w=function(H9y,gd2x){H9y=a7h.B9s(H9y);return!H9y?null:bg9X.bmG3x(H9y,gd2x.trim())};a7h.bVj5o=di1x.bVj5o=function(H9y){H9y=a7h.B9s(H9y);if(!!H9y){H9y=H9y.parentNode;while(!!H9y){if(H9y.scrollHeight>H9y.clientHeight)break;H9y=H9y.parentNode}if(!!H9y)return H9y}var pX5c=document.body.scrollHeight,FI2x=document.documentElement.scrollHeight;return FI2x>=pX5c?document.documentElement:document.body};a7h.qh5m=function(){var bVm5r=function(j8b){var m8e=0;k8c.bf9W(j8b,function(eN1x){if(!eN1x)return;if(!m8e){m8e=eN1x}else{m8e=Math.min(m8e,eN1x)}});return m8e};return function(zI0x){var Ql5q=zI0x||document,Fr2x=Ql5q.body,Fp2x=Ql5q.documentElement,m8e={scrollTop:Math.max(Fr2x.scrollTop,Fp2x.scrollTop),scrollLeft:Math.max(Fr2x.scrollLeft,Fp2x.scrollLeft),clientWidth:bVm5r([Fr2x.clientWidth,Fr2x.offsetWidth,Fp2x.clientWidth,Fp2x.offsetWidth]),clientHeight:bVm5r([Fr2x.clientHeight,Fr2x.offsetHeight,Fp2x.clientHeight,Fp2x.offsetHeight])};m8e.scrollWidth=Math.max(m8e.clientWidth,Fr2x.scrollWidth,Fp2x.scrollWidth);m8e.scrollHeight=Math.max(m8e.clientHeight,Fr2x.scrollHeight,Fp2x.scrollHeight);return m8e}}();a7h.cRI3x=function(fn1x,pQ5V){var m8e=NEJ.X({},pQ5V),bWb5g=fn1x.width/fn1x.height,bcp0x=pQ5V.width/pQ5V.height;if(bWb5g>bcp0x&&pQ5V.height>fn1x.height){m8e.height=fn1x.height;m8e.width=m8e.height*bcp0x}if(bWb5g<bcp0x&&pQ5V.width>fn1x.width){m8e.width=fn1x.width;m8e.height=m8e.width/bcp0x}return m8e};a7h.cRJ4N=function(){var ds1x=/\s+/;var xM9D={left:function(){return 0},center:function(hZ2x,pQ5V){return(hZ2x.width-pQ5V.width)/2},right:function(hZ2x,pQ5V){return hZ2x.width-pQ5V.width},top:function(){return 0},middle:function(hZ2x,pQ5V){return(hZ2x.height-pQ5V.height)/2},bottom:function(hZ2x,pQ5V){return hZ2x.height-pQ5V.height}};return function(hZ2x,pQ5V,oZ5e){var m8e={},bv9m=(oZ5e||"").split(ds1x),gY2x=xM9D[bv9m[1]]||xM9D.middle,hx2x=xM9D[bv9m[0]]||xM9D.center;m8e.top=gY2x(hZ2x,pQ5V);m8e.left=hx2x(hZ2x,pQ5V);return m8e}}();a7h.vP8H=di1x.vP8H=function(H9y,ev1x){bg9X.bmN3x(H9y,ev1x||a7h.u9l(H9y,"hover")||"js-hover");return this};a7h.Qh5m=di1x.Qh5m=function(H9y){H9y=a7h.B9s(H9y);if(!H9y)return;bg9X.bmW3x(H9y)};a7h.cRc3x=di1x.cRc3x=function(){var Q9H={},bWG5L=2;var cQX3x=function(D9u,ev1x,d8f){Q9H[D9u]=[h8b.kA3x(d8f),h8b.na4e(d8f)];a7h.w9n(D9u,ev1x)};var cQJ3x=function(D9u,ev1x,d8f){var bN0x=Q9H[D9u];if(!k8c.er1x(bN0x))return;var cQH3x=Math.abs(h8b.kA3x(d8f)-bN0x[0]),cQB3x=Math.abs(h8b.na4e(d8f)-bN0x[1]);if(cQH3x>bWG5L||cQB3x>bWG5L)boL4P(D9u,ev1x)};var boL4P=function(D9u,ev1x){if(k8c.er1x(Q9H[D9u])){Q9H[D9u]=-1;a7h.y9p(D9u,ev1x)}};return function(H9y,ev1x){var D9u=a7h.my4C(H9y);if(!D9u||Q9H[D9u]!=null)return;Q9H[D9u]=-1;ev1x=ev1x||a7h.u9l(D9u,"highlight")||"js-highlight";h8b.s8k(D9u,"touchstart",cQX3x.f8d(null,D9u,ev1x));h8b.s8k(document,"touchmove",cQJ3x.f8d(null,D9u,ev1x));h8b.s8k(document,"touchend",boL4P.f8d(null,D9u,ev1x));h8b.s8k(document,"touchcancel",boL4P.f8d(null,D9u,ev1x))}}();a7h.Fh2x=di1x.Fh2x=function(){var cQv3x=function(D9u,ev1x,cQs3x){var H9y=a7h.B9s(D9u),d8f={clazz:ev1x,target:H9y};if(a7h.bG9x(H9y,ev1x)){d8f.toggled=!1;a7h.y9p(H9y,ev1x)}else{d8f.toggled=!0;a7h.w9n(H9y,ev1x)}cQs3x.call(null,d8f)};return function(H9y,e8e){H9y=a7h.B9s(H9y);if(!!H9y){var iS3x={ontoggle:bs9j,clazz:"js-toggle",element:H9y.parentNode};if(k8c.fX2x(e8e)){var g8c=a7h.B9s(e8e);!!g8c?iS3x.element=g8c:iS3x.clazz=e8e}else{NEJ.EX(iS3x,e8e);iS3x.element=a7h.B9s(iS3x.element)}var D9u=a7h.my4C(iS3x.element);h8b.s8k(H9y,"click",cQv3x.f8d(null,D9u,iS3x.clazz,iS3x.ontoggle||bs9j))}return this}}();a7h.nE4I=di1x.nE4I=function(H9y,e8e){H9y=a7h.B9s(H9y);if(!H9y)return;var ep1x=0,ev1x="js-focus";if(k8c.vS8K(e8e)){ep1x=e8e}else if(k8c.fX2x(e8e)){ev1x=e8e}else if(k8c.mx4B(e8e)){ep1x=e8e.mode||ep1x;ev1x=e8e.clazz||ev1x}var C9t=parseInt(a7h.u9l(H9y,"mode"));if(!isNaN(C9t))ep1x=C9t;C9t=a7h.u9l(H9y,"focus");if(!!C9t)ev1x=C9t;bg9X.bnl3x(H9y,ep1x,ev1x);return this};a7h.dt1x=function(){var bA9r={a:{href:"#",hideFocus:!0},style:{type:"text/css"},link:{type:"text/css",rel:"stylesheet"},iframe:{frameBorder:0},script:{defer:!0,type:"text/javascript"}};return function(fz2x,gd2x,bI9z){var H9y=document.createElement(fz2x);NEJ.X(H9y,bA9r[fz2x.toLowerCase()]);if(!!gd2x)H9y.className=gd2x;bI9z=a7h.B9s(bI9z);if(!!bI9z)bI9z.appendChild(H9y);return H9y}}();a7h.biX2x=function(){var cQr3x=function(){if(location.hostname==document.domain)return"about:blank";return'javascript:(function(){document.open();document.domain="'+document.domain+'";document.close();})();'};var cQq3x=function(Y9P){Y9P=Y9P.trim();if(!Y9P)return a7h.dt1x("iframe");var fd1x;try{fd1x=document.createElement('<iframe name="'+Y9P+'"></iframe>');fd1x.frameBorder=0}catch(e){fd1x=a7h.dt1x("iframe");fd1x.name=Y9P}return fd1x};return function(e8e){e8e=e8e||be9V;var fd1x=cQq3x(e8e.name||"");if(!e8e.visible)fd1x.style.display="none";if(k8c.he2x(e8e.onload))h8b.s8k(fd1x,"load",function(d8f){if(!fd1x.src)return;h8b.hH2x(fd1x,"load");e8e.onload(d8f)});var bI9z=e8e.parent;if(k8c.he2x(bI9z)){try{bI9z(fd1x)}catch(e){}}else{(a7h.B9s(bI9z)||document.body).appendChild(fd1x)}var de1x=e8e.src||cQr3x();window.setTimeout(function(){fd1x.src=de1x},0);return fd1x}}();a7h.cY1x=di1x.cY1x=function(){var bZw6q=function(BO1x){BO1x.src=ec1x.bmr3x};var bZT6N=function(eL1x){eL1x.src="about:blank"};return function(H9y,cQg3x){H9y=a7h.B9s(H9y);if(!H9y)return this;if(!cQg3x)h8b.hH2x(H9y);delete boH4L[H9y.id];var fz2x=H9y.tagName;if(fz2x=="IFRAME"){bZT6N(H9y)}else if(fz2x=="IMG"){bZw6q(H9y)}else if(!!H9y.getElementsByTagName){k8c.bf9W(H9y.getElementsByTagName("img"),bZw6q);k8c.bf9W(H9y.getElementsByTagName("iframe"),bZT6N)}if(!!H9y.parentNode){H9y.parentNode.removeChild(H9y)}return this}}();a7h.nx4B=di1x.nx4B=function(H9y){H9y=a7h.B9s(H9y);if(!!H9y)Q9H.appendChild(H9y);return this};a7h.cai6c=di1x.cai6c=function(H9y){H9y=a7h.B9s(H9y);if(!H9y)return;k8c.oB5G(H9y.childNodes,function(g8c){a7h.cY1x(g8c)})};a7h.Qa5f=di1x.Qa5f=function(){var ev1x,hk2x=/\s+/;var cPT3x=function(){if(!!ev1x)return;ev1x=a7h.vJ8B(".#<uispace>{position:relative;zoom:1;}.#<uispace>-show{position:absolute;top:0;left:100%;cursor:text;white-space:nowrap;overflow:hidden;}");a7h.cbq7j()};return function(H9y,e8e){H9y=a7h.B9s(H9y);if(!H9y)return;cPT3x();e8e=e8e||be9V;var bI9z=H9y.parentNode;if(!a7h.bG9x(bI9z,ev1x)){bI9z=a7h.dt1x("span",ev1x);H9y.insertAdjacentElement("beforeBegin",bI9z);bI9z.appendChild(H9y)}var cbK7D=e8e.nid||"",g8c=a7h.F9w(bI9z,cbK7D||ev1x+"-show")[0];if(!g8c){var es1x=((e8e.clazz||"")+" "+cbK7D).trim();es1x=ev1x+"-show"+(!es1x?"":" ")+es1x;g8c=a7h.dt1x(e8e.tag||"span",es1x);bI9z.appendChild(g8c)}var es1x=e8e.clazz;if(!!es1x){es1x=(es1x||"").trim().split(hk2x)[0]+"-parent";a7h.w9n(bI9z,es1x)}return g8c}}();a7h.u9l=di1x.u9l=function(){var boZ4d={},fz2x="data-",ds1x=/\-(.{1})/gi;var nd4h=function(H9y){var D9u=a7h.my4C(H9y);if(!!boZ4d[D9u])return;var bA9r={};k8c.bf9W(H9y.attributes,function(g8c){var K9B=g8c.nodeName;if(K9B.indexOf(fz2x)!=0)return;K9B=K9B.replace(fz2x,"").replace(ds1x,function($1,$2){return $2.toUpperCase()});bA9r[K9B]=g8c.nodeValue||""});boZ4d[D9u]=bA9r};return function(H9y,K9B,C9t){H9y=a7h.B9s(H9y);if(!H9y)return null;var bbF0x=H9y.dataset;if(!bbF0x){nd4h(H9y);bbF0x=boZ4d[H9y.id]}if(C9t!==undefined)bbF0x[K9B]=C9t;return bbF0x[K9B]}}();a7h.hc2x=di1x.hc2x=function(H9y,Y9P,C9t){H9y=a7h.B9s(H9y);if(!H9y)return"";if(C9t!==undefined&&!!H9y.setAttribute)H9y.setAttribute(Y9P,C9t);return bg9X.bof4j(H9y,Y9P)};a7h.oW5b=function(ek1x){var uj8b=document.createElement("div");uj8b.innerHTML=ek1x;var j8b=a7h.dm1x(uj8b);return j8b.length>1?uj8b:j8b[0]};a7h.cPE3x=di1x.cPE3x=function(H9y){H9y=a7h.B9s(H9y);return!H9y?"":bg9X.bno3x(H9y)};a7h.ccp7i=function(Gj2x){Gj2x=(Gj2x||"").trim();return!Gj2x?null:bg9X.bnq3x(Gj2x)};a7h.cPA3x=function(cM0x,t8l){cM0x=cM0x||"";switch(t8l){case"xml":cM0x=a7h.ccp7i(cM0x);break;case"json":try{cM0x=JSON.parse(cM0x)}catch(ex){cM0x=null}break}return cM0x};a7h.iu3x=di1x.iu3x=function(){var cPv3x=function(H9y){return H9y==document.body||H9y==document.documentElement};return function(em1x,ow5B){em1x=a7h.B9s(em1x);if(!em1x)return null;ow5B=a7h.B9s(ow5B)||null;var m8e={x:0,y:0},bpg4k,dB1x,beu1x;while(!!em1x&&em1x!=ow5B){bpg4k=cPv3x(em1x);dB1x=bpg4k?0:em1x.scrollLeft;beu1x=parseInt(a7h.dr1x(em1x,"borderLeftWidth"))||0;m8e.x+=em1x.offsetLeft+beu1x-dB1x;dB1x=bpg4k?0:em1x.scrollTop;beu1x=parseInt(a7h.dr1x(em1x,"borderTopWidth"))||0;m8e.y+=em1x.offsetTop+beu1x-dB1x;em1x=em1x.offsetParent}return m8e}}();a7h.ov5A=di1x.ov5A=function(H9y){var bj9a=a7h.iu3x(H9y);window.scrollTo(bj9a.x,bj9a.y);return this};a7h.cRO4S=function(qy5D){qy5D=(qy5D||"").trim();return bg9X.bQC2x(qy5D)};a7h.cPq3x=di1x.cPq3x=function(H9y,Y9P,bA9r){H9y=a7h.B9s(H9y);if(!H9y)return this;var C9t=bg9X.bMN1x(Y9P,bA9r);if(!C9t)return this;a7h.bd9U(H9y,"transform",C9t);return this};a7h.fv2x=di1x.fv2x=function(H9y,bA9r){H9y=a7h.B9s(H9y);if(!!H9y)k8c.eX1x(bA9r,function(C9t,Y9P){a7h.bd9U(H9y,Y9P,C9t)});return this};a7h.cPn3x=di1x.cPn3x=function(gJ2x,e8e){gJ2x=a7h.B9s(gJ2x);if(!gJ2x)return{start:0,end:0};if(k8c.vS8K(e8e))e8e={start:e8e,end:e8e};if(e8e!=null){if(e8e.end==null)e8e.end=e8e.start||0;bg9X.bnd3x(gJ2x,e8e)}else{e8e=bg9X.bnj3x(gJ2x)}return e8e};a7h.bd9U=di1x.bd9U=function(H9y,Y9P,C9t){H9y=a7h.B9s(H9y);if(!!H9y)bg9X.bnK3x(H9y,Y9P,C9t);return this};a7h.dr1x=di1x.dr1x=function(H9y,Y9P){H9y=a7h.B9s(H9y);if(!H9y)return"";var hL2x=!window.getComputedStyle?H9y.currentStyle||be9V:window.getComputedStyle(H9y,null);return hL2x[bg9X.bNi1x(Y9P)]||""};a7h.cde7X=function(){var ds1x=/[\s\r\n]+/gi;return function(cn0x){cn0x=(cn0x||"").trim().replace(ds1x," ");if(!cn0x)return;var g8c=a7h.dt1x("style");document.head.appendChild(g8c);bg9X.bnY4c(g8c,bg9X.cCD8v(cn0x));return g8c}}();a7h.cdv7o=function(BY1x){try{BY1x=BY1x.trim();if(!!BY1x)return(new Function(BY1x))()}catch(ex){console.error(ex.message);console.error(ex.stack)}};a7h.vJ8B=function(){var ds1x=/#<.*?>/g,hl2x=+(new Date);return function(lp3x){if(!Qp5u)Qp5u=[];var gd2x="auto-"+hl2x++;Qp5u.push(lp3x.replace(ds1x,gd2x));return gd2x}}();a7h.cbq7j=function(){if(!!Qp5u){a7h.cde7X(Qp5u.join(""));Qp5u=null}return this};a7h.cRQ4U=function(cn0x,lp3x){cn0x=a7h.B9s(cn0x);return!cn0x?null:bg9X.boa4e(cn0x,lp3x)};a7h.w9n=di1x.w9n=function(){bg9X.bmI3x.apply(bg9X,arguments);return this};a7h.y9p=di1x.y9p=function(){bg9X.bmJ3x.apply(bg9X,arguments);return this};a7h.fC2x=di1x.fC2x=function(){bg9X.ZG9x.apply(bg9X,arguments);return this};a7h.bG9x=di1x.bG9x=function(){return bg9X.bmM3x.apply(bg9X,arguments)};if(!document.head)document.head=document.getElementsByTagName("head")[0]||document.body;di1x.isChange=!0})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,fR2x=NEJ.R,bs9j=NEJ.F,a7h=c8g("nej.e"),bg9X=c8g("nej.h"),k8c=c8g("nej.u");var Jt3x=function(i8a,t8l){try{t8l=t8l.toLowerCase();if(i8a===null)return t8l=="null";if(i8a===undefined)return t8l=="undefined";return be9V.toString.call(i8a).toLowerCase()=="[object "+t8l+"]"}catch(e){return!1}};k8c.he2x=function(i8a){return Jt3x(i8a,"function")};k8c.fX2x=function(i8a){return Jt3x(i8a,"string")};k8c.vS8K=function(i8a){return Jt3x(i8a,"number")};k8c.cRR4V=function(i8a){return Jt3x(i8a,"boolean")};k8c.Ju3x=function(i8a){return Jt3x(i8a,"date")};k8c.er1x=function(i8a){return Jt3x(i8a,"array")};k8c.mx4B=function(i8a){return Jt3x(i8a,"object")};k8c.fV2x=function(){var ds1x=/[^\x00-\xfff]/g;return function(bt9k){return(""+(bt9k||"")).replace(ds1x,"**").length}}();k8c.dw1x=function(j8b,p8h){var en1x=k8c.he2x(p8h)?p8h:function(C9t){return C9t===p8h},r8j=k8c.eX1x(j8b,en1x);return r8j!=null?r8j:-1};k8c.cRU4Y=function(){var cdQ7J;var WR7K=function(j8b,qB5G,qA5F){if(qB5G>qA5F)return-1;var JP3x=Math.ceil((qB5G+qA5F)/2),m8e=cdQ7J(j8b[JP3x],JP3x,j8b);if(m8e==0)return JP3x;if(m8e<0)return WR7K(j8b,qB5G,JP3x-1);return WR7K(j8b,JP3x+1,qA5F)};return function(j8b,Qs5x){cdQ7J=Qs5x||bs9j;return WR7K(j8b,0,j8b.length-1)}}();k8c.oB5G=function(j8b,cL0x,O9F){if(!j8b||!j8b.length||!k8c.he2x(cL0x))return null;for(var i=j8b.length-1;i>=0;i--)if(!!cL0x.call(O9F,j8b[i],i,j8b))return i;return null};k8c.bf9W=function(j8b,cL0x,O9F){if(!j8b||!j8b.length||!k8c.he2x(cL0x))return this;if(!!j8b.forEach){j8b.forEach(cL0x,O9F);return this}for(var i=0,l=j8b.length;i<l;i++)cL0x.call(O9F,j8b[i],i,j8b);return this};k8c.eX1x=function(j8b,cL0x,O9F){if(!j8b||!k8c.he2x(cL0x))return null;if(j8b.length!=null){if(j8b.length>0)for(var i=0,l=j8b.length;i<l;i++)if(!!cL0x.call(O9F,j8b[i],i,j8b))return i}if(k8c.mx4B(j8b)){for(var x in j8b)if(j8b.hasOwnProperty(x)&&!!cL0x.call(O9F,j8b[x],x,j8b))return x}return null};k8c.cOS3x=function(kj3x,cOR3x,e8e){kj3x=kj3x||[];e8e=e8e||be9V;var cdX8P=!!e8e.union,zW0x=!!e8e.begin,bbv0x=e8e.compare,cOP2x=cdX8P&&zW0x?k8c.oB5G:k8c.bf9W;cOP2x(cOR3x,function(p8h){if(!!bbv0x)bbv0x=bbv0x.eS1x(p8h);var r8j=k8c.dw1x(kj3x,bbv0x||p8h);if(r8j>=0)kj3x.splice(r8j,1);if(cdX8P)kj3x[zW0x?"unshift":"push"](p8h)});return kj3x};k8c.EH2x=function(bA9r,bt9k){if(!bA9r||!bt9k||!bt9k.replace)return bt9k||"";return bt9k.replace(bA9r.r,function($1){var m8e=bA9r[!bA9r.i?$1.toLowerCase():$1];return m8e!=null?m8e:$1})};k8c.dP1x=function(){var bA9r={r:/\<|\>|\&lt;|\&gt;|\&|\r|\n|\s|\'|\"/g,"<":"&lt;",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;","'":"&#39;","\n":"<br/>","\r":"","&lt;":"&lt;","&gt;":"&gt;"};return function(bt9k){return k8c.EH2x(bA9r,bt9k)}}();k8c.EA1x=function(){var bA9r={r:/\&(?:lt|gt|amp|nbsp|#39|quot)\;|\<br\/\>/gi,"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" ","&#39;":"'","&quot;":'"',"<br/>":"\n"};return function(bt9k){return k8c.EH2x(bA9r,bt9k)}}();k8c.iC3x=function(){var bA9r={i:!0,r:/\byyyy|yy|MM|cM|eM|M|dd|d|HH|H|mm|ms|ss|m|s|w|ct|et\b/g},cOO2x=["上午","下午"],cON2x=["A.M.","P.M."],bpi4m=["日","一","二","三","四","五","六"],cOG2x=["一","二","三","四","五","六","七","八","九","十","十一","十二"],cOD2x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];var WI7B=function(hF2x){hF2x=parseInt(hF2x)||0;return(hF2x<10?"0":"")+hF2x};var cOC2x=function(rJ6D){return rJ6D<12?0:1};return function(bB9s,PJ5O,cOA2x){if(!bB9s||!PJ5O)return"";bB9s=k8c.bet1x(bB9s);bA9r.yyyy=bB9s.getFullYear();bA9r.yy=(""+bA9r.yyyy).substr(2);bA9r.M=bB9s.getMonth()+1;bA9r.MM=WI7B(bA9r.M);bA9r.eM=cOD2x[bA9r.M-1];bA9r.cM=cOG2x[bA9r.M-1];bA9r.d=bB9s.getDate();bA9r.dd=WI7B(bA9r.d);bA9r.H=bB9s.getHours();bA9r.HH=WI7B(bA9r.H);bA9r.m=bB9s.getMinutes();bA9r.mm=WI7B(bA9r.m);bA9r.s=bB9s.getSeconds();bA9r.ss=WI7B(bA9r.s);bA9r.ms=bB9s.getMilliseconds();bA9r.w=bpi4m[bB9s.getDay()];var bFy8q=cOC2x(bA9r.H);bA9r.ct=cOO2x[bFy8q];bA9r.et=cON2x[bFy8q];if(!!cOA2x){bA9r.H=bA9r.H%12}return k8c.EH2x(bA9r,PJ5O)}}();k8c.bet1x=function(bB9s){var dk1x=bB9s;if(k8c.fX2x(bB9s))dk1x=new Date(Date.parse(bB9s));if(!k8c.Ju3x(bB9s))dk1x=new Date(bB9s);return dk1x};k8c.Qh5m=function(cOx2x,cOp2x){return(new Number(cOx2x)).toFixed(cOp2x)};k8c.bps4w=function(){var hk2x=/([^\/:])\/.*$/,lq3x=/\/[^\/]+$/,KW3x=/[#\?]/,bpt4x=location.href.split(/[?#]/)[0],vw8o=document.createElement("a");var bpv4z=function(jX3x){return(jX3x||"").indexOf("://")>0};var bGH9y=function(jX3x){return(jX3x||"").split(KW3x)[0].replace(lq3x,"/")};var cOh2x=function(jX3x,gA2x){if(jX3x.indexOf("/")==0)return gA2x.replace(hk2x,"$1")+jX3x;return bGH9y(gA2x)+jX3x};bpt4x=bGH9y(bpt4x);return function(jX3x,gA2x){jX3x=(jX3x||"").trim();if(!bpv4z(gA2x))gA2x=bpt4x;if(!jX3x)return gA2x;if(bpv4z(jX3x))return jX3x;jX3x=cOh2x(jX3x,gA2x);vw8o.href=jX3x;jX3x=vw8o.href;return bpv4z(jX3x)?jX3x:vw8o.getAttribute("href",4)}}();k8c.cOd2x=function(){var ds1x=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(Z9Q){if(ds1x.test(Z9Q||""))return RegExp.$1.toLowerCase();return""}}();k8c.bGT9K=function(I9z,iS3x){if(!I9z)return iS3x;var Y9P=I9z.tagName.toLowerCase(),j8b=a7h.dm1x(I9z);if(!j8b||!j8b.length){iS3x[Y9P]=I9z.textContent||I9z.text||"";return iS3x}var cm0x={};iS3x[Y9P]=cm0x;k8c.bf9W(j8b,function(g8c){k8c.bGT9K(g8c,cm0x)});return iS3x};k8c.cSa4e=function(Gj2x){try{return k8c.bGT9K(a7h.ccp7i(Gj2x),{})}catch(ex){return null}};k8c.Ws7l=function(iG3x,Wr7k){var iS3x={};k8c.bf9W((iG3x||"").split(Wr7k),function(Y9P){var bjj2x=Y9P.split("=");if(!bjj2x||!bjj2x.length)return;var K9B=bjj2x.shift();if(!K9B)return;iS3x[decodeURIComponent(K9B)]=decodeURIComponent(bjj2x.join("="))});return iS3x};k8c.xd9U=function(gR2x,Wr7k,or5w){if(!gR2x)return"";var bv9m=[];for(var x in gR2x){bv9m.push(encodeURIComponent(x)+"="+(!!or5w?encodeURIComponent(gR2x[x]):gR2x[x]))}return bv9m.join(Wr7k||",")};k8c.hb2x=function(bx9o){return k8c.Ws7l(bx9o,"&")};k8c.cJ0x=function(gR2x){return k8c.xd9U(gR2x,"&",!0)};k8c.cSb4f=function(gR2x){return bg9X.Rb5g(gR2x)};k8c.cSd4h=function(j8b,en1x){var m8e={};k8c.bf9W(j8b,function(p8h){var K9B=p8h;if(!!en1x){K9B=en1x(p8h)}m8e[K9B]=p8h});return m8e};k8c.cSh4l=function(hF2x,gz2x){var cNO2x=(""+hF2x).length,cNN2x=Math.max(1,parseInt(gz2x)||0),dB1x=cNN2x-cNO2x;if(dB1x>0){hF2x=(new Array(dB1x+1)).join("0")+hF2x}return""+hF2x};k8c.bkQ3x=function(gR2x,Y9P){if(!k8c.er1x(Y9P)){try{delete gR2x[Y9P]}catch(e){gR2x[Y9P]=undefined}return this}k8c.bf9W(Y9P,k8c.bkQ3x.f8d(k8c,gR2x));return this};k8c.Yi8a=function(){var bHG9x="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";return function(br9i){br9i=br9i||10;var m8e=[];for(var i=0,bHL9C;i<br9i;++i){bHL9C=Math.floor(Math.random()*bHG9x.length);m8e.push(bHG9x.charAt(bHL9C))}return m8e.join("")}}();k8c.DR1x=function(fK2x,fn1x){return Math.floor(Math.random()*(fn1x-fK2x)+fK2x)};k8c.pu5z=function(br9i){br9i=Math.max(0,Math.min(br9i||8,30));var fK2x=Math.pow(10,br9i-1),fn1x=fK2x*10;return k8c.DR1x(fK2x,fn1x).toString()};k8c.bbB0x=function(){var hl2x=+(new Date);return function(){return""+hl2x++}}()})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,fR2x=NEJ.R,bs9j=NEJ.F,h8b=c8g("nej.v"),k8c=c8g("nej.u"),P9G=c8g("nej.ut"),qj5o;if(!!P9G.cS1x)return;P9G.cS1x=NEJ.C();qj5o=P9G.cS1x.prototype;P9G.cS1x.A9r=function(e8e){e8e=e8e||{};var cP0x=!!this.DQ1x&&this.DQ1x.shift();if(!cP0x){cP0x=new this(e8e);this.cNI2x=(this.cNI2x||0)+1}cP0x.bp9g(e8e);return cP0x};P9G.cS1x.W9N=function(){var VW7P=function(p8h,r8j,j8b){p8h.W9N();j8b.splice(r8j,1)};return function(cP0x){if(!cP0x)return null;if(!k8c.er1x(cP0x)){if(!(cP0x instanceof this)){var gd2x=cP0x.constructor;if(!!gd2x.W9N)gd2x.W9N(cP0x);return null}if(cP0x==this.fH2x)delete this.fH2x;if(cP0x==this.DP1x)delete this.DP1x;cP0x.bC9t();if(!this.DQ1x)this.DQ1x=[];if(k8c.dw1x(this.DQ1x,cP0x)<0){this.DQ1x.push(cP0x)}return null}k8c.oB5G(cP0x,VW7P,this)}}();P9G.cS1x.fZ2x=function(e8e){e8e=e8e||{};if(!this.fH2x)this.fH2x=this.A9r(e8e);return this.fH2x};P9G.cS1x.bIb9S=function(e8e,uc8U){e8e=e8e||{};if(!!uc8U&&!!this.DP1x){this.DP1x.W9N();delete this.DP1x}if(!this.DP1x){this.DP1x=this.A9r(e8e)}else{this.DP1x.bp9g(e8e)}return this.DP1x};qj5o.cF0x=function(){var hl2x=+(new Date);return function(){this.id=hl2x++;this.no4s={};this.bIj9a={}}}();qj5o.bp9g=function(e8e){this.bpI4M(e8e)};qj5o.bC9t=function(){this.hH2x();this.Px5C()};qj5o.ca0x=function(){var hl2x=+(new Date);var cNy2x=function(bk9b){if(!bk9b||bk9b.length<3)return;this.bIj9a["de-"+hl2x++]=bk9b;h8b.s8k.apply(h8b,bk9b)};return function(j8b){k8c.bf9W(j8b,cNy2x,this)}}();qj5o.Px5C=function(){var cNx2x=function(bk9b,K9B,bA9r){delete bA9r[K9B];h8b.ny4C.apply(h8b,bk9b)};return function(){k8c.eX1x(this.bIj9a,cNx2x)}}();qj5o.cSo4s=function(en1x){en1x=en1x||bs9j;k8c.eX1x(this,function(HK2x,K9B,bA9r){if(!!HK2x&&!!HK2x.W9N&&!en1x(HK2x)){delete bA9r[K9B];HK2x.W9N()}})};qj5o.W9N=function(){this.constructor.W9N(this)};qj5o.bpJ4N=function(t8l){var d8f=this.no4s[t8l.toLowerCase()];return!!d8f&&d8f!==bs9j};qj5o.s8k=function(t8l,d8f){this.zy0x.apply(this,arguments);return this};qj5o.ny4C=function(t8l,d8f){var t8l=(t8l||"").toLowerCase(),bZ0x=this.no4s[t8l];if(!k8c.er1x(bZ0x)){if(bZ0x==d8f)delete this.no4s[t8l];return}k8c.oB5G(bZ0x,function(eM1x,r8j,j8b){if(eM1x==d8f)j8b.splice(r8j,1)})};qj5o.zy0x=function(t8l,d8f){if(!!t8l&&k8c.he2x(d8f))this.no4s[t8l.toLowerCase()]=d8f;return this};qj5o.bpI4M=function(){var cNu2x=function(d8f,t8l){this.zy0x(t8l,d8f)};return function(bZ0x){k8c.eX1x(bZ0x,cNu2x,this);return this}}();qj5o.hH2x=function(){var bpK4O=function(d8f,t8l){this.hH2x(t8l)};return function(t8l){var t8l=(t8l||"").toLowerCase();if(!!t8l){delete this.no4s[t8l]}else{k8c.eX1x(this.no4s,bpK4O,this)}return this}}();qj5o.bpM4Q=function(t8l,d8f){if(!t8l||!k8c.he2x(d8f))return this;t8l=t8l.toLowerCase();var bZ0x=this.no4s[t8l];if(!bZ0x){this.no4s[t8l]=d8f;return this}if(!k8c.er1x(bZ0x)){this.no4s[t8l]=[bZ0x]}this.no4s[t8l].push(d8f);return this};qj5o.z9q=function(t8l){var d8f=this.no4s[(t8l||"").toLowerCase()];if(!d8f)return this;var bk9b=fR2x.slice.call(arguments,1);if(!k8c.er1x(d8f))return d8f.apply(this,bk9b);k8c.bf9W(d8f,function(dF1x){try{dF1x.apply(this,bk9b)}catch(ex){console.error(ex.message);console.error(ex.stack)}},this);return this};P9G.bhf2x=function(){var Q9H={};return function(D9u,gd2x,e8e){var fD2x=gd2x.cNq2x;if(!fD2x){fD2x=k8c.Yi8a(10);gd2x.cNq2x=fD2x}var K9B=D9u+"-"+fD2x,cP0x=Q9H[K9B];if(!!e8e&&!cP0x){cP0x=gd2x.A9r(e8e);cP0x.W9N=cP0x.W9N.eW1x(function(d8f){delete Q9H[K9B];delete cP0x.W9N});Q9H[K9B]=cP0x}return cP0x}}()})();
(function(){var o=NEJ.O,u=NEJ.P("nej.u"),j=NEJ.P("nej.j");j.gX2x=function(){var dk1x=new Date,cNp2x=+dk1x,bpN4R=864e5;var cNm2x=function(Y9P){var ub8T=document.cookie,vn8f="\\b"+Y9P+"=",bjf2x=ub8T.search(vn8f);if(bjf2x<0)return"";bjf2x+=vn8f.length-2;var zk0x=ub8T.indexOf(";",bjf2x);if(zk0x<0)zk0x=ub8T.length;return ub8T.substring(bjf2x,zk0x)||""};return function(Y9P,i8a){if(i8a===undefined)return cNm2x(Y9P);if(u.fX2x(i8a)){if(!!i8a){document.cookie=Y9P+"="+i8a+";";return i8a}i8a={expires:-100}}i8a=i8a||o;var ub8T=Y9P+"="+(i8a.value||"")+";";delete i8a.value;if(i8a.expires!==undefined){dk1x.setTime(cNp2x+i8a.expires*bpN4R);i8a.expires=dk1x.toGMTString()}ub8T+=u.xd9U(i8a,";");document.cookie=ub8T}}()})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,eH1x=c8g("nej.c"),ec1x=c8g("nej.g"),a7h=c8g("nej.e"),v9m=c8g("nej.j"),G9x=c8g("nej.ut"),P9G=c8g("nej.ut.j"),k8c=c8g("nej.u"),b8h;if(!!P9G.Po5t)return;P9G.Po5t=NEJ.C();b8h=P9G.Po5t.M9D(G9x.cS1x);b8h.bp9g=function(e8e){this.bq9h(e8e);this.qW5b={noescape:false,url:"",sync:!1,cookie:!1,type:"text",method:"GET",timeout:6e4};NEJ.EX(this.qW5b,e8e);var GB2x=eH1x.B9s("csrf");if((/^\/[^\/]/.test(this.qW5b.url)||this.qW5b.url.indexOf(location.protocol+"//"+location.host)==0)&&!!GB2x.cookie&&!!GB2x.param){var bx9o=encodeURIComponent(GB2x.param)+"="+encodeURIComponent(v9m.gX2x(GB2x.cookie)||""),Wr7k=this.qW5b.url.indexOf("?")<0?"?":"&";this.qW5b.url+=Wr7k+bx9o}this.bkd2x=e8e.headers||{};var bt9k=this.bkd2x[ec1x.AJ0x];if(bt9k==null)this.bkd2x[ec1x.AJ0x]=ec1x.ctk4o};b8h.bC9t=function(){this.bJ9A();delete this.Ds1x;delete this.qW5b;delete this.bkd2x};b8h.cNk2x=function(bt9k){var bA9r={r:/\<|\>/g,"<":"&lt;",">":"&gt;"};if(!this.qW5b.noescape){return k8c.EH2x(bA9r,bt9k)}else{return bt9k}};b8h.wP9G=function(d8f){var dZ1x=d8f.status;if(dZ1x==-1){this.z9q("onerror",{code:ec1x.bOX1x,message:"请求["+this.qW5b.url+"]超时！"});return}if((""+dZ1x).indexOf("2")!=0){this.z9q("onerror",{data:dZ1x,code:ec1x.bmq3x,message:"服务器返回异常状态["+dZ1x+"]!",extData:d8f.result});return}this.z9q("onload",a7h.cPA3x(this.cNk2x(d8f.result),this.qW5b.type))};b8h.cr0x=bs9j;b8h.bpO4S=function(i8a){var Z9Q=this.qW5b.url;if(!Z9Q){this.z9q("onerror",{code:ec1x.bmg3x,message:"没有输入请求地址！"});return this}try{this.qW5b.data=i8a==null?null:i8a;var d8f={request:this.qW5b,headers:this.bkd2x};try{this.z9q("onbeforerequest",d8f)}catch(ex){console.error(ex.message);console.error(ex.stack)}this.cr0x(d8f)}catch(e){this.z9q("onerror",{code:ec1x.bmq3x,message:"请求["+Z9Q+"]失败:"+e.message+"！"})}return this};b8h.le3x=bs9j})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,bg9X=c8g("nej.h"),ec1x=c8g("nej.g"),k8c=c8g("nej.u"),P9G=c8g("nej.ut.j"),Q9H={},Vn7g;if(!!P9G.bbf9W)return;P9G.bbf9W=NEJ.C();Vn7g=P9G.bbf9W.M9D(P9G.Po5t);Vn7g.bC9t=function(){this.bJ9A();window.clearTimeout(this.dR1x);delete this.dR1x;try{this.ua8S.onreadystatechange=bs9j;this.ua8S.abort()}catch(e){}delete this.ua8S};Vn7g.cr0x=function(){var cNi2x=function(C9t,K9B){this.ua8S.setRequestHeader(K9B,C9t)};return function(e8e){var gv2x=e8e.request,kC3x=e8e.headers;this.ua8S=bg9X.bpP4T();if(kC3x[ec1x.AJ0x]===ec1x.HJ2x){delete kC3x[ec1x.AJ0x];this.ua8S.upload.onprogress=this.gU2x.f8d(this,1);if(gv2x.data.tagName==="FORM")gv2x.data=new FormData(gv2x.data)}this.ua8S.onreadystatechange=this.gU2x.f8d(this,2);if(gv2x.timeout!=0){this.dR1x=window.setTimeout(this.gU2x.f8d(this,3),gv2x.timeout)}this.ua8S.open(gv2x.method,gv2x.url,!gv2x.sync);k8c.eX1x(kC3x,cNi2x,this);if(!!this.qW5b.cookie&&"withCredentials"in this.ua8S)this.ua8S.withCredentials=!0;this.ua8S.send(gv2x.data)}}();Vn7g.gU2x=function(t8l){switch(t8l){case 1:this.z9q("onuploading",arguments[1]);break;case 2:if(this.ua8S.readyState==4)this.wP9G({status:this.ua8S.status,result:this.ua8S.responseText||""});break;case 3:this.wP9G({status:-1});break}};Vn7g.le3x=function(){this.wP9G({status:0});return this}})();
(function(){if(typeof TrimPath==="undefined"){TrimPath={};if(typeof exports!=="undefined")TrimPath=exports}var Vm7f={},bbJ0x=[],bJe9V=/\s+/g,hl2x=+(new Date),Pn5s,bU0x,io2x;var IM3x=function(){var hk2x=/^\s*[\[\{'"].*?[\]\}'"]\s*$/,lq3x=/[\&\|\<\>\+\-\*\/\%\,\(\)\[\]\?\:\!\=\;\s]/,KW3x=/^(?:defined|null|undefined|true|false|instanceof|new|this|typeof|\$v|[\d]+)$/i,bpX4b=/^new\s+/,cMP2x=/['"]/;var cMN2x=function(C9t){if(hk2x.test(C9t))return;C9t=C9t.split(".")[0].trim();if(!C9t||cMP2x.test(C9t))return;C9t=C9t.replace(bpX4b,"");try{if(KW3x.test(C9t))return;io2x[C9t]=1}catch(e){}};return function(bt9k){bt9k=bt9k||"";if(!bt9k||hk2x.test(bt9k))return;var bv9m=bt9k.split(lq3x);for(var i=0,l=bv9m.length;i<l;i++)cMN2x(bv9m[i])}}();var cMJ2x=function(dU1x){if(dU1x[2]!="in")throw"bad for loop statement: "+dU1x.join(" ");bbJ0x.push(dU1x[1]);IM3x(dU1x[3]);return"var __HASH__"+dU1x[1]+" = "+dU1x[3]+","+dU1x[1]+","+dU1x[1]+"_count=0;"+"if (!!__HASH__"+dU1x[1]+")"+"for(var "+dU1x[1]+"_key in __HASH__"+dU1x[1]+"){"+dU1x[1]+" = __HASH__"+dU1x[1]+"["+dU1x[1]+"_key];"+"if (typeof("+dU1x[1]+')=="function") continue;'+dU1x[1]+"_count++;"};var cMI2x=function(){var dU1x=bbJ0x[bbJ0x.length-1];return"}; if(!__HASH__"+dU1x+"||!"+dU1x+"_count){"};var cMG2x=function(){bbJ0x.pop();return"};"};var cME2x=function(dU1x){if(dU1x[2]!="as")throw"bad for list loop statement: "+dU1x.join(" ");var Vc7V=dU1x[1].split("..");if(Vc7V.length>1){IM3x(Vc7V[0]);IM3x(Vc7V[1]);return"for(var "+dU1x[3]+","+dU1x[3]+"_index=0,"+dU1x[3]+"_beg="+Vc7V[0]+","+dU1x[3]+"_end="+Vc7V[1]+","+dU1x[3]+"_length=parseInt("+dU1x[3]+"_end-"+dU1x[3]+"_beg+1);"+dU1x[3]+"_index<"+dU1x[3]+"_length;"+dU1x[3]+"_index++){"+dU1x[3]+" = "+dU1x[3]+"_beg+"+dU1x[3]+"_index;"}else{IM3x(dU1x[1]);return"for(var __LIST__"+dU1x[3]+" = "+dU1x[1]+","+dU1x[3]+","+dU1x[3]+"_index=0,"+dU1x[3]+"_length=__LIST__"+dU1x[3]+".length;"+dU1x[3]+"_index<"+dU1x[3]+"_length;"+dU1x[3]+"_index++){"+dU1x[3]+" = __LIST__"+dU1x[3]+"["+dU1x[3]+"_index];"}};var cMD2x=function(dU1x){if(!dU1x||!dU1x.length)return;dU1x.shift();var Y9P=dU1x[0].split("(")[0];return"var "+Y9P+" = function"+dU1x.join("").replace(Y9P,"")+"{var __OUT=[];"};var cMC2x=function(dU1x){if(!dU1x[1])throw"bad include statement: "+dU1x.join(" ");return'if (typeof inline == "function"){__OUT.push(inline('};var bqe4i=function(lt4x,dU1x){IM3x(dU1x.slice(1).join(" "));return lt4x};var cMv2x=function(dU1x){return bqe4i("if(",dU1x)};var cMu2x=function(dU1x){return bqe4i("}else if(",dU1x)};var cMt2x=function(dU1x){return bqe4i("var ",dU1x)};bU0x={blk:/^\{(cdata|minify|eval)/i,tag:"forelse|for|list|if|elseif|else|var|macro|break|notrim|trim|include",def:{"if":{pfix:cMv2x,sfix:"){",pmin:1},"else":{pfix:"}else{"},elseif:{pfix:cMu2x,sfix:"){",pdft:"true"},"/if":{pfix:"}"},"for":{pfix:cMJ2x,pmin:3},forelse:{pfix:cMI2x},"/for":{pfix:cMG2x},list:{pfix:cME2x,pmin:3},"/list":{pfix:"};"},"break":{pfix:"break;"},"var":{pfix:cMt2x,sfix:";"},macro:{pfix:cMD2x},"/macro":{pfix:'return __OUT.join("");};'},trim:{pfix:function(){Pn5s=!0}},"/trim":{pfix:function(){Pn5s=null}},inline:{pfix:cMC2x,pmin:1,sfix:"));}"}},ext:{seed:function(lt4x){return(lt4x||"")+""+hl2x},"default":function(C9t,lb3x){return C9t||lb3x}}};var cMq2x=function(){var cMp2x=/\\([\{\}])/g;return function(bt9k,kl3x){bt9k=bt9k.replace(cMp2x,"$1");var dU1x=bt9k.slice(1,-1).split(bJe9V),bl9c=bU0x.def[dU1x[0]];if(!bl9c){bfG1x(bt9k,kl3x);return}if(!!bl9c.pmin&&bl9c.pmin>=dU1x.length)throw"Statement needs more parameters:"+bt9k;kl3x.push(!!bl9c.pfix&&typeof bl9c.pfix!="string"?bl9c.pfix(dU1x):bl9c.pfix||"");if(!!bl9c.sfix){if(dU1x.length<=1){if(!!bl9c.pdft)kl3x.push(bl9c.pdft)}else{for(var i=1,l=dU1x.length;i<l;i++){if(i>1)kl3x.push(" ");kl3x.push(dU1x[i])}}kl3x.push(bl9c.sfix)}}}();var bKe0x=function(Pe5j,kl3x){if(!Pe5j||!Pe5j.length)return;if(Pe5j.length==1){var bqh4l=Pe5j.pop();IM3x(bqh4l);kl3x.push(bqh4l==""?'""':bqh4l);return}var bqi4m=Pe5j.pop().split(":");kl3x.push("__MDF['"+bqi4m.shift()+"'](");bKe0x(Pe5j,kl3x);if(bqi4m.length>0){var bk9b=bqi4m.join(":");IM3x(bk9b);kl3x.push(","+bk9b)}kl3x.push(")")};var bfG1x=function(bt9k,kl3x){if(!bt9k)return;var zP0x=bt9k.split("\n");if(!zP0x||!zP0x.length)return;for(var i=0,l=zP0x.length,ih2x;i<l;i++){ih2x=zP0x[i];if(!!Pn5s){ih2x=ih2x.trim();if(!ih2x)continue}cMl2x(ih2x,kl3x);if(!!Pn5s&&i<l-1)kl3x.push("__OUT.push('\\n');")}};var cMl2x=function(){var cMk2x=/\|\|/g,cMi2x=/#@@#/g;return function(bt9k,kl3x){var UJ7C="}",UI7B=-1,br9i=bt9k.length,zW0x,du1x,Pa5f,bia2x,UG7z;while(UI7B+UJ7C.length<br9i){zW0x="${";du1x="}";Pa5f=bt9k.indexOf(zW0x,UI7B+UJ7C.length);if(Pa5f<0)break;if(bt9k.charAt(Pa5f+2)=="%"){zW0x="${%";du1x="%}"}bia2x=bt9k.indexOf(du1x,Pa5f+zW0x.length);if(bia2x<0)break;biy2x(bt9k.substring(UI7B+UJ7C.length,Pa5f),kl3x);UG7z=bt9k.substring(Pa5f+zW0x.length,bia2x).replace(cMk2x,"#@@#").split("|");for(var i=0,l=UG7z.length;i<l;UG7z[i]=UG7z[i].replace(cMi2x,"||"),i++);kl3x.push("__OUT.push(");bKe0x(UG7z,kl3x);kl3x.push(");");UJ7C=du1x;UI7B=bia2x}biy2x(bt9k.substring(UI7B+UJ7C.length),kl3x)}}();var biy2x=function(){var bA9r={r:/\n|\\|\'/g,"\n":"\\n","\\":"\\\\","'":"\\'"};var cMa2x=function(bt9k){return(bt9k||"").replace(bA9r.r,function($1){return bA9r[$1]||$1})};return function(bt9k,kl3x){if(!bt9k)return;kl3x.push("__OUT.push('"+cMa2x(bt9k)+"');")}}();var cLZ2x=function(){var cLS1x=/\t/g,cLR1x=/\n/g,cLQ1x=/\r\n?/g;var bKV0x=function(bt9k,zW0x){var r8j=bt9k.indexOf("}",zW0x+1);while(bt9k.charAt(r8j-1)=="\\"){r8j=bt9k.indexOf("}",r8j+1)}return r8j};var cLN1x=function(){var bv9m=[],Kc3x=arguments[0];for(var x in Kc3x){x=(x||"").trim();if(!x)continue;bv9m.push(x+"=$v('"+x+"')")}return bv9m.length>0?"var "+bv9m.join(",")+";":""};return function(bt9k){io2x={};bt9k=bt9k.replace(cLQ1x,"\n").replace(cLS1x,"    ");var tY8Q=["if(!__CTX) return '';",""];tY8Q.push("function $v(__NAME){var v = __CTX[__NAME];return v==null?window[__NAME]:v;};");tY8Q.push("var defined=function(__NAME){return __CTX[__NAME]!=null;},");tY8Q.push("__OUT=[];");var Ke3x=-1,br9i=bt9k.length;var ok4o,OU5Z,Ur7k,Uo7h,Dw1x,Uh6b,bqt4x,Ug6a;while(Ke3x+1<br9i){ok4o=Ke3x;ok4o=bt9k.indexOf("{",ok4o+1);while(ok4o>=0){OU5Z=bKV0x(bt9k,ok4o);Ur7k=bt9k.substring(ok4o,OU5Z);Uo7h=Ur7k.match(bU0x.blk);if(!!Uo7h){Dw1x=Uo7h[1].length+1;Uh6b=bt9k.indexOf("}",ok4o+Dw1x);if(Uh6b>=0){bqt4x=Uh6b-ok4o-Dw1x<=0?"{/"+Uo7h[1]+"}":Ur7k.substr(Dw1x+1);Dw1x=bt9k.indexOf(bqt4x,Uh6b+1);if(Dw1x>=0){bfG1x(bt9k.substring(Ke3x+1,ok4o),tY8Q);Ug6a=bt9k.substring(Uh6b+1,Dw1x);switch(Uo7h[1]){case"cdata":biy2x(Ug6a,tY8Q);break;case"minify":biy2x(Ug6a.replace(cLR1x," ").replace(bJe9V," "),tY8Q);break;case"eval":if(!!Ug6a)tY8Q.push("__OUT.push((function(){"+Ug6a+"})());");break}ok4o=Ke3x=Dw1x+bqt4x.length-1}}}else if(bt9k.charAt(ok4o-1)!="$"&&bt9k.charAt(ok4o-1)!="\\"&&Ur7k.substr(Ur7k.charAt(1)=="/"?2:1).search(bU0x.tag)==0){break}ok4o=bt9k.indexOf("{",ok4o+1)}if(ok4o<0)break;OU5Z=bKV0x(bt9k,ok4o);if(OU5Z<0)break;bfG1x(bt9k.substring(Ke3x+1,ok4o),tY8Q);cMq2x(bt9k.substring(ok4o,OU5Z+1),tY8Q);Ke3x=OU5Z}bfG1x(bt9k.substring(Ke3x+1),tY8Q);tY8Q.push(';return __OUT.join("");');tY8Q[1]=cLN1x(io2x);io2x=null;return new Function("__CTX","__MDF",tY8Q.join(""))}}();TrimPath.seed=function(){return hl2x};TrimPath.merge=function(){var Ua6U={};TrimPath.dump=function(){return{func:Ua6U,text:Vm7f}};return function(fD2x,i8a,kq3x){try{i8a=i8a||{};if(!Ua6U[fD2x]&&!Vm7f[fD2x])return"";if(!Ua6U[fD2x]){Ua6U[fD2x]=cLZ2x(Vm7f[fD2x]);delete Vm7f[fD2x]}if(!!kq3x){for(var x in bU0x.ext)if(!kq3x[x])kq3x[x]=bU0x.ext[x]}return Ua6U[fD2x](i8a,kq3x||bU0x.ext)}catch(ex){return ex.message||""}}}();TrimPath.parse=function(){var cLB1x=+(new Date);return function(bt9k,fD2x){if(!bt9k)return"";fD2x=fD2x||"ck_"+cLB1x++;Vm7f[fD2x]=bt9k;return fD2x}}()})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),k8c=c8g("nej.u"),eg1x={},bLT0x={};a7h.ON5S=TrimPath.seed;a7h.cg0x=function(){var bMq0x=function(D9u){return!a7h.iQ3x?"":a7h.iQ3x(D9u)};return function(fD2x,i8a,kq3x){i8a=NEJ.X(NEJ.X({},bLT0x),i8a);i8a.inline=bMq0x;kq3x=NEJ.X(NEJ.X({},eg1x),kq3x);kq3x.rand=k8c.pu5z;kq3x.format=k8c.iC3x;kq3x.escape=k8c.dP1x;kq3x.inline=bMq0x;return TrimPath.merge(fD2x,i8a,kq3x)}}();a7h.eK1x=function(bt9k,cLi1x){if(!bt9k)return"";var fD2x,H9y=a7h.B9s(bt9k);if(!!H9y){fD2x=H9y.id;bt9k=H9y.value||H9y.innerText;if(!cLi1x)a7h.cY1x(H9y)}return TrimPath.parse(bt9k,fD2x)};a7h.dJ1x=function(bI9z,fD2x,i8a,kq3x){bI9z=a7h.B9s(bI9z);if(!!bI9z)bI9z.innerHTML=a7h.cg0x(fD2x,i8a,kq3x);return this};a7h.cSw4A=function(bA9r){NEJ.X(eg1x,bA9r)};a7h.cLg1x=function(bA9r){NEJ.X(bLT0x,bA9r)};c8g("dbg").dumpJST=function(){return TrimPath.dump()}})();
(function(){var cA0x=NEJ.P("nej.p"),P9G=window,mo4s=cA0x.Rn6h,bNd1x=mo4s.ipad||mo4s.iphone;if(!bNd1x&&!!P9G.requestAnimationFrame&&!!P9G.cancelRequestAnimationFrame)return;var lt4x=cA0x.dC1x.prefix.pro;if(!bNd1x&&!!P9G[lt4x+"RequestAnimationFrame"]&&!!P9G[lt4x+"CancelRequestAnimationFrame"]){P9G.requestAnimationFrame=P9G[lt4x+"RequestAnimationFrame"];P9G.cancelRequestAnimationFrame=P9G[lt4x+"CancelRequestAnimationFrame"];return}var bbV0x=mo4s.desktop?80:mo4s.ios?50:30;P9G.requestAnimationFrame=function(cL0x){return window.setTimeout(function(){try{cL0x(+(new Date))}catch(ex){}},1e3/bbV0x)};P9G.cancelRequestAnimationFrame=function(D9u){window.clearTimeout(D9u);return this}})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,k8c=c8g("nej.u"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),bg9X=c8g("nej.h"),di1x=c8g("nej.x"),sg6a=c8g("nej.ut.j.cb"),gK2x;if(!!a7h.tW8O)return;a7h.tW8O=di1x.tW8O=function(){var Q9H={},hk2x=/^(?:mouse.*|(?:dbl)?click)$/i;window.onflashevent=function(d8f){var D9u=decodeURIComponent(d8f.target),t8l=d8f.type.toLowerCase();var dF1x=Q9H[D9u+"-on"+t8l];if(!!dF1x){try{dF1x(d8f)}catch(e){}return}var cN0x=Q9H[D9u+"-tgt"];if(!!cN0x&&hk2x.test(t8l)){bNp1x(cN0x,d8f)}};var bqJ4N=function(e8e){var bI9z=a7h.B9s(e8e.parent)||document.body,ek1x=a7h.cg0x(gK2x,e8e);bI9z.insertAdjacentHTML(!e8e.hidden?"beforeEnd":"afterBegin",ek1x)};var bNp1x=function(D9u,d8f){var t8l=d8f.type.toLowerCase();requestAnimationFrame(function(){h8b.z9q(D9u,t8l)})};var cKU1x=function(it3x){return!!it3x&&!!it3x.inited&&!!it3x.inited()};var TI6C=function(D9u){var bv9m=[document.embeds[D9u],a7h.B9s(D9u),document[D9u],window[D9u]],r8j=k8c.eX1x(bv9m,cKU1x),it3x=bv9m[r8j],bqK4O=D9u+"-count";Q9H[bqK4O]++;if(!!it3x||Q9H[bqK4O]>100){Q9H[D9u](it3x);delete Q9H[D9u];delete Q9H[bqK4O];return}window.setTimeout(TI6C.f8d(null,D9u),300)};var cKN1x=function(e8e){var D9u=e8e.id,cs0x=e8e.params;if(!cs0x){cs0x={};e8e.params=cs0x}var io2x=cs0x.flashvars||"";io2x+=(!io2x?"":"&")+("id="+D9u);if(!e8e.hidden&&(!!e8e.target||bg9X.bfJ1x(cs0x.wmode))){var ix3x=a7h.my4C(e8e.target)||a7h.my4C(e8e.parent),bdp0x=k8c.bbB0x();sg6a["cb"+bdp0x]=bNp1x.f8d(null,ix3x);io2x+="&onevent=nej.ut.j.cb.cb"+bdp0x;Q9H[D9u+"-tgt"]=ix3x}cs0x.flashvars=io2x;k8c.eX1x(e8e,function(C9t,K9B){if(k8c.he2x(C9t)&&K9B!="onready"){Q9H[D9u+"-"+K9B]=C9t}})};return function(e8e){e8e=NEJ.X({},e8e);if(!e8e.src)return;var D9u="flash_"+k8c.bbB0x();e8e.id=D9u;cKN1x(e8e);bqJ4N(e8e);if(!e8e.onready)return;Q9H[D9u]=e8e.onready;Q9H[D9u+"-count"]=0;TI6C(D9u)}}();gK2x=a7h.eK1x('{var hide  = defined("hidden")&&!!hidden}{var param = defined("params")&&params||NEJ.O}{var width = !hide?width:"1px",height = !hide?height:"1px"}{if hide}<div style="position:absolute;top:0;left:0;width:1px;height:1px;z-index:10000;overflow:hidden;">{/if}<object classid = "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"codebase = "http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"width = "${width|default:"100px"}"height = "${height|default:"100px"}" id="${id}"><param value="${src}" name="movie">{for x in param}<param value="${x}" name="${x_key}"/>{/for}<embed src="${src}" name="${id}"width="${width|default:"100px"}"height="${height|default:"100px"}"pluginspage="http://www.adobe.com/go/getflashplayer"type="application/x-shockwave-flash"{for x in param}${x_key}="${x}" {/for}></embed></object>{if hide}</div>{/if}');di1x.isChange=!0})();
(function(){var c8g=NEJ.P,eH1x=c8g("nej.c"),a7h=c8g("nej.e"),k8c=c8g("nej.u"),P9G=c8g("nej.ut.j"),sg6a=c8g("nej.ut.j.cb"),Q9H={},hl2x=+(new Date),bqP4T;if(!!P9G.bqQ4U)return;sg6a["ld"+hl2x]=function(K9B,cM0x){var kM3x=Q9H[K9B];if(!kM3x)return;delete Q9H[K9B];kM3x.wP9G({status:200,result:cM0x})};sg6a["er"+hl2x]=function(K9B,dZ1x){var kM3x=Q9H[K9B];if(!kM3x)return;delete Q9H[K9B];kM3x.wP9G({status:dZ1x||0})};P9G.bqQ4U=NEJ.C();bqP4T=P9G.bqQ4U.M9D(P9G.Po5t);bqP4T.cr0x=function(e8e){var it3x=Q9H.flash;if(k8c.er1x(it3x)){it3x.push(this.cr0x.f8d(this,e8e));return}if(!it3x){Q9H.flash=[this.cr0x.f8d(this,e8e)];a7h.tW8O({hidden:!0,src:eH1x.B9s("ajax.swf"),onready:function(it3x){if(!it3x)return;var j8b=Q9H.flash;Q9H.flash=it3x;k8c.oB5G(j8b,function(dF1x){try{dF1x()}catch(e){}})}});return}this.Ds1x="swf-"+k8c.pu5z();Q9H[this.Ds1x]=this;var i8a=NEJ.EX({url:"",data:null,method:"GET"},e8e.request);i8a.key=this.Ds1x;i8a.headers=e8e.headers;i8a.onerror="nej.ut.j.cb.er"+hl2x;i8a.onloaded="nej.ut.j.cb.ld"+hl2x;var bOs1x=eH1x.cpN2x(i8a.url);if(!!bOs1x)i8a.policyURL=bOs1x;it3x.request(i8a)};bqP4T.le3x=function(){delete Q9H[this.Ds1x];this.wP9G({status:0});return this}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bg9X=c8g("nej.h");bg9X.bOw1x=function(){var ds1x=/^([\w]+?:\/\/.*?(?=\/|$))/i;return function(lN4R){lN4R=lN4R||"";if(ds1x.test(lN4R))return RegExp.$1;return"*"}}();bg9X.bqW4a=function(i8a){return i8a};bg9X.bqX4b=function(beM1x,e8e){if(!beM1x.postMessage)return;e8e=e8e||be9V;beM1x.postMessage(bg9X.bqW4a(e8e.data),bg9X.bOw1x(e8e.origin))}})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),P9G=c8g("nej.ut"),b8h;if(!!P9G.fY2x)return;P9G.fY2x=NEJ.C();b8h=P9G.fY2x.M9D(P9G.cS1x);b8h.cF0x=function(){this.U9L={};this.cO0x()};b8h.bp9g=function(e8e){this.bq9h(e8e);this.Ts6m=a7h.B9s(e8e.element)||window;this.bPt1x(e8e.event);this.cJK1x();this.z9q("oninit")};b8h.bC9t=function(){var Lj4n=function(C9t,K9B,bA9r){if(!k8c.er1x(C9t)){k8c.bkQ3x(this.Ts6m,K9B)}delete bA9r[K9B]};return function(){this.bJ9A();k8c.eX1x(this.U9L,Lj4n,this);delete this.Ts6m}}();b8h.bfM1x=function(H9y,t8l){H9y=a7h.B9s(H9y);return H9y==this.Ts6m&&(!t8l||!!this.U9L["on"+t8l])};b8h.bPt1x=function(d8f){if(k8c.fX2x(d8f)){var Y9P="on"+d8f;if(!this.U9L[Y9P]){this.U9L[Y9P]=this.cJJ1x.f8d(this,d8f)}this.bPF1x(d8f);return}if(k8c.er1x(d8f)){k8c.bf9W(d8f,this.bPt1x,this)}};b8h.bPF1x=function(t8l){var d8f="on"+t8l,dF1x=this.Ts6m[d8f],bPT1x=this.U9L[d8f];if(dF1x!=bPT1x){this.bgo1x(t8l);if(!!dF1x&&dF1x!=bs9j)this.bQh2x(t8l,dF1x);this.Ts6m[d8f]=bPT1x}};b8h.bQh2x=function(t8l,dF1x,cIZ0x){var j8b=this.U9L[t8l];if(!j8b){j8b=[];this.U9L[t8l]=j8b}if(k8c.he2x(dF1x)){!cIZ0x?j8b.push(dF1x):j8b.unshift(dF1x)}};b8h.bgo1x=function(t8l,dF1x){var j8b=this.U9L[t8l];if(!j8b||!j8b.length)return;if(!dF1x){delete this.U9L[t8l];return}k8c.oB5G(j8b,function(C9t,r8j,OG5L){if(dF1x===C9t){OG5L.splice(r8j,1);return!0}})};b8h.cJJ1x=function(t8l,d8f){d8f=d8f||{noargs:!0};d8f.type=t8l;this.z9q("ondispatch",d8f);if(!!d8f.stopped)return;k8c.bf9W(this.U9L[t8l],function(dF1x){try{dF1x(d8f)}catch(ex){console.error(ex.message);console.error(ex.stack)}})};b8h.cJK1x=function(){var brt4x=function(d8f){var bk9b=d8f.args,t8l=bk9b[1].toLowerCase();if(this.bfM1x(bk9b[0],t8l)){d8f.stopped=!0;this.bPF1x(t8l);this.bQh2x(t8l,bk9b[2],bk9b[3]);this.z9q("oneventadd",{type:t8l,listener:bk9b[2]})}};var cIJ0x=function(d8f){var bk9b=d8f.args,t8l=bk9b[1].toLowerCase();if(this.bfM1x(bk9b[0],t8l)){d8f.stopped=!0;this.bgo1x(t8l,bk9b[2])}};var bpK4O=function(d8f){var bk9b=d8f.args,t8l=(bk9b[1]||"").toLowerCase();if(this.bfM1x(bk9b[0])){if(!!t8l){this.bgo1x(t8l);return}k8c.eX1x(this.U9L,function(C9t,K9B){if(k8c.er1x(C9t)){this.bgo1x(K9B)}},this)}};var cIG0x=function(d8f){var bk9b=d8f.args,t8l=bk9b[1].toLowerCase();if(this.bfM1x(bk9b[0],t8l)){d8f.stopped=!0;bk9b[0]["on"+t8l].apply(bk9b[0],bk9b.slice(2))}};return function(){if(!!this.cIw0x)return;this.cIw0x=true;h8b.s8k=h8b.s8k.eW1x(brt4x.f8d(this));h8b.ny4C=h8b.ny4C.eW1x(cIJ0x.f8d(this));h8b.hH2x=h8b.hH2x.eW1x(bpK4O.f8d(this));h8b.z9q=h8b.z9q.eW1x(cIG0x.f8d(this))}}()})();
(function(){var c8g=NEJ.P,P9G=c8g("nej.p"),bg9X=c8g("nej.h"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),G9x=c8g("nej.ut");if(P9G.oQ5V.trident)return;if(!!window.postMessage){bg9X.bqW4a=bg9X.bqW4a.eW1x(function(d8f){d8f.stopped=!0;d8f.value=JSON.stringify(d8f.args[0])});return}var K9B="MSG|",jH3x=[];var cIv0x=function(){var Y9P=unescape(window.name||"").trim();if(!Y9P||Y9P.indexOf(K9B)!=0)return;window.name="";var m8e=k8c.Ws7l(Y9P.replace(K9B,""),"|"),lN4R=(m8e.origin||"").toLowerCase();if(!!lN4R&&lN4R!="*"&&location.href.toLowerCase().indexOf(lN4R)!=0)return;h8b.z9q(window,"message",{data:JSON.parse(m8e.data||"null"),source:window.frames[m8e.self]||m8e.self,origin:bg9X.bOw1x(m8e.ref||document.referrer)})};var cIu0x=function(){var bhy2x;var cIt0x=function(bA9r,r8j,j8b){if(k8c.dw1x(bhy2x,bA9r.w)<0){bhy2x.push(bA9r.w);j8b.splice(r8j,1);bA9r.w.name=bA9r.d}};return function(){bhy2x=[];k8c.oB5G(jH3x,cIt0x);bhy2x=null}}();bg9X.bqX4b=function(){var cIr0x=function(i8a){var m8e={};i8a=i8a||be9V;m8e.origin=i8a.origin||"";m8e.ref=location.href;m8e.self=i8a.source;m8e.data=JSON.stringify(i8a.data);return K9B+k8c.xd9U(m8e,"|",!0)};return bg9X.bqX4b.eW1x(function(d8f){d8f.stopped=!0;var bk9b=d8f.args;jH3x.unshift({w:bk9b[0],d:escape(cIr0x(bk9b[1]))})})}();G9x.fY2x.A9r({element:window,event:"message"});window.setInterval(cIu0x,100);window.setInterval(cIv0x,20)})();
(function(){var c8g=NEJ.P,bg9X=c8g("nej.h"),a7h=c8g("nej.e"),v9m=c8g("nej.j");v9m.cIm0x=function(){var fA2x=window.name||"_parent",cIk0x={gY2x:window.top,fA2x:window,bI9z:window.parent};return function(cN0x,e8e){if(typeof cN0x=="string"){cN0x=cIk0x[cN0x]||window.frames[cN0x];if(!cN0x)return this}var i8a=NEJ.X({origin:"*",source:fA2x},e8e);bg9X.bqX4b(cN0x,i8a);return this}}()})();
(function(){var c8g=NEJ.P,eH1x=c8g("nej.c"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v9m=c8g("nej.j"),P9G=c8g("nej.ut.j"),Q9H={},bid2x;if(!!P9G.brO5T)return;P9G.brO5T=NEJ.C();bid2x=P9G.brO5T.M9D(P9G.Po5t);bid2x.cF0x=function(){var fy2x="NEJ-AJAX-DATA:",nd4h=!1;var brT5Y=function(d8f){var i8a=d8f.data;if(i8a.indexOf(fy2x)!=0)return;i8a=JSON.parse(i8a.replace(fy2x,""));var kM3x=Q9H[i8a.key];if(!kM3x)return;delete Q9H[i8a.key];i8a.result=decodeURIComponent(i8a.result||"");kM3x.wP9G(i8a)};var bsa5f=function(){if(!nd4h){nd4h=!0;h8b.s8k(window,"message",brT5Y)}};return function(){this.cO0x();bsa5f()}}();bid2x.cr0x=function(e8e){var gv2x=e8e.request,kM3x=eH1x.cpL2x(gv2x.url),eL1x=Q9H[kM3x];if(k8c.er1x(eL1x)){eL1x.push(this.cr0x.f8d(this,e8e));return}if(!eL1x){Q9H[kM3x]=[this.cr0x.f8d(this,e8e)];a7h.biX2x({src:kM3x,visible:!1,onload:function(d8f){var j8b=Q9H[kM3x];Q9H[kM3x]=h8b.ba9R(d8f).contentWindow;k8c.oB5G(j8b,function(dF1x){try{dF1x()}catch(e){}})}});return}this.Ds1x="frm-"+k8c.pu5z();Q9H[this.Ds1x]=this;var i8a=NEJ.EX({url:"",data:null,timeout:0,method:"GET"},gv2x);i8a.key=this.Ds1x;i8a.headers=e8e.headers;v9m.cIm0x(Q9H[kM3x],{data:i8a})};bid2x.le3x=function(){delete Q9H[this.Ds1x];this.wP9G({status:0});return this}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,ec1x=c8g("nej.g"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v9m=c8g("nej.j"),P9G=c8g("nej.ut.j"),Q9H={},Oy5D;if(!!P9G.bsb5g)return;P9G.bsb5g=NEJ.C();Oy5D=P9G.bsb5g.M9D(P9G.Po5t);Oy5D.cF0x=function(){var fy2x="NEJ-UPLOAD-RESULT:",nd4h=!1;var brT5Y=function(d8f){var i8a=d8f.data;if(i8a.indexOf(fy2x)!=0)return;i8a=JSON.parse(i8a.replace(fy2x,""));var kM3x=Q9H[i8a.key];if(!kM3x)return;delete Q9H[i8a.key];kM3x.wP9G(decodeURIComponent(i8a.result))};var bsa5f=function(){if(!nd4h){nd4h=!0;h8b.s8k(window,"message",brT5Y)}};return function(){this.cO0x();bsa5f()}}();Oy5D.bC9t=function(){this.bJ9A();a7h.cY1x(this.bsc5h);delete this.bsc5h;window.clearTimeout(this.dR1x);delete this.dR1x};Oy5D.wP9G=function(cM0x){var T9K;try{T9K=JSON.parse(cM0x);this.z9q("onload",T9K)}catch(e){this.z9q("onerror",{code:ec1x.csW4a,message:cM0x})}};Oy5D.cr0x=function(){var cHY0x=function(){var nT4X,cM0x;try{var nT4X=this.bsc5h.contentWindow.document.body,cM0x=nT4X.innerText||nT4X.textContent}catch(e){return}this.wP9G(cM0x)};var bsf5k=function(Z9Q,ep1x,ub8T){v9m.bm9d(Z9Q,{type:"json",method:"POST",cookie:ub8T,mode:parseInt(ep1x)||0,onload:function(i8a){if(!this.dR1x)return;this.z9q("onuploading",i8a);this.dR1x=window.setTimeout(bsf5k.f8d(this,Z9Q,ep1x,ub8T),1e3)}.f8d(this),onerror:function(bV0x){if(!this.dR1x)return;this.dR1x=window.setTimeout(bsf5k.f8d(this,Z9Q,ep1x,ub8T),1e3)}.f8d(this)})};return function(e8e){var gv2x=e8e.request,kC3x=e8e.headers,fG2x=gv2x.data,Y9P="fom-"+k8c.pu5z();Q9H[Y9P]=this;fG2x.target=Y9P;fG2x.method="POST";fG2x.enctype=ec1x.HJ2x;fG2x.encoding=ec1x.HJ2x;var Z9Q=fG2x.action||"",mH4L=Z9Q.indexOf("?")<=0?"?":"&";fG2x.action=Z9Q+mH4L+"_proxy_=form";this.bsc5h=a7h.biX2x({name:Y9P,onload:function(d8f){var eL1x=h8b.ba9R(d8f);h8b.s8k(eL1x,"load",cHY0x.f8d(this));fG2x.submit();var bTL4P=(fG2x.nej_query||be9V).value;if(!bTL4P)return;var ep1x=(fG2x.nej_mode||be9V).value,ub8T=(fG2x.nej_cookie||be9V).value=="true";this.dR1x=window.setTimeout(bsf5k.f8d(this,bTL4P,ep1x,ub8T),100)}.f8d(this)})}}();Oy5D.le3x=function(){this.z9q("onerror",{code:ec1x.cth4l,message:"客户端终止文件上传"});return this}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bg9X=c8g("nej.h"),P9G=c8g("nej.ut.j");bg9X.bpP4T=function(){return new XMLHttpRequest};bg9X.bsg5l=function(ep1x,bkj2x,e8e){var bA9r=!!bkj2x?{2:P9G.bsb5g}:{2:P9G.brO5T,3:P9G.bqQ4U};return(bA9r[ep1x]||P9G.bbf9W).A9r(e8e)}})();
(function(){var c8g=NEJ.P,P9G=c8g("nej.p"),bg9X=c8g("nej.h");if(P9G.oQ5V.trident)return;bg9X.bpP4T=function(){var YG8y=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP.4.0","Msxml2.XMLHTTP.5.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];var cHR0x=function(){for(var i=0,l=YG8y.length;i<l;i++){try{return new ActiveXObject(YG8y[i])}catch(e){}}return null};return bg9X.bpP4T.eW1x(function(d8f){if(!!window.XMLHttpRequest)return;d8f.stopped=!0;d8f.value=cHR0x()})}();bg9X.bsg5l=function(){var Hv2x={0:2,1:3};return bg9X.bsg5l.eW1x(function(d8f){var bk9b=d8f.args,ep1x=bk9b[0]||0;bk9b[0]=!!bk9b[1]?2:Hv2x[ep1x]||ep1x})}()})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,bg9X=c8g("nej.h"),ec1x=c8g("nej.g"),k8c=c8g("nej.u"),v9m=c8g("nej.j"),P9G=c8g("nej.ut.j"),px5C={},Qt5y=bs9j;v9m.le3x=function(fD2x){var Q9H=px5C[fD2x];if(!Q9H)return this;Q9H.req.le3x();return this};v9m.bkw3x=function(en1x){Qt5y=en1x||bs9j;return this};v9m.bm9d=function(){var kp3x=(location.protocol+"//"+location.host).toLowerCase();var cHO0x=function(Z9Q){var lN4R=k8c.cOd2x(Z9Q);return!!lN4R&&lN4R!=kp3x};var cHN0x=function(kC3x){return(kC3x||be9V)[ec1x.AJ0x]==ec1x.HJ2x};var cHM0x=function(e8e){var bkj2x=cHN0x(e8e.headers);if(!cHO0x(e8e.url)&&!bkj2x)return P9G.bbf9W.A9r(e8e);return bg9X.bsg5l(e8e.mode,bkj2x,e8e)};var Lj4n=function(fD2x){var Q9H=px5C[fD2x];if(!Q9H)return;if(!!Q9H.req)Q9H.req.W9N();delete px5C[fD2x]};var bUh4l=function(fD2x,t8l){var Q9H=px5C[fD2x];if(!Q9H)return;Lj4n(fD2x);try{var d8f={type:t8l,result:arguments[2]};Qt5y(d8f);if(!d8f.stopped)(Q9H[t8l]||bs9j)(d8f.result)}catch(ex){console.error(ex.message);console.error(ex)}};var CE1x=function(fD2x,i8a){bUh4l(fD2x,"onload",i8a)};var tT8L=function(fD2x,bV0x){bUh4l(fD2x,"onerror",bV0x)};return function(Z9Q,e8e){e8e=e8e||{};var fD2x=k8c.pu5z(),Q9H={onload:e8e.onload||bs9j,onerror:e8e.onerror||bs9j};px5C[fD2x]=Q9H;e8e.onload=CE1x.f8d(null,fD2x);e8e.onerror=tT8L.f8d(null,fD2x);if(!!e8e.query){var mH4L=Z9Q.indexOf("?")<0?"?":"&",bx9o=e8e.query;if(k8c.mx4B(bx9o))bx9o=k8c.cJ0x(bx9o);if(!!bx9o)Z9Q+=mH4L+bx9o}e8e.url=Z9Q;Q9H.req=cHM0x(e8e);Q9H.req.bpO4S(e8e.data);return fD2x}}();v9m.iw3x=function(fG2x,e8e){var dY1x={mode:0,type:"json",query:null,cookie:!1,headers:{},onload:null,onerror:null,onuploading:null,onbeforerequest:null};NEJ.EX(dY1x,e8e);dY1x.data=fG2x;dY1x.method="POST";dY1x.timeout=0;dY1x.headers[ec1x.AJ0x]=ec1x.HJ2x;return v9m.bm9d(fG2x.action,dY1x)}})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,ec1x=c8g("nej.g"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),P9G=c8g("nej.ut.j"),nU4Y,hu2x=6e4;if(!!P9G.Sz6t)return;P9G.Sz6t=NEJ.C();nU4Y=P9G.Sz6t.M9D(G9x.cS1x);nU4Y.cF0x=function(){this.cO0x();this.Sy6s={onerror:this.cHE0x.f8d(this),onloaded:this.cHC0x.f8d(this)};if(!this.constructor.U9L)this.constructor.U9L={loaded:{}}};nU4Y.bp9g=function(e8e){this.bq9h(e8e);this.Ot5y=e8e.version;this.bsp5u=e8e.timeout;this.Sy6s.version=this.Ot5y;this.Sy6s.timeout=this.bsp5u};nU4Y.bUv4z=function(K9B){delete this.constructor.U9L[K9B]};nU4Y.DS1x=function(K9B){return this.constructor.U9L[K9B]};nU4Y.bUx4B=function(K9B,i8a){this.constructor.U9L[K9B]=i8a};nU4Y.bch0x=bs9j;nU4Y.bUC5H=function(gv2x){h8b.hH2x(gv2x)};nU4Y.bsq5v=function(gv2x){gv2x.src=this.lU4Y;document.head.appendChild(gv2x)};nU4Y.DT1x=function(){var Q9H=this.DS1x(this.lU4Y);if(!Q9H)return;window.clearTimeout(Q9H.timer);this.bUC5H(Q9H.request);delete Q9H.bind;delete Q9H.timer;delete Q9H.request;this.bUv4z(this.lU4Y);this.DS1x("loaded")[this.lU4Y]=!0};nU4Y.bcC0x=function(Y9P){var Q9H=this.DS1x(this.lU4Y);if(!Q9H)return;var j8b=Q9H.bind;this.DT1x();if(!!j8b&&j8b.length>0){var cP0x;while(j8b.length){cP0x=j8b.shift();try{cP0x.z9q(Y9P,arguments[1])}catch(ex){console.error(ex.message);console.error(ex.stack)}cP0x.W9N()}}};nU4Y.eb1x=function(bV0x){this.bcC0x("onerror",bV0x)};nU4Y.bVi5n=function(){this.bcC0x("onloaded")};nU4Y.cHo0x=function(Z9Q){this.constructor.A9r(this.Sy6s).Or5w(Z9Q)};nU4Y.bVo5t=function(bV0x){var Q9H=this.DS1x(this.zF0x);if(!Q9H)return;if(!!bV0x)Q9H.error++;Q9H.loaded++;if(Q9H.loaded<Q9H.total)return;this.bUv4z(this.zF0x);this.z9q(Q9H.error>0?"onerror":"onloaded")};nU4Y.cHE0x=function(bV0x){this.bVo5t(!0)};nU4Y.cHC0x=function(){this.bVo5t()};nU4Y.Or5w=function(Z9Q){Z9Q=k8c.bps4w(Z9Q);if(!Z9Q){this.z9q("onerror",{code:ec1x.bmg3x,message:"请指定要载入的资源地址！"});return this}this.lU4Y=Z9Q;if(!!this.Ot5y)this.lU4Y+=(this.lU4Y.indexOf("?")<0?"?":"&")+this.Ot5y;if(this.DS1x("loaded")[this.lU4Y]){try{this.z9q("onloaded")}catch(ex){console.error(ex.message);console.error(ex.stack)}this.W9N();return this}var Q9H=this.DS1x(this.lU4Y),gv2x;if(!!Q9H){Q9H.bind.unshift(this);Q9H.timer=window.clearTimeout(Q9H.timer)}else{gv2x=this.bch0x();Q9H={request:gv2x,bind:[this]};this.bUx4B(this.lU4Y,Q9H);h8b.s8k(gv2x,"load",this.bVi5n.f8d(this));h8b.s8k(gv2x,"error",this.eb1x.f8d(this,{code:ec1x.bmq3x,message:"无法加载指定资源文件["+this.lU4Y+"]！"}))}if(this.bsp5u!=0)Q9H.timer=window.setTimeout(this.eb1x.f8d(this,{code:ec1x.bOX1x,message:"指定资源文件["+this.lU4Y+"]载入超时！"}),this.bsp5u||hu2x);if(!!gv2x)this.bsq5v(gv2x);this.z9q("onloading");return this};nU4Y.bVr5w=function(j8b){if(!j8b||!j8b.length){this.z9q("onerror",{code:ec1x.bmg3x,message:"请指定要载入的资源队列！"});return this}this.zF0x=k8c.pu5z();var Q9H={error:0,loaded:0,total:j8b.length};this.bUx4B(this.zF0x,Q9H);for(var i=0,l=j8b.length;i<l;i++){if(!j8b[i]){Q9H.total--;continue}this.cHo0x(j8b[i])}this.z9q("onloading");return this}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,a7h=c8g("nej.e"),bg9X=c8g("nej.h"),P9G=c8g("nej.ut.j"),Sh6b;if(!!P9G.bsE5J)return;P9G.bsE5J=NEJ.C();Sh6b=P9G.bsE5J.M9D(P9G.Sz6t);Sh6b.bch0x=function(){var fd1x=a7h.dt1x("iframe");fd1x.width=0;fd1x.height=0;fd1x.style.display="none";return fd1x};Sh6b.bsq5v=function(gv2x){gv2x.src=this.lU4Y;document.body.appendChild(gv2x)};Sh6b.eb1x=function(bV0x){var fd1x=(this.DS1x(this.lU4Y)||be9V).request;this.bcC0x("onerror",bV0x);bg9X.bhp2x(fd1x)};Sh6b.bVi5n=function(){var nT4X=null,fd1x=(this.DS1x(this.lU4Y)||be9V).request;try{nT4X=fd1x.contentWindow.document.body}catch(ex){}this.bcC0x("onloaded",nT4X);bg9X.bhp2x(fd1x)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),P9G=c8g("nej.ut.j"),bsG5L;if(!!P9G.bdq0x)return;P9G.bdq0x=NEJ.C();bsG5L=P9G.bdq0x.M9D(P9G.Sz6t);bsG5L.bch0x=function(){return a7h.dt1x("link")};bsG5L.bsq5v=function(gv2x){gv2x.href=this.lU4Y;document.head.appendChild(gv2x)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),P9G=c8g("nej.ut.j"),bdC1x;if(!!P9G.bdL1x)return;P9G.bdL1x=NEJ.C();bdC1x=P9G.bdL1x.M9D(P9G.Sz6t);bdC1x.bp9g=function(e8e){this.bq9h(e8e);this.bWw5B=e8e.async;this.bsJ5O=e8e.charset;this.Sy6s.async=!1;this.Sy6s.charset=this.bsJ5O};bdC1x.bch0x=function(){var gv2x=a7h.dt1x("script");if(this.bWw5B!=null)gv2x.async=!!this.bWw5B;if(this.bsJ5O!=null)gv2x.charset=this.bsJ5O;return gv2x};bdC1x.bUC5H=function(gv2x){a7h.cY1x(gv2x)}})();
(function(){var c8g=NEJ.P,v9m=c8g("nej.j"),P9G=c8g("nej.ut.j");v9m.cGV9M=function(Z9Q,e8e){P9G.bdL1x.A9r(e8e).Or5w(Z9Q);return this};v9m.cGT9K=function(j8b,e8e){P9G.bdL1x.A9r(e8e).bVr5w(j8b);return this};v9m.cTe4i=function(Z9Q,e8e){P9G.bdq0x.A9r(e8e).Or5w(Z9Q);return this};v9m.cGz9q=function(j8b,e8e){P9G.bdq0x.A9r(e8e).bVr5w(j8b);return this};v9m.bXs6m=function(Z9Q,e8e){P9G.bsE5J.A9r(e8e).Or5w(Z9Q);return this}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v9m=c8g("nej.j"),G9x=c8g("nej.ut"),Q9H={},uL8D=+(new Date)+"-";a7h.db1x=function(){var cp0x=0;var RV6P=function(){if(cp0x>0)return;cp0x=0;h8b.z9q(document,"templateready");h8b.hH2x(document,"templateready")};var bfg1x=function(gJ2x,e8e){var de1x=a7h.u9l(gJ2x,"src");if(!de1x)return;e8e=e8e||be9V;var gA2x=e8e.root;if(!gA2x){gA2x=gJ2x.ownerDocument.location.href}else{gA2x=k8c.bps4w(gA2x)}de1x=de1x.split(",");k8c.bf9W(de1x,function(C9t,r8j,j8b){j8b[r8j]=k8c.bps4w(C9t,gA2x)});return de1x};var cGe9V=function(gJ2x,e8e){if(!gJ2x)return;var de1x=bfg1x(gJ2x,e8e);if(!!de1x)v9m.cGz9q(de1x,{version:a7h.u9l(gJ2x,"version")});a7h.cde7X(gJ2x.value)};var cFV9M=function(C9t){cp0x--;a7h.cdv7o(C9t);RV6P()};var cFM9D=function(gJ2x,e8e){if(!gJ2x)return;var de1x=bfg1x(gJ2x,e8e),fN2x=gJ2x.value;if(!!de1x){cp0x++;var e8e={version:a7h.u9l(gJ2x,"version"),onloaded:cFV9M.f8d(null,fN2x)};window.setTimeout(v9m.cGT9K.f8d(v9m,de1x,e8e),0);return}a7h.cdv7o(fN2x)};var cFL9C=function(nT4X){cp0x--;a7h.db1x(nT4X);RV6P()};var cFo9f=function(gJ2x,e8e){if(!gJ2x)return;var de1x=bfg1x(gJ2x,e8e)[0];if(!!de1x){cp0x++;var e8e={version:a7h.u9l(gJ2x,"version"),onloaded:cFL9C};window.setTimeout(v9m.bXs6m.f8d(v9m,de1x,e8e),0)}};var cFn9e=function(D9u,cM0x){cp0x--;a7h.Oi5n(D9u,cM0x||"");RV6P()};var cFi9Z=function(gJ2x,e8e){if(!gJ2x||!gJ2x.id)return;var D9u=gJ2x.id,de1x=bfg1x(gJ2x,e8e)[0];if(!!de1x){cp0x++;var Z9Q=de1x+(de1x.indexOf("?")<0?"?":"&")+(a7h.u9l(gJ2x,"version")||""),e8e={type:"text",method:"GET",onload:cFn9e.f8d(null,D9u)};window.setTimeout(v9m.bm9d.f8d(v9m,Z9Q,e8e),0)}};var cFh9Y=function(g8c,e8e){var t8l=g8c.name.toLowerCase();switch(t8l){case"jst":a7h.eK1x(g8c,!0);return;case"txt":a7h.Oi5n(g8c.id,g8c.value||"");return;case"ntp":a7h.jW3x(g8c.value||"",g8c.id);return;case"js":cFM9D(g8c,e8e);return;case"css":cGe9V(g8c,e8e);return;case"html":cFo9f(g8c,e8e);return;case"res":cFi9Z(g8c,e8e);return}};G9x.fY2x.A9r({element:document,event:"templateready",oneventadd:RV6P});return function(H9y,e8e){H9y=a7h.B9s(H9y);if(!!H9y){var j8b=H9y.tagName=="TEXTAREA"?[H9y]:H9y.getElementsByTagName("textarea");k8c.bf9W(j8b,function(g8c){cFh9Y(g8c,e8e)});a7h.cY1x(H9y,!0)}RV6P();return this}}();a7h.Oi5n=function(K9B,C9t){Q9H[K9B]=C9t||"";return this};a7h.iQ3x=function(K9B){return Q9H[K9B]||""};a7h.jW3x=function(H9y,K9B){K9B=K9B||k8c.pu5z();H9y=a7h.B9s(H9y)||H9y;a7h.Oi5n(uL8D+K9B,H9y);a7h.nx4B(H9y);return K9B};a7h.dI1x=function(K9B){if(!K9B)return null;K9B=uL8D+K9B;var C9t=a7h.iQ3x(K9B);if(!C9t)return null;if(k8c.fX2x(C9t)){C9t=a7h.oW5b(C9t);a7h.Oi5n(K9B,C9t)}return C9t.cloneNode(!0)};a7h.Eg1x=function(){var Qt5y=function(C9t,K9B){return K9B=="offset"||K9B=="limit"};return function(j8b,p8h,e8e){var bv9m=[];if(!j8b||!j8b.length||!p8h)return bv9m;e8e=e8e||be9V;var do1x=j8b.length,kP3x=parseInt(e8e.offset)||0,du1x=Math.min(do1x,kP3x+(parseInt(e8e.limit)||do1x)),cD0x={total:j8b.length,range:[kP3x,du1x]};NEJ.X(cD0x,e8e,Qt5y);for(var i=kP3x,cP0x;i<du1x;i++){cD0x.index=i;cD0x.data=j8b[i];cP0x=p8h.A9r(cD0x);var D9u=cP0x.Hi2x();Q9H[D9u]=cP0x;cP0x.W9N=cP0x.W9N.eW1x(function(D9u,cP0x){delete Q9H[D9u];delete cP0x.W9N}.f8d(null,D9u,cP0x));bv9m.push(cP0x)}return bv9m}}();a7h.cal6f=function(D9u){return Q9H[D9u]};a7h.cTJ4N=function(es1x,e8e){e8e=e8e||be9V;a7h.db1x(e8e.tid||"template-box");h8b.s8k(document,"templateready",function(){es1x.A9r().z9q("onshow",e8e)})};c8g("dbg").dumpTC=function(){return Q9H}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,a7h=c8g("nej.e"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),P9G=c8g("nej.ui"),b8h;if(!!P9G.eA1x)return;P9G.eA1x=NEJ.C();b8h=P9G.eA1x.M9D(G9x.cS1x);b8h.cF0x=function(){this.cO0x();a7h.cbq7j();this.cj0x();this.bY0x()};b8h.bp9g=function(e8e){this.bq9h(e8e);this.cEV9M(e8e.clazz);this.caM7F(e8e.parent)};b8h.bC9t=function(){this.bJ9A();this.caN7G();delete this.gF2x;a7h.nx4B(this.o8g);a7h.y9p(this.o8g,this.btn5s);delete this.btn5s};b8h.cj0x=bs9j;b8h.bY0x=function(){if(!this.cf0x)this.Oc4g();this.o8g=a7h.dI1x(this.cf0x);if(!this.o8g)this.o8g=a7h.dt1x("div",this.mW4a);a7h.w9n(this.o8g,this.mW4a)};b8h.Oc4g=bs9j;b8h.cEV9M=function(ev1x){this.btn5s=ev1x||"";a7h.w9n(this.o8g,this.btn5s)};b8h.cEP9G=function(){if(!this.mW4a)return;a7h.w9n(this.gF2x,this.mW4a+"-parent")};b8h.caN7G=function(){if(!this.mW4a)return;a7h.y9p(this.gF2x,this.mW4a+"-parent")};b8h.mL4P=function(){return this.o8g};b8h.caM7F=function(bI9z){if(!this.o8g)return this;this.caN7G();if(k8c.he2x(bI9z)){this.gF2x=bI9z(this.o8g)}else{this.gF2x=a7h.B9s(bI9z);if(!!this.gF2x)this.gF2x.appendChild(this.o8g)}this.cEP9G();return this};b8h.J9A=function(){if(!this.gF2x||!this.o8g||this.o8g.parentNode==this.gF2x)return this;this.gF2x.appendChild(this.o8g);return this};b8h.bu9l=function(){a7h.nx4B(this.o8g);return this}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,a7h=c8g("nej.e"),k8c=c8g("nej.u"),bg9X=c8g("nej.h"),P9G=c8g("nej.ui"),zE0x,cbb7U;if(!!P9G.RF6z)return;P9G.RF6z=NEJ.C();zE0x=P9G.RF6z.M9D(P9G.eA1x);cbb7U=P9G.RF6z.cy0x;zE0x.bp9g=function(e8e){this.bq9h(e8e);this.zy0x("oncontentready",e8e.oncontentready||this.cEI9z.f8d(this));this.cEH9y=!!e8e.nohack;this.cEG9x=!!e8e.destroyable;this.NY4c(e8e.content)};zE0x.bC9t=function(){this.z9q("onbeforerecycle");this.bJ9A();this.bjt2x();this.NY4c("");a7h.fv2x(this.o8g,{top:"",left:""})};zE0x.cEI9z=bs9j;zE0x.NV4Z=bs9j;zE0x.bjt2x=function(){a7h.nx4B(this.o8g);if(!!this.ps5x){this.ps5x=bg9X.bnu3x(this.o8g);delete this.ps5x}};zE0x.NY4c=function(bt9k){if(!this.o8g||!this.Ep1x||bt9k==null)return this;bt9k=bt9k||"";k8c.fX2x(bt9k)?this.Ep1x.innerHTML=bt9k:this.Ep1x.appendChild(bt9k);this.z9q("oncontentready",this.Ep1x);return this};zE0x.hi2x=function(bj9a){var C9t=bj9a.top;if(C9t!=null){C9t+="px";a7h.bd9U(this.o8g,"top",C9t);a7h.bd9U(this.ps5x,"top",C9t)}var C9t=bj9a.left;if(C9t!=null){C9t+="px";a7h.bd9U(this.o8g,"left",C9t);a7h.bd9U(this.ps5x,"left",C9t)}return this};zE0x.J9A=function(){a7h.bd9U(this.o8g,"visibility","hidden");cbb7U.J9A.apply(this,arguments);this.NV4Z();a7h.bd9U(this.o8g,"visibility","");if(!this.cEH9y){this.ps5x=bg9X.ps5x(this.o8g)}return this};zE0x.bu9l=function(){this.cEG9x?this.W9N():this.bjt2x();return this}})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,k8c=c8g("nej.u"),a7h=c8g("nej.e"),P9G=c8g("nej.ui"),Es1x;if(!!P9G.bjR2x)return;P9G.bjR2x=NEJ.C();Es1x=P9G.bjR2x.M9D(P9G.eA1x);Es1x.bp9g=function(e8e){this.baC9t();this.bq9h(this.cEF9w(e8e));this.cl0x.onbeforerecycle=this.W9N.f8d(this);this.pT5Y=this.bts5x()};Es1x.bC9t=function(){this.z9q("onbeforerecycle");this.bJ9A();delete this.cl0x;a7h.nx4B(this.o8g);var zR0x=this.pT5Y;if(!!zR0x){delete this.pT5Y;zR0x.W9N()}};Es1x.bts5x=bs9j;Es1x.cEF9w=function(e8e){var m8e={};k8c.eX1x(e8e,function(p8h,K9B){this.cl0x.hasOwnProperty(K9B)?this.cl0x[K9B]=p8h:m8e[K9B]=p8h},this);return m8e};Es1x.baC9t=function(){this.cl0x={clazz:"",parent:null,content:this.o8g,destroyable:!1,oncontentready:null,nohack:!1}};Es1x.J9A=function(){if(!!this.pT5Y)this.pT5Y.J9A();this.z9q("onaftershow");return this};Es1x.bu9l=function(){if(!!this.pT5Y)this.pT5Y.bu9l();return this}})();
(function(){var c8g=NEJ.P,ec1x=c8g("nej.g"),bg9X=c8g("nej.h"),a7h=c8g("nej.e"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),P9G=c8g("nej.ui"),baj9a,cbf7Y;if(!!P9G.NQ4U)return;var jU3x=a7h.vJ8B(".#<uispace>{position:fixed;_position:absolute;z-index:100;top:0;bottom:0;left:0;right:0;width:100%;height:100%;background-image:url("+ec1x.bmr3x+");}");P9G.NQ4U=NEJ.C();baj9a=P9G.NQ4U.M9D(P9G.eA1x);cbf7Y=P9G.NQ4U.cy0x;baj9a.bp9g=function(e8e){this.bq9h(e8e);var bt9k=e8e.content||"&nbsp;";k8c.fX2x(bt9k)?this.o8g.innerHTML=bt9k:this.o8g.appendChild(bt9k)};baj9a.bC9t=function(){this.bJ9A();this.o8g.innerHTML="&nbsp;"};baj9a.cj0x=function(){this.mW4a=jU3x};baj9a.J9A=function(){bg9X.bns3x(this.o8g);cbf7Y.J9A.apply(this,arguments);return this}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),P9G=c8g("nej.ut"),Ah0x;if(!!P9G.xp9g)return;P9G.xp9g=NEJ.C();Ah0x=P9G.xp9g.M9D(P9G.cS1x);Ah0x.bp9g=function(e8e){this.bq9h(e8e);this.cEz8r=!!e8e.overflow;this.o8g=a7h.B9s(e8e.body);this.Ev1x=a7h.B9s(e8e.view)||a7h.bVj5o(this.o8g);this.cbi7b=a7h.B9s(e8e.mbar)||this.o8g;this.bkY3x=parseInt(e8e.direction)||0;if(!!e8e.isRelative){this.o8g.style.position="relative";this.btC5H=true;this.btD5I()}this.ca0x([[document,"mouseup",this.btE5J.f8d(this)],[document,"mousemove",this.btG5L.f8d(this)],[this.cbi7b,"mousedown",this.Zx9o.f8d(this)]])};Ah0x.btD5I=function(){if(!!this.btC5H){this.NO4S=a7h.iu3x(this.o8g,this.Ev1x);this.NO4S.x-=parseInt(a7h.dr1x(this.o8g,"left"))||0;this.NO4S.y-=parseInt(a7h.dr1x(this.o8g,"top"))||0}};Ah0x.bC9t=function(){this.bJ9A();delete this.o8g;delete this.cbi7b;delete this.Ev1x};Ah0x.btH5M=function(){return{x:Math.max(this.Ev1x.clientWidth,this.Ev1x.scrollWidth)-this.o8g.offsetWidth,y:Math.max(this.Ev1x.clientHeight,this.Ev1x.scrollHeight)-this.o8g.offsetHeight}};Ah0x.Zx9o=function(d8f){h8b.bi9Z(d8f);if(!!this.iD3x)return;this.iD3x={x:h8b.kA3x(d8f),y:h8b.na4e(d8f)};this.ccb7U=this.btH5M();this.z9q("ondragstart",d8f)};Ah0x.btG5L=function(d8f){if(!this.iD3x)return;var bj9a={x:h8b.kA3x(d8f),y:h8b.na4e(d8f)};var rP6J=bj9a.x-this.iD3x.x,rQ6K=bj9a.y-this.iD3x.y,C9t={top:(parseInt(a7h.dr1x(this.o8g,"top"))||0)+rQ6K,left:(parseInt(a7h.dr1x(this.o8g,"left"))||0)+rP6J};if(this.btC5H){this.btD5I();C9t.top=C9t.top+this.NO4S.y;C9t.left=C9t.left+this.NO4S.x}this.iD3x=bj9a;this.hi2x(C9t)};Ah0x.btE5J=function(d8f){if(!this.iD3x)return;delete this.ccb7U;delete this.iD3x;this.z9q("ondragend",this.btI5N())};Ah0x.hi2x=function(d8f){if(!this.cEz8r){var cce7X=this.ccb7U||this.btH5M();d8f.top=Math.min(cce7X.y,Math.max(0,d8f.top));d8f.left=Math.min(cce7X.x,Math.max(0,d8f.left))}var cn0x=this.o8g.style;if(this.btC5H){this.btD5I();d8f.top=d8f.top-this.NO4S.y;d8f.left=d8f.left-this.NO4S.x}if(this.bkY3x==0||this.bkY3x==2)cn0x.top=d8f.top+"px";if(this.bkY3x==0||this.bkY3x==1)cn0x.left=d8f.left+"px";this.z9q("onchange",d8f);return this};Ah0x.btI5N=function(){return{left:parseInt(a7h.dr1x(this.o8g,"left"))||0,top:parseInt(a7h.dr1x(this.o8g,"top"))||0}}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,a7h=NEJ.P("nej.e"),h8b=NEJ.P("nej.v"),k8c=NEJ.P("nej.u"),G9x=NEJ.P("nej.ut"),P9G=NEJ.P("nej.ui"),jU3x,gK2x,b8h,L9C;if(!!P9G.bcc0x)return;P9G.bcc0x=NEJ.C();b8h=P9G.bcc0x.M9D(P9G.RF6z);L9C=P9G.bcc0x.cy0x;b8h.cF0x=function(){this.tN8F={};this.lL4P={onchange:this.btG5L.f8d(this)};this.cO0x()};b8h.bp9g=function(e8e){this.bq9h(e8e);this.cEg8Y(e8e.mask);this.cEf8X(e8e.align);this.EF1x(e8e.title);if(!e8e.draggable)return;this.jS3x=G9x.xp9g.A9r(this.lL4P)};b8h.bC9t=function(){this.bJ9A();delete this.sT6N;delete this.YT9K;if(!!this.EI2x){this.EI2x.W9N();delete this.EI2x}if(!!this.jS3x){this.jS3x.W9N();delete this.jS3x}};b8h.cj0x=function(){this.mW4a=jU3x;this.cf0x=gK2x};b8h.bY0x=function(){this.ck0x();var j8b=a7h.dm1x(this.o8g);this.Ep1x=j8b[1];this.lL4P.mbar=j8b[0];this.lL4P.body=this.o8g;h8b.s8k(j8b[2],"mousedown",this.cEe8W.f8d(this));h8b.s8k(this.lL4P.mbar,"mousedown",this.Zx9o.f8d(this));this.cci7b=a7h.dm1x(this.lL4P.mbar)[0]};b8h.cEe8W=function(d8f){h8b.bi9Z(d8f);this.z9q("onclose",d8f);if(!d8f.stopped){this.bu9l()}};b8h.Zx9o=function(d8f){h8b.z9q(document,"click")};b8h.btG5L=function(d8f){if(!this.ps5x)return;a7h.fv2x(this.ps5x,{top:d8f.top+"px",left:d8f.left+"px"})};b8h.NV4Z=function(){var eM1x=[function(){return 0},function(pD5I,iW3x,bj9a,K9B){if(K9B=="top"&&window.top!=window.self){var bdo0x=0,Ii3x=0;if(top.g_topBarHeight)bdo0x=top.g_topBarHeight;if(top.g_bottomBarShow&&top.g_bottomBarHeight)Ii3x=top.g_bottomBarHeight;if(pD5I.top<=bdo0x){var btO5T=Math.max(0,(iW3x.height-(bdo0x-pD5I.top)-Ii3x-bj9a.height)/2);return btO5T+bdo0x}else{var btO5T=Math.max(0,(iW3x.height-Ii3x-bj9a.height)/2);return btO5T+pD5I.top}}return Math.max(0,pD5I[K9B]+(iW3x[jl3x[K9B]]-bj9a[jl3x[K9B]])/2)},function(pD5I,iW3x,bj9a,K9B){return pD5I[K9B]+(iW3x[jl3x[K9B]]-bj9a[jl3x[K9B]])}],cEc8U=["left","top"],jl3x={left:"width",top:"height"};return function(){var C9t={},cn0x=this.o8g.style,kt3x=a7h.qh5m(),pD5I={left:kt3x.scrollLeft,top:kt3x.scrollTop},iW3x={width:kt3x.clientWidth,height:kt3x.clientHeight},bj9a={width:this.o8g.offsetWidth,height:this.o8g.offsetHeight},dB1x={left:kt3x.clientWidth-this.o8g.offsetWidth,top:kt3x.clientHeight-this.o8g.offsetHeight};k8c.bf9W(cEc8U,function(K9B,r8j){var dF1x=eM1x[this.sT6N[r8j]];if(!dF1x)return;C9t[K9B]=dF1x(pD5I,iW3x,bj9a,K9B)},this);this.hi2x(C9t)}}();b8h.cDU8M=function(){if(!this.EI2x){if(!this.YT9K)return;this.tN8F.parent=this.gF2x;this.EI2x=this.YT9K.A9r(this.tN8F)}this.EI2x.J9A()};b8h.bjt2x=function(){if(!!this.EI2x)this.EI2x.bu9l();L9C.bjt2x.apply(this,arguments)};b8h.cEg8Y=function(md4h){if(!!md4h){if(md4h instanceof P9G.NQ4U){this.EI2x=md4h;return}if(k8c.he2x(md4h)){this.YT9K=md4h;return}this.YT9K=P9G.NQ4U;if(k8c.fX2x(md4h))this.tN8F.clazz=md4h;return}this.YT9K=null};b8h.EF1x=function(eD1x,ek1x){if(!!this.cci7b){var bbl0x=!ek1x?"innerText":"innerHTML";this.cci7b[bbl0x]=eD1x||"标题"}return this};b8h.cEf8X=function(){var ds1x=/\s+/,cDT8L={left:0,center:1,right:2,auto:3},cDQ8I={top:0,middle:1,bottom:2,auto:3};return function(oZ5e){this.sT6N=(oZ5e||"").split(ds1x);var cm0x=cDT8L[this.sT6N[0]];if(cm0x==null)cm0x=1;this.sT6N[0]=cm0x;var cm0x=cDQ8I[this.sT6N[1]];if(cm0x==null)cm0x=1;this.sT6N[1]=cm0x;return this}}();b8h.J9A=function(){L9C.J9A.apply(this,arguments);this.cDU8M();return this};jU3x=a7h.vJ8B(".#<uispace>{position:absolute;z-index:1000;border:1px solid #aaa;background:#fff;}.#<uispace> .zbar{line-height:30px;background:#8098E7;border-bottom:1px solid #aaa;}.#<uispace> .zcnt{padding:10px 5px;}.#<uispace> .zttl{margin-right:20px;text-align:left;}.#<uispace> .zcls{position:absolute;top:5px;right:0;width:20px;height:20px;line-height:20px;cursor:pointer;}");gK2x=a7h.jW3x('<div class="'+jU3x+'"><div class="zbar"><div class="zttl f-thide">标题</div></div><div class="zcnt"></div><span class="zcls" title="关闭窗体">×</span></div>')})();
(function(){var c8g=NEJ.P,k8c=c8g("nej.u"),P9G=c8g("nej.ui"),btS5X;if(!!P9G.bek1x)return;P9G.bek1x=NEJ.C();btS5X=P9G.bek1x.M9D(P9G.bjR2x);btS5X.bts5x=function(){return P9G.bcc0x.A9r(this.cl0x)};btS5X.baC9t=function(){P9G.bek1x.cy0x.baC9t.apply(this,arguments);this.cl0x.mask=null;this.cl0x.title="标题";this.cl0x.align="";this.cl0x.draggable=!1;this.cl0x.onclose=null}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),bc9T=c8g("nej.ui"),n8f=c8g("nm.l"),b8h,L9C;n8f.ey1x=NEJ.C();b8h=n8f.ey1x.M9D(bc9T.bek1x);b8h.bp9g=function(e8e){e8e.clazz="m-layer z-show "+(e8e.clazz||"");e8e.nohack=true;e8e.draggable=true;this.bq9h(e8e)};b8h.ej1x=function(g8c,bF9w){if(!g8c)return;a7h.bd9U(g8c,"display",!bF9w?"none":"");g8c.lastChild.innerText=bF9w||""};b8h.ef1x=function(hf2x,dj1x,XC8u,Xz8r){var es1x="js-lock";if(dj1x===undefined)return a7h.bG9x(hf2x,es1x);!dj1x?a7h.y9p(hf2x,es1x):a7h.w9n(hf2x,es1x);hf2x.firstChild.innerText=!dj1x?XC8u:Xz8r};n8f.ey1x.J9A=function(e8e){e8e=e8e||{};if(e8e.mask===undefined)e8e.mask="m-mask";if(e8e.parent===undefined)e8e.parent=document.body;if(e8e.draggable===undefined)e8e.draggable=true;!!this.fH2x&&this.fH2x.W9N();this.fH2x=this.A9r(e8e);this.fH2x.J9A(e8e);return this.fH2x};n8f.ey1x.bu9l=function(){!!this.fH2x&&this.fH2x.W9N()}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),n8f=c8g("nm.l"),b8h,L9C;n8f.btT5Y=NEJ.C();b8h=n8f.btT5Y.M9D(n8f.ey1x);L9C=n8f.btT5Y.cy0x;b8h.bp9g=function(e8e){this.bq9h(e8e);if(e8e.bubble===undefined)e8e.bubble=true;this.Xx8p=e8e.bubble;this.sO6I=e8e.message||""};b8h.cj0x=function(){this.cf0x=a7h.jW3x('<div class="lyct f-cb f-tc"></div>')};b8h.bY0x=function(){this.ck0x();h8b.s8k(this.o8g,"click",this.cT1x.f8d(this))};b8h.cT1x=function(d8f){var g8c=h8b.ba9R(d8f,"d:action");if(!g8c)return;if(g8c.href)h8b.cv0x(d8f);if(a7h.u9l(g8c,"action")=="close")this.bu9l();if(this.Xx8p===!1)h8b.vU8M(d8f);this.z9q("onaction",a7h.u9l(g8c,"action"))};b8h.J9A=function(){L9C.J9A.call(this);this.o8g.innerHTML=this.sO6I};var hl2x=a7h.eK1x('<div class="f-fs1" style="line-height:22px;">${message|default:""}</div><div class="lybtn">{list buttons as item}<a hidefocus="true" class="u-btn2 ${item.klass} {if item.style}${item.style}{else}u-btn2-w2{/if}" href="javascript:;" {if !!item.action}data-action="${item.action}"{/if}><i>${item.text}</i></a>{/list}</div>');l8d.og4k=function(){var ew1x;var cP0x;var btU5Z=function(dL1x,X9O){if(k8c.he2x(dL1x,"function")&&dL1x(X9O)!=-1)cP0x.W9N()};var EW2x=function(){!!cP0x&&cP0x.bu9l()};return function(e8e){clearTimeout(ew1x);e8e=e8e||{};e8e.title=e8e.title||"提示";e8e.clazz=e8e.clazz||"";e8e.parent=e8e.parent||document.body;e8e.buttons=e8e.buttons||[];e8e.message=a7h.cg0x(hl2x,e8e);e8e.onaction=btU5Z.f8d(null,e8e.action);if(e8e.mask===undefined)e8e.mask=true;if(e8e.draggable===undefined)e8e.draggable=true;!!cP0x&&cP0x.W9N();cP0x=n8f.btT5Y.A9r(e8e);cP0x.J9A();if(e8e.autoclose)ew1x=setTimeout(EW2x.f8d(null),2e3);return cP0x}}();l8d.eZ1x=function(e8e){e8e=e8e||{};e8e.clazz=e8e.clazz||"m-layer-w1";e8e.buttons=[{klass:"u-btn2-2",action:"close",text:e8e.btntxt||"确定"}];var cP0x=l8d.og4k(e8e);return cP0x};l8d.hU2x=function(e8e){e8e=e8e||{};e8e.clazz=e8e.clazz||"m-layer-w2";e8e.buttons=[{klass:"u-btn2-2",action:"ok",text:e8e.btnok||"确定",style:e8e.okstyle||""},{klass:"u-btn2-1",action:"close",text:e8e.btncc||"取消",style:e8e.ccstyle||""}];var cP0x=l8d.og4k(e8e);return cP0x}})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u");a7h.cDL8D=function(){var hk2x=/[\r\n]/gi,Q9H={};var cDK8C=function(cC0x){return(cC0x||"").replace(hk2x,"aa").length};var cdy7r=function(D9u){var bl9c=Q9H[D9u],cdz7s=a7h.B9s(D9u),tc6W=a7h.B9s(D9u+"-counter");if(!cdz7s||!bl9c)return;var d8f={input:cdz7s.value};d8f.length=bl9c.onlength(d8f.input);d8f.delta=bl9c.max-d8f.length;bl9c.onchange(d8f);tc6W.innerHTML=d8f.value||"剩余"+d8f.delta+"个字"};return function(H9y,e8e){var D9u=a7h.my4C(H9y);if(!D9u||!!Q9H[D9u])return;var bl9c=NEJ.X({},e8e);bl9c.onchange=bl9c.onchange||bs9j;bl9c.onlength=cDK8C;if(!bl9c.max){var cdA7t=parseInt(a7h.hc2x(D9u,"maxlength")),cdD7w=parseInt(a7h.u9l(D9u,"maxLength"));bl9c.max=cdA7t||cdD7w||100;if(!cdA7t&&!!cdD7w)bl9c.onlength=k8c.fV2x}Q9H[D9u]=bl9c;h8b.s8k(D9u,"input",cdy7r.f8d(null,D9u));var g8c=a7h.Qa5f(D9u,{nid:bl9c.nid||"js-counter",clazz:bl9c.clazz});bl9c.xid=D9u+"-counter";g8c.id=bl9c.xid;cdy7r(D9u)}}()})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),bg9X=c8g("nej.h");bg9X.btW5b=function(H9y,ev1x){}})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,P9G=c8g("nej.p"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),bg9X=c8g("nej.h");if(P9G.oQ5V.trident)return;bg9X.btW5b=function(){var Q9H={};var QU5Z=function(d8f){var da1x=h8b.ba9R(d8f);if(!!da1x.value)return;a7h.bd9U(a7h.Qa5f(da1x),"display","none")};var Kl3x=function(d8f){var da1x=h8b.ba9R(d8f);if(!!da1x.value)return;a7h.bd9U(a7h.Qa5f(da1x),"display","")};var cDE8w=function(da1x,ev1x){var D9u=a7h.my4C(da1x),jL3x=a7h.Qa5f(da1x,{tag:"label",clazz:ev1x});jL3x.htmlFor=D9u;var cM0x=a7h.hc2x(da1x,"placeholder")||"";jL3x.innerText=cM0x=="null"?"":cM0x;var cb0x=da1x.offsetHeight+"px";a7h.fv2x(jL3x,{left:0,display:!da1x.value?"":"none"})};return bg9X.btW5b.eW1x(function(d8f){d8f.stopped=!0;var bk9b=d8f.args,da1x=a7h.B9s(bk9b[0]);if(!!Q9H[da1x.id])return;cDE8w(da1x,bk9b[1]);Q9H[da1x.id]=!0;h8b.s8k(da1x,"blur",Kl3x.f8d(null));h8b.s8k(da1x,"focus",QU5Z.f8d(null))})}()})();
(function(){var c8g=NEJ.P,bg9X=c8g("nej.h"),a7h=c8g("nej.e"),di1x=c8g("nej.x");a7h.hg2x=di1x.hg2x=function(H9y,ev1x){bg9X.btW5b(H9y,a7h.u9l(H9y,"holder")||ev1x||"js-placeholder");return this};di1x.isChange=!0})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),P9G=c8g("nej.ut"),iz3x;if(!!P9G.WJ7C)return;P9G.WJ7C=NEJ.C();iz3x=P9G.WJ7C.M9D(P9G.cS1x);iz3x.cF0x=function(){this.cO0x();this.IR3x={tp:{nid:"js-nej-tp"},ok:{nid:"js-nej-ok"},er:{nid:"js-nej-er"}}};iz3x.bp9g=function(e8e){this.bq9h(e8e);this.gV2x=document.forms[e8e.form]||a7h.B9s(e8e.form);this.ca0x([[this.gV2x,"keypress",this.cDB8t.f8d(this)]]);this.sO6I=e8e.message||{};this.sO6I.pass=this.sO6I.pass||"&nbsp;";var ep1x=this.rt6n(this.gV2x,"focusMode",1);if(!isNaN(ep1x)){this.cdG7z={mode:ep1x,clazz:e8e.focus}}this.Fc2x=e8e.holder;this.IR3x.tp.clazz="js-mhd "+(e8e.tip||"js-tip");this.IR3x.ok.clazz="js-mhd "+(e8e.pass||"js-pass");this.IR3x.er.clazz="js-mhd "+(e8e.error||"js-error");this.cdP7I=e8e.invalid||"js-invalid";this.cDu8m(e8e);this.hq2x();if(!!this.Fg2x)this.Fg2x.focus()};iz3x.bC9t=function(){this.bJ9A();delete this.sO6I;delete this.Fg2x;delete this.Je3x;delete this.gV2x;delete this.ced8V;delete this.VN7G};iz3x.rt6n=function(g8c,zX0x,t8l){var C9t=a7h.u9l(g8c,zX0x);switch(t8l){case 1:return parseInt(C9t);case 2:return(C9t||"").toLowerCase()=="true";case 3:return this.buf5k(C9t)}return C9t};iz3x.Fk2x=function(C9t,t8l){if(t8l=="date")return this.buf5k(C9t);return parseInt(C9t)};iz3x.bjT2x=function(){var lq3x=/^button|submit|reset|image|hidden|file$/i;return function(g8c){g8c=this.B9s(g8c)||g8c;var t8l=g8c.type;return!!g8c.name&&!lq3x.test(g8c.type||"")}}();iz3x.cDr8j=function(){var lq3x=/^hidden$/i;return function(g8c){if(this.bjT2x(g8c))return!0;g8c=this.B9s(g8c)||g8c;var t8l=g8c.type||"";return lq3x.test(t8l)}}();iz3x.buf5k=function(){var ds1x=/[-\/]/;var cDq8i=function(C9t){if(!C9t)return"";C9t=C9t.split(ds1x);C9t.push(C9t.shift());return C9t.join("/")};return function(C9t){if((C9t||"").toLowerCase()=="now")return+(new Date);return Date.parse(cDq8i(C9t))}}();iz3x.cDB8t=function(d8f){if(d8f.keyCode!=13)return;this.z9q("onenter",d8f)};iz3x.cDp8h=function(D9u,Y9P){var tK7D=this.VN7G[Y9P],C9t=this.rt6n(D9u,Y9P);if(!C9t||!tK7D)return;this.bkl2x(D9u,tK7D);this.bug5l(D9u,Y9P,C9t)};iz3x.cDk8c=function(D9u,Y9P){try{var cez8r=this.rt6n(D9u,Y9P);if(!cez8r)return;var C9t=new RegExp(cez8r);this.bug5l(D9u,Y9P,C9t);this.bkl2x(D9u,this.VN7G[Y9P])}catch(e){}};iz3x.cDi8a=function(D9u,Y9P){var tK7D=this.VN7G[Y9P];if(!!tK7D&&this.rt6n(D9u,Y9P,2))this.bkl2x(D9u,tK7D)};iz3x.buh5m=function(D9u,Y9P,C9t){C9t=parseInt(C9t);if(isNaN(C9t))return;this.bug5l(D9u,Y9P,C9t);this.bkl2x(D9u,this.VN7G[Y9P])};iz3x.ceB8t=function(D9u,Y9P){this.buh5m(D9u,Y9P,this.rt6n(D9u,Y9P))};iz3x.ceL8D=function(D9u,Y9P){this.buh5m(D9u,Y9P,a7h.hc2x(D9u,Y9P))};iz3x.ceR8J=function(D9u,Y9P,t8l){var C9t=this.Fk2x(this.rt6n(D9u,Y9P),this.rt6n(D9u,"type"));this.buh5m(D9u,Y9P,C9t)};iz3x.cDd8V=function(){var hk2x=/^input|textarea$/i;var QU5Z=function(d8f){this.qU5Z(h8b.ba9R(d8f))};var Kl3x=function(d8f){var g8c=h8b.ba9R(d8f);if(!this.rt6n(g8c,"ignore",2)){this.ceZ8R(g8c)}};return function(g8c){if(this.rt6n(g8c,"autoFocus",2))this.Fg2x=g8c;var tb6V=a7h.hc2x(g8c,"placeholder");if(!!tb6V&&tb6V!="null")a7h.hg2x(g8c,this.Fc2x);if(!!this.cdG7z&&hk2x.test(g8c.tagName))a7h.nE4I(g8c,this.cdG7z);var D9u=a7h.my4C(g8c);this.cDi8a(D9u,"required");this.cDp8h(D9u,"type");this.cDk8c(D9u,"pattern");this.ceL8D(D9u,"maxlength");this.ceL8D(D9u,"minlength");this.ceB8t(D9u,"maxLength");this.ceB8t(D9u,"minLength");this.ceR8J(D9u,"min");this.ceR8J(D9u,"max");var Y9P=g8c.name;this.sO6I[Y9P+"-tip"]=this.rt6n(g8c,"tip");this.sO6I[Y9P+"-error"]=this.rt6n(g8c,"message");this.qU5Z(g8c);var R9I=this.Je3x[D9u],i8a=(R9I||be9V).data||be9V,Ui7b=this.rt6n(g8c,"counter",2);if(Ui7b&&(i8a.maxlength||i8a.maxLength)){a7h.cDL8D(D9u,{nid:this.IR3x.tp.nid,clazz:"js-counter"})}if(!!R9I&&hk2x.test(g8c.tagName)){this.ca0x([[g8c,"focus",QU5Z.f8d(this)],[g8c,"blur",Kl3x.f8d(this)]])}else if(this.rt6n(g8c,"focus",2)){this.ca0x([[g8c,"focus",QU5Z.f8d(this)]])}}}();iz3x.cDu8m=function(){var JK3x={number:/^[\d]+$/i,url:/^[a-z]+:\/\/(?:[\w-]+\.)+[a-z]{2,6}.*$/i,email:/^[\w-\.]+@(?:[\w-]+\.)+[a-z]{2,6}$/i,date:function(v){return!v||!isNaN(this.buf5k(v))}};var cCW8O={required:function(g8c){var t8l=g8c.type,cCB8t=!g8c.value,cBV7O=(t8l=="checkbox"||t8l=="radio")&&!g8c.checked;if(cBV7O||cCB8t)return-1},type:function(g8c,e8e){var ds1x=this.ced8V[e8e.type],fN2x=g8c.value.trim(),cBT7M=!!ds1x.test&&!ds1x.test(fN2x),cBN7G=k8c.he2x(ds1x)&&!ds1x.call(this,fN2x);if(cBT7M||cBN7G)return-2},pattern:function(g8c,e8e){if(!e8e.pattern.test(g8c.value))return-3},maxlength:function(g8c,e8e){if(g8c.value.length>e8e.maxlength)return-4},minlength:function(g8c,e8e){if(g8c.value.length<e8e.minlength)return-5},maxLength:function(g8c,e8e){if(k8c.fV2x(g8c.value)>e8e.maxLength)return-4},minLength:function(g8c,e8e){if(k8c.fV2x(g8c.value)<e8e.minLength)return-5},min:function(g8c,e8e){var hF2x=this.Fk2x(g8c.value,e8e.type);if(isNaN(hF2x)||hF2x<e8e.min)return-6},max:function(g8c,e8e){var hF2x=this.Fk2x(g8c.value,e8e.type);if(isNaN(hF2x)||hF2x>e8e.max)return-7}};return function(e8e){this.ced8V=NEJ.X(NEJ.X({},JK3x),e8e.type);this.VN7G=NEJ.X(NEJ.X({},cCW8O),e8e.attr)}}();iz3x.bkl2x=function(D9u,Br0x){if(!k8c.he2x(Br0x))return;var R9I=this.Je3x[D9u];if(!R9I||!R9I.func){R9I=R9I||{};R9I.func=[];this.Je3x[D9u]=R9I}R9I.func.push(Br0x)};iz3x.bug5l=function(D9u,Y9P,C9t){if(!Y9P)return;var R9I=this.Je3x[D9u];if(!R9I||!R9I.data){R9I=R9I||{};R9I.data={};this.Je3x[D9u]=R9I}R9I.data[Y9P]=C9t};iz3x.ceZ8R=function(g8c){g8c=this.B9s(g8c)||g8c;var R9I=this.Je3x[a7h.my4C(g8c)];if(!g8c||!R9I||!this.bjT2x(g8c))return!0;var m8e;k8c.eX1x(R9I.func,function(eM1x){m8e=eM1x.call(this,g8c,R9I.data);return m8e!=null},this);if(m8e==null){var d8f={target:g8c,form:this.gV2x};this.z9q("oncheck",d8f);m8e=d8f.value}var d8f={target:g8c,form:this.gV2x};if(m8e!=null){d8f.code=m8e;this.z9q("oninvalid",d8f);if(!d8f.stopped){this.cBD7w(g8c,d8f.value||this.sO6I[g8c.name+m8e])}}else{this.z9q("onvalid",d8f);if(!d8f.stopped)this.cBB7u(g8c,d8f.value)}return m8e==null};iz3x.Bo0x=function(){var cBu7n=function(bhm2x,bhz2x){return bhm2x==bhz2x?"block":"none"};var cBs7l=function(g8c,t8l,bF9w){var tb6V=bGA9r.call(this,g8c,t8l);if(!tb6V&&!!bF9w)tb6V=a7h.Qa5f(g8c,this.IR3x[t8l]);return tb6V};var bGA9r=function(g8c,t8l){var tb6V;if(t8l=="tp")tb6V=a7h.B9s(g8c.name+"-tip");if(!tb6V)tb6V=a7h.F9w(g8c.parentNode,this.IR3x[t8l].nid)[0];return tb6V};return function(g8c,bF9w,t8l){g8c=this.B9s(g8c)||g8c;if(!g8c)return;t8l=="er"?a7h.w9n(g8c,this.cdP7I):a7h.y9p(g8c,this.cdP7I);var tb6V=cBs7l.call(this,g8c,t8l,bF9w);if(!!tb6V&&!!bF9w)tb6V.innerHTML=bF9w;k8c.eX1x(this.IR3x,function(C9t,K9B){a7h.bd9U(bGA9r.call(this,g8c,K9B),"display",cBu7n(t8l,K9B))},this)}}();iz3x.qU5Z=function(g8c,bF9w){this.Bo0x(g8c,bF9w||this.sO6I[g8c.name+"-tip"],"tp");return this};iz3x.cBB7u=function(g8c,bF9w){this.Bo0x(g8c,bF9w||this.sO6I[g8c.name+"-pass"]||this.sO6I.pass,"ok");return this};iz3x.cBD7w=function(g8c,bF9w){this.Bo0x(g8c,bF9w||this.sO6I[g8c.name+"-error"],"er");return this};iz3x.jF3x=function(){var hk2x=/^(?:radio|checkbox)$/i;var cBl7e=function(C9t){return C9t==null?"":C9t};var bGK9B=function(C9t,g8c){if(hk2x.test(g8c.type||"")){g8c.checked=C9t==g8c.value}else{g8c.value=cBl7e(C9t)}};return function(Y9P,C9t){var g8c=this.B9s(Y9P);if(!g8c)return this;if(g8c.tagName=="SELECT"||!g8c.length){bGK9B(C9t,g8c)}else{k8c.bf9W(g8c,bGK9B.f8d(null,C9t))}return this}}();iz3x.B9s=function(Y9P){return this.gV2x.elements[Y9P]};iz3x.cUh4l=function(){return this.gV2x};iz3x.bcg0x=function(){var hk2x=/^radio|checkbox$/i,lq3x=/^number|date$/;var cBf7Y=function(bA9r,g8c){var Y9P=g8c.name,C9t=g8c.value,R9I=bA9r[Y9P],t8l=this.rt6n(g8c,"type");if(lq3x.test(t8l))C9t=this.Fk2x(C9t,t8l);if(hk2x.test(g8c.type)&&!g8c.checked){C9t=this.rt6n(g8c,"value");if(!C9t)return}if(!!R9I){if(!k8c.er1x(R9I)){R9I=[R9I];bA9r[Y9P]=R9I}R9I.push(C9t)}else{bA9r[Y9P]=C9t}};return function(){var m8e={};k8c.bf9W(this.gV2x.elements,function(g8c){if(this.cDr8j(g8c))cBf7Y.call(this,m8e,g8c)},this);return m8e}}();iz3x.Sn6h=function(){var cBe7X=function(g8c){if(this.bjT2x(g8c))this.qU5Z(g8c)};return function(){this.gV2x.reset();k8c.bf9W(this.gV2x.elements,cBe7X,this);return this}}();iz3x.cUi4m=function(){this.gV2x.submit();return this};iz3x.hq2x=function(){var cBb7U=function(g8c){if(this.bjT2x(g8c))this.cDd8V(g8c)};return function(){this.Je3x={};k8c.bf9W(this.gV2x.elements,cBb7U,this);return this}}();iz3x.cBa7T=function(g8c){g8c=this.B9s(g8c)||g8c;if(!!g8c)return this.ceZ8R(g8c);var m8e=!0;k8c.bf9W(this.gV2x.elements,function(g8c){var iK3x=this.cBa7T(g8c);m8e=m8e&&iK3x},this);return m8e}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),G9x=c8g("nej.ut"),k8c=c8g("nej.u"),l8d=c8g("nm.x"),n8f=c8g("nm.l"),b8h,L9C;n8f.bcE0x=NEJ.C();b8h=n8f.bcE0x.M9D(n8f.ey1x);L9C=n8f.bcE0x.cy0x;b8h.bY0x=function(){this.ck0x();h8b.s8k(this.o8g,"click",this.cT1x.f8d(this));h8b.s8k(document,"mousewheel",this.FT2x.f8d(this));if(!!document.body.addEventListener)document.body.addEventListener("DOMMouseScroll",this.FT2x.f8d(this))};b8h.bp9g=function(e8e){this.bq9h(e8e);if(e8e.jst){this.o8g.innerHTML=a7h.cg0x(e8e.jst,e8e.data)}else if(e8e.ntp){this.o8g.appendChild(a7h.dI1x(e8e.ntp))}else if(e8e.txt){this.o8g.innerHTML=a7h.iQ3x(e8e.txt)}else if(e8e.html){this.o8g.innerHTML=e8e.html}var RM6G=this.o8g.getElementsByTagName("form");if(RM6G.length){this.gV2x=G9x.WJ7C.A9r({form:RM6G[0]})}this.KF3x=a7h.dm1x(this.o8g)[0]};b8h.bC9t=function(){this.z9q("ondestroy");this.bJ9A();this.o8g.innerHTML="";delete this.KF3x};b8h.cT1x=function(d8f){var g8c=h8b.ba9R(d8f,"d:action"),i8a=this.gV2x?this.gV2x.bcg0x():null,d8f={action:a7h.u9l(g8c,"action")};if(i8a)d8f.data=i8a;if(d8f.action){this.z9q("onaction",d8f);if(d8f.stopped)return;this.bu9l()}};b8h.FT2x=function(d8f){if(!this.KF3x)return;h8b.bi9Z(d8f);var dB1x=d8f.wheelDelta||-d8f.detail;this.KF3x.scrollTop-=dB1x};l8d.kW3x=function(e8e){e8e.destroyable=e8e.destroyable||true;e8e.title=e8e.title||"提示";e8e.draggable=true;e8e.parent=e8e.parent||document.body;e8e.mask=e8e.mask||true;var zR0x=n8f.bcE0x.A9r(e8e);zR0x.J9A();return zR0x}})();
(function(){var p=NEJ.P("nej.u");var bGV9M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",baT9K={},KJ3x={};for(var i=0,l=bGV9M.length,c;i<l;i++){c=bGV9M.charAt(i);baT9K[i]=c;KJ3x[c]=i}var cAM7F=function(jn3x){var r8j=0,c,m8e=[];while(r8j<jn3x.length){c=jn3x[r8j];if(c<128){m8e.push(String.fromCharCode(c));r8j++}else if(c>191&&c<224){m8e.push(String.fromCharCode((c&31)<<6|jn3x[r8j+1]&63));r8j+=2}else{m8e.push(String.fromCharCode((c&15)<<12|(jn3x[r8j+1]&63)<<6|jn3x[r8j+2]&63));r8j+=3}}return m8e.join("")};var cAG7z=function(){var ih2x=/\r\n/g;return function(i8a){i8a=i8a.replace(ih2x,"\n");var m8e=[],nt4x=String.fromCharCode(237);if(nt4x.charCodeAt(0)<0)for(var i=0,l=i8a.length,c;i<l;i++){c=i8a.charCodeAt(i);c>0?m8e.push(c):m8e.push(256+c>>6|192,256+c&63|128)}else for(var i=0,l=i8a.length,c;i<l;i++){c=i8a.charCodeAt(i);if(c<128)m8e.push(c);else if(c>127&&c<2048)m8e.push(c>>6|192,c&63|128);else m8e.push(c>>12|224,c>>6&63|128,c&63|128)}return m8e}}();var MG4K=function(jn3x){var r8j=0,m8e=[],ep1x=jn3x.length%3;if(ep1x==1)jn3x.push(0,0);if(ep1x==2)jn3x.push(0);while(r8j<jn3x.length){m8e.push(baT9K[jn3x[r8j]>>2],baT9K[(jn3x[r8j]&3)<<4|jn3x[r8j+1]>>4],baT9K[(jn3x[r8j+1]&15)<<2|jn3x[r8j+2]>>6],baT9K[jn3x[r8j+2]&63]);r8j+=3}if(ep1x==1)m8e[m8e.length-1]=m8e[m8e.length-2]="=";if(ep1x==2)m8e[m8e.length-1]="=";return m8e.join("")};var bHj9a=function(){var uc8U=/\n|\r|=/g;return function(i8a){var r8j=0,m8e=[];i8a=i8a.replace(uc8U,"");for(var i=0,l=i8a.length;i<l;i+=4)m8e.push(KJ3x[i8a.charAt(i)]<<2|KJ3x[i8a.charAt(i+1)]>>4,(KJ3x[i8a.charAt(i+1)]&15)<<4|KJ3x[i8a.charAt(i+2)]>>2,(KJ3x[i8a.charAt(i+2)]&3)<<6|KJ3x[i8a.charAt(i+3)]);var br9i=m8e.length,ep1x=i8a.length%4;if(ep1x==2)m8e=m8e.slice(0,br9i-2);if(ep1x==3)m8e=m8e.slice(0,br9i-1);return m8e}}();p.cUn4r=function(i8a){return cAM7F(bHj9a(i8a))};p.cAx7q=function(i8a){var jn3x=bHj9a(i8a),do1x=jn3x.length,eH1x;var r8j=0;while(eH1x=jn3x[r8j]){if(eH1x>128){jn3x[r8j]=eH1x-256}r8j++}return jn3x};p.cAu7n=function(i8a){try{return window.btoa(i8a)}catch(ex){return MG4K(cAG7z(i8a))}}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,h8b=c8g("nej.v"),a7h=c8g("nej.e"),v9m=c8g("nej.j"),P9G=c8g("nej.p"),k8c=c8g("nej.u"),n8f=c8g("nm.l"),x9o=c8g("nm.w"),bD9u=c8g("nej.ui"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),b8h,L9C;var TYPE_MAP={13:"playlist",17:"program",18:"song",19:"album"};n8f.bHA9r=NEJ.C();b8h=n8f.bHA9r.M9D(n8f.ey1x);b8h.cj0x=function(){this.cf0x="m-download-layer"};b8h.bY0x=function(){this.ck0x();var j8b=a7h.F9w(this.o8g,"j-flag");this.buX5c=j8b[0];this.bvd5i=j8b[1];this.bHV9M=j8b[2];v9m.bm9d("/client/version/get",{type:"json",onload:this.czS6M.f8d(this)});if(P9G.Rn6h.mac){a7h.y9p(this.buX5c.parentNode,"f-hide");a7h.w9n(this.bvd5i.parentNode,"f-hide");a7h.w9n(this.bHV9M,"f-hide")}else{a7h.w9n(this.buX5c.parentNode,"f-hide");a7h.y9p(this.bvd5i.parentNode,"f-hide");a7h.y9p(this.bHV9M,"f-hide")}};b8h.bp9g=function(e8e){e8e.clazz=" m-layer-down";e8e.parent=e8e.parent||document.body;e8e.title="下载";e8e.draggable=!0;e8e.destroyalbe=!0;e8e.mask=true;this.bq9h(e8e);this.ca0x([[this.o8g,"click",this.bT0x.f8d(this)]]);this.eP1x=TYPE_MAP[e8e.type];this.hy2x=e8e.id};b8h.bC9t=function(){this.bJ9A()};b8h.Gc2x=function(){this.bu9l()};b8h.KR3x=function(d8f){this.z9q("onok",C9t);this.bu9l()};b8h.bT0x=function(d8f){var g8c=h8b.ba9R(d8f,"d:action");switch(a7h.u9l(g8c,"action")){case"download":this.bu9l();window.open(a7h.u9l(g8c,"src"));break;case"orpheus":this.bu9l();location.href="orpheus://"+k8c.cAu7n(JSON.stringify({type:this.eP1x,id:this.hy2x,cmd:"download"}));break}};b8h.czS6M=function(d8f){if((d8f||be9V).code==200){this.Ot5y=d8f.data;this.buX5c.innerText="V"+this.Ot5y.mac;this.bvd5i.innerText="V"+this.Ot5y.pc}};l8d.MC4G=function(e8e){n8f.bHA9r.A9r(e8e).J9A()}})();
(function(){var c8g=NEJ.P,l8d=c8g("nm.x");var FullscreenApi={};var apiMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var specApi=apiMap[0];var browserApi;for(var i=0;i<apiMap.length;i++){if(apiMap[i][1]in document){browserApi=apiMap[i];break}}if(browserApi){for(var i=0;i<browserApi.length;i++){FullscreenApi[specApi[i]]=browserApi[i]}}l8d.KT3x=FullscreenApi})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,k8c=c8g("nej.u"),q8i=c8g("nm.d"),bU0x={};q8i.B9s=function(K9B){return bU0x[K9B]};q8i.nC4G=function(K9B,bl9c){bU0x[K9B]=bl9c};q8i.fF2x=function(i8a){k8c.eX1x(i8a,function(p8h,K9B){var bl9c=bU0x[K9B]||{};NEJ.X(bl9c,p8h);bU0x[K9B]=bl9c})}})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,bg9X=c8g("nej.h");bg9X.beZ1x=function(K9B){return localStorage.getItem(K9B)};bg9X.bfc1x=function(K9B,C9t){localStorage.setItem(K9B,C9t)};bg9X.bvg5l=function(K9B){localStorage.removeItem(K9B)};bg9X.bvh5m=function(){localStorage.clear()};bg9X.czE6y=function(){var m8e=[];for(var i=0,l=localStorage.length;i<l;i++)m8e.push(localStorage.key(i));return m8e};bg9X.bvo5t=function(){(document.onstorageready||bs9j)()};bg9X.bvq5v=function(){return!0}})();
(function(){var c8g=NEJ.P,P9G=c8g("nej.p"),eH1x=c8g("nej.c"),bg9X=c8g("nej.h"),wa8S;if(P9G.oQ5V.trident||!!window.localStorage)return;var czt6n=function(){var uj8b,ew1x;var bqJ4N=function(){uj8b=document.createElement("div");NEJ.X(uj8b.style,{position:"absolute",top:0,left:0,width:"1px",height:"1px",zIndex:1e4,overflow:"hidden"});document.body.insertAdjacentElement("afterBegin",uj8b);uj8b.innerHTML='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="1" height="1"id="f-'+ +(new Date)+'" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"><param name="movie" value="'+eH1x.B9s("storage.swf")+'"/><param name="AllowScriptAccess" value="sameDomain"/></object>'};var TI6C=function(){ew1x=window.clearTimeout(ew1x);var it3x=uj8b.getElementsByTagName("object")[0];if(!!it3x.initStorage){delete uj8b;wa8S=it3x;wa8S.initStorage("nej-storage");(document.onstorageready||bs9j)();return}ew1x=window.setTimeout(TI6C,500)};return function(){if(!!wa8S)return;bqJ4N();TI6C()}}();bg9X.beZ1x=bg9X.beZ1x.eW1x(function(d8f){d8f.stopped=!0;if(!wa8S)return;d8f.value=wa8S.getItem(d8f.args[0])});bg9X.bfc1x=bg9X.bfc1x.eW1x(function(d8f){d8f.stopped=!0;if(!wa8S)return;var bk9b=d8f.args;wa8S.setItem(bk9b[0],bk9b[1])});bg9X.bvg5l=bg9X.bvg5l.eW1x(function(d8f){d8f.stopped=!0;if(!wa8S)return;wa8S.removeItem(d8f.args[0])});bg9X.bvh5m=bg9X.bvh5m.eW1x(function(d8f){d8f.stopped=!0;if(!!wa8S)wa8S.clear()});bg9X.bvo5t=bg9X.bvo5t.eW1x(function(d8f){d8f.stopped=!0;czt6n()});bg9X.bvq5v=bg9X.bvq5v.eW1x(function(d8f){d8f.stopped=!0;d8f.value=!!wa8S})})();
(function(){var c8g=NEJ.P,k8c=c8g("nej.u"),h8b=c8g("nej.v"),bg9X=c8g("nej.h"),v9m=c8g("nej.j"),G9x=c8g("nej.ut"),Q9H={};v9m.yt0x=function(K9B,C9t){var bIB9s=JSON.stringify(C9t);try{bg9X.bfc1x(K9B,bIB9s)}catch(ex){console.error(ex.message);console.error(ex)}if(bIB9s!=bg9X.beZ1x(K9B))Q9H[K9B]=C9t;return this};v9m.vT8L=function(K9B){var i8a=JSON.parse(bg9X.beZ1x(K9B)||"null");return i8a==null?Q9H[K9B]:i8a};v9m.bIL9C=function(K9B,C9t){var i8a=v9m.vT8L(K9B);if(i8a==null){i8a=C9t;v9m.yt0x(K9B,i8a)}return i8a};v9m.My4C=function(K9B){delete Q9H[K9B];bg9X.bvg5l(K9B);return this};v9m.cUx4B=function(){var bvE6y=function(p8h,K9B,bA9r){delete bA9r[K9B]};return function(){k8c.eX1x(Q9H,bvE6y);bg9X.bvh5m();return this}}();v9m.cUy5D=function(m8e){m8e=m8e||{};k8c.bf9W(bg9X.czE6y(),function(K9B){m8e[K9B]=v9m.vT8L(K9B)});return m8e};G9x.fY2x.A9r({element:document,event:"storageready",oneventadd:function(){if(bg9X.bvq5v()){document.onstorageready()}}});var czg6a=function(){var cyW6Q=function(C9t,K9B,bA9r){bg9X.bfc1x(K9B,JSON.stringify(C9t));delete bA9r[K9B]};return function(){k8c.eX1x(Q9H,cyW6Q)}}();h8b.s8k(document,"storageready",czg6a);bg9X.bvo5t()})();
(function(){var c8g=NEJ.P,h8b=c8g("nej.v"),k8c=c8g("nej.u"),P9G=c8g("nej.ut"),Mv4z;if(!!P9G.bvI6C)return;P9G.bvI6C=NEJ.C();Mv4z=P9G.bvI6C.M9D(P9G.cS1x);Mv4z.cF0x=function(){var hl2x=+(new Date),oI5N="dat-"+hl2x;return function(){this.cO0x();var Q9H=this.constructor[oI5N];if(!Q9H){Q9H={};this.constructor[oI5N]=Q9H}this.U9L=Q9H}}();Mv4z.B9s=function(K9B){return this.U9L[K9B]};Mv4z.nC4G=function(K9B,C9t){var oP5U=this.U9L[K9B];this.U9L[K9B]=C9t;h8b.z9q(localCache,"cachechange",{key:K9B,type:"set",oldValue:oP5U,newValue:C9t});return this};Mv4z.cY1x=function(K9B){var oP5U=this.U9L[K9B];k8c.bkQ3x(this.U9L,K9B);h8b.z9q(localCache,"cachechange",{key:K9B,type:"delete",oldValue:oP5U,newValue:undefined});return oP5U};Mv4z.bgX1x=function(Ma4e){return NEJ.Q(this.U9L,Ma4e)};window.localCache=P9G.bvI6C.A9r();P9G.fY2x.A9r({element:localCache,event:"cachechange"})})();
(function(){var c8g=NEJ.P,fR2x=NEJ.R,bs9j=NEJ.F,k8c=c8g("nej.u"),v9m=c8g("nej.j"),P9G=c8g("nej.ut"),oI5N="dat-"+ +(new Date),oS5X;if(!!P9G.bvJ6D)return;P9G.bvJ6D=NEJ.C();oS5X=P9G.bvJ6D.M9D(P9G.cS1x);oS5X.cF0x=function(){this.cO0x();this.U9L=this.constructor[oI5N];if(!this.U9L){this.U9L={};this.U9L[oI5N+"-l"]={};this.constructor[oI5N]=this.U9L}};oS5X.tG7z=function(K9B){return this.U9L[K9B]};oS5X.rj5o=function(K9B,C9t){this.U9L[K9B]=C9t};oS5X.mO4S=function(K9B,lb3x){var i8a=this.tG7z(K9B);if(i8a==null){i8a=lb3x;this.rj5o(K9B,i8a)}return i8a};oS5X.cyQ6K=function(K9B){if(K9B!=null){delete this.U9L[K9B];return}k8c.eX1x(this.U9L,function(p8h,K9B){if(K9B==oI5N+"-l")return;this.cyQ6K(K9B)},this)};oS5X.cUN5S=function(K9B){if(!!v9m.My4C)return v9m.My4C(K9B)};oS5X.cyL6F=function(K9B){if(!!v9m.vT8L)return v9m.vT8L(K9B)};oS5X.cyK6E=function(K9B,C9t){if(!!v9m.yt0x)v9m.yt0x(K9B,C9t)};oS5X.Lq4u=function(K9B,lb3x){var i8a=this.SK6E(K9B);if(i8a==null){i8a=lb3x;this.yO0x(K9B,i8a)}return i8a};oS5X.SK6E=function(K9B){var i8a=this.tG7z(K9B);if(i8a!=null)return i8a;i8a=this.cyL6F(K9B);if(i8a!=null)this.rj5o(K9B,i8a);return i8a};oS5X.yO0x=function(K9B,C9t){this.cyK6E(K9B,C9t);this.rj5o(K9B,C9t)};oS5X.bJr9i=function(K9B){if(K9B!=null){delete this.U9L[K9B];if(!!v9m.My4C)v9m.My4C(K9B);return}k8c.eX1x(this.U9L,function(p8h,K9B){if(K9B==oI5N+"-l")return;this.bJr9i(K9B)},this)};oS5X.cUQ5V=function(){this.bJr9i();return this};oS5X.cUR5W=function(K9B){var i8a=this.U9L[oI5N+"-l"];delete i8a[K9B]};oS5X.bvT6N=function(K9B){var i8a=this.U9L[oI5N+"-l"],bk9b=fR2x.slice.call(arguments,1);k8c.bf9W(i8a[K9B],function(cL0x){try{cL0x.apply(null,bk9b)}catch(ex){console.error(ex.message);console.error(ex.stack)}});delete i8a[K9B]};oS5X.bvW6Q=function(K9B,cL0x){cL0x=cL0x||bs9j;var j8b=this.U9L[oI5N+"-l"][K9B];if(!j8b){j8b=[cL0x];this.U9L[oI5N+"-l"][K9B]=j8b;return!1}j8b.push(cL0x);return!0};oS5X.cyu6o=function(j8b,bj9a,gz2x){if(!j8b)return!1;bj9a=parseInt(bj9a)||0;gz2x=parseInt(gz2x)||0;if(!gz2x){if(!j8b.loaded)return!1;gz2x=j8b.length}if(!!j8b.loaded)gz2x=Math.min(gz2x,j8b.length-bj9a);for(var i=0;i<gz2x;i++)if(!j8b[bj9a+i])return!1;return!0}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,k8c=c8g("nej.u"),P9G=c8g("nej.ut"),b8h,L9C;if(!!P9G.baS9J)return;P9G.baS9J=NEJ.C();b8h=P9G.baS9J.M9D(P9G.bvJ6D);L9C=P9G.baS9J.cy0x;b8h.bp9g=function(e8e){this.bq9h(e8e);this.zF0x=e8e.key||"id";this.bh9Y=e8e.data||be9V;this.cyt6n=!!e8e.autogc;this.cys6m(e8e.id)};b8h.bC9t=function(){this.bJ9A();if(!!this.dR1x){this.bJA0x()}};b8h.cys6m=function(D9u){var Q9H;if(!!D9u){Q9H=this.U9L[D9u];if(!Q9H){Q9H={};this.U9L[D9u]=Q9H}}Q9H=Q9H||this.U9L;Q9H.hash=Q9H.hash||{};this.bar9i=Q9H};b8h.bJA0x=function(){this.dR1x=window.clearTimeout(this.dR1x);var bA9r={};k8c.eX1x(this.bar9i,function(j8b,K9B){if(K9B=="hash")return;if(!k8c.er1x(j8b))return;k8c.bf9W(j8b,function(p8h){if(!p8h)return;bA9r[p8h[this.zF0x]]=!0},this)},this);k8c.eX1x(this.biR2x(),function(p8h,D9u,co0x){if(!bA9r[D9u]){delete co0x[D9u]}})};b8h.cyf6Z=function(){if(!!this.dR1x){this.dR1x=window.clearTimeout(this.dR1x)}this.dR1x=window.setTimeout(this.bJA0x.f8d(this),150)};b8h.GA2x=function(p8h,biY2x){p8h=this.bJF0x(p8h,biY2x)||p8h;if(!p8h)return null;var K9B=p8h[this.zF0x];if(K9B!=null){var gQ2x=this.biR2x()[K9B];if(!!gQ2x)p8h=NEJ.X(gQ2x,p8h);this.biR2x()[K9B]=p8h}delete p8h.bJO0x;return p8h};b8h.bJF0x=bs9j;b8h.bwk6e=function(K9B,p8h){if(!p8h)return;if(!k8c.er1x(p8h)){var j8b=this.ig2x(K9B),p8h=this.GA2x(p8h,K9B);if(!!p8h)j8b.unshift(p8h);return}k8c.oB5G(p8h,this.bwk6e.f8d(this,K9B))};b8h.Wk7d=function(K9B,cK0x){var j8b=this.ig2x(K9B);j8b.length=Math.max(j8b.length,cK0x);this.bwl6f(K9B);return this};b8h.mk4o=function(K9B){return this.ig2x(K9B).length};b8h.bwl6f=function(K9B,qx5C){this.ig2x(K9B).loaded=qx5C!=!1;return this};b8h.bjP2x=function(K9B){return!!this.ig2x(K9B).loaded};b8h.tA7t=function(K9B,j8b){this.xF9w(K9B);this.bwm6g({key:K9B,offset:0,limit:j8b.length+1},{list:j8b,total:j8b.length})};b8h.ig2x=function(){var LH4L=function(K9B){return(K9B||"")+(!K9B?"":"-")+"list"};return function(K9B){var K9B=LH4L(K9B),j8b=this.bar9i[K9B];if(!j8b){j8b=[];this.bar9i[K9B]=j8b}return j8b}}();b8h.biR2x=function(){var co0x=this.bar9i.hash;if(!co0x){co0x={};this.bar9i.hash=co0x}return co0x};b8h.bwn6h=function(){var LH4L=function(e8e){return"r-"+e8e.key};return function(e8e){var jz3x=NEJ.X({},e8e),pk5p=LH4L(jz3x);if(!this.bvW6Q(pk5p,this.z9q.f8d(this))){jz3x.rkey=pk5p;jz3x.onload=this.cxG5L.f8d(this,jz3x);this.z9q("dopullrefresh",jz3x)}return this}}();b8h.cxG5L=function(e8e,j8b){this.bwk6e(e8e.key,j8b);this.bvT6N(e8e.rkey,"onpullrefresh",e8e)};b8h.mz4D=function(){var LH4L=function(e8e){return"r-"+e8e.key+"-"+e8e.offset+"-"+e8e.limit};return function(e8e){e8e=e8e||be9V;var jz3x={key:""+e8e.key||"",ext:e8e.ext||null,data:e8e.data||null,offset:parseInt(e8e.offset)||0,limit:parseInt(e8e.limit)||0},j8b=this.ig2x(jz3x.key);if(this.cyu6o(j8b,jz3x.offset,jz3x.limit)){this.z9q("onlistload",jz3x);return this}var pk5p=LH4L(jz3x);if(!this.bvW6Q(pk5p,this.z9q.f8d(this))){jz3x.rkey=pk5p;jz3x.onload=this.bwm6g.f8d(this,jz3x);this.z9q("doloadlist",jz3x)}return this}}();b8h.bwm6g=function(){var Lj4n=function(p8h,r8j,j8b){if(!!p8h){return!0}j8b.splice(r8j,1)};return function(e8e,m8e){e8e=e8e||be9V;var K9B=e8e.key,bj9a=e8e.offset,bKn0x=this.ig2x(K9B);var j8b=m8e||[];if(!k8c.er1x(j8b)){j8b=m8e.result||m8e.list||[];var cK0x=parseInt(m8e.total);if(!isNaN(cK0x)||cK0x>j8b.length){this.Wk7d(K9B,cK0x)}}k8c.bf9W(j8b,function(p8h,r8j){bKn0x[bj9a+r8j]=this.GA2x(p8h,K9B)},this);if(j8b.length<e8e.limit){this.bwl6f(K9B);k8c.oB5G(bKn0x,Lj4n)}this.bvT6N(e8e.rkey,"onlistload",e8e)}}();b8h.xF9w=function(){var Lj4n=function(p8h,r8j,j8b){j8b.splice(r8j,1)};return function(K9B){var j8b=this.ig2x(K9B);k8c.oB5G(j8b,Lj4n);this.bwl6f(K9B,!1);if(this.cyt6n){this.cyf6Z()}return this}}();b8h.bKo0x=function(p8h,biY2x){return!p8h.bJO0x};b8h.eY1x=function(D9u){return this.biR2x()[D9u]};b8h.cVp5u=function(D9u){var p8h=this.eY1x(D9u);if(!!p8h)p8h.bJO0x=!0};b8h.bkK3x=function(){var LH4L=function(e8e){return"r-"+e8e.key+"-"+e8e.id};return function(e8e){e8e=e8e||be9V;var D9u=e8e[this.zF0x],jz3x={id:D9u,ext:e8e.ext,data:e8e.data||{},key:""+e8e.key||""};p8h=this.eY1x(D9u);jz3x.data[this.zF0x]=D9u;if(!!p8h&&this.bKo0x(p8h,jz3x.key)){this.z9q("onitemload",jz3x);return this}var pk5p=LH4L(jz3x);if(!this.bvW6Q(pk5p,this.z9q.f8d(this))){jz3x.rkey=pk5p;jz3x.onload=this.cxB5G.f8d(this,jz3x);this.z9q("doloaditem",jz3x)}return this}}();b8h.cxB5G=function(e8e,p8h){e8e=e8e||be9V;this.GA2x(p8h,e8e.key);this.bvT6N(e8e.rkey,"onitemload",e8e)};b8h.kc3x=function(e8e){e8e=NEJ.X({},e8e);e8e.onload=this.Aq0x.f8d(this,e8e);this.z9q("doadditem",e8e)};b8h.Aq0x=function(e8e,p8h){var K9B=e8e.key;p8h=this.GA2x(p8h,K9B);if(!!p8h){var fy2x=0,j8b=this.ig2x(K9B);if(!e8e.push){fy2x=-1;var bj9a=e8e.offset||0;j8b.splice(bj9a,0,p8h)}else if(j8b.loaded){fy2x=1;j8b.push(p8h)}else{j8b.length++}}var d8f={key:K9B,flag:fy2x,data:p8h,action:"add",ext:e8e.ext};this.z9q("onitemadd",d8f);return d8f};b8h.Mc4g=function(e8e){e8e=NEJ.X({},e8e);e8e.onload=this.bwu6o.f8d(this,e8e);this.z9q("dodeleteitem",e8e)};b8h.bwu6o=function(e8e,bKx0x){var p8h,K9B=e8e.key;if(!!bKx0x){p8h=this.eY1x(e8e.id)||null;var D9u=e8e.id,cxv5A=this.zF0x,j8b=this.ig2x(K9B),r8j=k8c.dw1x(j8b,function(gQ2x){return!!gQ2x&&gQ2x[cxv5A]==D9u});if(r8j>=0)j8b.splice(r8j,1)}var d8f={key:K9B,data:p8h,action:"delete",ext:e8e.ext};this.z9q("onitemdelete",d8f);return d8f};b8h.bkZ3x=function(e8e){e8e=NEJ.X({},e8e);e8e.onload=this.cxq5v.f8d(this,e8e);this.z9q("doupdateitem",e8e)};b8h.cxq5v=function(e8e,p8h){var K9B=e8e.key;if(!!p8h)p8h=this.GA2x(p8h,K9B);var d8f={key:K9B,data:p8h,action:"update",ext:e8e.ext};this.z9q("onitemupdate",d8f);return d8f}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,k8c=c8g("nej.u"),P9G=c8g("nej.ut"),b8h;if(!!P9G.bwC6w)return;P9G.bwC6w=NEJ.C();b8h=P9G.bwC6w.M9D(P9G.baS9J);b8h.bp9g=function(e8e){this.bq9h(e8e);this.bpI4M({doloadlist:this.bbe9V.f8d(this),doloaditem:this.bwF6z.f8d(this),doadditem:this.bKL0x.f8d(this),dodeleteitem:this.bbi9Z.f8d(this),doupdateitem:this.bbj9a.f8d(this),dopullrefresh:this.bKN0x.f8d(this)})};b8h.bbe9V=bs9j;b8h.bKN0x=bs9j;b8h.bwF6z=bs9j;b8h.bKL0x=bs9j;b8h.bbi9Z=bs9j;b8h.bbj9a=bs9j})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,k8c=c8g("nej.u"),h8b=c8g("nej.v"),v9m=c8g("nej.j"),G9x=c8g("nej.ut"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),b8h,L9C;q8i.ia2x=NEJ.C();b8h=q8i.ia2x.M9D(G9x.bwC6w);b8h.cr0x=function(){var yM0x=location.protocol+"//"+location.host;var cxh5m=function(bv9m,i8a){var bA9r={conf:{},data:{},urls:[]};k8c.bf9W(bv9m,function(K9B,r8j,j8b){var bl9c=q8i.B9s(K9B);if(!bl9c)return;var bwM6G=bKU0x(bl9c.url,i8a[K9B]);bA9r.urls.push(bwM6G);bA9r.conf[bwM6G]=bl9c;bA9r.data[bwM6G]=JSON.stringify(i8a[K9B]==null?"":i8a[K9B])});return bA9r};var bKU0x=function(Z9Q,i8a){return Z9Q.replace(/\{(.*?)\}/gi,function($1,$2){return i8a[$2]||$1})};var bLl0x=function(bl9c,e8e,d8f){h8b.z9q(window,"requesterror",d8f);if(!!d8f.stopped)return;var GL2x=bl9c.onerror||e8e.onerror;if(k8c.fX2x(GL2x)){this.z9q(GL2x,d8f,e8e)}else{(GL2x||bs9j).call(this,d8f,e8e)}var d8f={result:d8f,option:e8e};this.z9q("onerror",d8f);if(!d8f.stopped)(bl9c.onmessage||bs9j).call(this,d8f.result.code,d8f.result)};var bLu0x=function(T9K,bl9c,e8e){var m8e=T9K;if(k8c.he2x(bl9c.format)){m8e=bl9c.format.call(this,T9K,e8e)}return m8e};var CE1x=function(T9K,bl9c,e8e,yC0x){if(k8c.he2x(bl9c.beforeload)){bl9c.beforeload.call(this,T9K,e8e,bl9c)}if(T9K&&T9K.code!=null&&T9K.code!=200){bLl0x.call(this,bl9c,e8e,{key:e8e.key,code:T9K.code,message:T9K.message||"",captchaId:T9K.captchaId,ext:T9K});return}var m8e=T9K;if(!yC0x){m8e=bLu0x.call(this,T9K,bl9c,e8e)}else if(k8c.he2x(bl9c.format)){var bxj6d=[];k8c.bf9W(yC0x.urls,function(Z9Q){bxj6d.push(bLu0x.call(this,T9K[Z9Q],yC0x.conf[Z9Q],e8e))},this);bxj6d.push(e8e);m8e=bl9c.format.apply(this,bxj6d)}var oV5a=bl9c.onload||e8e.onload,bLL0x=bl9c.finaly||e8e.finaly||bs9j;if(k8c.fX2x(oV5a)){bLL0x.call(this,this.z9q(oV5a,m8e),e8e)}else{bLL0x.call(this,(oV5a||bs9j).call(this,m8e),e8e)}};var tT8L=function(bl9c,e8e,bV0x){bLl0x.call(this,bl9c,e8e,{key:e8e.key,code:bV0x.code||-1,message:bV0x.message||""})};return function(bl9c,e8e){if(k8c.fX2x(bl9c)){bl9c=q8i.B9s(bl9c)}delete e8e.value;(bl9c.filter||bs9j).call(this,e8e,bl9c);var T9K=e8e.value;if(!!T9K){CE1x.call(this,T9K,bl9c,e8e);return}var batchrequest=function(){var Z9Q,i8a=e8e.data||be9V,Ay0x={cookie:!0,type:bl9c.rtype||"json",method:bl9c.type||"POST",onerror:tT8L.f8d(this,bl9c,e8e),noescape:bl9c.noescape};if(k8c.er1x(bl9c.url)){var yC0x=cxh5m(bl9c.url,i8a);Z9Q=yM0x+"/api/batch";Ay0x.data=k8c.cJ0x(yC0x.data);Ay0x.onload=CE1x.eS1x(this,bl9c,e8e,yC0x);Ay0x.headers={"batch-method":"POST"};delete yC0x.data}else{var lt4x=bl9c.url.indexOf(":")<0?yM0x:"";Z9Q=bKU0x(lt4x+bl9c.url,i8a);Ay0x.data=k8c.cJ0x(e8e.data);Ay0x.onload=CE1x.eS1x(this,bl9c,e8e)}if(Ay0x.method=="GET")Ay0x.query=Ay0x.data;return v9m.bm9d(Z9Q,Ay0x)}.bind(this);if(e8e.cb){return e8e.cb(batchrequest)}else{return batchrequest()}}}();b8h.LD4H=function(){var hk2x=/^get|list|pull$/i;return function(bLP0x,e8e){var K9B=e8e.key,bl9c=q8i.B9s(K9B.split("-")[0]+"-"+bLP0x);if(hk2x.test(bLP0x)&&K9B.indexOf("post-")<0)bl9c.type="GET";this.cr0x(bl9c,e8e)}}();b8h.cVD5I=function(K9B,j8b){var cK0x=j8b.length;this.bwm6g({key:K9B,offset:0,limit:cK0x+1},{list:j8b,total:cK0x})};b8h.bbe9V=function(e8e){this.LD4H("list",e8e)};b8h.bwF6z=function(e8e){this.LD4H("get",e8e)};b8h.bKN0x=function(e8e){this.LD4H("pull",e8e)};b8h.bKL0x=function(e8e){this.LD4H("add",e8e)};b8h.bbi9Z=function(e8e){this.LD4H("del",e8e)};b8h.bbj9a=function(e8e){this.LD4H("update",e8e)};b8h.cwQ5V=function(p8h){this.GA2x(p8h)};G9x.fY2x.A9r({element:window,event:"requesterror"})})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,h8b=c8g("nej.v"),G9x=c8g("nej.ut"),q8i=c8g("nm.d"),bxk6e={},b8h,L9C;var wO9F=function(m8e,e8e){m8e.conf=e8e.conf;return m8e};q8i.fF2x({"res-mv-get":{type:"GET",url:"/api/v1/mv/detail",format:function(T9K,e8e){return wO9F({mv:T9K},e8e)}},"res-song-get":{type:"GET",url:"/api/song/detail",format:function(m8e,e8e){if(!!m8e.songs&&m8e.songs.length>0)m8e.song=m8e.songs[0];else m8e.song=bxk6e;delete m8e.songs;return wO9F(m8e,e8e)},filter:function(e8e){e8e.data.ids="["+e8e.data.id+"]"}},"res-program-get":{type:"GET",url:"/api/dj/program/detail",format:wO9F},"res-album-get":{type:"GET",url:"/api/album/{id}",format:wO9F},"res-playlist-get":{type:"GET",url:"/api/playlist/detail",format:function(m8e,e8e){m8e.playlist=m8e.result;delete m8e.result;return wO9F(m8e,e8e)}},"res-mv-play":{type:"GET",url:"/api/song/mv/play",format:wO9F},"res-playlist-play":{type:"GET",url:"/api/playlist/update/playcount",format:wO9F},"res-program-play":{type:"GET",url:"/api/dj/program/listen",format:wO9F},"res-djradio-get":{type:"GET",url:"/api/dj/program/byradio",filter:function(e8e){var j8b=e8e.data.id.split("-");e8e.data.radioId=j8b[0];e8e.data.asc=j8b[1]==2;e8e.data.limit=1e3;delete e8e.data.id},format:function(T9K,e8e){var cwL5Q={id:e8e.data.radioId,programs:T9K.programs};return wO9F({djradio:cwL5Q},e8e)}},"res-hotSongs-get":{type:"GET",url:"/api/artist/{id}",format:wO9F},"res-lyric-get":{type:"GET",url:"/api/song/lyric",filter:function(e8e){e8e.data.lv=0;e8e.data.tv=0},format:function(m8e,e8e){var zh0x={lyric:"",nolyric:true};if(m8e.code==200&&m8e.lrc&&m8e.lrc.lyric){zh0x.lyric=m8e.lrc.lyric;zh0x.nolyric=false}else{zh0x.nolyric=true}return wO9F({lyric:zh0x},e8e)}}});q8i.zi0x=NEJ.C();b8h=q8i.zi0x.M9D(q8i.ia2x);b8h.cwK5P=function(t8l,dd1x){return this.tG7z(this.bcs0x(t8l,dd1x))};b8h.baM9D=function(t8l,dd1x,e8e){e8e=e8e||{};var i8a=this.tG7z(this.bcs0x(t8l,dd1x));if(i8a&&(t8l!=13&&t8l!=19||e8e.conf&&e8e.conf.useCache)){this.z9q("onresourceload",t8l,dd1x,i8a,e8e.conf);return}e8e.data={id:dd1x};e8e.onload=this.cwJ5O.f8d(this,t8l,dd1x);e8e.onerror=this.cwG5L.f8d(this,t8l,dd1x);this.cr0x("res-"+this.Gw2x(t8l)+"-get",e8e)};b8h.cwJ5O=function(t8l,dd1x,m8e){var i8a=m8e[this.Gw2x(t8l)];this.rj5o(this.bcs0x(t8l,dd1x),i8a);this.z9q("onresourceload",t8l,dd1x,i8a,m8e.conf)};b8h.cwG5L=function(t8l,dd1x,m8e,e8e){if(m8e.code!=404){this.z9q("onresourceerror",t8l,dd1x,m8e.code);return}this.rj5o(this.bcs0x(t8l,dd1x),bxk6e);this.z9q("onresourceload",t8l,dd1x,bxk6e,e8e.conf)};b8h.cVF5K=function(t8l,e8e){this.cr0x("res-"+this.Gw2x(t8l)+"-play",e8e)};b8h.bcs0x=function(t8l,dd1x){return"res-"+this.Gw2x(t8l)+"-"+dd1x};b8h.Gw2x=function(t8l){var bA9r={2:"hotSongs",13:"playlist",17:"program",18:"song",19:"album",21:"mv",41:"lyric",70:"djradio"};return bA9r[t8l]};q8i.zi0x.Mn4r=function(t8l,dd1x){if(!this.fH2x)this.fH2x=q8i.zi0x.A9r({});return this.fH2x.cwK5P(t8l,dd1x)}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,h8b=c8g("nej.v"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),bxn6h=/^[1-9][0-9]*$/,b8h,L9C;var LOCAL_LOG_KEY="local-log";q8i.fF2x({"bi-log":{url:"/api/feedback/weblog"},"bi-batch-log":{url:"/api/feedback/weblog"},"plus-mv-count":{url:"/api/song/mv/play"},"plus-song-count":{url:"/api/song/play"},"plus-dj-count":{type:"GET",url:"/api/dj/program/listen"},"plus-playlist-count":{type:"GET",url:"/api/playlist/update/playcount"}});q8i.ii2x=NEJ.C();b8h=q8i.ii2x.M9D(q8i.ia2x);b8h.fa1x=function(X9O,bl9c){if(!X9O||!bl9c)return;if(k8c.fX2x(bl9c)){try{bl9c=JSON.parse(bl9c)}catch(_e){if(console&&console.warn){console.warn("bilog error: ",a7h)}}}if(!k8c.mx4B(bl9c))return;this.cr0x("bi-log",{data:{logs:JSON.stringify([{action:X9O,json:bl9c}])}});if(typeof GEnvType=="string"&&GEnvType=="local"){console.log("[BI LOG] action="+X9O+", json="+JSON.stringify(bl9c))}};b8h.bcK0x=function(pm5r){if(!k8c.er1x(pm5r))return;this.cr0x("bi-batch-log",{data:{logs:JSON.stringify(pm5r)}})};b8h.bMk0x=function(bl9c){if(!bl9c||!bl9c.type||!bl9c.rid)return;var pw5B=bl9c.type;if(bxn6h.test(pw5B)){pw5B=this.Gw2x(pw5B)}if(!pw5B)return;if(pw5B=="playlist")pw5B="list";this.fa1x("search",{type:pw5B,id:bl9c.rid||null,keyword:bl9c.keyword||null})};b8h.Tg6a=function(){var cwv5A=/^\/m\/(song|album|playlist)\?id=(\d+)/;return function(bl9c){if(!bl9c||!bl9c.type||!bl9c.rid)return;if(bl9c.play===undefined)bl9c.play=true;var pw5B=bl9c.type;if(bxn6h.test(pw5B)){pw5B=this.Gw2x(pw5B)}if(!pw5B)return;if(pw5B=="playlist")pw5B="list";var T9K={id:bl9c.rid,type:pw5B};if(pw5B=="song"&&bl9c.source){T9K.source=this.bMn0x(bl9c.source);if(!!bl9c.sourceid)T9K.sourceid=bl9c.sourceid}this.fa1x(!bl9c.play?"addto":"play",T9K);if(pw5B=="song"&&bl9c.hash&&bl9c.hash.match(cwv5A)){this.fa1x(!bl9c.play?"addto":"play",{type:RegExp.$1,id:RegExp.$2})}}}();b8h.bxs6m=function(D9u,bB9s,em1x,Ln4r){var T9K={type:"song",wifi:0,download:0};var cwp5u={1:"ui",2:"playend",3:"interrupt",4:"exception"};T9K.id=D9u;T9K.time=Math.round(bB9s);T9K.end=k8c.fX2x(Ln4r)?Ln4r:cwp5u[Ln4r]||"";if(em1x&&em1x.fid){T9K.source=this.bMn0x(em1x.fid);T9K.sourceId=em1x.fdata}this.fa1x("play",T9K)};b8h.bMy0x=function(t8l,dd1x){if(!t8l||!dd1x)return;if(bxn6h.test(t8l))t8l=this.Gw2x(t8l);if(t8l!="playlist"&&t8l!="dj")return;var bl9c=q8i.B9s("plus-"+t8l+"-count");if(!bl9c)return!1;this.cr0x(bl9c,{data:{id:dd1x}});var Q9H=this.mO4S("play-hist-"+t8l,[]);if(k8c.dw1x(Q9H,dd1x)<0){Q9H.push(dd1x);return!0}return!1};b8h.Gw2x=function(t8l){var bA9r={1:"user",2:"artist",13:"playlist",17:"dj",18:"song",19:"album",21:"mv",31:"toplist"};return bA9r[t8l]};b8h.bMn0x=function(Mo4s){var bA9r={1:"user",2:"artist",13:"list",17:"dj",18:"song",19:"album",21:"mv",31:"toplist",32:"search",33:"search",34:"event",35:"msg"};return bA9r[Mo4s]};b8h.bMz0x=function(hr2x){var pm5r=this.Lq4u(LOCAL_LOG_KEY,[]);pm5r.unshift(hr2x);if(pm5r.length>200){pm5r.length=200}this.yO0x(LOCAL_LOG_KEY,pm5r)};b8h.cwc5h=function(){return this.SK6E(LOCAL_LOG_KEY)};b8h.eE1x=function(T9K){this.fa1x("play",T9K)};var bMJ1x=q8i.ii2x.fZ2x();l8d.tu7n=function(){bMJ1x.fa1x.apply(bMJ1x,arguments)}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,h8b=c8g("nej.v"),v9m=c8g("nej.j"),G9x=c8g("nej.ut"),a7h=c8g("nej.e"),k8c=c8g("nej.u"),n8f=c8g("nm.l"),l8d=c8g("nm.x"),q8i=c8g("nm.d");var FullscreenApi=l8d.KT3x||{};if(!q8i.zi0x)return;var Q9H=q8i.zi0x.A9r({onresourceload:cvV5a});var xN9E=q8i.ii2x.fZ2x();function cvV5a(t8l,dd1x,i8a,bl9c){var j8b=[];switch(parseInt(t8l)){case 2:j8b=i8a;break;case 13:j8b=i8a.tracks;break;case 18:j8b.push(i8a);break;case 19:j8b=i8a.songs;break;case 21:if(i8a.mp&&i8a.mp.fee&&i8a.mp.pl<=0){l8d.bdX1x(i8a.data.id,i8a.mp.fee);return}break}if(l8d.Mr4v(j8b,true,null,t8l==19?{source:"album",sourceid:dd1x}:null)==0){return}l8d.eZ1x({clazz:"m-layer-w2",bubble:!1,message:bl9c.message})}function cvL5Q(d8f,pp5u,AU0x,eg1x){eg1x=eg1x||{};if(d8f.action=="ok"){if(AU0x){location.dispatch2("/payfee?songId="+AU0x)}else{location.dispatch2("/payfee?fee="+pp5u||1)}xN9E.fa1x("click",{type:"tobuyvip",name:"box",source:eg1x.source||"song",sourceid:eg1x.sourceid||AU0x||0})}else if(d8f.action=="song"){location.dispatch2("/payfee?singleSong=true&songId="+AU0x);xN9E.fa1x("click",{type:"tobuyone",name:"box",source:eg1x.source||"song",sourceid:eg1x.sourceid||AU0x||0})}}function WQ7J(bF9w){l8d.eZ1x({clazz:"m-layer-w2",bubble:!1,message:bF9w,btntxt:"知道了"})}function XO8G(bF9w,T9K){WQ7J((T9K||be9V).toast||bF9w)}l8d.jd3x=function(bF9w,D9u,t8l,cvK5P,bn9e){bF9w=bF9w||"由于版权保护，您所在的地区暂时无法使用。";if(cvK5P&&bn9e&&bn9e.privilege&&bn9e.privilege.toast){v9m.bm9d("/api/song/toast",{query:{id:bn9e.id},type:"json",onload:XO8G.f8d(this,bF9w),onerror:XO8G.f8d(this,bF9w)})}else if(D9u&&t8l){Q9H.baM9D(t8l,D9u,{conf:{message:bF9w,useCache:t8l!=18}})}else{WQ7J(bF9w)}};l8d.xf9W=function(pp5u,AU0x,t8l,eg1x,oi4m){var bU0x,qq5v="m-popup-info",bxC6w="单首购买",bxD6x="马上去开通",cX1x="唱片公司要求，当前歌曲须付费使用。",bMX1x=true;try{bU0x=top.api.feeMessage||{}}catch(e){bU0x={}}if(pp5u==1||pp5u==8||pp5u==16){if(t8l=="song"){qq5v="m-popup-song-buy";cX1x=bU0x["vip2"]||cX1x;bxD6x=bU0x["vip2button"]||"包月购买";bxC6w=bU0x["vip2link"]||bxC6w;if(oi4m&&oi4m.flag!==undefined){var bv9m=oi4m.flag.toString(2).split("");if(parseInt(bv9m.pop(),10)==1){bMX1x=false}}}else{cX1x=bU0x["vip"]||cX1x}}else if(pp5u==4){cX1x=bU0x["album"]||cX1x;bxD6x="立即订购"}else{cX1x=bU0x["unknow"]||cX1x}l8d.kW3x({clazz:"m-layer-w5",html:a7h.cg0x(qq5v,{songTxt:bxC6w,tip:cX1x,oktext:bxD6x,cctext:"以后再说",showSongText:bMX1x}),onaction:cvL5Q.eS1x(null,pp5u,AU0x,eg1x)})};l8d.bNc1x=function(ic2x,gI2x){l8d.hU2x({title:"提示",message:"唱片公司要求，该歌曲须下载后播放",btnok:"下载",btncc:"取消",okstyle:"u-btn2-w1",ccstyle:"u-btn2-w1",action:function(t8l){if(t8l=="ok"){l8d.MC4G({id:ic2x,type:gI2x})}}})};l8d.bdX1x=function(lr3x,pp5u){var bU0x,cX1x="唱片公司要求，当前歌曲须付费使用。";try{bU0x=top.api.feeMessage||{}}catch(e){bU0x={}}if(pp5u==1||pp5u==8){cX1x=bU0x["vip"]||cX1x}else if(pp5u==4){cX1x=bU0x["album"]||cX1x}else{cX1x=bU0x["unknow"]||cX1x}return l8d.kW3x({parent:document[FullscreenApi.fullscreenElement]||document.body,clazz:"m-layer-w5",html:a7h.cg0x("m-popup-info",{tip:cX1x,oktext:"马上去开通",cctext:"以后再说"}),onaction:function(d8f){if(d8f.action=="ok"){location.dispatch2("/payfee?mvId="+lr3x);xN9E.fa1x("click",{type:"tobuyone",name:"box",source:"mv",sourceid:lr3x||0})}}})};l8d.Mr4v=function(){function compareFee(cvA5F,cvr5w){var bA9r={1:99,8:99,4:88,16:99};return(bA9r[cvA5F]||0)-(bA9r[cvr5w]||0)}return function(j8b,cX1x,tr7k,eg1x){tr7k=tr7k||{};var Br0x=[],MJ4N={},bNk1x=0,bNu1x=0,MP4T=null;if(!j8b||!j8b.length)return Br0x;k8c.bf9W(j8b,function(bn9e){var fT2x=l8d.qV5a(bn9e);if(fT2x==0){Br0x.push(bn9e)}else if(fT2x==10){if(bn9e.privilege){bn9e.fee=bn9e.privilege.fee}if(compareFee(bn9e.fee,MJ4N.fee)>0){MJ4N=bn9e}}else if(fT2x==11){++bNk1x;if(!tr7k.play)Br0x.push(bn9e)}else if(fT2x==1e3){++bNu1x;if(!tr7k.download)Br0x.push(bn9e)}else if(fT2x==100){MP4T=bn9e}});if(Br0x.length==0&&cX1x){if(bNk1x==j8b.length){var vY8Q=j8b[0].privilege||{};if(vY8Q.payed){l8d.jd3x("唱片公司要求，该歌曲须下载后播放")}else{l8d.xf9W(vY8Q.fee,null,null,eg1x)}}else if(bNu1x==j8b.length){l8d.jd3x("因版权方要求，该歌曲不支持下载")}else if(MJ4N.id){l8d.xf9W(MJ4N.fee,MJ4N.id,null,eg1x,MJ4N.privilege)}else{if(MP4T&&j8b.length==1&&MP4T.privilege&&MP4T.privilege.st<0&&MP4T.privilege.toast){l8d.jd3x(null,null,null,true,MP4T)}else{l8d.jd3x()}}}return Br0x}}();l8d.qV5a=function(bn9e){if(!bn9e)return 0;var fT2x=bn9e.privilege;if(bn9e.program)return 0;if(window.GAbroad)return 100;if(fT2x){if(fT2x.st!=null&&fT2x.st<0){return 100}if(fT2x.fee>0&&fT2x.fee!=8&&fT2x.payed==0&&fT2x.pl<=0)return 10;if(fT2x.fee==16)return 11;if((fT2x.fee==0||fT2x.payed)&&fT2x.pl>0&&fT2x.dl==0)return 1e3;if(fT2x.pl==0&&fT2x.dl==0)return 100;return 0}else{var dZ1x=bn9e.status!=null?bn9e.status:bn9e.st!=null?bn9e.st:0;if(bn9e.status>=0)return 0;if(bn9e.fee>0)return 10;return 100}}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,fR2x=NEJ.R,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),x9o=c8g("nm.w"),b8h;if(!!x9o.bxR6L)return;var cm0x=~[];cm0x={kz3x:++cm0x,bxY6S:(![]+"")[cm0x],dc1x:++cm0x,nc4g:(![]+"")[cm0x],zj0x:(cm0x[cm0x]+"")[cm0x],vO8G:++cm0x,bgM1x:({}+"")[cm0x],bya6U:(cm0x[cm0x]+"")[cm0x],vI8A:(![]+"")[cm0x],mV4Z:++cm0x,kY3x:(!""+"")[cm0x],hh2x:++cm0x,eC1x:++cm0x,MS4W:({}+"")[cm0x],jg3x:++cm0x,iI3x:++cm0x,cWl5q:++cm0x,cWm5r:++cm0x};cm0x.MT4X=(cm0x.MT4X=cm0x+"")[cm0x.eC1x]+(cm0x.FR2x=cm0x.MT4X[cm0x.dc1x])+(cm0x.to7h=(cm0x.RX6R+"")[cm0x.dc1x])+(cm0x.cuO4S=(!cm0x+"")[cm0x.mV4Z])+(cm0x.op5u=cm0x.MT4X[cm0x.jg3x])+(cm0x.RX6R=(!""+"")[cm0x.dc1x])+(cm0x.bOd1x=(!""+"")[cm0x.vO8G])+cm0x.MT4X[cm0x.eC1x]+cm0x.op5u+cm0x.FR2x+cm0x.RX6R;cm0x.to7h=cm0x.RX6R+(!""+"")[cm0x.mV4Z]+cm0x.op5u+cm0x.bOd1x+cm0x.RX6R+cm0x.to7h;cm0x.vf8X=cm0x.kz3x[cm0x.MT4X][cm0x.MT4X];x9o.bxR6L=cm0x})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,h8b=c8g("nej.v"),a7h=c8g("nej.e"),P9G=c8g("nej.ui"),b8h;if(!!P9G.bhQ2x)return;var jU3x=a7h.vJ8B(".#<uispace>{position:absolute;background:#fff;}");P9G.bhQ2x=NEJ.C();b8h=P9G.bhQ2x.M9D(P9G.RF6z);b8h.bp9g=function(e8e){this.bq9h(e8e);this.ca0x([[document,"click",this.uU8M.f8d(this)]]);this.cuK4O=!!e8e.nostop;this.bOx1x={top:e8e.top,left:e8e.left}};b8h.bC9t=function(){delete this.Bk0x;delete this.byo6i;delete this.sT6N;delete this.bOG1x;delete this.bif2x;delete this.bOx1x;this.bJ9A()};b8h.cj0x=function(){this.mW4a=jU3x};b8h.bY0x=function(){this.ck0x();this.Ep1x=this.o8g;h8b.s8k(this.o8g,"click",this.cur4v.f8d(this))};b8h.uU8M=function(d8f){if(d8f.button!=2)this.bu9l()};b8h.cur4v=function(d8f){if(this.cuK4O)return;h8b.vU8M(d8f);var H9y=h8b.ba9R(d8f);if(H9y.tagName=="A")h8b.cv0x(d8f)};b8h.cuo4s=function(){var ds1x=/\s+/i;return function(oZ5e){oZ5e=(oZ5e||"").trim().toLowerCase().split(ds1x);oZ5e[0]=oZ5e[0]||"bottom";oZ5e[1]=oZ5e[1]||"left";this.sT6N=oZ5e}}();b8h.cun4r=function(oZ5e){var m8e={},oq5v=this.byo6i,cWr5w=a7h.qh5m(),cE0x=this.o8g.offsetWidth,cb0x=this.o8g.offsetHeight;switch(oZ5e[0]){case"top":m8e.top=oq5v.top-cb0x;m8e.left=oZ5e[1]=="right"?oq5v.left+oq5v.width-cE0x:oq5v.left;break;case"left":m8e.left=oq5v.left-cE0x;m8e.top=oZ5e[1]=="bottom"?oq5v.top+oq5v.height-cb0x:oq5v.top;break;case"right":m8e.left=oq5v.left+oq5v.width;m8e.top=oZ5e[1]=="bottom"?oq5v.top+oq5v.height-cb0x:oq5v.top;break;default:m8e.top=oq5v.top+oq5v.height;m8e.left=oZ5e[1]=="right"?oq5v.left+oq5v.width-cE0x:oq5v.left;break}return m8e};b8h.NV4Z=function(){if(!this.bOG1x){this.hi2x(this.bOx1x);return}if(!!this.bif2x){this.hi2x(this.Bk0x);return}if(!!this.byo6i)this.hi2x(this.cun4r(this.sT6N))};b8h.cuf4j=function(H9y,dB1x,d8f){dB1x=dB1x||be9V;var bOY1x=a7h.qh5m(),di1x=h8b.kA3x(d8f)+(dB1x.left||0),hY2x=h8b.na4e(d8f)+(dB1x.top||0),cE0x=H9y.offsetWidth+(dB1x.right||0),cb0x=H9y.offsetHeight+(dB1x.bottom||0),Nb4f=bOY1x.scrollWidth,byz6t=bOY1x.scrollHeight,byC6w=di1x+cE0x,byD6x=hY2x+cb0x;switch(this.sT6N[0]){case"top":hY2x=byD6x>byz6t?hY2x-cb0x:hY2x;if(this.sT6N[1]=="right"){di1x=di1x-cE0x<0?0:di1x-cE0x}else{di1x=byC6w>Nb4f?Nb4f-cE0x:di1x}break;case"left":di1x=byC6w>Nb4f?Nb4f-cE0x:di1x;if(this.sT6N[1]=="top"){hY2x=byD6x>byz6t?hY2x-cb0x:hY2x}else{hY2x=hY2x-cb0x<0?hY2x:hY2x-cb0x}break;case"right":di1x=di1x-cE0x<0?0:di1x-cE0x;if(this.sT6N[1]=="top"){hY2x=byD6x>byz6t?hY2x-cb0x:hY2x}else{hY2x=hY2x-cb0x<0?hY2x:hY2x-cb0x}break;default:hY2x=hY2x-cb0x<0?hY2x:hY2x-cb0x;if(this.sT6N[1]=="left"){di1x=byC6w>Nb4f?Nb4f-cE0x:di1x}else{di1x=di1x-cE0x<0?0:di1x-cE0x}break}return{top:hY2x,left:di1x}};b8h.byE6y=function(){var ctQ4U=function(H9y,dB1x){H9y=a7h.B9s(H9y);if(!H9y)return;dB1x=dB1x||be9V;var bj9a=a7h.iu3x(H9y);return{top:bj9a.y-(dB1x.top||0),left:bj9a.x-(dB1x.left||0),width:H9y.offsetWidth+(dB1x.right||0),height:H9y.offsetHeight+(dB1x.bottom||0)}};return function(e8e){e8e=e8e||be9V;this.bif2x=e8e.event;this.cuo4s(e8e.align);if(!!this.bif2x)this.Bk0x=this.cuf4j(e8e.target,e8e.delta,this.bif2x);this.byo6i=ctQ4U(e8e.target,e8e.delta);this.bOG1x=!!e8e.fitable;this.J9A();return this}}()})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),P9G=c8g("nej.ui"),b8h,L9C;if(!!P9G.FC2x)return;P9G.FC2x=NEJ.C();b8h=P9G.FC2x.M9D(P9G.bjR2x);L9C=P9G.FC2x.cy0x;P9G.FC2x.cWy5D=function(){var ctO4S=function(d8f,D9u,gd2x,ls4w,TV6P){var cP0x,K9B=D9u+"-i",Q9H=gd2x.Bu1x,bPl1x=!!ls4w.noclear,bPr1x=!!ls4w.toggled;if(k8c.he2x(ls4w.onbeforeclick)){var bjI2x=ls4w.noclear,ctK4O=ls4w.toggled;try{ls4w.onbeforeclick(ls4w)}catch(e){}bPl1x=!!ls4w.noclear;bPr1x=!!ls4w.toggled;ls4w.toggled=ctK4O;ls4w.noclear=bjI2x}var HK2x=Q9H[K9B];if(bPr1x&&!!HK2x){HK2x.bu9l();return}h8b.bi9Z(d8f);if(!bPl1x){h8b.z9q(document,"click");cP0x=gd2x.A9r(ls4w)}else{cP0x=gd2x.bIb9S(ls4w,!0)}Q9H[K9B]=cP0x;cP0x.zy0x("onbeforerecycle",function(){delete Q9H[K9B]});cP0x.byE6y(TV6P)};return function(g8c,e8e){g8c=a7h.B9s(g8c);if(!g8c)return this;if(!this.Bu1x)this.Bu1x={};var D9u=a7h.my4C(g8c);if(!!this.Bu1x[D9u])return this;e8e=NEJ.X({},e8e);var TV6P=NEJ.EX({align:"",delta:null,fitable:!1},e8e);TV6P.target=D9u;e8e.destroyable=!0;if(!e8e.fixed){TV6P.fitable=!0;e8e.parent=document.body}this.Bu1x[D9u]=[D9u,e8e.event||"click",ctO4S.eS1x(null,D9u,this,e8e,TV6P)];h8b.s8k.apply(h8b,this.Bu1x[D9u]);return this}}();P9G.FC2x.cWA5F=function(g8c){if(!this.Bu1x)return this;var D9u=a7h.my4C(g8c),d8f=this.Bu1x[D9u];if(!d8f)return this;delete this.Bu1x[D9u];h8b.ny4C.apply(h8b,d8f);var cP0x=this.Bu1x[D9u+"-i"];if(!!cP0x)cP0x.bu9l();return this};b8h.bts5x=function(){return P9G.bhQ2x.A9r(this.cl0x)};b8h.baC9t=function(){L9C.baC9t.apply(this,arguments);this.cl0x.top=null;this.cl0x.left=null;this.cl0x.nostop=!1};b8h.byE6y=function(e8e){if(!!this.pT5Y)this.pT5Y.byE6y(e8e);return this}})();
(function(){var c8g=NEJ.P,bc9T=c8g("nej.ui"),n8f=c8g("nm.l"),b8h,L9C;n8f.byH6B=NEJ.C();b8h=n8f.byH6B.M9D(bc9T.FC2x);b8h.bp9g=function(e8e){e8e.nohack=true;this.bq9h(e8e)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),n8f=c8g("nm.l"),l8d=c8g("nm.x"),b8h,L9C;var FullscreenApi=l8d.KT3x||{};n8f.bb9S=NEJ.C();b8h=n8f.bb9S.M9D(n8f.byH6B);L9C=n8f.bb9S.cy0x;b8h.bp9g=function(e8e){this.bq9h(e8e);this.eP1x=e8e.type||1};b8h.bY0x=function(){this.ck0x();this.o8g=a7h.oW5b(this.ctF4J());var j8b=a7h.dm1x(this.o8g);this.tg7Z=j8b[0];this.cU1x=j8b[1]};b8h.ctF4J=function(){return'<div class="sysmsg"><i class="u-icn u-icn-31"></i><span></span></div>'};b8h.NV4Z=function(){var C9t={},cn0x=this.o8g.style,kt3x=a7h.qh5m(),pD5I={left:kt3x.scrollLeft,top:kt3x.scrollTop},dB1x={left:kt3x.clientWidth-this.o8g.offsetWidth,top:kt3x.clientHeight-this.o8g.offsetHeight};C9t.top=Math.max(0,pD5I.top+dB1x.top/2);C9t.left=Math.max(0,pD5I.left+dB1x.left/2);this.pT5Y.hi2x(C9t)};b8h.J9A=function(e8e){L9C.J9A.call(this);this.NV4Z();this.eP1x==1?a7h.fC2x(this.tg7Z,"u-icn-32","u-icn-31"):a7h.fC2x(this.tg7Z,"u-icn-31","u-icn-32");this.cU1x.innerHTML=e8e.tip||""};window.g_showTipCard=n8f.bb9S.J9A=function(){var ew1x;return function(e8e){clearTimeout(ew1x);if(e8e.parent===undefined)e8e.parent=document[FullscreenApi.fullscreenElement]||document.body;if(e8e.autoclose===undefined)e8e.autoclose=true;e8e.clazz="m-sysmsg";!!this.fH2x&&this.fH2x.W9N();this.fH2x=this.A9r(e8e);this.fH2x.J9A(e8e);if(e8e.autoclose)ew1x=setTimeout(this.bu9l.f8d(this),2e3)}.f8d(n8f.bb9S)}();n8f.bb9S.bu9l=function(){!!this.fH2x&&this.fH2x.bu9l()}})();
(function(){var c8g=NEJ.P,v9m=c8g("nej.j"),k8c=c8g("nej.u");if(window["GRef"]&&window["GRef"]=="mail"){v9m.bm9d=v9m.bm9d.eW1x(function(d8f){e8e=d8f.args[1];e8e.query=e8e.query||{};if(k8c.fX2x(e8e.query))e8e.query=k8c.hb2x(e8e.query);e8e.query.ref="mail"})}})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,fR2x=NEJ.R,G9x=c8g("nej.ut"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),v9m=c8g("nej.j"),q8i=c8g("nm.d"),n8f=c8g("nm.l"),l8d=c8g("nm.x"),K9B="playlist-tracks_",b8h;q8i.fF2x({"playlist_my-list":{url:"/api/user/playlist",type:"GET",format:function(T9K,e8e){this.ctE4I(T9K.playlist);return{total:0,list:fR2x}},onerror:function(){this.z9q("onlisterror")}},"playlist_new-add":{url:"/api/playlist/create",format:function(T9K,e8e){var ox5C=T9K.playlist;ox5C.creator=GUser;ox5C.isHost=!0;ox5C.typeFlag="playlist";return ox5C},finaly:function(d8f,e8e){h8b.z9q(q8i.iL3x,"listchange",d8f)},onmessage:function(){var nl4p={507:"歌单数量超过上限！",405:"你操作太快了，请休息一会再试！",406:"你操作太快了，请休息一会再试！"};return function(ci0x){n8f.bb9S.J9A({tip:nl4p[ci0x]||"创建失败",type:2})}}()},"playlist_new-del":{url:"/api/playlist/delete",type:"GET",filter:function(e8e){e8e.id=e8e.data.pid},finaly:function(d8f,e8e){h8b.z9q(q8i.iL3x,"listchange",d8f)},onmessage:function(){var nl4p={404:"歌单不存在！",405:"你操作太快了，请休息一会再试！",406:"你操作太快了，请休息一会再试！"};return function(ci0x){n8f.bb9S.J9A({tip:nl4p[ci0x]||"删除失败",type:2})}}()},"playlist_fav-add":{type:"GET",url:"/api/playlist/subscribe",filter:function(e8e){var eg1x=e8e.ext||{};e8e.ext=NEJ.X(eg1x,e8e.data);e8e.data={id:e8e.ext.id}},format:function(T9K,e8e){n8f.bb9S.J9A({tip:"收藏成功"+(T9K.point>0?' 获得<em class="s-fc6">'+T9K.point+"积分</em>":"")});var p8h=e8e.ext;p8h.subscribedCount++;return p8h},finaly:function(d8f,e8e){h8b.z9q(q8i.ctA4E,"listchange",d8f);h8b.z9q(q8i.ctA4E,"itemchange",{attr:"subscribedCount",data:d8f.data})},onmessage:function(){var nl4p={404:"歌单不存在！",501:"歌单已经收藏！",506:"歌单收藏数量超过上限！"};return function(ci0x){n8f.bb9S.J9A({type:2,tip:nl4p[ci0x]||"收藏失败，请稍后再试！"})}}()},"playlist_fav-del":{url:"/api/playlist/unsubscribe",type:"GET",filter:function(e8e){e8e.id=e8e.data.id=e8e.data.pid},finaly:function(d8f,e8e){h8b.z9q(q8i.iL3x,"listchange",d8f)},onmessage:function(){var nl4p={404:"歌单不存在！",405:"你操作太快了，请休息一会再试！",406:"你操作太快了，请休息一会再试！"};return function(ci0x){n8f.bb9S.J9A({tip:nl4p[ci0x],type:2})}}()},"playlist_new-update":{url:["playlist-update-name","playlist-update-tag","playlist-update-desc"],filter:function(e8e){var i8a=e8e.data,bkt3x={};bkt3x["playlist-update-name"]={id:i8a.id,name:i8a.name};bkt3x["playlist-update-tag"]={id:i8a.id,tags:i8a.tags.join(";")};e8e.cb=function(callback){function setUpdate(token){bkt3x["playlist-update-desc"]={id:i8a.id,desc:i8a.description,checkToken:token};callback()}l8d.lV4Z(setUpdate.bind(this))}.bind(this);e8e.data=bkt3x;e8e.ext=i8a},format:function(Y9P,sa6U,UO7H,e8e){if(Y9P.code==200&&sa6U.code==200&&UO7H.code==200){e8e.ext.allSuccess=true;n8f.bb9S.J9A({tip:"保存成功"})}else if(Y9P.code==407||sa6U.code==407||UO7H.code==407){e8e.ext.allSuccess=false;n8f.bb9S.J9A({type:2,tip:"输入内容包含关键字"})}else{e8e.ext.allSuccess=false;n8f.bb9S.J9A({type:2,tip:"保存失败"})}return this.eY1x(e8e.ext.id)},finaly:function(d8f,e8e){h8b.z9q(q8i.iL3x,"listchange",d8f)},onmessage:function(ci0x){n8f.bb9S.J9A({type:2,tip:"保存失败"})}},"playlist-update-name":{url:"/api/playlist/update/name",format:function(T9K,e8e){var p8h=this.eY1x(e8e.ext.id);if(T9K.code==200)p8h.name=e8e.ext.name;return T9K}},"playlist-update-tag":{url:"/api/playlist/tags/update",format:function(T9K,e8e){var p8h=this.eY1x(e8e.ext.id);if(T9K.code==200)p8h.tags=e8e.ext.tags;return T9K}},"playlist-update-desc":{url:"/api/playlist/desc/update",format:function(T9K,e8e){var p8h=this.eY1x(e8e.ext.id);if(T9K.code==200)p8h.description=e8e.ext.description;return T9K}},"playlist-update-cover":{url:"/api/playlist/cover/update",filter:function(e8e){e8e.url=e8e.data.url;delete e8e.data.url},format:function(T9K,e8e){n8f.bb9S.J9A({tip:"保存成功"});var p8h=this.eY1x(e8e.data.id);p8h.coverImgUrl=e8e.url;e8e.ext=p8h;return p8h},onmessage:function(ci0x){n8f.bb9S.J9A({type:2,tip:"保存失败"})},finaly:function(d8f,e8e){h8b.z9q(q8i.iL3x,"itemchange",{attr:"coverImgUrl",data:e8e.ext})}},"playlist-upcount":{url:"/api/playlist/update/playcount",type:"GET",format:function(T9K,e8e){var ox5C=this.eY1x(e8e.data.id);if(!ox5C)return;ox5C.playCount++;h8b.z9q(q8i.iL3x,"itemchange",{attr:"playcount",data:ox5C})}}});q8i.iL3x=NEJ.C();b8h=q8i.iL3x.M9D(q8i.ia2x);b8h.cF0x=function(){this.cO0x();l8d.kD3x()};b8h.bPB1x=function(){var dz1x=GUser.userId;this.mz4D({limit:1001,key:"playlist_my-"+dz1x,data:{offset:0,limit:1001,uid:dz1x}})};b8h.ctE4I=function(j8b){var dz1x=GUser.userId,jI3x=[],bPH1x=[];k8c.bf9W(j8b,function(p8h){p8h.typeFlag="playlist";if(p8h.creator&&p8h.creator.userId==dz1x){if(p8h.specialType==5)p8h.name="我喜欢的音乐";p8h.isHost=!0;jI3x.push(p8h)}else{bPH1x.push(p8h)}});this.tA7t("playlist_new-"+dz1x,jI3x);this.tA7t("playlist_fav-"+dz1x,bPH1x)};b8h.ctt4x=function(i8a){this.cr0x("playlist-update-cover",{data:i8a})};b8h.cWD5I=function(){var Vb7U=this.ctr4v.B9s("host-plist");if(Vb7U.length==0){return}if(Vb7U.length==1&&Vb7U[0].trackCount<=0){return}for(var i=0,len=Vb7U.length;i<len;i++){var p8h=Vb7U[i];if(p8h.trackCount>0)return p8h.id}return this.ctr4v.B9s("host-plist")[0].id};b8h.ctq4u=function(D9u){if(GUser&&GUser.userId>0){this.cr0x("playlist-upcount",{data:{id:D9u}})}};b8h.Jw3x=function(){if(GUser&&GUser.userId>0){return!0}else{top.login();return!1}};b8h.cWE5J=function(){return GUser.userId};b8h.Js3x=function(p8h){if(p8h.userId==GUser.userId&&p8h.specialType==5)p8h.name="我喜欢的音乐";h8b.z9q(this.constructor,"itemchange",{data:this.GA2x(p8h)});return p8h};G9x.fY2x.A9r({element:q8i.iL3x,event:["listchange","playcountchange","itemchange"]})})();
(function(){var c8g=NEJ.P,fR2x=NEJ.R,bs9j=NEJ.F,be9V=NEJ.O,G9x=c8g("nej.ut"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),n8f=c8g("nm.l"),b8h,L9C;q8i.fF2x({"program-get":{url:"/api/dj/program/detail",format:function(T9K){return T9K.program}},"program_djradio-list":{type:"GET",url:"/api/dj/program/byradio",filter:function(e8e){e8e.data.limit=1e3;delete e8e.data.id},format:function(T9K,e8e){var bPR1x=[],rf5k=T9K.programs;if(rf5k){for(var i=0,l=rf5k.length;i<l;i++){if(rf5k[i].programFeeType<10||rf5k[i].buyed){bPR1x.push(rf5k[i])}}}return bPR1x}},"program_fav-list":{url:"/api/djprogram/subscribed/paged",format:function(T9K,e8e){return T9K.programs},onerror:"onlisterror"},"program_fav-add":{url:"/api/djprogram/subscribe",filter:function(e8e){e8e.ext=e8e.data;e8e.data={id:e8e.ext.id};e8e.id=e8e.data.id},format:function(T9K,e8e){n8f.bb9S.J9A({tip:"收藏成功"});var p8h=e8e.ext;p8h.subscribedCount++;p8h.subscribed=!0;return p8h},finaly:function(d8f,e8e){h8b.z9q(q8i.sq6k,"listchange",d8f)},onmessage:function(){var nl4p={404:"节目不存在！",501:"节目已收藏！"};return function(ci0x){n8f.bb9S.J9A({type:2,tip:nl4p[ci0x]||"收藏失败！"})}}()},"program_fav-del":{url:"/api/djprogram/unsubscribe",finaly:function(d8f,e8e){h8b.z9q(q8i.sq6k,"listchange",d8f)},onmessage:function(){var nl4p={404:"节目不存在！",502:"没有收藏此节目！"};return function(ci0x){l8d.byZ7S({txt:nl4p[ci0x]||"取消收藏失败！"})}}()},"program-update-count":{type:"GET",url:"/api/dj/program/listen",filter:function(e8e){var p8h=this.eY1x(e8e.data.id)||be9V;e8e.ext=(p8h.listenerCount||0)+1},format:function(T9K,e8e){var p8h=this.eY1x(e8e.data.id);if(!!p8h){p8h.listenerCount=Math.max(e8e.ext,p8h.listenerCount||0)}},finaly:function(d8f,e8e){h8b.z9q(q8i.sq6k,"itemchange",{attr:"playCount",data:this.eY1x(e8e.data.id)})}},"program-like":{url:"/api/resource/like",filter:function(e8e){e8e.data={threadId:"A_DJ_1_"+e8e.id}},format:function(T9K,e8e){var p8h=e8e.ext.data||this.eY1x(e8e.id);p8h.liked=true;p8h.likedCount++;e8e.ext.data=p8h;try{top.player.setLike(p8h)}catch(e){}return p8h},finaly:function(d8f,e8e){h8b.z9q(q8i.sq6k,"itemchange",{attr:"likedCount",data:e8e.ext.data})}},"program-unlike":{url:"/api/resource/unlike",filter:function(e8e){e8e.data={threadId:"A_DJ_1_"+e8e.id}},format:function(T9K,e8e){var p8h=e8e.ext.data||this.eY1x(e8e.id);p8h.liked=false;p8h.likedCount--;e8e.ext.data=p8h;try{top.player.setLike(p8h)}catch(e){}return p8h},finaly:function(d8f,e8e){h8b.z9q(q8i.sq6k,"itemchange",{attr:"likedCount",data:e8e.ext.data})}}});q8i.sq6k=NEJ.C();b8h=q8i.sq6k.M9D(q8i.ia2x);b8h.cWK5P=function(){var dz1x=GUser.userId;this.mz4D({limit:1001,key:"program_fav-"+dz1x,data:{offset:0,limit:1e3,uid:dz1x}})};b8h.cWL5Q=function(dh1x){var ph5m=dh1x[this.zF0x];l8d.cta4e(4,function(Q9H){Q9H.tA7t("track_program-"+ph5m,dh1x.songs)});delete dh1x.songs;var bR0x=dh1x.mainSong;l8d.cta4e(4,function(Q9H){Q9H.tA7t("track_program_main-"+ph5m,!bR0x?[]:[bR0x])});dh1x.mainSong=(bR0x||be9V).id};b8h.cWP5U=function(D9u){var dh1x=this.eY1x(D9u),dz1x=localCache.bgX1x("host.profile.userId");return!!dh1x&&dh1x.dj.userId==dz1x};b8h.cWS5X=function(D9u){return!1};b8h.Js3x=function(p8h){h8b.z9q(this.constructor,"itemchange",{attr:"detail",data:this.GA2x(p8h)});return p8h};b8h.ctq4u=function(D9u){this.cr0x("program-update-count",{data:{id:D9u}})};l8d.bQo2x=function(e8e){var Q9H=q8i.sq6k.A9r({onitemadd:function(){(e8e.onsuccess||bs9j)()},onerror:function(){(e8e.onerror||bs9j)()}});if(e8e.data.liked){Q9H.xV9M(e8e.data)}else{Q9H.qi5n(e8e.data)}};b8h.qi5n=function(dh1x){if(!l8d.hv2x())return;var cD0x={ext:{}};if(k8c.mx4B(dh1x)){cD0x.id=dh1x.id;cD0x.ext.data=dh1x}else{cD0x.id=dh1x}this.cr0x("program-like",cD0x)};b8h.xV9M=function(dh1x){if(!l8d.hv2x())return;var cD0x={ext:{}};if(k8c.mx4B(dh1x)){cD0x.id=dh1x.id;cD0x.ext.data=dh1x}else{cD0x.id=dh1x}this.cr0x("program-unlike",cD0x)};G9x.fY2x.A9r({element:q8i.sq6k,event:["listchange","itemchange"]})})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,fR2x=NEJ.R,G9x=c8g("nej.ut"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),v9m=c8g("nej.j"),q8i=c8g("nm.d"),n8f=c8g("nm.l"),l8d=c8g("nm.x"),K9B="playlist-tracks_",l8d=c8g("nm.x"),b8h;q8i.fF2x({"track-get":{url:"/api/v3/song/detail",filter:function(e8e){e8e.data.c=JSON.stringify([{id:e8e.data.id}])},format:function(T9K,e8e){var bn9e=l8d.BM1x(T9K.songs[0]);bn9e.privilege=T9K.privileges[0];return bn9e}},"track_playlist-list":{url:"/api/v3/playlist/detail",filter:function(e8e){e8e.data.n=1e3},format:function(T9K,e8e){var fl1x=[];this.uQ8I.Js3x(T9K.playlist);k8c.bf9W(T9K.playlist.tracks,function(bR0x,r8j){var bQp2x=l8d.BM1x(bR0x);bQp2x.privilege=T9K.privileges[r8j];fl1x.push(bQp2x)},this);return fl1x}},"track_album-list":{url:"/api/v1/album/{id}",format:function(T9K,e8e){var fl1x=[];k8c.bf9W(T9K.songs,function(bn9e){fl1x.push(l8d.BM1x(bn9e))});return fl1x}},"track_playlist-add":{url:"/api/playlist/manipulate/tracks",filter:function(e8e){var bA9r={},i8a=e8e.data,csP4T=this.ig2x(e8e.key)||[];IV3x=[];k8c.bf9W(csP4T,function(bR0x){var D9u=k8c.mx4B(bR0x)?bR0x.id:bR0x;bA9r[D9u]=true});e8e.ext=[];k8c.bf9W(i8a.tracks,function(bR0x){var D9u=k8c.mx4B(bR0x)?bR0x.id:bR0x;if(!bA9r[D9u]){IV3x.push(D9u);bA9r[D9u]=true;e8e.ext.push(bR0x)}});i8a.trackIds=JSON.stringify(IV3x);i8a.op="add";if(!IV3x.length){e8e.value={code:502}}},format:function(T9K,e8e){n8f.bb9S.J9A({tip:"已添加至歌单"});var ox5C=this.uQ8I.eY1x(e8e.data.pid);if(!!T9K.coverImgUrl)ox5C.coverImgUrl=T9K.coverImgUrl;k8c.oB5G(e8e.ext,function(bR0x){this.Aq0x(e8e,k8c.mx4B(bR0x)?bR0x:null);if(!!ox5C)ox5C.trackCount++},this);h8b.z9q(q8i.iL3x,"itemchange",{data:ox5C||{},cmd:"add"});this.z9q("onaddsuccess");return null},finaly:function(d8f,e8e){h8b.z9q(q8i.vN8F,"listchange",{key:e8e.key,action:"refresh"});var ph5m=e8e.data.pid,cK0x=this.mk4o(e8e.key)},onmessage:function(){var nl4p={502:"歌曲已存在！",505:"歌单已满！"};return function(ci0x){setTimeout(function(){n8f.bb9S.J9A({tip:nl4p[ci0x]||"添加失败，请稍后再试！",type:2})},0)}}()},"track_playlist-del":{url:"/api/playlist/manipulate/tracks",filter:function(e8e){var i8a=e8e.data;e8e.ext=i8a.trackIds;i8a.trackIds=JSON.stringify(i8a.trackIds);i8a.op="del"},format:function(T9K,e8e){var ox5C=this.uQ8I.eY1x(e8e.data.pid);k8c.bf9W(e8e.ext,function(D9u){this.bwu6o({id:D9u,key:"track_playlist-"+e8e.data.pid},!0);if(!!ox5C)ox5C.trackCount=Math.max(0,ox5C.trackCount-1)},this);h8b.z9q(q8i.iL3x,"itemchange",{data:ox5C||{},cmd:"del"});return null},finaly:function(d8f,e8e){h8b.z9q(q8i.vN8F,"listchange",{key:e8e.key,action:"refresh"})},onmessage:function(ci0x){l8d.byZ7S({text:"歌曲删除失败！"})}},"track_program-list":{url:"/api/dj/program/detail",format:function(T9K,e8e){return this.bQs2x.Js3x(T9K.program).songs},onerror:"onlisterror"},"track_listen_record-list":{url:"/api/v1/play/record",format:function(T9K,e8e){var j8b=[];if(e8e.data.type==-1){if(T9K.weekData&&T9K.weekData.length){e8e.data.type=1}else{e8e.data.type=0}}if(e8e.data.type==1){j8b=this.bQu2x(T9K.weekData)}else{j8b=this.bQu2x(T9K.allData)}return j8b},onerror:"onlisterror"},"track_day-list":{url:"/api/v2/discovery/recommend/songs",format:function(T9K,e8e){var pm5r=[],j8b=T9K.recommend||[];k8c.bf9W(j8b,function(bn9e,r8j){pm5r.push({action:"recommendimpress",json:{alg:bn9e.alg,scene:"user-song",position:r8j,id:bn9e.id}})});this.lj3x.bcK0x(pm5r);e8e.limit=j8b.length;return j8b},onerror:"onlisterror"},"track_lyric-get":{type:"GET",url:"/api/song/lyric",filter:function(e8e){e8e.data.lv=0;e8e.data.tv=0},format:function(m8e,e8e){return m8e},onload:"onlyricload",onerror:"onlyricerror"}});q8i.vN8F=NEJ.C();b8h=q8i.vN8F.M9D(q8i.ia2x);b8h.cF0x=function(){this.cO0x();this.uQ8I=q8i.iL3x.A9r();this.bQs2x=q8i.sq6k.A9r();this.lj3x=q8i.ii2x.A9r()};b8h.bQu2x=function(j8b){var m8e=[],fn1x=0;k8c.bf9W(j8b,function(p8h,r8j){var bn9e=l8d.BM1x(p8h.song);if(r8j==0){fn1x=p8h.score}bn9e.max=fn1x;bn9e.playCount=p8h.playCount;bn9e.score=p8h.score;m8e.push(bn9e)});return m8e};G9x.fY2x.A9r({element:q8i.vN8F,event:["listchange"]})})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,cB0x=c8g("nm.pc");var bzn7g={playlist:"A_PL_0_",dj:"A_DJ_1_",program:"A_DJ_1_",album:"R_AL_3_",song:"R_SO_4_"};var pt5y=function(bU0x){var yM0x="orpheus://orpheus";window.top.postMessage(JSON.stringify(bU0x),yM0x)};var csF4J=function(ni4m){var lN4R="http://"+location.host+"/",Xu8m=/(igame|music)\.163\.com\/(song|album|playlist|dj|event|artist|mv|djradio|topic|video|program|user\/home|activity)\?id=(\w+)(&uid=(\d+))?/,ed1x=Xu8m.exec(ni4m);if(!ed1x)return csE4I(ni4m);var gI2x=ed1x[2],ic2x=ed1x[3],dz1x=ed1x[4]||"",kd3x="";switch(gI2x){case"album":kd3x="#/m/album/comment/?rid="+bzn7g[gI2x]+ic2x+"&id="+ic2x;break;case"playlist":kd3x="#/m/playlist/comment/?rid="+bzn7g[gI2x]+ic2x+"&id="+ic2x;break;case"song":case"dj":case"program":kd3x="#/m/song?rid="+bzn7g[gI2x]+ic2x;break;case"event":kd3x="#/m/friend/event/?id="+ic2x+"&uid="+dz1x;break;case"user/home":kd3x="#/m/personal/?uid="+ic2x;break;case"mv":kd3x="#/m2/mv/?id="+ic2x;break;case"activity":kd3x="#/m/friend/activity?id="+ic2x;break;case"video":kd3x="#/m2/mv/?id="+ic2x+"&type=1";break;default:kd3x="#/m/"+gI2x+"/?id="+ic2x}return lN4R+kd3x};var csE4I=function(ni4m){var csC4G=/http:\/\/player\.youku\.com\/embed\/(.+)/;var ed1x=csC4G.exec(ni4m);if(ed1x)return"http://v.youku.com/v_show/id_"+ed1x[1];return ni4m};cB0x.eE1x=function(gI2x,ic2x){pt5y({name:"play",args:{type:gI2x,id:ic2x}})};cB0x.fW2x=function(){pt5y({name:"pause"})};cB0x.ES2x=function(ni4m){pt5y({name:"open",args:{link:csF4J(ni4m)}})};cB0x.lP4T=function(gI2x,ic2x,cM0x){pt5y({name:"share",args:{type:gI2x,id:ic2x,shareContent:cM0x}})};cB0x.bQH3x=function(gI2x,ic2x){pt5y({name:"comment",args:{type:gI2x,id:ic2x}})};cB0x.csw4A=function(){pt5y({name:"init"})};cB0x.ER2x=function(cb0x){pt5y({name:"setHeight",args:{height:cb0x}})};cB0x.il2x=function(bF9w,V9M){pt5y({name:"toast",args:{message:bF9w||"",state:V9M}})};cB0x.Iv3x=function(ni4m){pt5y({name:"login",args:{link:ni4m}})};cB0x.bQM3x=function(EQ2x){pt5y({name:"topbar",args:{show:!!EQ2x}})};cB0x.cso4s=function(R9I){pt5y({name:"refreshtopbar",args:{info:R9I}})};cB0x.csm4q=function(bv9m,r8j){pt5y({name:"big",args:{arr:bv9m,index:r8j}})};cB0x.MC4G=function(cG0x){pt5y({name:"download",args:{img:cG0x}})};cB0x.bQS3x=function(csg3x){pt5y({name:"scrollable",args:{scrollable:csg3x}})}})();
(function(){function J(){var d="6skV4PUYecGhx07l".split("");this.d=function(f){if(null==f||void 0==f)return f;if(0!=f.length%2)throw Error("1100");for(var b=[],c=0;c<f.length;c++){0==c%2&&b.push("%");for(var g=d,a=0;a<g.length;a++)if(f.charAt(c)==g[a]){b.push(a.toString(16));break}}return decodeURIComponent(b.join(""))}}var k=(new J).d,d=(new J).d,e=(new J).d,f=(new J).d,g=(new J).d;(function(){var B=[e("44UsY4UP"),e("40UcU7UcUkUsYkP6UxYPUYUcU7"),d("U4UPUVUlU4UPPPPk4c4VUlU0Y6UlU7UPU7Y4"),f("47P6P6UxUsYcUPYkPVUeUPUxUx"),f("40PVk6PkUPUUUPYkUPU7UVUPk6PVUsU7YVk6PVUPYkUcUU"),e("4eUcYkUsUYUcU7Ulk6PVUsU7YVk64Y4k"),d("YVUPYkUcUU"),g("UYUPY44VUlU7Y4UPYeY4")],J=[g("YPU7UcUUUlYkU0VkUU")],b=[d(""),g("4YYkUsYcP4UPYeY4"),k("Y6UsYkUPU7Y4"),e("7Phchx7PcxeU"),k("Y6UxYPUYUcU7YV"),d("4sU4UlUkUP4PYe40UsU744UPY4UPUVY4"),e("V6V6VsV6"),d("4YUlUlUYUxUPk64PUsYkY4Uek6P6UxYPUYUcU7"),k("PUUPUPY4UxUPk6P4PUk64VUlYkUP"),f("V6V6V6VY"),f("V6V6V6V4"),d("V6V6V6Vk"),d("V6V6V6VV"),g("V6V6V6V6"),e("V6V6V6Vs"),g("PPU7UcY4Yck6P6UxUsYcUPYk"),d("PVUhYcY6UPk6PYUPUkk6P6UxYPUYUcU7"),d("PYUPUk4hUcY4k0UcU7Y4UPUYYkUcUPYkY4UPk6P6444U"),e("4kUPUxUxk640P4"),e("V6V6V6Ve"),g("UYUPY4PVYPY6Y6UlYkY4UPU44PYeY4UPU7YVUcUlU7YV"),d("YVUPY4P4UcU0UP"),e("V6V6V6Vc"),g("PVUsUUUPPVUPUsYkUVUe"),d("kk"),f("k4"),f("PPU7UcYUUPYkYV"),e("kP"),e("kU"),f("kY"),f("VsVsVsV6"),d("UYUPY4k6Y6UxYPUYUcU7k6YVY4YkUcU7UYk6UPYeUVUPY6Y4UcUlU7"),e("P4UeYkUPUP44PVUeUsU4UlYY"),g("kh"),f("kx"),d("k0"),f("4sYkUsUk"),g("7eehhc7Uc7cx74heh07YhheU7PG7eh"),d("k7"),g("4UPPPG4PPVUeUsYkUP"),g("kl"),d("V6"),k("Vs"),f("Vk"),e("VV"),e("V4"),e("74hhhl7PG7ehPl4Y4kVkVVVsVk"),g("VP"),f("VU"),e("4cU7UsUVY4UcYUUP4VUsY6Y4UcUlU7P4UPYeY4"),f("VY"),d("PY4P4kPG4P47k64kYkUlYYYVUPYkk64PYeY4UPU7YVUcUlU7"),f("Ve"),e("Vc"),g("VG"),g("44UcYUPek64kYkUlYYYVUPYkk6P6UxYPUYk04cU7"),k("Vh"),g("V0"),d("PPY6UxUsYck6P64V"),e("UVUsU7YUUsYVk6UPYeUVUPY6Y4UcUlU7"),f("4s"),k("4k"),g("4V"),g("44"),g("4P"),f("7Ph7G77eh0Gl7ccheP7chhcs"),e("4U"),k("4eUsYkYkUcU7UYY4UlU7"),f("4Y"),f("4e"),f("4c"),k("4G"),e("4YU7UlU0UPk6PVUeUPUxUxk64cU7Y4UPUYYkUsY4UcUlU7"),f("4h"),f("4x"),f("40"),e("47"),f("4l"),k("P6"),d("Ps"),k("Pk"),d("PV"),g("47UcUsUYUsYkUsk6PVUlUxUcU4"),g("P4"),e("PVUPUU4VUxUcUPU7Y4k6P6UxYPUYUcU7"),d("PP"),e("PU"),d("VsVsVsVs"),e("PY"),d("Pe"),g("Pc"),k("PG"),e("4YUlYPU4Yck64lUxU4k6PVY4YcUxUP"),k("Px"),g("PkUlUkUxUlYek64xUsYPU7UVUeUPYkk6P6UxYPUYUcU7"),d("40UcUVYkUlYVUlUUY4k64lUUUUUcUVUPk6VkV6VsVV"),f("PsPs40YPYVUcUV"),k("Us"),e("4PYPYkUlYVY4UcUxUP"),e("Uk"),k("YkU0UlUVYek7PkUPUsUxP6UxUsYcUPYkk64YVkk64VUlU7Y4YkUlUxk7Vs"),k("UV"),d("PVUVYkUcY6Y4UcU7UYk744UcUVY4UcUlU7UsYkYc"),f("U4"),f("74hhhl7PG7eh"),f("UP"),k("UU"),k("UY"),e("Ue"),d("40Usk04VUlU7UUUcUYk7UVUlU0k6Y6UxYPUYUcU7"),d("Uc"),g("VsV6VsV6"),d("4VUsYVYPUsUx"),d("UG"),e("Uh"),e("Ux"),d("U0"),g("U7"),e("Ul"),d("Y6"),k("VsV6V6Ve"),f("UVY4"),d("U4Ul47UlY4P4YkUsUVUh"),g("Ys"),d("YVUPY4P4UcU0UPUlYPY4"),f("74heh07PG7ehk6P6YkUl"),e("Yk"),k("4YUcYVUeUs"),k("UYUPY4P4UcU0UPYGUlU7UP4lUUUUYVUPY4"),g("YV"),d("VsV6V6VP"),g("VsV6V6V4"),k("Y4"),k("YP"),g("VsV6V6VV"),f("YU"),f("VsV6V6Vs"),d("YY"),e("Ye"),e("U4YkUsYY4sYkYkUsYcYV"),g("Yc"),e("YG"),f("Yh"),g("Y0"),k("Y7"),d("UUUlU7Y4"),g("VsV6V6Vc"),k("V0U7YPUxUxVhk6Y6UsY4UeV0klVhk6UPYeY6UcYkUPYVV0"),f("PVUeUPUxUxk7PP4c4eUPUxY6UPYk"),f("Y4Ul44UsY4UsPPPk4x"),f("PYUcU7U4UlYYP4UPYeY4"),e("UxUsU7UYYPUsUYUP"),g("U4Ul"),f("74heh07chhcsk6P6YkUl"),e("4eUcUYUeUxUcUYUeY4P4UPYeY4"),k("U4UcYU"),g("40UPU7YPP4UPYeY4"),e("4s4l4xk640UPU4UcUsk6P6UxUsYcUkUsUVUhk6P6UxYPUYUcU7"),f("4VUcY4YkUcYek6UlU7UxUcU7UPk6Y6UxYPUYk0UcU7"),f("UPUV"),f("44UPYVU4UPU0UlU7Us"),k("4cU7UsUVY4UcYUUP4kUlYkU4UPYk"),f("PkUPUsUxP6UxUsYcUPYk"),d("4e4P4x4x4l"),f("kxk6kYUVUlU4UPkYVG"),k("UPU0"),f("U7Y6P4UlU7UYUkYP4sU4U4UcU7"),e("UVYkUPUsY4UP4PUxUPU0UPU7Y4"),g("Y6UeUsU7Y4UlU0"),k("40PVk6P640UcU7UVUeUl"),d("7UGPhY74h0cV"),d("UPYUUsUx"),f("UPYe"),k("44UcYUPek6PU4l44k64eUPUxY6UPYkk6P6UxYPUYk0UcU7"),f("7UcUh67YhheU7Ucee774h0cV"),d("PsYPUcUVUhP4UcU0UP4VUeUPUVUh4lUkUGUPUVY4k7PsYPUcUVUhP4UcU0UP4VUeUPUVUhk7Vs"),k("4UUxYc4lYk44UcUPk64YUsU0UPYVk6P6UxYPUYUcU7"),e("UsY4Y4UsUVUePVUeUsU4UPYk"),e("P6UxUsYc4lU7k6P6UxYPUYk0UcU7"),f("UYUPY4P4UcU0UP"),e("Vsk7V6Vs"),e("4kYkUlUsU4YYUsYc"),k("UUY6"),e("4sUxUsYYUsYkk647P64sP64ck6YPY4UcUxYV"),d("4UUlYkY4UP"),g("UeUsYVUe4VUlU4UP"),e("7UcUhc7UG0GV7PGYcG74h0cV"),e("4PPV47k6PVUlU7UsYkk64sP64c"),k("4eP644UPY4UPUVY4"),e("4kUcY4U4UPUUUPU7U4UPYkk6PsYPUcUVUhPVUVUsU7"),k("4c4Pk6P4UsUkk6Y6UxYPUYUcU7"),g("kYkx"),k("4kYPY4Y4UlU74UUsUVUP"),e("UVY6YP4VUxUsYVYV"),g("4VUPU7Y4YPYkYck64YUlY4UeUcUV"),f("4lU7UxUcU7UPk6PVY4UlYkUsUYUPk6Y6UxYPUYk0UcU7"),k("PVUsUUUPYkk6PPY6U4UsY4UP"),d("40YVYeU0UxVkk7444l4044UlUVYPU0UPU7Y4"),d("4PU7UYYkUsYUUPYkYVk640P4"),d("PVUcUxYUUPYkUxUcUYUeY4k6P6UxYPUYk04cU7"),g("4YUlUlUYUxUPk64YUPUsYkYVk6V6k7VPk7VVVVk7V6"),g("4VUcY4YkUcYek64c4V4sk64VUxUcUPU7Y4"),d("UsUxY6UeUsUkUPY4UcUV"),k("PU44UlYYU7UxUlUsU4UPYk"),e("7Pe0e77UcUeY7UGPhY74h0cV"),f("UsY4Y4YkPUUPYkY4UPYe"),g("7PG7eh74h0cV"),f("UVUlUlUhUcUP"),g("kPVkVk"),k("kPVkVU"),g("4VUPU7Y4UsYPYk"),g("V4UYUsU0UP"),e("PkUlUVUhYYUPUxUx"),e("4xUlUY40UP4cU7k6P6UxYPUYUcU7k6Vsk7V6k7V6k7VcVUVs"),g("4lUVY4UlYVUeUsY6UPk6PVY4YkUPUsU0UcU7UYk6PVUPYkYUUcUVUPYV"),e("Y4Ul4Y40P4PVY4YkUcU7UY"),d("Y4UeV0kl"),d("PVYPU0UsY4YkUsP6444Uk64kYkUlYYYVUPYkk6P6UxYPUYUcU7"),k("P6444Uk7P6U4UU4VY4YkUx"),g("UUUcUxUxPVY4YcUxUP"),d("UGUP"),f("4sU4UlUkUPk640UcU7UYk6PVY4U4"),g("P4UlYkUVUe4eUPUxY6UPYk"),e("4UYkUsU7UhUxUcU7k64YUlY4UeUcUVk64eUPUsYUYc"),f("7Pe0e77UcUeY74hhhl7PG7eh"),g("4eUsYkU0UlU7Yck6P6UxYPUYk04cU7"),d("4YUcUYUc"),f("YUVsk7Vs"),g("4hUcU7Ulk640P4"),f("PVUcU04eUPUc"),k("4sUxUcPVPV4l4xUlUYUcU7k6Y6UxYPUYUcU7"),k("PkUPUsUxP6UxUsYcUPYkk7PkUPUsUxP6UxUsYcUPYkkeY4U0kck64sUVY4UcYUUPPek64VUlU7Y4YkUlUxk6keVVVkk0UkUcY4kc"),d("PcUsU7U4UPYek6P6444Uk6PUUcUPYYUPYk"),g("4VUcY4YkUcYek6PkUPUVUPUcYUUPYkk6P6UxYPUYk0UcU7"),g("U0UsUc"),g("Y4UlY6"),d("4sUVYkUlP6444Uk7P6444U"),g("UVUsU7YUUsYVk6UsY6Uck6UPYeUVUPY6Y4UcUlU7"),d("4cU7UsUVY4UcYUUP4VUsY6Y4UcUlU7"),g("40UPU7YP"),d("Y6YkUPUVUcYVUcUlU7k6U0UPU4UcYPU0Y6k6UUUxUlUsY4Vhk6YUUsYkYcUcU7UYk6YUUPUVVkk6YUUsYkYcUcU7P4UPYe4VUlUlYkU4UcU7UsY4UPVhk6YUUlUcU4k6U0UsUcU7kekck6Yhk6k6k6UYUxPl4UYkUsUY4VUlUxUlYkk6V0k6YUUPUVV4keYUUsYkYcUcU7P4UPYe4VUlUlYkU4UcU7UsY4UPkxk6V6kxk6VskcVhk6Y0"),g("PsPsVkV6VsVVk64UUcYkUPUUUlYek6P6UxYPUYUcU7"),f("4YUlUlUYUxUPk6PPY6U4UsY4UP"),k("7Pe0e77UcUeY7Ph0Gc74hGcs"),k("UP40YPYVUcUVP6UxYPUYUcU7k6444x40VU"),f("PYUPUkk64VUlU0Y6UlU7UPU7Y4YV"),e("4kUsUkYcUxUlU7k6P4UlUlUx4kUsYk"),g("4VUlUlYYUlU7k6PPY6U4UsY4UP"),k("4cU7UUUlP4UPYeY4"),f("YkU0UlUVYek7PkUPUsUxP6UxUsYcUPYkk64YVkk64VUlU7Y4YkUlUx"),d("Uc40UPYVUek6Y6UxYPUYUcU7"),e("PkUPUsUx44UlYYU7UxUlUsU4UPYkk6P6UxYPUYUcU7"),e("PVYcU0UsU7Y4UPUVk6P64h4ck64VUxUcUPU7Y4"),g("PlY6UeUsU7Y4UlU0"),g("4Y444xk64lUkUGUPUVY4k6PYUPUkk6P6UxYPUYk0UcU7k6VsVUk7V6V6"),d("YYUPUkUYUx"),k("7Pe0e77UcUeY7PG7eh74h0cV"),g("YVUVYkUPUPU7"),k("UkUlU4Yc"),f("P4Pk4c4s474Y4x4PPlPVP4Pk4cP6"),k("U7V0"),d("P4UxYYUY40UlU7Ul"),f("kYVGkY"),k("4xUlUY40UP4cU7k6P6UxYPUYUcU7k6Vsk7V6k7V6k7VcVVVP"),d("UUYPU7UVY4UcUlU7"),e("UVUlU7Y4UPYeY4k7UeUsYVUe4VUlU4UP"),k("4sYkUVUeUc4V4s44"),g("PU4PPkP44PPePlPV4e4s444PPk"),k("PPUkYPU7Y4YP"),d("4UUsUVUPUkUlUlUhk6P6UxYPUYUcU7"),e("4sUVY4UcYUUP4VUsY6Y4UcUlU7"),g("7YhheU7Ucee774h0cV"),k("40UsUxUYYPU7k64YUlY4UeUcUV"),e("47UPYYYVk64YUlY4UeUcUVk640P4"),e("4VUsY6Y4UcUlU7P4UPYeY4"),k("UsPGUkPcV6UVPeU4PYVsUPPUUUVkPPUYVVP4UeV4PVUcPkVPUGPsUhVUP6Ux4lVYU047U7Ve40Ul4xVcY64hYs4GYk4cYV4eY44YYP4UYU4PYY44Ye4VYc4kYG4s"),e("44UPUGUsPUYPk64x4Y4Vk6PVUsU7YVk640UlU7Ul"),k("4VUlY6Y6UPYkY6UxUsY4UPk64YUlY4UeUcUVk64xUcUYUeY4"),e("PVUPUYUlUPk6P6YkUcU7Y4"),g("PVUsYYUsYVU4UPUP"),d("4kUsYPUeUsYPYVk6VcVV"),f("4VUeUsUxUhU4YPYVY4UPYk"),g("4sUkUsU4Uck640P4k64VUlU7U4UPU7YVUPU4k64xUcUYUeY4"),f("4xYPUVUcU4Usk64kYkUcUYUeY4"),g("PYUcU4UPk64xUsY4UcU7"),g("UUUlU7Y4k6U4UPY4UPUVY4k6UPYkYkUlYk"),f("4hUlYGYPUhUsk64YUlY4UeUcUVk6P6YkVU47"),d("4eY4U0UxVPk6UxUlUVUsY4UcUlU7k6Y6YkUlYUUcU4UPYk"),f("44UcYUPek6P6UxYPYVk6PYUPUkk6P6UxUsYcUPYk"),f("PUUxUsU4UcU0UcYkk6PVUVYkUcY6Y4"),d("4UUcUxUPk644UlYYU7UxUlUsU4UPYkk6P6UxYPUYk0UcU7"),f("UlUk"),d("4sU4UlU4Ukk7PVY4YkUPUsU0"),d("40UPU7UxUl"),e("UVUsUxUxP6UeUsU7Y4UlU0"),k("PYUlUxUUYkUsU0k640UsY4UeUPU0UsY4UcUVUs"),e("4VUsY4UsUxUcU7Us4YYkUlYPY6k6PPY6U4UsY4UP"),k("4PYkUsYVk64kUlUxU4k64cP44V"),e("44UPYUUsUxPUPkPe4VY4YkUxk744UPYUUsUxPUPkPe4VY4YkUxk7Vs"),k("4GPV4PPVPV4c4l474c44k0PYPcPcPc"),g("7Pe0e77UcUeY7YhheU7chhcs"),k("UsU4U44kUPUeUsYUUcUlYk"),k("Y6Us"),k("4kUcY4YVY4YkUPUsU0k6PUUPYkUsk6PVUPYkUcUU"),d("keUUYPU7UVY4UcUlU7kekcYhYkUPY4YPYkU7k6VsVkVVVhY0kckekcVh"),d("Y6Uc"),d("P4UPU7UVUPU7Y4k64UP447k6Y6UxYPUYk0UcU7"),k("YkUPU0UlYUUP4VUeUcUxU4"),f("4UUlUxYek6VVk64kYkUlYYYVUPYkk6P6UxYPUYUcU7"),k("YPYVUPP6YkUlUYYkUsU0"),f("UeUlYVY4U7UsU0UP"),f("Y6UeUsU7Y4UlU0k7UcU7UGUPUVY44GYV"),f("PVUeUlUVUhYYUsYUUP4UUxUsYVUek7PVUeUlUVUhYYUsYUUP4UUxUsYVUe"),d("YkUYUkUskeVsV6Vkkxk6VkV6V4kxk6V6kxk6V6k7VYkc"),e("4sU4UkUxUlUVUhP6UxYPUYUcU7"),e("4kUsUVUhUYYkUlYPU7U4"),g("4sUY4VUlU7Y4YkUlUxk74sUY4VUlU7Y4YkUlUx"),e("P6UeUlY4Ul4VUPU7Y4UPYkP6UxYPUYUcU7Vsk7Vsk7Vkk7Vk"),g("4YYPU7UYPVUPUl"),e("YVV0"),d("U4UPUVUlU4UPPPPk4c"),g("7UcUhc7UG0GV7eeeck74h0cV"),d("7Pe0e77UcUeY7UcUh67cG0el"),d("VsVkVV"),g("YYUPUkUYUxk6UPYeUVUPY6Y4UcUlU7"),f("YkUP"),k("PY40P6UxUsYcUPYkk74l4VPe"),e("VYVkY6Ye"),f("4sY6Y6PYUlYkUhYVY6UsUVUP"),d("4eUcUYUeUxUcUYUeY4"),e("U4UlUVYPU0UPU7Y4"),d("PcUsU7U4UPYek640UPU4UcUsk6P6UxYPUYUcU7"),e("4PPV47k64xUsYPU7UVUek640UlYGUcUxUxUsk6P6UxYPUYUcU7"),d("VYV6Y6Yek6kY4sYkUcUsUxkY"),k("UcU7UGUPUVY44GYV"),g("4xUlU0Us"),d("4kUcY44VUlU0UPY44sUYUPU7Y4"),f("4VUsUxUcUkYkUc"),f("4kUlUlUhU0UsU7k64lUxU4k6PVY4YcUxUP"),d("YVUPYVYVUcUlU7PVY4UlYkUsUYUP"),f("PPY4UlY6UcUs"),k("UVUlU0Y6UcUxUPPVUeUsU4UPYk"),e("UPYVUVUsY6UP"),d("PVUVYkUlUxUxUkUsYk"),g("PYUcU7U4UlYY"),d("VsV4VYV4V4U4VcVPVVVeVVUVU4VVV6VYVP444sV4Vk4VVcVVUV44Us4sUPVYV4VUVP4V4U4sVPUU4VV64kVcVV4kVs"),d("7ccGhU74hcGU"),d("4hUsYVY6UPYkYVUhYck6P6UsYVYVYYUlYkU4k640UsU7UsUYUPYk"),e("40UcU7UY4xUcPPk04PYeY44k"),d("UYUPY4k6YVYcYVY4UPU0k6UVUlUxUlYkYVk6UPYeUVUPY6Y4UcUlU7"),d("PVUhYcY6UPk744UPY4UPUVY4UcUlU7"),k("4UUcUxUP4xUsUkk6Y6UxYPUYUcU7"),e("U7Y64sP64ck6P6UxYPUYUcU7"),g("U7UlY4PlUPYeUcYVY4PlUeUlYVY4"),e("VkU4"),d("4sUVY4UcYUUPPe4lUkUGUPUVY4"),k("44UlY4YPU0"),d("P6444Uk0Pe4VUeUsU7UYUPk6PUUcUPYYUPYk"),d("P640UcU7UY4xUcPP"),k("UVUlUxUlYk44UPY6Y4Ue")],c=[f("47UlUhUcUsk6PVYPUcY4UPk64PU7UsUkUxUPYkk6P6UxYPUYUcU7"),k("PkUPUsUxPUUcU4UPUlk7PkUPUsUxPUUcU4UPUlkeY4U0kck64sUVY4UcYUUPPek64VUlU7Y4YkUlUxk6keVVVkk0UkUcY4kc"),k("40UsUYU7UPY4Ul"),e("4sU4UlUkUP4PYe40UsU74V4V44UPY4UPUVY4"),f("4YUsUkYkUcUlUxUs"),k("P6UxUsYcUkUcUxUx"),e("U7UsYUUcUYUsY4UlYk"),g("PkUsUVUeUsU7Us"),e("P4YYk64VUPU7k640P4k64VUlU7U4UPU7YVUPU4k64PYeY4YkUsk64kUlUxU4"),e("PsPs40UcU7Uc444xk6P6UxYPUYUcU7"),f("kVUUVUV6"),f("UUUcUxUxPkUPUVY4"),e("V0U7YPUxUxVhk6Y6UsY4UeV0klVhk6U4UlU0UsUcU7V0"),d("44UPUUUsYPUxY4k64kYkUlYYYVUPYkk64eUPUxY6UPYk"),d("4UYkUPU7UVUek6PVUVYkUcY6Y4k640P4"),g("7UG6eY7UGPhY74h0cV"),g("UPU7UVUlU4UPPPPk4c"),e("PPU0Y6YPYVUe"),k("UcUVY6"),f("7Pe0e77UcUeY7Yc6GP7Yele6"),k("UVYkUPUsY4UPP6YkUlUYYkUsU0"),g("U0UlU7UlYVY6UsUVUP"),k("4kYPY4Y4UlU7PVUeUsU4UlYY"),k("4kUlU4UlU7Uck640P4"),g("PVP44sP44c4VPl44Pk4sPY"),e("7chhcs74h0cV"),k("U4UlYYU7UxUlUsU4PPY6U4UsY4UPYk"),k("4sUxUcUPU4UcY4k6P6UxYPUYk04cU7"),d("P6444Uk6UcU7Y4UPUYYkUsU4Ulk6U4Ulk6PYUPUk4hUcY4"),k("YPU7UcUUUlYkU04lUUUUYVUPY4"),k("UPU7UVUlU4UPPPPk4c4VUlU0Y6UlU7UPU7Y4"),f("P6UcUVUsYVUs"),f("4sU4UlUkUPk64UUsU7UYYVUlU7UYk6PVY4U4"),k("UkUcU7U44kYPUUUUUPYk"),g("4sPU4Yk6PVUcY4UPPVUsUUUPY4Yck6Y6UxYPUYUcU7"),f("4lYkUkUcY4k644UlYYU7UxUlUsU4UPYk"),d("UVUlUxUlYk"),f("UeUcU4U4UPU7"),f("UxUlUVUsUxPVY4UlYkUsUYUP"),e("4YUlUlUYUxUPk6P4UsUxUhk64PUUUUUPUVY4YVk6P6UxYPUYUcU7"),d("UcU7U4UPYeUPU4444k"),g("4xYPUVUcU4Usk64UUsYe"),g("4sU0UsYGUlU740P6VV44UlYYU7UxUlUsU4UPYkP6UxYPUYUcU7"),k("UVYkUPUsY4UP4kYPUUUUUPYk"),f("4VUsYVY4UPUxUxUsYk"),k("UxUcU7UhP6YkUlUYYkUsU0"),f("4VUsUxUcUUUlYkU7UcUsU7k64U4k"),f("P4UeYkUPUP444eUcUYUeUxUcUYUeY4"),g("UVYkUPUsY4UPPVUeUsU4UPYk"),f("4YYPUxUcU0"),f("47YcYe4xUsYPU7UVUeUPYk"),d("PcUlYPP4YPUkUPk6P6UxYPUYk0UcU7"),e("7UGPhY74h0cVPl4Y4kVkVVVsVk"),g("PVPY4VY4Uxk7PVPY4VY4Ux"),f("4YUlUlUYUxUPk64PUsYkY4Uek6P6UxYPUYk0UcU7"),k("PsPs44UlYYU7UxUlUsU4k6P6UxYPUYUcU7"),k("k7U0YPYVUcUVk7VsVUVVk7UVUlU0Vhk7UcUYUsU0UPk7VsVUVVk7UVUlU0Vhk7U0YPYVUcUVk7UeYGk7U7UPY4UPUsYVUPk7UVUlU0"),k("47UlYkY4UlU7k64cU4UPU7Y4UcY4Yck6PVUsUUUP"),d("Y6UsYkYVUP4cU7Y4"),f("PVUcU0Y6UxUPk6P6UsYVYV"),d("4VUlUxUlU7U7Usk640P4"),k("YGUsUhUl"),k("UYUPY4PPU7UcUUUlYkU04xUlUVUsY4UcUlU7"),e("YVUeUsU4UPYkPVUlYPYkUVUP"),d("44UlYYU7UxUlUsU4UPYkYVk6Y6UxYPUYUcU7"),f("UxUlUVUsY4UcUlU7"),f("4eUPYkUlUPYVk6kUk64YUPU7UPYkUsUxYVk6UxUcYUUP"),g("YYUcU7U4UlYY"),g("PVUeUlYYUVUsYkU4k64YUlY4UeUcUV"),d("7Ph7G77eh0Gl7UG0GV7chhcs74h0cV"),e("7Pe0e77UcUeY7eGsex7UGPhY"),d("4YUcU7UYUPYk"),g("PkUlUVUh40UPUxY4k6PPY6U4UsY4UP"),f("PYUcU7U4UlYY4UYkUsU0UP"),g("UPU7UsUkUxUPPUUPYkY4UPYe4sY4Y4YkUcUk4sYkYkUsYc"),k("4hUsUVYVY44lU7UP"),d("UsY4Y4YkUcUkYPY4UPk6YUUPUVVkk6UsY4Y4YkPUUPYkY4UPYeVhk6YUUsYkYcUcU7UYk6YUUPUVVkk6YUUsYkYcUcU7P4UPYe4VUlUlYkU4UcU7UsY4UPVhk6YPU7UcUUUlYkU0k6YUUPUVVkk6YPU7UcUUUlYkU04lUUUUYVUPY4Vhk6YUUlUcU4k6U0UsUcU7kekck6Yhk6k6k6YUUsYkYcUcU7P4UPYe4VUlUlYkU4UcU7UsY4UPk6V0k6UsY4Y4YkPUUPYkY4UPYek6khk6YPU7UcUUUlYkU04lUUUUYVUPY4Vhk6k6k6UYUxPlP6UlYVUcY4UcUlU7k6V0k6YUUPUVV4keUsY4Y4YkPUUPYkY4UPYekxk6V6kxk6VskcVhk6Y0"),f("P6UPYkY6UPY4YPUs"),k("UlY6UPU744UsY4UsUkUsYVUP"),f("UVUsU7YUUsYV"),d("Uc4YUPY4Y4UPYkPVUVYkUcY6Y4UsUkUxUPP6UxYPUYUcU7"),d("4cU7UUUlYkU0UsUxk6PkUlU0UsU7"),k("47UcY4YkUlk6P6444Uk6P6UxYPUYk04cU7"),g("40YVYeU0UxVkk7Pe404x4eP4P4P6"),e("7Pe0e77UcUeY7chhcs74h0cV"),f("47P64xUsYVY4P6UsYVYV"),d("P4UeYkUPUP444UUsUVUP"),f("4xUsYVY4P6UsYVYV"),f("VGVG"),k("Y6UsYkYVUP4UUxUlUsY4"),k("7Pe0e77UcUeY7ccGhU74hcGU"),d("Vhk6"),g("UYUPY44sY4Y4YkUcUk4xUlUVUsY4UcUlU7"),f("YhkYU7UsU0UPkYVG"),e("47YcUsUxUs"),f("U7UlY4PlUPYeUcYVY4PlUeUlYVY4U7UsU0UP"),f("PxkY"),g("4Y4U4s4V4Pk6P6UxYPUYUcU7"),k("YPU7U4UPUUUcU7UPU4"),d("7UcUh67PG7eh74h0cV"),g("PlUcYPYsYeUxU4U0YGYkPl"),e("Pxk7"),f("40UsY4YPYkUsk640P4k6PVUVYkUcY6Y4k64VUsY6UcY4UsUxYV"),e("4sYkUcUsUxk64kUxUsUVUh"),e("4UUsU7UYPVUlU7UY"),d("U0YY4Vk6U7UhUkUsUUUGUlYkU4k6Y6UeYVUYUxYck6UPYeYUY4k6YGYsUcYPkxk67sh0G6k6Y4Y6UeYVY4klVGklYPUeUkUYY4UcUVk7U0UlklUxUPYUYUUs"),d("4kYkUsUYUYUsU4UlUVUcUl"),f("4eUsYkU0UlU7Yck64UUcYkUPUUUlYek6P6UxYPUYUcU7"),f("P6UsUxUsUVUPk6PVUVYkUcY6Y4k640P4"),g("47UsY4UcYUUPk64VUxUcUPU7Y4"),e("YPYVUPYk4sUYUPU7Y4"),g("PsYPUcUVUhP4UcU0UPk7PsYPUcUVUhP4UcU0UP"),k("UPYeY6UPYkUcU0UPU7Y4UsUxk0YYUPUkUYUx"),f("4sPkPk4sPcPl4kPP4U4U4PPk"),f("7eehhc7Uc7cx74heh074heG07chhcs"),d("4sUxUcY6UsYck6PVUPUVYPYkUcY4Yck64VUlU7Y4YkUlUxk6VV"),d("PVUVYkUcY6Y4k640P4k64kUlUxU4"),e("kxk6kYUkYkUlYYYVUPYkP6YkUlY6kYVG"),g("P4444V4VY4Uxk7P4444V4VY4Ux"),k("YVUPUxUU"),f("4cU7UUUl4kUsUVUhUYYkUlYPU7U4"),g("P6UsU7U4Ulk6PYUPUkk6P6UxYPUYUcU7"),e("4eUsUPY4Y4UPU7YVUVUeYYUPUcUxUPYk"),d("YVY6UsU7"),g("4sUVY4UcYUUP4kUlYkU4UPYk"),k("P4UeYkUPUP444xUcUYUeY4PVUeUsU4UlYY"),g("V6VkV6Vk"),f("V6VkV6VV"),e("V6VkV6V6"),d("V6VkV6Vs"),d("PYP64ck644UPY4UPUVY4UlYkk6Vsk7V4"),g("Vhk6UPYeY6UcYkUPYVV0"),d("P4UeYkUPUP4444UsYkUhPVUeUsU4UlYY"),g("4PYeUcUUk64PYUUPYkYcYYUeUPYkUP"),d("4kUsY4Y4UxUPUxUlUYk64YUsU0UPk64xUsYPU7UVUeUPYk"),g("4cU0Y6UsUVY4"),k("PU4x4Vk640YPUxY4UcU0UPU4UcUsk6P6UxYPUYUcU7"),d("4sU4UlUkUPk64eUPUkYkUPYY"),e("4kUxYPUPPVY4UsUVUhYVk64cU7YVY4UsUxUxk644UPY4UPUVY4UlYk"),d("YYYYYYU0U0U0U0U0U0U0U0U0U0UxUxUc"),d("UeUcYVY4UlYkYc"),g("YVUsU7YVk0YVUPYkUcUU"),g("P6UsY6YcYkYPYV"),d("4kYPY4Y4UlU7P4UPYeY4"),k("V6VkVsVs"),f("4sY6Y6PPY6"),g("P6UsYkUlU0k7P4PUk6Y6UxUsYcUPYkk6Y6UxYPUYUcU7"),k("44UPUsUxP6UxYc4xUcYUUPk6PPY6U4UsY4UP"),f("4xUlUeUcY4k64YYPUGUsYkUsY4Uc"),d("4UPk4s4Y404P47P4PlPV4e4s444PPk"),d("4sUYUPU7UVYck64U4k"),e("40UsUVYkUlU0UPU4UcUs4UUxUsYVUeP6UsY6UPYkk740UsUVYkUlU0UPU4UcUs4UUxUsYVUeP6UsY6UPYk"),d("kVkVkV"),f("PYUlYkU44VUsY6Y4YPYkUPPe"),k("UYUPY44VUlU0Y6YPY4UPU4PVY4YcUxUP"),e("Y6UxUsY4UUUlYkU0"),e("V6VsV6VP"),g("4sYkUsUkUcUVk6P4YcY6UPYVUPY4Y4UcU7UY"),e("V6VsV6VU"),e("V6VsV6VV"),d("7Pe0e77UcUeY74heG07PG7eh"),g("V6VsV6V4"),f("V6VsV6Vs"),g("V6VsV6Vk"),f("V6VsV6V6"),k("V6VsV6VY"),k("4kYPY4Y4UlU74eUcUYUeUxUcUYUeY4"),k("YUUPYkY4UPYe4sY4Y4YkUcUkP6UlUcU7Y4UPYk"),e("V6VsV6Ve"),k("Y4UPYeY44kUsYVUPUxUcU7UP"),e("kVV6VUVc"),f("U4UlYPUkUxUPP4YYUcYVY4k6PYUPUkk6P6UxYPUYUcU7"),g("YPU7UPYVUVUsY6UP"),g("P4UeYPU7U4UPYkk644UsY64VY4YkUxk647P64sP64ck6P6UxYPUYUcU7"),d("4kUsY4UsU7UY"),d("444U4hUsUck0PV4k"),g("PVU7UsY6k64cP44V")],Ja=[e("40UlUlUx4kUlYkUsU7")];(function(){var a=[82,73,50,30,45,29,28,16,82,41,77,5,27,92,27,0,2,1423857449,-2,3,-3,3432918353,1555261956,4,2847714899,-4,5,-5,2714866558,1281953886,6,-6,198958881,1141124467,2970347812,-7,7,3110523913,8,-8,2428444049,-9,9,10,-10,11,-11,2563907772,12,-12,13,2282248934,-13,2154129355,-14,14,15,-15,16,-16,17,-17,18,-18,19,-19,20,-20,21,-21,-22,22,23,-23,24,-24,-25,25,-26,26,27,-27,28,-28,29,-29,-30,30,31,-31,-32,32,-33,33,-34,34,-35,35,-37,-36,36,37,-38,39,-39,38,-41,41,40,-40,42,-43,43,-42,-45,45,-44,44,-46,47,46,-47,48,-48,49,-49,50,-51,51,-50,570562233,53,-52,-53,52,55,54,-54,-55,503444072,-57,-56,57,56,58,-59,-58,59,60,61,-61,-60,62,63,-63,-62,-66,711928724,64,-67,66,65,-64,-65,67,-69,68,69,70,-70,-68,-71,71,-72,3686517206,-75,-74,75,73,72,74,-73,79,76,-76,77,-79,-78,78,-77,3554079995,82,-80,80,-83,-82,81,-81,83,-85,-84,-86,86,84,85,87,-87,-91,90,88,89,-88,-90,91,-89,95,94,-92,-95,93,-94,-93,92,-99,99,-96,98,-97,-98,96,97,-101,3272380065,100,-103,101,102,-102,-100,103,107,-105,104,106,105,-106,-104,-107,111,108,110,109,-108,-110,-109,-111,251722036,-114,115,113,112,114,-115,-112,-113,-118,118,-116,-119,116,117,-117,119,123,120,122,121,-120,-122,-121,-123,125,127,3412177804,126,124,-125,-126,-124,-127,-128,128,-129,1843258603,3803740692,984961486,3939845945,4195302755,4066508878,255,1706088902,256,1969922972,365,2097651377,376229701,853044451,752459403,1e3,426522225,3772115230,615818150,3904427059,4167216745,4027552580,3654703836,1886057615,879679996,3518719985,3244367275,2013776290,3373015174,1759359992,285281116,1622183637,1006888145,1e4,1231636301,83908371,1090812512,2463272603,1373503546,2596254646,2321926636,1504918807,2181625025,2882616665,2747007092,3009837614,3138078467,397917763,81470997,829329135,2657392035,956543938,2517215374,2262029012,40735498,2394877945,3266489909,702138776,2808555105,2936675148,1258607687,1131014506,3218104598,3082640443,1404277552,565507253,534414190,1541320221,1913087877,2053790376,1789927666,3965973030,3826175755,4107580753,4240017532,1658658271,3579855332,3708648649,3453421203,3317316542,1873836001,1742555852,461845907,3608007406,1996959894,3747672003,3485111705,2137656763,3352799412,213261112,3993919788,1.01,3865271297,4139329115,4275313526,282753626,1068828381,2768942443,2909243462,936918e3,3183342108,27492,141376813,174e4,3050360625,654459306,2617837225,1454621731,2489596804,2227061214,1591671054,2362670323,4294967295,1308918612,2246822507,795835527,1181335161,414664567,4279200368,1661365465,1037604311,4150417245,3887607047,1802195444,4023717930,2075208622,1943803523,901097722,628085408,755167117,3322730930,3462522015,3736837829,3604390888,2366115317,.4,2238001368,2512341634,2647816111,-.2,314042704,1510334235,58964,1382605366,31158534,450548861,3020668471,1119000684,3160834842,2898065728,1256170817,18e5,2765210733,3060149565,3188396048,2932959818,124634137,2797360999,366619977,62317068,-.26,1202900863,498536548,1340076626,2405801727,2265490386,1594198024,1466479909,2547177864,249268274,2680153253,2125561021,3294710456,855842277,3423369109,.732134444,3705015759,3569037538,1994146192,1711684554,1852507879,997073096,733239954,4251122042,601450431,4111451223,167816743,3855990285,3988292384,3369554304,3233442989,3495958263,3624741850,65535,453092731,-.9,2094854071,1957810842,325883990,4057260610,1684777152,4189708143,3915621685,162941995,1812370925,3775830040,783551873,3134207493,1172266101,2998733608,2724688242,1303535960,2852801631,112637215,1567103746,651767980,1426400815,906185462,2211677639,1047427035,2344532202,2607071920,2466906013,225274430,544179635,2176718541,2312317920,1483230225,1342533948,2567524794,2439277719,1088359270,671266974,1219638859,953729732,3099436303,2966460450,817233897,2685067896,2825379669,4089016648,4224994405,3943577151,3814918930,476864866,1634467795,335633487,1762050814,1,2044508324,-1,3401237130,3268935591,3524101629,3663771856,1907459465];(function(){function d(b,c){if(null==b)return null;for(var l=x(c),f=[],g=b.length,e=a[15];e<g;e++)f.push(Y(b[e],l++));return f}function f(b){if(null==b)return null;for(var c=[],l=a[15],d=b.length;l<d;l++){var g=b[l];c[l]=Ka[(g>>>a[23]&a[56])*a[58]+(g&a[56])]}return c}function g(h){var c=[];if(null==h||void 0==h||h.length==a[15])return za(L);if(h.length>=L){var c=a[15],l=[];if(null!=h&&h.length!=a[15]){if(h.length<L)throw Error(b[134]);for(var d=a[15];d<L;d++)l[d]=h[c+d]}return l}for(l=a[15];l<L;l++)c[l]=h[l%h.length];return c}function e(h){var c=a[405];if(null!=h)for(var l=a[15];l<h.length;l++)c=c>>>a[38]^La[(c^h[l])&a[299]];h=Aa(c^a[405]);c=h.length;if(null==h||c<a[15])h=new String(b[0]);else{for(var l=[],d=a[15];d<c;d++)l.push(Ma(h[d]));h=l.join(b[0])}return h}function k(h,c,l){var d,f=[b[70],b[85],b[118],b[73],b[77],b[106],b[80],b[116],b[44],b[42],b[62],b[114],b[93],b[105],b[40],b[64],b[103],b[86],b[99],b[141],b[48],b[89],b[76],b[69],b[132],b[47],b[88],b[33],b[43],b[45],b[78],b[53],b[110],b[50],b[68],b[101],b[52],b[41],b[138],b[133],b[66],b[129],b[108],b[81],b[140],b[90],b[117],b[63],b[107],b[91],b[135],b[115],b[113],b[97],b[60],b[61],b[137],b[126],b[83],b[79],b[119],b[71],b[123],b[75]],g=b[74],e=[];if(l==a[541])l=h[c],d=a[15],e.push(f[l>>>a[16]&a[153]]),e.push(f[(l<<a[23]&a[122])+(d>>>a[23]&a[56])]),e.push(g),e.push(g);else if(l==a[16])l=h[c],d=h[c+a[541]],h=a[15],e.push(f[l>>>a[16]&a[153]]),e.push(f[(l<<a[23]&a[122])+(d>>>a[23]&a[56])]),e.push(f[(d<<a[16]&a[148])+(h>>>a[30]&a[19])]),e.push(g);else if(l==a[19])l=h[c],d=h[c+a[541]],h=h[c+a[16]],e.push(f[l>>>a[16]&a[153]]),e.push(f[(l<<a[23]&a[122])+(d>>>a[23]&a[56])]),e.push(f[(d<<a[16]&a[148])+(h>>>a[30]&a[19])]),e.push(f[h&a[153]]);else throw Error(b[111]);return e.join(b[0])}function za(b){for(var c=[],l=a[15];l<b;l++)c[l]=a[15];return c}function Z(h,c,l,d,f){if(null!=h&&h.length!=a[15]){if(null==l)throw Error(b[131]);if(h.length<f)throw Error(b[134]);for(var e=a[15];e<f;e++)l[d+e]=h[c+e]}}function Aa(b){var c=[];c[0]=b>>>a[74]&a[299];c[1]=b>>>a[58]&a[299];c[2]=b>>>a[38]&a[299];c[3]=b&a[299];return c}function ma(h){if(null==h||void 0==h)return h;h=encodeURIComponent(h);for(var c=[],l=h.length,d=a[15];d<l;d++)if(h.charAt(d)==b[27])if(d+a[16]<l)c.push(Na(h.charAt(++d)+b[0]+h.charAt(++d))[0]);else throw Error(b[146]);else c.push(h.charCodeAt(d));return c}function Na(b){if(null==b||b.length==a[15])return[];b=new String(b);for(var c=[],l=b.length/a[16],d=a[15],f=a[15];f<l;f++){var e=parseInt(b.charAt(d++),a[58])<<a[23],g=parseInt(b.charAt(d++),a[58]);c[f]=x(e+g)}return c}function Ma(c){var d=[];d.push(aa[c>>>a[23]&a[56]]);d.push(aa[c&a[56]]);return d.join(b[0])}function na(b,c){if(null==b||null==c||b.length!=c.length)return b;for(var d=[],f=a[15],e=b.length;f<e;f++)d[f]=Y(b[f],c[f]);return d}function Y(a,b){a=x(a);b=x(b);return x(a^b)}function Oa(a,b){return x(a+b)}function x(c){if(c<a[290])return x(a[291]-(a[290]-c));if(c>=a[290]&&c<=a[282])return c;if(c>a[282])return x(a[292]+c-a[282]);throw Error(b[136])}function Pa(h){function d(){for(var h=[b[282],c[32],c[137],b[221],c[150],b[36],c[157],c[103],c[174],b[280],b[18],b[303],c[23],b[338],c[106],b[181],b[337],c[46],c[44],b[112],b[210],b[194],b[281],c[60],b[277],b[276],b[160],c[175],b[356],b[198],b[297],b[98],c[104],b[184],b[223],c[14],c[4],b[226],b[127],b[92],c[49],b[318],c[122],b[67],B[5],c[135],c[81],c[75],b[228],b[286],c[148],b[335],b[283],c[41],c[2],b[272],c[102],b[293],b[348],Ja[0],b[169],B[4],b[273],b[82],c[94],c[108],c[142],c[77],c[5],b[358],c[7],b[212],b[279],c[116],b[278],c[68],b[229],c[176],b[261],c[8],b[268],c[17],b[26],b[340],b[289],b[284],b[104],c[160],b[224],b[256],b[243],b[322],b[204],c[19],b[300],c[70],c[90],b[206],b[3],b[65],c[99],b[186],b[321],b[170],b[346],c[25],b[174],b[271],c[15],b[46],c[52],c[69],c[84],b[153],b[125],c[114],b[37]],f=[],e=a[15];e<h.length;e++)try{var g=h[e];l()(g)&&f.push(g)}catch(k){}return f.join(b[56])}function l(){function h(a){var c={};return k.style.fontFamily=a,g.appendChild(k),c.height=k.offsetHeight,c.width=k.offsetWidth,g[b[307]](k),c}var d=[c[21],c[141],B[6]],l=[],f=c[139],e=b[327],g=C[b[258]],k=C[b[167]](c[123]);k.style.fontSize=e;k.style.visibility=c[37];k.innerHTML=f;for(f=a[15];f<d.length;f++)l[f]=h(d[f]);return function(c){for(var f=a[15];f<l.length;f++){var e=h(c+b[34]+d[f]),g=l[f];if(e.height!==g.height||e.width!==g.width)return!0}return!1}}function f(){var a=null,h=null,d=[];try{h=C[b[167]](c[79]),a=h[B[7]](b[255])||h[B[7]](c[112])}catch(l){}if(!a)return d;try{d.push(a[b[20]]())}catch(g){}try{d.push(e(a,h))}catch(k){}return d.join(b[56])}function e(h,d){try{var f=c[76],l=b[240],g=h[c[43]]();h[c[33]](h[c[113]],g);var k=new Float32Array([a[432],a[488],a[15],a[428],a[453],a[15],a[15],a[468],a[15]]);h.bufferData(h[c[113]],k,h[c[24]]);g.k=a[19];g.l=a[19];var t=h[c[20]](),X=h[c[48]](h[b[267]]);h[c[63]](X,f);h[b[341]](X);var la=h[c[48]](h[c[149]]);return h[c[63]](la,l),h[b[341]](la),h[b[177]](t,X),h[b[177]](t,la),h[c[45]](t),h[b[309]](t),t.n=h[c[92]](t,b[205]),t.m=h[c[62]](t,c[29]),h[c[74]](t.o),h[c[167]](t.n,g.k,h.FLOAT,!a[541],a[15],a[15]),h[J[0]](t.m,a[541],a[541]),h[b[139]](h[b[259]],a[15],g.l),M(d[b[149]]())}catch($a){return b[324]}}function g(){var h=C[b[167]](b[155]),d=[],f=[c[124],b[270],b[328],b[315],b[192],c[166],c[22],c[143],b[274],b[1],b[329],b[154],b[161],b[238],b[49],c[120],b[248],b[239],b[156],b[343],c[132],c[86],c[47],c[125],b[32],b[344],c[73],b[150]];if(!window[c[154]])return d.join(b[0]);for(var l=a[15];l<f.length;l++)try{C[b[258]].appendChild(h),h.style.color=f[l],d.push(f[l]),d.push(window[c[154]](h).getPropertyValue(c[36])),C[b[258]][b[307]](h)}catch(e){d.push(b[349])}return d.join(b[54])}function k(){try{var h=C[b[167]](c[79]),d=h[B[7]](b[354]),f=c[105];d[c[169]]=b[235];d[b[145]]=b[333];d[c[169]]=b[202];d[b[219]]=c[10];d[c[11]](a[281],a[541],a[152],a[66]);d[b[219]]=c[170];d.fillText(f,a[16],a[56]);d[b[219]]=b[313];d.fillText(f,a[23],a[60]);return h[b[149]]()}catch(l){return b[237]}}function m(){try{return window[b[355]]&&n.h?q():r()}catch(a){return b[31]}}function r(){if(!y[b[4]])return b[0];var h=[b[211],b[314],c[3],b[5],b[183],c[27],c[115],b[230],c[42],b[157],c[145],b[266],c[34],b[246],c[134],b[336],b[189],c[138],b[296],b[201],b[158],b[233],b[247],c[147],c[13],b[55],b[288],b[173],c[171],c[64],c[26],b[244],b[332],b[187],c[133],b[269],b[290],b[351],b[176],b[308],b[39],b[254],c[97],c[71],b[72],b[7],c[54],b[200],c[39],b[242],c[107],b[225],c[66],b[188],b[287],b[190],c[80],b[250],b[347],c[87],b[263],b[213],b[109],b[95],B[1],c[109],c[82],c[0],c[57],b[352],c[85],B[3],b[166],c[50],b[214],b[195],c[35],c[121],c[146],c[28],b[357],b[317],c[31],b[178],b[241],c[55],c[9],b[96],b[251],b[94],c[72],b[196],b[23],b[102],b[84],b[148],b[199],c[59],b[16],b[217],b[252],b[306],c[173],b[222],b[15],b[58],b[203],b[8],c[136],b[245],b[17],b[51],b[295],c[153],c[130],b[331],b[232],c[51],c[61]],d=[],f={};d.push(p(y[b[4]],function(h){f[h.name]=a[541];var d=p(h,function(a){return[a.type,a.suffixes].join(b[144])}).join(b[34]);return[h.name,h.description,d].join(c[88])},this).join(b[25]));d.push(p(h,function(a){if(f[a])return b[0];a=y[b[4]][a];if(!a)return b[0];var h=p(a,function(a){return[a.type,a.suffixes].join(b[144])}).join(b[34]);return[a.name,a.description,h].join(c[88])},this).join(b[56]));return d.join(b[56])}function q(){return window[b[355]]?p([b[236],b[292],b[316],b[298],c[151],b[197],c[83],b[218],c[111],b[175],b[249],b[100],b[162],b[231],c[1],b[249],b[102],b[148],b[312],c[53],b[350],c[118],b[326]],function(a){try{return new window[b[355]](a),a}catch(h){return null}}).join(b[56]):b[0]}function p(a,b,h){var c=[];if(null==a)return c;if(I&&a.map===I)return a.map(b,h);E(a,function(a,d,f){c[c.length]=b.call(h,a,d,f)});return c}function E(b,h){if(null!==b)if(z&&b.forEach===z)b.forEach(h,void 0);else if(b.length===+b.length)for(var c=a[15],d=b.length;c<d&&h.call(void 0,b[c],c,b)!=={};c++);else for(c in b)if(b.hasOwnProperty(c)&&h.call(void 0,b[c],c,b)==={})break}var z=Array.prototype.forEach,I=Array.prototype.map,n={e:M,j:!0,i:!0,h:!0,b:!0,a:!0};typeof h==b[264]?n.e=h:(null!=h.b&&void 0!=h.b&&(n.b=h.b),null!=h.a&&void 0!=h.a&&(n.a=h.a));this.get=function(){var h=[],l=[];if(Qa){var e;try{e=!!window[b[339]]}catch(X){e=!0}h.push(e);var p;try{p=!!window[c[38]]}catch(z){p=!0}h.push(p);h.push(!!window[c[40]]);C[b[258]]?h.push(typeof C[b[258]][b[301]]):h.push("undefined");h.push(typeof window[c[78]]);h.push(y[b[193]]);h.push(y[c[155]]);if(e=n.i)try{var u=C[b[167]](c[79]);e=!(!u[B[7]]||!u[B[7]](b[354]))}catch(r){e=!1}if(e)try{h.push(k()),n.b&&h.push(f())}catch(E){h.push(b[59])}h.push(g());n.a&&l.push(d());l.push(y[c[110]]);l.push(y[b[151]]);l.push(window[b[257]][b[359]]);n.j&&(u=window[b[257]]?[window[b[257]].height,window[b[257]].width]:[a[15],a[15]],typeof u!==c[98]&&l.push(u.join(b[138])));l.push((new Date)[b[128]]());l.push(y[b[122]]);l.push(m())}u=[];n.e?(u.push(n.e(h.join(c[152]))),u.push(n.e(l.join(c[152])))):(u.push(M(h.join(c[152]))),u.push(M(l.join(c[152]))));return u}}function M(h){var c=a[88],d,f,e,g,k,m;d=h.length&a[19];f=h.length-d;e=c;c=a[21];g=a[375];for(m=a[15];m<f;)k=h.charCodeAt(m)&a[299]|(h.charCodeAt(++m)&a[299])<<a[38]|(h.charCodeAt(++m)&a[299])<<a[58]|(h.charCodeAt(++m)&a[299])<<a[74],++m,k=(k&a[486])*c+(((k>>>a[58])*c&a[486])<<a[58])&a[405],k=k<<a[56]|k>>>a[60],k=(k&a[486])*g+(((k>>>a[58])*g&a[486])<<a[58])&a[405],e^=k,e=e<<a[50]|e>>>a[64],e=(e&a[486])*a[26]+(((e>>>a[58])*a[26]&a[486])<<a[58])&a[405],e=(e&a[486])+a[394]+(((e>>>a[58])+a[435]&a[486])<<a[58]);k=a[15];switch(d){case a[19]:k^=(h.charCodeAt(m+a[16])&a[299])<<a[58];case a[16]:k^=(h.charCodeAt(m+a[541])&a[299])<<a[38];case a[541]:k^=h.charCodeAt(m)&a[299],k=(k&a[486])*c+(((k>>>a[58])*c&a[486])<<a[58])&a[405],k=k<<a[56]|k>>>a[60],k=(k&a[486])*g+(((k>>>a[58])*g&a[486])<<a[58])&a[405],e^=k}e^=h.length;e^=e>>>a[58];e=(e&a[486])*a[407]+(((e>>>a[58])*a[407]&a[486])<<a[58])&a[405];e^=e>>>a[50];e=(e&a[486])*a[349]+(((e>>>a[58])*a[349]&a[486])<<a[58])&a[405];e^=e>>>a[58];h=e>>>a[15];d=[];d.push(h);try{for(var r,B=h+b[0],p=a[15],E=a[15],z=a[15];z<B.length;z++)try{var q=parseInt(B.charAt(z)+b[0]),p=q||q===a[15]?p+q:p+a[541];E++}catch(n){p+=a[541],E++}E=E==a[15]?a[541]:E;r=ba(p*a[541]/E,N);for(var x,C=Math.floor(r/Math.pow(a[43],N-a[541])),G=h+b[0],w=a[15],D=a[15],H=a[15],u=a[15],F=a[15];F<G.length;F++)try{var v=parseInt(G.charAt(F)+b[0]);v||v===a[15]?v<C?(D++,w+=v):(u++,H+=v):(u++,H+=C)}catch(A){u++,H+=C}u=u==a[15]?a[541]:u;D=D==a[15]?a[541]:D;x=ba(H*a[541]/u-w*a[541]/D,T);d.push(ca(r,N,b[41]));d.push(ca(x,T,b[41]))}catch(y){d=[],d.push(h),d.push(U(N,b[35]).join(b[0])),d.push(U(T,b[35]).join(b[0]))}return d.join(b[0])}function ba(h,c){if(h<a[15]||h>=a[43])throw Error(b[30]);for(var d=U(c,b[41]),e=b[0]+h,f=a[15],g=a[15];f<d.length&&g<e.length;g++)e.charAt(g)!=b[38]&&(d[f++]=e.charAt(g));return parseInt(d.join(b[0]))}function ca(a,c,d){a=b[0]+a;if(a.length>c)throw Error(b[87]);if(a.length==c)return a;for(var e=[],f=a.length;f<c;f++)e.push(d);e.push(a);return e.join(b[0])}function U(b,c){if(b<=a[15])return[a[15]];for(var d=[],e=a[15];e<b;e++)d.push(c);return d}function r(a){return null==a||void 0==a}function m(a,b,c){this.f=a;this.c=b;this.g=r(c)?!0:c}function Ra(a){if(r(a)||r(a.f)||r(a.c))return!1;try{if(r(window[a.f]))return!1}catch(b){return!1}return!0}function v(c,d){if(r(c))return b[0];for(var e=a[15];e<c.length;e++){var f=c[e];if(!r(f)&&f.f==d)return f}}function da(){var h;a:{if(!r(q))for(h=a[15];h<q.length;h++){var d=q[h];if(d.g&&!Ra(d)){h=d;break a}}h=null}var e;if(r(h)){try{e=window.parseFloat(b[180])===a[384]&&window.isNaN(window.parseFloat(b[163]))}catch(f){e=!1}if(e){var g;try{g=window.parseInt(b[323])===a[273]&&window.isNaN(window.parseInt(b[163]))}catch(k){g=!1}if(g){var m;try{m=window.decodeURI(b[208])===b[24]}catch(C){m=!1}if(m){var x;try{x=window.decodeURIComponent(b[209])===b[28]}catch(F){x=!1}if(x){var p;try{p=window.encodeURI(b[24])===b[208]}catch(E){p=!1}if(p){var z;try{z=window.encodeURIComponent(b[28])===b[209]}catch(I){z=!1}if(z){var n;try{n=window.escape(b[28])===b[209]}catch(A){n=!1}if(n){var y;try{y=window.unescape(b[209])===b[28]}catch(G){y=!1}if(y){var w;try{w=window.eval(b[304])===a[273]}catch(D){w=!1}e=w?null:v(q,b[171])}else e=v(q,c[172])}else e=v(q,b[342])}else e=v(q,c[30])}else e=v(q,c[16])}else e=v(q,B[2])}else e=v(q,b[320])}else e=v(q,c[58])}else e=v(q,c[89])}else e=h;return e}function Sa(){var a=da();if(!r(a))return a.c;try{a=r(window[b[168]])||r(window[b[168]][b[334]])?null:v(q,b[311])}catch(c){a=null}if(!r(a))return a.c;try{a=r(context)||r(context[b[185]])?null:v(q,b[265])}catch(d){a=null}return r(a)?null:a.c}function Ba(c){for(var d=[],e=a[15];e<c;e++){var f=Math.random()*Ta,f=Math.floor(f);d.push(ea.charAt(f))}return d.join(b[0])}function P(h){for(var d=(C[b[207]]||b[0]).split(c[91]),e=a[15];e<d.length;e++){var f=d[e].indexOf(b[57]);if(f>=a[15]){var g=d[e].substring(f+a[541],d[e].length);if(d[e].substring(a[15],f)==h)return window.decodeURIComponent(g)}}return null}function Ca(h){var d=[b[135],b[182],b[133],b[108],b[159],b[165],c[18]],e=b[0];if(null==h||void 0==h)return h;if(typeof h==[b[291],b[220],b[121]].join(b[0])){for(var e=e+b[142],f=a[15];f<d.length;f++)if(h.hasOwnProperty(d[f])){var g=b[29]+d[f]+b[262],k;k=b[0]+h[d[f]];k=null==k||void 0==k?k:k.replace(/'/g,c[96]).replace(/"/g,b[24]);e+=g+k+b[191]}e.charAt(e.length-a[541])==b[34]&&(e=e.substring(a[15],e.length-a[541]));return e+=b[143]}return null}function oa(a,d,e,f){var g=[];g.push(a+b[57]+encodeURIComponent(d));e&&(a=new Date,a=new Date(f),f=a[b[215]](),g.push(c[91]),g.push(b[172]),g.push(b[305]),g.push(b[325]),g.push(b[319]),g.push(f));g.push(c[91]);g.push(b[302]);g.push(b[216]);null!=A&&void 0!=A&&A!=b[0]&&(g.push(c[91]),g.push(b[152]),g.push(b[234]),g.push(b[260]),g.push(A));C[b[207]]=g.join(b[0])}function Da(a){window[pa]=a}function Ea(a){window[qa]=a}function Fa(c,d){for(var e=[],f=a[15];f<d;f++)e.push(c);return e.join(b[0])}function Ga(a,c){var d=P(a);null!==d&&void 0!==d&&d!==b[0]||oa(a,c,!1)}function ra(){var a=P(V);if(null==a||void 0==a||a==b[0])a=window[qa];return a}function Ua(){var a=ra();if(null==a||void 0==a||a==b[0])return!1;try{return(a=parseInt(a))&&a>=fa?!0:!1}catch(c){return!1}}function ga(c){if(null==c||void 0==c||c==b[0])return null;c=c.split(b[54]);return c.length<a[16]||!/[0-9]+/gi.test(c[1])?null:parseInt(c[1])}function Q(){var a=P(S);if(null==a||void 0==a||a==b[0])a=window[pa];return a}function Va(){var c=Q();if(null==c||void 0==c||c==b[0])return a[15];c=ga(c);return null==c?a[15]:c-(sa-ta)-(new window[B[0]])[b[179]]()}function Ha(d,e){var f=new window[B[0]];f[b[21]](f[b[179]]()-a[326]);window[b[330]][b[207]]=null==e||void 0==e||e==b[0]?d+b[147]+f[b[215]]():d+c[12]+e+c[131]+f[b[215]]()}function Ia(){if(!(null==K||void 0==K||K.length<=a[15]))for(var c=a[15];c<K.length;c++){var d=K[c];(null!=A&&void 0!=A&&A!=b[0]||null!=d&&void 0!=d&&d!=b[0])&&A!=d&&(Ha(S,d),Ha(V,d))}}function ua(){Ia();window[qa]=null;window[pa]=null;var h=!0,t={v:b[227]},l=Sa();l&&(t[c[18]]=l);l=null;t[b[108]]=Wa;var m=(new window[B[0]])[b[179]]()+sa,r=m+a[308]*a[148]*a[148]*a[74]*a[303]*a[26];t[b[133]]=Ba(a[19])+m+Ba(a[19]);try{var q=(new Pa({b:Xa,a:Ya})).get();null!=q&&void 0!=q&&q.length>a[15]?t[b[182]]=q.join(b[34]):(t[b[182]]=Fa(b[41],a[43]),t[b[159]]=b[42],h=!1)}catch(C){t[b[182]]=Fa(b[41],a[43]),t[b[159]]=b[42],h=!1}try{var v=l=Ca(t),t=Za;if(null==t||void 0==t)throw Error(b[120]);if(null==v||void 0==v)v=b[0];var q=v,y;y=null==v?e([]):e(ma(v));var A=ma(q+y),p=ma(t);null==A&&(A=[]);y=[];for(var E=a[15];E<va;E++){var z=Math.random()*a[301],z=Math.floor(z);y[E]=x(z)}var p=g(p),p=na(p,g(y)),E=p=g(p),I;if(null==A||void 0==A||A.length==a[15])I=za(F);else{var n=A.length,J=a[15],J=n%F<=F-ha?F-n%F-ha:F*a[16]-n%F-ha,z=[];Z(A,a[15],z,a[15],n);for(var K=a[15];K<J;K++)z[n+K]=a[15];Z(Aa(n),a[15],z,n+J,ha);I=z}n=I;if(null==n||n.length%F!=a[15])throw Error(b[130]);I=[];for(var G=a[15],w=n.length/F,D=a[15];D<w;D++){I[D]=[];for(var H=a[15];H<F;H++)I[D][H]=n[G++]}G=[];Z(y,a[15],G,a[15],va);for(var u=I.length,L=a[15];L<u;L++){var O,M;var N=I[L];if(null==N)M=null;else{for(var T=x(a[104]),w=[],U=N.length,P=a[15];P<U;P++)w.push(Oa(N[P],T++));M=w}var Q;w=M;if(null==w)Q=null;else{for(var aa=x(a[143]),D=[],ba=w.length,wa=a[15];wa<ba;wa++)D.push(Y(w[wa],aa--));Q=D}var ca=d(Q,a[127]);O=d(ca,a[36]);var xa=na(O,p),ia;w=xa;D=E;if(null==w)ia=null;else if(null==D)ia=w;else{for(var H=[],da=D.length,W=a[15],ea=w.length;W<ea;W++)H[W]=x(w[W]+D[W%da]);ia=H}var xa=na(ia,E),ja=f(xa),ja=f(ja);Z(ja,a[15],G,L*F+va,F);E=ja}var ka;if(null==G||void 0==G)ka=null;else if(G.length==a[15])ka=b[0];else{var ya=a[19];try{for(var u=[],R=a[15];R<G.length;)if(R+ya<=G.length)u.push(k(G,R,ya)),R+=ya;else{u.push(k(G,R,G.length-R));break}ka=u.join(b[0])}catch(ra){throw Error(b[111])}}l=ka}catch(ga){l=Ca({ec:b[43],em:ga.message}),h=!1}l=l+b[54]+m;oa(S,l,h,r);Ga(S,l);Da(l);oa(V,fa,h,r);Ga(V,fa);Ea(fa);window[b[124]]&&window[b[124]](ua,ta)}m.prototype={toString:function(){return c[93]+this.f+b[164]+this.c+c[117]+this.g+b[143]}};var q=[new m(c[67],b[13]),new m(b[330],b[14]),new m(c[6],b[11]),new m(c[65],b[12]),new m(c[140],b[10]),new m(b[257],b[9]),new m(b[2],b[19]),new m(b[235],b[22]),new m(c[119],b[6]),new m(c[89],c[164]),new m(c[58],c[162]),new m(b[320],c[163]),new m(B[2],c[159]),new m(c[16],c[161]),new m(c[30],c[156]),new m(b[342],c[158]),new m(c[172],c[165]),new m(b[171],c[168]),new m(b[253],c[128],!1),new m(b[294],c[129],!1),new m(b[168],c[126],!1),new m(b[311],c[127],!1),new m(b[265],c[144],!1)],Qa=da()?!1:!0,Wa=window&&window[c[65]]&&window[c[65]].host||b[353],C=window[b[330]],y=window[c[6]],N=a[16],T=a[16],aa=[b[41],b[42],b[43],b[44],b[45],b[47],b[48],b[50],b[52],b[53],b[97],b[99],b[101],b[103],b[105],b[106]],La=[a[15],a[377],a[383],a[522],a[449],a[316],a[495],a[343],a[462],a[542],a[310],a[461],a[496],a[464],a[415],a[40],a[455],a[363],a[533],a[402],a[438],a[293],a[366],a[511],a[491],a[493],a[476],a[333],a[539],a[412],a[297],a[427],a[474],a[29],a[369],a[503],a[325],a[353],a[546],a[390],a[420],a[440],a[174],a[442],a[306],a[501],a[469],a[336],a[508],a[331],a[482],a[355],a[358],a[400],a[379],a[528],a[525],a[459],a[423],a[34],a[408],a[520],a[319],a[446],a[471],a[437],a[47],a[417],a[548],a[506],a[463],a[312],a[320],a[256],a[345],a[498],a[380],a[395],a[523],a[385],a[416],a[537],a[429],a[298],a[497],a[487],a[335],a[478],a[300],a[433],a[513],a[367],a[368],a[451],a[404],a[534],a[504],a[295],a[337],a[470],a[443],a[413],a[445],a[190],a[354],a[317],a[391],a[547],a[33],a[466],a[505],a[370],a[521],a[398],a[447],a[321],a[460],a[517],a[37],a[424],a[403],a[350],a[529],a[381],a[334],a[499],a[356],a[483],a[481],a[332],a[452],a[490],a[296],a[431],a[341],a[419],a[536],a[401],a[516],a[362],a[365],a[515],a[479],a[304],a[314],a[458],a[139],a[540],a[414],a[53],a[309],a[473],a[387],a[519],a[388],a[374],a[494],a[348],a[340],a[324],a[426],a[28],a[527],a[456],a[318],a[450],a[389],a[526],a[485],a[352],a[510],a[329],a[378],a[532],a[342],a[409],a[283],a[441],a[421],a[436],a[467],a[339],a[130],a[509],a[372],a[502],a[475],a[22],a[545],a[397],a[307],a[360],a[514],a[364],a[302],a[347],a[399],a[535],a[361],a[328],a[430],a[294],a[418],a[382],a[330],a[480],a[489],a[32],a[346],a[492],a[322],a[359],a[518],a[386],a[373],a[410],a[51],a[411],a[472],a[323],a[457],a[313],a[538],a[305],a[531],a[376],a[406],a[344],a[351],a[484],a[327],a[512],a[448],a[315],a[524],a[392],a[24],a[425],a[454],a[530],a[393],a[544],a[357],a[311],a[500],a[371],a[17],a[477],a[338],a[465],a[507],a[157],a[439],a[232],a[434],a[422]],Ka=[a[76],a[182],a[199],a[231],a[165],a[156],a[75],a[207],a[166],a[19],a[158],a[223],a[191],a[102],a[35],a[94],a[126],a[127],a[248],a[192],a[56],a[66],a[284],a[274],a[82],a[110],a[257],a[258],a[175],a[275],a[86],a[215],a[224],a[95],a[167],a[168],a[193],a[233],a[64],a[285],a[159],a[70],a[153],a[240],a[208],a[45],a[173],a[241],a[140],a[83],a[65],a[103],a[152],a[135],a[194],a[209],a[144],a[38],a[276],a[46],a[114],a[265],a[68],a[131],a[106],a[242],a[243],a[225],a[136],a[71],a[132],a[145],a[128],a[183],a[60],a[44],a[286],a[118],a[266],a[72],a[90],a[18],a[267],a[200],a[73],a[123],a[169],a[111],a[137],a[115],a[244],a[277],a[98],a[216],a[74],a[26],a[124],a[282],a[27],a[133],a[259],a[281],a[31],a[217],a[249],a[41],a[96],a[78],a[23],a[160],a[176],a[184],a[250],a[201],a[119],a[226],a[62],a[16],a[251],a[59],a[48],a[227],a[148],a[129],a[116],a[290],a[170],a[107],a[99],a[234],a[87],a[134],a[245],a[210],a[84],a[235],a[195],a[260],a[91],a[261],a[92],a[211],a[100],a[80],a[262],a[268],a[112],a[185],a[218],a[79],a[122],a[269],a[104],a[120],a[177],a[20],a[263],a[149],a[61],a[77],a[154],a[36],a[150],a[125],a[89],a[219],a[101],a[252],a[113],a[141],a[121],a[220],a[273],a[186],a[253],a[178],a[202],a[246],a[108],a[187],a[81],a[117],a[49],a[203],a[30],a[264],a[270],a[142],a[271],a[212],a[138],a[52],a[221],a[88],a[109],a[222],a[143],a[236],a[54],a[97],a[272],a[287],a[541],a[228],a[247],a[146],a[63],a[278],a[67],a[254],a[161],a[15],a[543],a[213],a[204],a[214],a[188],a[179],a[196],a[58],a[229],a[288],a[237],a[55],a[279],a[162],a[50],a[155],a[289],a[69],a[197],a[180],a[280],a[151],a[93],a[230],a[181],a[39],a[85],a[238],a[105],a[25],a[255],a[171],a[189],a[42],a[198],a[57],a[163],a[164],a[205],a[239],a[172],a[206],a[147],a[43]],F=a[158],L=a[158],ha=a[23],va=a[23],d=function(b,c){if(null==b)return null;for(var d=x(c),e=[],f=b.length,g=a[15];g<f;g++)e.push(Y(b[g],d++));return e},Za=b[345],S=b[299],V=c[100],fa=a[91],ea=b[275],Ta=ea.length,sa=a[444],ta=a[396],Ya=!1,Xa=!1,O=window&&window[c[65]]&&window[c[65]][b[310]]||c[95],A=c[56],A=function(d,e){if(null==d||void 0==d||d==b[0]||null==e||void 0==e||e.length<=a[15])return null;e=e.split(b[56]);for(var f=a[15];f<e.length;f++){var g=new RegExp(e[f].replace(/\./g,c[101])+b[25]);if(null!=d.match(g)||null!=(b[38]+d).match(g))return e[f]}return null}(O,A),pa=S.replace(/[^a-zA-Z0-9$]/g,b[0]).toLowerCase(),qa=V.replace(/[^a-zA-Z0-9$]/g,b[0]).toLowerCase(),K=function(c){var d=[];if(!c)return d;c=c.split(b[38]);for(var e=b[0],f=a[15];f<c.length;f++)f<c.length-a[541]&&(e=b[38]+c[c.length-a[541]-f]+e,d.push(e));return d}(O);K.push(null);K.push(b[38]+O);(function(d){for(var e=a[15],f=(C[b[207]]||b[0]).split(c[91]),g=a[15];g<f.length;g++){var k=f[g].indexOf(b[57]);k>=a[15]&&f[g].substring(a[15],k)==d&&(e+=a[541])}return e})(S)>a[541]&&Ia();(function(){var a=Q();if(null==a||void 0==a||a==b[0])a=!1;else{var c;if(c=Ua())a=ga(a),c=!(null==a||a-(new window[B[0]])[b[179]]()<=sa-ta);a=c}return a})()?(Da(Q()),Ea(ra()),O=Va(),window[b[124]]&&window[b[124]](ua,O)):ua()})()})()})()})();
(function(){})();
(function(){var bQT3x;var xS9J="VISITOR_CLIENT_NO_COOKIE_SUPPORT";var csc3x=0;var bQV3x=0;var bRb3x=1;var bRk3x=0;var bzx7q="";var bRv3x="";var bRw3x="";var bdG1x="";var bdH1x="";var bzH7A="";var bRJ3x=0;var bRL3x="";var NJ4N="";var Ih3x=0;var bzK7D=ntes_get_domain();var bzN7G=null;var cWW5b="//analytics.163.com";var crC3x=function(){};function is_spider(){return/baiduspider/gi.test(window.navigator.userAgent)}function ntes_get_domain(){var f=document.domain;var d=f.split(".");var c=d.length;var e=/^\d+$/g;if(e.test(d[c-1])){return f}if(d.length<3){return"."+f}var g=["com","net","org","gov","co"];var b,a=false;for(b=0;b<g.length;b++){if(d[c-2]==g[b]){a=true}}if(!a){return"."+d[c-2]+"."+d[c-1]}else{return"."+d[c-3]+"."+d[c-2]+"."+d[c-1]}}function ntes_set_cookie_long(a,c){var b=new Date;b.setTime(b.getTime()+1e3*60*60*24*365*100);document.cookie=a+"="+c+"; expires="+b.toGMTString()+"; path=/; domain="+bzK7D}function ntes_set_cookie(a,c){var b=new Date;b.setTime(b.getTime()+0);document.cookie=a+"="+c+"; path=/; domain="+bzK7D}function ntes_set_cookie_new(b,d,a){if(!a||a==""){a=1e3*60*60*24*365*1}var c=new Date;c.setTime(c.getTime()+a);document.cookie=b+"="+d+"; expires="+c.toGMTString()+"; path=/; domain="+bzK7D}function ntes_get_cookie(c){var a=document.cookie;var d=c+"=";var g=a.length;var b=0;while(b<g){var e=b+d.length;if(a.substring(b,e)==d){var f=a.indexOf(";",e);if(f==-1){f=g}return unescape(a.substring(e,f))}b=a.indexOf(" ",b)+1;if(b==0){break}}return-1}function ntes_get_flashver(){var f="",n=navigator;if(n.plugins&&n.plugins.length){for(var ii=0;ii<n.plugins.length;ii++){if(n.plugins[ii].name.indexOf("Shockwave Flash")!=-1){f=n.plugins[ii].description.split("Shockwave Flash")[1];break}}}else{if(window.ActiveXObject){for(var ii=10;ii>=2;ii--){try{var fl=eval("new ActiveXObject('ShockwaveFlash.ShockwaveFlash."+ii+"');");if(fl){f=ii+".0";break}}catch(e){}}}}return f}var crB3x=0;var YN8F=8;function ntes_hex_md5(a){return binl2hex(ntes_core_md5(str2binl(a),a.length*YN8F))}function ntes_core_md5(p,k){p[k>>5]|=128<<k%32;p[(k+64>>>9<<4)+14]=k;var o=1732584193;var n=-271733879;var m=-1732584194;var l=271733878;for(var g=0;g<p.length;g+=16){var j=o;var h=n;var f=m;var e=l;o=md5_ff(o,n,m,l,p[g+0],7,-680876936);l=md5_ff(l,o,n,m,p[g+1],12,-389564586);m=md5_ff(m,l,o,n,p[g+2],17,606105819);n=md5_ff(n,m,l,o,p[g+3],22,-1044525330);o=md5_ff(o,n,m,l,p[g+4],7,-176418897);l=md5_ff(l,o,n,m,p[g+5],12,1200080426);m=md5_ff(m,l,o,n,p[g+6],17,-1473231341);n=md5_ff(n,m,l,o,p[g+7],22,-45705983);o=md5_ff(o,n,m,l,p[g+8],7,1770035416);l=md5_ff(l,o,n,m,p[g+9],12,-1958414417);m=md5_ff(m,l,o,n,p[g+10],17,-42063);n=md5_ff(n,m,l,o,p[g+11],22,-1990404162);o=md5_ff(o,n,m,l,p[g+12],7,1804603682);l=md5_ff(l,o,n,m,p[g+13],12,-40341101);m=md5_ff(m,l,o,n,p[g+14],17,-1502002290);n=md5_ff(n,m,l,o,p[g+15],22,1236535329);o=md5_gg(o,n,m,l,p[g+1],5,-165796510);l=md5_gg(l,o,n,m,p[g+6],9,-1069501632);m=md5_gg(m,l,o,n,p[g+11],14,643717713);n=md5_gg(n,m,l,o,p[g+0],20,-373897302);o=md5_gg(o,n,m,l,p[g+5],5,-701558691);l=md5_gg(l,o,n,m,p[g+10],9,38016083);m=md5_gg(m,l,o,n,p[g+15],14,-660478335);n=md5_gg(n,m,l,o,p[g+4],20,-405537848);o=md5_gg(o,n,m,l,p[g+9],5,568446438);l=md5_gg(l,o,n,m,p[g+14],9,-1019803690);m=md5_gg(m,l,o,n,p[g+3],14,-187363961);n=md5_gg(n,m,l,o,p[g+8],20,1163531501);o=md5_gg(o,n,m,l,p[g+13],5,-1444681467);l=md5_gg(l,o,n,m,p[g+2],9,-51403784);m=md5_gg(m,l,o,n,p[g+7],14,1735328473);n=md5_gg(n,m,l,o,p[g+12],20,-1926607734);o=md5_hh(o,n,m,l,p[g+5],4,-378558);l=md5_hh(l,o,n,m,p[g+8],11,-2022574463);m=md5_hh(m,l,o,n,p[g+11],16,1839030562);n=md5_hh(n,m,l,o,p[g+14],23,-35309556);o=md5_hh(o,n,m,l,p[g+1],4,-1530992060);l=md5_hh(l,o,n,m,p[g+4],11,1272893353);m=md5_hh(m,l,o,n,p[g+7],16,-155497632);n=md5_hh(n,m,l,o,p[g+10],23,-1094730640);o=md5_hh(o,n,m,l,p[g+13],4,681279174);l=md5_hh(l,o,n,m,p[g+0],11,-358537222);m=md5_hh(m,l,o,n,p[g+3],16,-722521979);n=md5_hh(n,m,l,o,p[g+6],23,76029189);o=md5_hh(o,n,m,l,p[g+9],4,-640364487);l=md5_hh(l,o,n,m,p[g+12],11,-421815835);m=md5_hh(m,l,o,n,p[g+15],16,530742520);n=md5_hh(n,m,l,o,p[g+2],23,-995338651);o=md5_ii(o,n,m,l,p[g+0],6,-198630844);l=md5_ii(l,o,n,m,p[g+7],10,1126891415);m=md5_ii(m,l,o,n,p[g+14],15,-1416354905);n=md5_ii(n,m,l,o,p[g+5],21,-57434055);o=md5_ii(o,n,m,l,p[g+12],6,1700485571);l=md5_ii(l,o,n,m,p[g+3],10,-1894986606);m=md5_ii(m,l,o,n,p[g+10],15,-1051523);n=md5_ii(n,m,l,o,p[g+1],21,-2054922799);o=md5_ii(o,n,m,l,p[g+8],6,1873313359);l=md5_ii(l,o,n,m,p[g+15],10,-30611744);m=md5_ii(m,l,o,n,p[g+6],15,-1560198380);n=md5_ii(n,m,l,o,p[g+13],21,1309151649);o=md5_ii(o,n,m,l,p[g+4],6,-145523070);l=md5_ii(l,o,n,m,p[g+11],10,-1120210379);m=md5_ii(m,l,o,n,p[g+2],15,718787259);n=md5_ii(n,m,l,o,p[g+9],21,-343485551);o=safe_add(o,j);n=safe_add(n,h);m=safe_add(m,f);l=safe_add(l,e)}return Array(o,n,m,l)}function md5_cmn(h,e,d,c,g,f){return safe_add(bit_rol(safe_add(safe_add(e,h),safe_add(c,f)),g),d)}function md5_ff(g,f,k,j,e,i,h){return md5_cmn(f&k|~f&j,g,f,e,i,h)}function md5_gg(g,f,k,j,e,i,h){return md5_cmn(f&j|k&~j,g,f,e,i,h)}function md5_hh(g,f,k,j,e,i,h){return md5_cmn(f^k^j,g,f,e,i,h)}function md5_ii(g,f,k,j,e,i,h){return md5_cmn(k^(f|~j),g,f,e,i,h)}function safe_add(a,d){var c=(a&65535)+(d&65535);var b=(a>>16)+(d>>16)+(c>>16);return b<<16|c&65535}function bit_rol(a,b){return a<<b|a>>>32-b}function str2binl(d){var c=new Array;var a=(1<<YN8F)-1;for(var b=0;b<d.length*YN8F;b+=YN8F){c[b>>5]|=(d.charCodeAt(b/YN8F)&a)<<b%32}return c}function binl2hex(c){var b=crB3x?"0123456789ABCDEF":"0123456789abcdef";var d="";for(var a=0;a<c.length*4;a++){d+=b.charAt(c[a>>2]>>a%4*8+4&15)+b.charAt(c[a>>2]>>a%4*8&15)}return d}function str_to_ent(e){var a="";var d;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);var b="";if(f>255){while(f>=1){b="0123456789".charAt(f%10)+b;f=f/10}if(b==""){b="0"}b="#"+b;b="&"+b;b=b+";";a+=b}else{a+=e.charAt(d)}}return a}function ntes_get_navigation_info(){bdG1x="-";bzH7A="-";bdH1x="-";var c=window.self,b=window.screen,a=window.navigator;if(c.screen){bdG1x=b.width+"x"+b.height;bzH7A=b.colorDepth+"-bit"}else{if(c.java){var e=java.awt.Toolkit.getDefaultToolkit();var f=e.getScreenSize();bdG1x=f.width+"x"+f.height}}if(a.language){bdH1x=a.language.toLowerCase()}else{if(a.browserLanguage){bdH1x=a.browserLanguage.toLowerCase()}}var g=new Date(document.lastModified);bRJ3x=g.getTime()/1e3}function fetch_visitor_hash(){var c=new Date;var b=document.body.clientWidth+":"+document.body.clientHeight;var a=str_to_ent(c.getTime()+Math.random()+document.location+document.referrer+screen.width+screen.height+navigator.userAgent+document.cookie+b);return ntes_hex_md5(a)}function cXc5h(c,b,f){var e=c+"_"+ +(new Date)+parseInt(Math.random()*100),a,d=f||crC3x;a=window[e]=new Image;a.onload=function(){window[e]=null;d()};a.onerror=function(){window[e]=null;d()};a.src=b;a=null}function neteaseTracker(l,a,m,k){if(is_spider()){return}var e=k||bQT3x;bzx7q=escape(a||document.location);bRv3x=escape(m||document.title);bRw3x=l===true?"":escape(l||document.referrer);bRL3x=ntes_get_flashver();var b=(new Date).getTime();if(bzN7G==null){document.cookie="__ntes__test__cookies="+b;bzN7G=ntes_get_cookie("__ntes__test__cookies")==b?true:false;document.cookie="__ntes__test__cookies="+b+"; expires="+(new Date("1970/01/01")).toUTCString()}if(e=="undefined"||!e){return}if(bzx7q.indexOf("http")!=0){return}var h=ntes_get_cookie("_ntes_nnid");if(h==-1){if(bzN7G){xS9J=fetch_visitor_hash();bQV3x=1;ntes_set_cookie_long("_ntes_nnid",xS9J+","+(new Date).getTime());ntes_set_cookie_long("_ntes_nuid",xS9J)}}else{var o=h.indexOf(",");var p=h.indexOf("|");var f=false;if(p==-1){p=h.length}xS9J=h.substr(0,o);Ih3x=h.substr(o+1,p-o-1);if(Ih3x==0){Ih3x=(new Date).getTime();f=true}if(!xS9J){xS9J=fetch_visitor_hash();f=true}if(f){ntes_set_cookie_long("_ntes_nnid",xS9J+","+Ih3x);ntes_set_cookie_long("_ntes_nuid",xS9J)}if(Ih3x!=0&&b-Ih3x>365*86400*1e3){Ih3x=0;ntes_set_cookie_long("_ntes_nnid",xS9J+","+(new Date).getTime());ntes_set_cookie_long("_ntes_nuid",xS9J)}}function c(q,i){var s=ntes_get_cookie(q),r=ntes_get_cookie(i);return s==-1?r==-1?"":r:s}NJ4N=c("P_INFO","P_OINFO");NJ4N=NJ4N?NJ4N.substr(0,NJ4N.indexOf("|")):"";bRk3x=c("S_INFO","S_OINFO")?1:0;ntes_get_navigation_info();var n=["_nacc=",e,"&_nvid=",xS9J,"&_nvtm=",csc3x,"&_nvsf=",bRb3x,"&_nvfi=",bQV3x,"&_nlag=",bdH1x,"&_nlmf=",bRJ3x,"&_nres=",bdG1x,"&_nscd=",bzH7A,"&_nstm=",bRk3x,"&_nurl=",bzx7q,"&_ntit=",bRv3x,"&_nref=",bRw3x,"&_nfla=",bRL3x,"&_nssn=",NJ4N,"&_nxkey=",(b+""+Math.random()).substring(6,20),"&_end1"].join("");bRb3x=0;neteaseTracker.callback=null}bQT3x="iad";neteaseTracker()})();
(function(){})();
var CryptoJS=CryptoJS||function(u,p){var d={},l=d.lib={},s=function(){},t=l.Base={extend:function(a){s.prototype=this;var c=new s;a&&c.mixIn(a);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},r=l.WordArray=t.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=p?c:4*a.length},toString:function(a){return(a||v).stringify(this)},concat:function(a){var c=this.words,e=a.words,j=this.sigBytes;a=a.sigBytes;this.clamp();if(j%4)for(var k=0;k<a;k++)c[j+k>>>2]|=(e[k>>>2]>>>24-8*(k%4)&255)<<24-8*((j+k)%4);else if(65535<e.length)for(k=0;k<a;k+=4)c[j+k>>>2]=e[k>>>2];else c.push.apply(c,e);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-8*(c%4);a.length=u.ceil(c/4)},clone:function(){var a=t.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],e=0;e<a;e+=4)c.push(4294967296*u.random()|0);return new r.init(c,a)}}),w=d.enc={},v=w.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++){var k=c[j>>>2]>>>24-8*(j%4)&255;e.push((k>>>4).toString(16));e.push((k&15).toString(16))}return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j+=2)e[j>>>3]|=parseInt(a.substr(j,2),16)<<24-4*(j%8);return new r.init(e,c/2)}},b=w.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++)e.push(String.fromCharCode(c[j>>>2]>>>24-8*(j%4)&255));return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j++)e[j>>>2]|=(a.charCodeAt(j)&255)<<24-8*(j%4);return new r.init(e,c)}},x=w.Utf8={stringify:function(a){try{return decodeURIComponent(escape(b.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data")}},parse:function(a){return b.parse(unescape(encodeURIComponent(a)))}},q=l.BufferedBlockAlgorithm=t.extend({reset:function(){this.i8a=new r.init;this.zw0x=0},Cd1x:function(a){"string"==typeof a&&(a=x.parse(a));this.i8a.concat(a);this.zw0x+=a.sigBytes},hP2x:function(a){var c=this.i8a,e=c.words,j=c.sigBytes,k=this.blockSize,b=j/(4*k),b=a?u.ceil(b):u.max((b|0)-this.YS9J,0);a=b*k;j=u.min(4*a,j);if(a){for(var q=0;q<a;q+=k)this.tl7e(e,q);q=e.splice(0,a);c.sigBytes-=j}return new r.init(q,j)},clone:function(){var a=t.clone.call(this);a.i8a=this.i8a.clone();return a},YS9J:0});l.Hasher=q.extend({cfg:t.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){q.reset.call(this);this.mv4z()},update:function(a){this.Cd1x(a);this.hP2x();return this},finalize:function(a){a&&this.Cd1x(a);return this.oz5E()},blockSize:16,nj4n:function(a){return function(b,e){return(new a.init(e)).finalize(b)}},zz0x:function(a){return function(b,e){return(new n.HMAC.init(a,e)).finalize(b)}}});var n=d.algo={};return d}(Math);(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this.bA9r;d.clamp();d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-8*(r%4)&255)<<16|(l[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|l[r+2>>>2]>>>24-8*((r+2)%4)&255,v=0;4>v&&r+.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join("")},parse:function(d){var l=d.length,s=this.bA9r,t=s.charAt(64);t&&(t=d.indexOf(t),-1!=t&&(l=t));for(var t=[],r=0,w=0;w<l;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<2*(w%4),b=s.indexOf(d.charAt(w))>>>6-2*(w%4);t[r>>>2]|=(v|b)<<24-8*(r%4);r++}return p.create(t,r)},bA9r:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(u){function p(b,n,a,c,e,j,k){b=b+(n&a|~n&c)+e+k;return(b<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n&c|a&~c)+e+k;return(b<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b<<j|b>>>32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({mv4z:function(){this.co0x=new w.init([1732584193,4023233417,2562383102,271733878])},tl7e:function(q,n){for(var a=0;16>a;a++){var c=n+a,e=q[c];q[c]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360}var a=this.co0x.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),f=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,m,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,E,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},oz5E:function(){var b=this.i8a,n=b.words,a=8*this.zw0x,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a/4294967296);n[(c+64>>>9<<4)+15]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;n[(c+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;b.sigBytes=4*(n.length+1);this.hP2x();b=this.co0x;n=b.words;for(a=0;4>a;a++)c=n[a],n[a]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360;return b},clone:function(){var b=v.clone.call(this);b.co0x=this.co0x.clone();return b}});t.MD5=v.nj4n(r);t.HmacMD5=v.zz0x(r)})(Math);(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,l)}})();CryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this.HX3x,e,a)},createDecryptor:function(e,a){return this.create(this.bzR7K,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this.YU9L=e;this.K9B=a;this.reset()},reset:function(){t.reset.call(this);this.mv4z()},process:function(e){this.Cd1x(e);return this.hP2x()},finalize:function(e){e&&this.Cd1x(e);return this.oz5E()},keySize:4,ivSize:4,HX3x:1,bzR7K:2,nj4n:function(e){return{encrypt:function(b,k,d){return("string"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return("string"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({oz5E:function(){return this.hP2x(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this.tn7g;c?this.tn7g=u:c=this.EG1x;for(var d=0;d<b;d++)e[a+d]^=c[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this.je3x=e;this.tn7g=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this.je3x,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this.EG1x=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this.je3x,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,e,a,c);this.EG1x=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this.YU9L==this.HX3x)var c=a.createEncryptor;else c=a.createDecryptor,this.YS9J=1;this.ep1x=c.call(a,this,b&&b.words)},tl7e:function(a,b){this.ep1x.processBlock(a,b)},oz5E:function(){var a=this.cfg.padding;if(this.YU9L==this.HX3x){a.pad(this.i8a,this.blockSize);var b=this.hP2x(!0)}else b=this.hP2x(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this.LV4Z(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},LV4Z:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,b.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this.LV4Z(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k=j^j<<1^j<<2^j<<3^j<<4,k=k>>>8^k&255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8;r[e]=y<<16|y>>>16;w[e]=y<<8|y>>>24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y<<24|y>>>8;x[k]=y<<16|y>>>16;q[k]=y<<8|y>>>24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,16,32,64,128,27,54],d=d.AES=p.extend({mv4z:function(){for(var a=this.K9B,c=a.words,d=a.sigBytes/4,a=4*((this.HH2x=d+6)+1),e=this.NN4R=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255]):(k=k<<8|k>>>24,k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[k&255],k^=H[j/d|0]<<24);e[j]=e[j-d]^k}c=this.NP4T=[];for(d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>8&255]]^n[l[k&255]]},encryptBlock:function(a,b){this.Ez1x(a,b,this.NN4R,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this.Ez1x(a,c,this.NP4T,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},Ez1x:function(a,b,c,d,e,j,l,f){for(var m=this.HH2x,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[n&255]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[g&255]^c[p++],t=d[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[h&255]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[k&255]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[n&255])^c[p++];s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[g&255])^c[p++];t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[h&255])^c[p++];n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[k&255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p.nj4n(d)})();
function RSAKeyPair(a,b,c){this.e=biFromHex(a),this.d=biFromHex(b),this.m=biFromHex(c),this.chunkSize=2*biHighIndex(this.m),this.radix=16,this.barrett=new BarrettMu(this.m)}function twoDigit(a){return(10>a?"0":"")+String(a)}function encryptedString(a,b){for(var f,g,h,i,j,k,l,c=new Array,d=b.length,e=0;d>e;)c[e]=b.charCodeAt(e),e++;for(;0!=c.length%a.chunkSize;)c[e++]=0;for(f=c.length,g="",e=0;f>e;e+=a.chunkSize){for(j=new BigInt,h=0,i=e;i<e+a.chunkSize;++h)j.digits[h]=c[i++],j.digits[h]+=c[i++]<<8;k=a.barrett.powMod(j,a.e),l=16==a.radix?biToHex(k):biToString(k,a.radix),g+=l+" "}return g.substring(0,g.length-1)}function decryptedString(a,b){var e,f,g,h,c=b.split(" "),d="";for(e=0;e<c.length;++e)for(h=16==a.radix?biFromHex(c[e]):biFromString(c[e],a.radix),g=a.barrett.powMod(h,a.d),f=0;f<=biHighIndex(g);++f)d+=String.fromCharCode(255&g.digits[f],g.digits[f]>>8);return 0==d.charCodeAt(d.length-1)&&(d=d.substring(0,d.length-1)),d}function setMaxDigits(a){maxDigits=a,ZERO_ARRAY=new Array(maxDigits);for(var b=0;b<ZERO_ARRAY.length;b++)ZERO_ARRAY[b]=0;bigZero=new BigInt,bigOne=new BigInt,bigOne.digits[0]=1}function BigInt(a){this.digits="boolean"==typeof a&&1==a?null:ZERO_ARRAY.slice(0),this.isNeg=!1}function biFromDecimal(a){for(var d,e,f,b="-"==a.charAt(0),c=b?1:0;c<a.length&&"0"==a.charAt(c);)++c;if(c==a.length)d=new BigInt;else{for(e=a.length-c,f=e%dpl10,0==f&&(f=dpl10),d=biFromNumber(Number(a.substr(c,f))),c+=f;c<a.length;)d=biAdd(biMultiply(d,lr10),biFromNumber(Number(a.substr(c,dpl10)))),c+=dpl10;d.isNeg=b}return d}function biCopy(a){var b=new BigInt(!0);return b.digits=a.digits.slice(0),b.isNeg=a.isNeg,b}function biFromNumber(a){var c,b=new BigInt;for(b.isNeg=0>a,a=Math.abs(a),c=0;a>0;)b.digits[c++]=a&maxDigitVal,a>>=biRadixBits;return b}function reverseStr(a){var c,b="";for(c=a.length-1;c>-1;--c)b+=a.charAt(c);return b}function biToString(a,b){var d,e,c=new BigInt;for(c.digits[0]=b,d=biDivideModulo(a,c),e=hexatrigesimalToChar[d[1].digits[0]];1==biCompare(d[0],bigZero);)d=biDivideModulo(d[0],c),digit=d[1].digits[0],e+=hexatrigesimalToChar[d[1].digits[0]];return(a.isNeg?"-":"")+reverseStr(e)}function biToDecimal(a){var c,d,b=new BigInt;for(b.digits[0]=10,c=biDivideModulo(a,b),d=String(c[1].digits[0]);1==biCompare(c[0],bigZero);)c=biDivideModulo(c[0],b),d+=String(c[1].digits[0]);return(a.isNeg?"-":"")+reverseStr(d)}function digitToHex(a){var b=15,c="";for(i=0;4>i;++i)c+=hexToChar[a&b],a>>>=4;return reverseStr(c)}function biToHex(a){var d,b="";for(biHighIndex(a),d=biHighIndex(a);d>-1;--d)b+=digitToHex(a.digits[d]);return b}function charToHex(a){var h,b=48,c=b+9,d=97,e=d+25,f=65,g=90;return h=a>=b&&c>=a?a-b:a>=f&&g>=a?10+a-f:a>=d&&e>=a?10+a-d:0}function hexToDigit(a){var d,b=0,c=Math.min(a.length,4);for(d=0;c>d;++d)b<<=4,b|=charToHex(a.charCodeAt(d));return b}function biFromHex(a){var d,e,b=new BigInt,c=a.length;for(d=c,e=0;d>0;d-=4,++e)b.digits[e]=hexToDigit(a.substr(Math.max(d-4,0),Math.min(d,4)));return b}function biFromString(a,b){var g,h,i,j,c="-"==a.charAt(0),d=c?1:0,e=new BigInt,f=new BigInt;for(f.digits[0]=1,g=a.length-1;g>=d;g--)h=a.charCodeAt(g),i=charToHex(h),j=biMultiplyDigit(f,i),e=biAdd(e,j),f=biMultiplyDigit(f,b);return e.isNeg=c,e}function biDump(a){return(a.isNeg?"-":"")+a.digits.join(" ")}function biAdd(a,b){var c,d,e,f;if(a.isNeg!=b.isNeg)b.isNeg=!b.isNeg,c=biSubtract(a,b),b.isNeg=!b.isNeg;else{for(c=new BigInt,d=0,f=0;f<a.digits.length;++f)e=a.digits[f]+b.digits[f]+d,c.digits[f]=65535&e,d=Number(e>=biRadix);c.isNeg=a.isNeg}return c}function biSubtract(a,b){var c,d,e,f;if(a.isNeg!=b.isNeg)b.isNeg=!b.isNeg,c=biAdd(a,b),b.isNeg=!b.isNeg;else{for(c=new BigInt,e=0,f=0;f<a.digits.length;++f)d=a.digits[f]-b.digits[f]+e,c.digits[f]=65535&d,c.digits[f]<0&&(c.digits[f]+=biRadix),e=0-Number(0>d);if(-1==e){for(e=0,f=0;f<a.digits.length;++f)d=0-c.digits[f]+e,c.digits[f]=65535&d,c.digits[f]<0&&(c.digits[f]+=biRadix),e=0-Number(0>d);c.isNeg=!a.isNeg}else c.isNeg=a.isNeg}return c}function biHighIndex(a){for(var b=a.digits.length-1;b>0&&0==a.digits[b];)--b;return b}function biNumBits(a){var e,b=biHighIndex(a),c=a.digits[b],d=(b+1)*bitsPerDigit;for(e=d;e>d-bitsPerDigit&&0==(32768&c);--e)c<<=1;return e}function biMultiply(a,b){var d,h,i,k,c=new BigInt,e=biHighIndex(a),f=biHighIndex(b);for(k=0;f>=k;++k){for(d=0,i=k,j=0;e>=j;++j,++i)h=c.digits[i]+a.digits[j]*b.digits[k]+d,c.digits[i]=h&maxDigitVal,d=h>>>biRadixBits;c.digits[k+e+1]=d}return c.isNeg=a.isNeg!=b.isNeg,c}function biMultiplyDigit(a,b){var c,d,e,f;for(result=new BigInt,c=biHighIndex(a),d=0,f=0;c>=f;++f)e=result.digits[f]+a.digits[f]*b+d,result.digits[f]=e&maxDigitVal,d=e>>>biRadixBits;return result.digits[1+c]=d,result}function arrayCopy(a,b,c,d,e){var g,h,f=Math.min(b+e,a.length);for(g=b,h=d;f>g;++g,++h)c[h]=a[g]}function biShiftLeft(a,b){var e,f,g,h,c=Math.floor(b/bitsPerDigit),d=new BigInt;for(arrayCopy(a.digits,0,d.digits,c,d.digits.length-c),e=b%bitsPerDigit,f=bitsPerDigit-e,g=d.digits.length-1,h=g-1;g>0;--g,--h)d.digits[g]=d.digits[g]<<e&maxDigitVal|(d.digits[h]&highBitMasks[e])>>>f;return d.digits[0]=d.digits[g]<<e&maxDigitVal,d.isNeg=a.isNeg,d}function biShiftRight(a,b){var e,f,g,h,c=Math.floor(b/bitsPerDigit),d=new BigInt;for(arrayCopy(a.digits,c,d.digits,0,a.digits.length-c),e=b%bitsPerDigit,f=bitsPerDigit-e,g=0,h=g+1;g<d.digits.length-1;++g,++h)d.digits[g]=d.digits[g]>>>e|(d.digits[h]&lowBitMasks[e])<<f;return d.digits[d.digits.length-1]>>>=e,d.isNeg=a.isNeg,d}function biMultiplyByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,0,c.digits,b,c.digits.length-b),c}function biDivideByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,b,c.digits,0,c.digits.length-b),c}function biModuloByRadixPower(a,b){var c=new BigInt;return arrayCopy(a.digits,0,c.digits,0,b),c}function biCompare(a,b){if(a.isNeg!=b.isNeg)return 1-2*Number(a.isNeg);for(var c=a.digits.length-1;c>=0;--c)if(a.digits[c]!=b.digits[c])return a.isNeg?1-2*Number(a.digits[c]>b.digits[c]):1-2*Number(a.digits[c]<b.digits[c]);return 0}function biDivideModulo(a,b){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,c=biNumBits(a),d=biNumBits(b),e=b.isNeg;if(d>c)return a.isNeg?(f=biCopy(bigOne),f.isNeg=!b.isNeg,a.isNeg=!1,b.isNeg=!1,g=biSubtract(b,a),a.isNeg=!0,b.isNeg=e):(f=new BigInt,g=biCopy(a)),new Array(f,g);for(f=new BigInt,g=a,h=Math.ceil(d/bitsPerDigit)-1,i=0;b.digits[h]<biHalfRadix;)b=biShiftLeft(b,1),++i,++d,h=Math.ceil(d/bitsPerDigit)-1;for(g=biShiftLeft(g,i),c+=i,j=Math.ceil(c/bitsPerDigit)-1,k=biMultiplyByRadixPower(b,j-h);-1!=biCompare(g,k);)++f.digits[j-h],g=biSubtract(g,k);for(l=j;l>h;--l){for(m=l>=g.digits.length?0:g.digits[l],n=l-1>=g.digits.length?0:g.digits[l-1],o=l-2>=g.digits.length?0:g.digits[l-2],p=h>=b.digits.length?0:b.digits[h],q=h-1>=b.digits.length?0:b.digits[h-1],f.digits[l-h-1]=m==p?maxDigitVal:Math.floor((m*biRadix+n)/p),r=f.digits[l-h-1]*(p*biRadix+q),s=m*biRadixSquared+(n*biRadix+o);r>s;)--f.digits[l-h-1],r=f.digits[l-h-1]*(p*biRadix|q),s=m*biRadix*biRadix+(n*biRadix+o);k=biMultiplyByRadixPower(b,l-h-1),g=biSubtract(g,biMultiplyDigit(k,f.digits[l-h-1])),g.isNeg&&(g=biAdd(g,k),--f.digits[l-h-1])}return g=biShiftRight(g,i),f.isNeg=a.isNeg!=e,a.isNeg&&(f=e?biAdd(f,bigOne):biSubtract(f,bigOne),b=biShiftRight(b,i),g=biSubtract(b,g)),0==g.digits[0]&&0==biHighIndex(g)&&(g.isNeg=!1),new Array(f,g)}function biDivide(a,b){return biDivideModulo(a,b)[0]}function biModulo(a,b){return biDivideModulo(a,b)[1]}function biMultiplyMod(a,b,c){return biModulo(biMultiply(a,b),c)}function biPow(a,b){for(var c=bigOne,d=a;;){if(0!=(1&b)&&(c=biMultiply(c,d)),b>>=1,0==b)break;d=biMultiply(d,d)}return c}function biPowMod(a,b,c){for(var d=bigOne,e=a,f=b;;){if(0!=(1&f.digits[0])&&(d=biMultiplyMod(d,e,c)),f=biShiftRight(f,1),0==f.digits[0]&&0==biHighIndex(f))break;e=biMultiplyMod(e,e,c)}return d}function BarrettMu(a){this.modulus=biCopy(a),this.k=biHighIndex(this.modulus)+1;var b=new BigInt;b.digits[2*this.k]=1,this.mu=biDivide(b,this.modulus),this.bkplus1=new BigInt,this.bkplus1.digits[this.k+1]=1,this.modulo=BarrettMu_modulo,this.multiplyMod=BarrettMu_multiplyMod,this.powMod=BarrettMu_powMod}function BarrettMu_modulo(a){var i,b=biDivideByRadixPower(a,this.k-1),c=biMultiply(b,this.mu),d=biDivideByRadixPower(c,this.k+1),e=biModuloByRadixPower(a,this.k+1),f=biMultiply(d,this.modulus),g=biModuloByRadixPower(f,this.k+1),h=biSubtract(e,g);for(h.isNeg&&(h=biAdd(h,this.bkplus1)),i=biCompare(h,this.modulus)>=0;i;)h=biSubtract(h,this.modulus),i=biCompare(h,this.modulus)>=0;return h}function BarrettMu_multiplyMod(a,b){var c=biMultiply(a,b);return this.modulo(c)}function BarrettMu_powMod(a,b){var d,e,c=new BigInt;for(c.digits[0]=1,d=a,e=b;;){if(0!=(1&e.digits[0])&&(c=this.multiplyMod(c,d)),e=biShiftRight(e,1),0==e.digits[0]&&0==biHighIndex(e))break;d=this.multiplyMod(d,d)}return c}var maxDigits,ZERO_ARRAY,bigZero,bigOne,dpl10,lr10,hexatrigesimalToChar,hexToChar,highBitMasks,lowBitMasks,biRadixBase=2,biRadixBits=16,bitsPerDigit=biRadixBits,biRadix=65536,biHalfRadix=biRadix>>>1,biRadixSquared=biRadix*biRadix,maxDigitVal=biRadix-1,maxInteger=9999999999999998;setMaxDigits(20),dpl10=15,lr10=biFromNumber(1e15),hexatrigesimalToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"),hexToChar=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),highBitMasks=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535),lowBitMasks=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535);
!function(){function a(a){var d,e,b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",c="";for(d=0;a>d;d+=1)e=Math.random()*b.length,e=Math.floor(e),c+=b.charAt(e);return c}function b(a,b){var c=CryptoJS.enc.Utf8.parse(b),d=CryptoJS.enc.Utf8.parse("0102030405060708"),e=CryptoJS.enc.Utf8.parse(a),f=CryptoJS.AES.encrypt(e,c,{iv:d,mode:CryptoJS.mode.CBC});return f.toString()}function c(a,b,c){var d,e;return setMaxDigits(131),d=new RSAKeyPair(b,"",c),e=encryptedString(d,a)}function d(d,e,f,g){var h={},i=a(16);return h.encText=b(d,g),h.encText=b(h.encText,i),h.encSecKey=c(i,e,f),h}function e(a,b,d,e){var f={};return f.encText=c(a+e,b,d),f}window.asrsea=d,window.ecnonasr=e}();
(function(){var c8g=NEJ.P,ec1x=c8g("nej.g"),v9m=c8g("nej.j"),k8c=c8g("nej.u"),ZM9D=c8g("nm.x.ek");ZM9D.emj={"色":"00e0b","流感":"509f6","这边":"259df","弱":"8642d","嘴唇":"bc356","亲":"62901","开心":"477df","呲牙":"22677","憨笑":"ec152","猫":"b5ff6","皱眉":"8ace6","幽灵":"15bb7","蛋糕":"b7251","发怒":"52b3a","大哭":"b17a8","兔子":"76aea","星星":"8a5aa","钟情":"76d2e","牵手":"41762","公鸡":"9ec4e","爱意":"e341f","禁止":"56135","狗":"fccf6","亲亲":"95280","叉":"104e0","礼物":"312ec","晕":"bda92","呆":"557c9","生病":"38701","钻石":"14af6","拜":"c9d05","怒":"c4f7f","示爱":"0c368","汗":"5b7a4","小鸡":"6bee2","痛苦":"55932","撇嘴":"575cc","惶恐":"e10b4","口罩":"24d81","吐舌":"3cfe4","心碎":"875d3","生气":"e8204","可爱":"7b97d","鬼脸":"def52","跳舞":"741d5","男孩":"46b8e","奸笑":"289dc","猪":"6935b","圈":"3ece0","便便":"462db","外星":"0a22b","圣诞":"8e7","流泪":"01000","强":"1","爱心":"0CoJU","女孩":"m6Qyw","惊恐":"8W8ju","大笑":"d"};ZM9D.md=["色","流感","这边","弱","嘴唇","亲","开心","呲牙","憨笑","猫","皱眉","幽灵","蛋糕","发怒","大哭","兔子","星星","钟情","牵手","公鸡","爱意","禁止","狗","亲亲","叉","礼物","晕","呆","生病","钻石","拜","怒","示爱","汗","小鸡","痛苦","撇嘴","惶恐","口罩","吐舌","心碎","生气","可爱","鬼脸","跳舞","男孩","奸笑","猪","圈","便便","外星","圣诞"]})();
(function(){var c8g=NEJ.P,ec1x=c8g("nej.g"),v9m=c8g("nej.j"),k8c=c8g("nej.u"),ZM9D=c8g("nm.x.ek"),l8d=c8g("nm.x");if(v9m.bm9d.redefine)return;window.GEnc=true;var bzX7Q=function(crk3x){var m8e=[];k8c.bf9W(crk3x,function(crj3x){m8e.push(ZM9D.emj[crj3x])});return m8e.join("")};var crh3x=v9m.bm9d;v9m.bm9d=function(Z9Q,e8e){var i8a={},e8e=NEJ.X({},e8e),mH4L=Z9Q.indexOf("?");if(window.GEnc&&/(^|\.com)\/api/.test(Z9Q)&&!(e8e.headers&&e8e.headers[ec1x.AJ0x]==ec1x.HJ2x)&&!e8e.noEnc){if(mH4L!=-1){i8a=k8c.hb2x(Z9Q.substring(mH4L+1));Z9Q=Z9Q.substring(0,mH4L)}if(e8e.query){i8a=NEJ.X(i8a,k8c.fX2x(e8e.query)?k8c.hb2x(e8e.query):e8e.query)}if(e8e.data){i8a=NEJ.X(i8a,k8c.fX2x(e8e.data)?k8c.hb2x(e8e.data):e8e.data)}i8a["csrf_token"]=v9m.gX2x("__csrf");Z9Q=Z9Q.replace("api","weapi");e8e.method="post";delete e8e.query;var bSt4x=window.asrsea(JSON.stringify(i8a),bzX7Q(["流泪","强"]),bzX7Q(ZM9D.md),bzX7Q(["爱心","女孩","惊恐","大笑"]));e8e.data=k8c.cJ0x({params:bSt4x.encText,encSecKey:bSt4x.encSecKey})}crh3x(Z9Q,e8e)};v9m.bm9d.redefine=true})();
(function(){window.setTimeout(function(){if(!location.href.match(/^https?:\/\/([a-zA-Z0-9\-]+?\.)*?music\.163\.com($|\/)/gi))return;var getNode=function(tagName,attrName,attrValue){if(!tagName||!attrName||!attrValue)return null;var nodes=document.getElementsByTagName(tagName);if(nodes&&nodes.length){for(var i=0,ii=nodes.length;i<ii;i++){if((nodes[i][attrName]||"").toLowerCase()==attrValue.toLowerCase()){return nodes[i]}}}return null};var meta=getNode("meta","name","robots");if(meta&&(meta.content||"").toLowerCase()=="nofollow")return;var canonicalURL,curProtocol;var link=getNode("link","rel","canonical");if(link&&link.href)canonicalURL=link.href;if(!canonicalURL){curProtocol=location.protocol.split(":")[0]}else{curProtocol=canonicalURL.split(":")[0]}if(!canonicalURL)canonicalURL=location.href;var pushHref=String(curProtocol).toLowerCase()==="https"?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";var params=[];if(document.referrer){params.push("r="+encodeURIComponent(document.referrer))}params.push("l="+encodeURIComponent(canonicalURL));(new Image).src=pushHref+"?"+params.join("&")},3e3)})();
(function(){})();
(function(){})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),cA0x=c8g("nej.p"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),v9m=c8g("nej.j"),dM1x=c8g("nm.u"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),n8f=c8g("nm.l"),cB0x=c8g("nm.pc"),bAf7Y="http://s1.music.126.net/style/web2/emt/emoji_{ID}.png",i8a={"大笑":"86","可爱":"85","憨笑":"359","色":"95","亲亲":"363","惊恐":"96","流泪":"356","亲":"362","呆":"352","哀伤":"342","呲牙":"343","吐舌":"348","撇嘴":"353","怒":"361","奸笑":"341","汗":"97","痛苦":"346","惶恐":"354","生病":"350","口罩":"351","大哭":"357","晕":"355","发怒":"115","开心":"360","鬼脸":"94","皱眉":"87","流感":"358","爱心":"33","心碎":"34","钟情":"303","星星":"309","生气":"314","便便":"89","强":"13","弱":"372","拜":"14","牵手":"379","跳舞":"380","禁止":"374","这边":"262","爱意":"106","示爱":"376","嘴唇":"367","狗":"81","猫":"78","猪":"100","兔子":"459","小鸡":"450","公鸡":"461","幽灵":"116","圣诞":"411","外星":"101","钻石":"52","礼物":"107","男孩":"0","女孩":"1","蛋糕":"337",18:"186","圈":"312","叉":"313"},cqQ3x=function(){if(h8b&&h8b.z9q){h8b.dispatchEventalias=h8b.z9q}};cqQ3x();l8d.bAj7c=function(bR0x){if(!bR0x||bR0x.copyrightId===undefined||!!bR0x.program)return false;if(window.GAbroad){bR0x.fee=0;return true}if(bR0x.status<0)return true;var RP6J;if(typeof GCopyrights!=="undefined")RP6J=GCopyrights;try{if(!RP6J&&!!top.GCopyrights)RP6J=top.GCopyrights}catch(e){}if(RP6J){var r8j=k8c.dw1x(RP6J,bR0x.copyrightId);if(r8j>=0)return true}return false};l8d.bAm7f=function(){var Ed1x=/^\/m\/(song|album|artist|playlist|dj|search)\?/,zq0x={2:"artist",13:"playlist",17:"dj",19:"album",18:"song",31:"toplist",32:"searchsong",33:"searchlyric",34:"event",70:"djradio",24:"day",50:"record"},cqI3x={song:"单曲",album:"专辑",artist:"歌手",playlist:"歌单",dj:"电台节目",searchsong:"单曲搜索",searchlyric:"歌词搜索",toplist:"榜单",event:"动态",djradio:"电台",day:"每日歌曲推荐",record:"听歌排行榜"};var cqH3x=function(K9B,i8a,DW1x){switch(K9B){case"event":i8a=i8a.split("|");return"/event?id="+i8a[0]+"&uid="+i8a[1];case"searchsong":case"searchlyric":var t8l=K9B=="searchsong"?1:1006;return"/search/m/?s="+encodeURIComponent(i8a)+"&type="+t8l;case"toplist":return"/discover/toplist?id="+i8a+"&_hash=songlist-"+DW1x;case"day":return"/discover/recommend/taste"+"?_hash=songlist-"+DW1x;;case"record":i8a=i8a.split("|");return"/user/songs/rank?id="+i8a[0]+"&cat="+i8a[1];break;default:return"/"+K9B+"?id="+i8a+"&_hash=songlist-"+DW1x}};return function(em1x,DW1x){if(!em1x)return null;var Mo4s=em1x.fid||(em1x.type!=18?em1x.type:null),bAp7i=em1x.fdata||em1x.rid,bTj4n=em1x.page||em1x.fhref;var K9B=zq0x[Mo4s];if(!K9B){var CF1x=(bTj4n||"").match(Ed1x);if(CF1x)K9B=CF1x[1]}if(!K9B)return null;return{title:cqI3x[K9B],link:!zq0x[Mo4s]?bTj4n:cqH3x(K9B,bAp7i,DW1x),fid:Mo4s,fdata:bAp7i}}}();l8d.bgW1x=function(lb3x){var dA1x=lb3x;if(typeof GUser!=="undefined"&&GUser.userId>0)dA1x=GUser;return dA1x};l8d.hv2x=function(){if(typeof GUser!=="undefined"&&GUser.userId>0){return true}else{top.login();return false}};l8d.Ov5A=function(){var Ed1x=/#(.*?)$/;return function(gY2x){var kp3x=gY2x===false?location:top.location;return Ed1x.test(kp3x.href)?RegExp.$1:""}}();l8d.DM1x=function(){var DL1x=a7h.dt1x("audio"),cqv3x=DL1x.canPlayType&&DL1x.canPlayType("audio/mpeg");if(cqv3x)return 2;var cqt3x=l8d.bAx7q().supported;if(cqt3x)return 1;return 0};l8d.bAx7q=function(){var gR2x,bAE7x=!1,bAF7y="";if(cA0x.dC1x.browser=="ie"){try{gR2x=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){gR2x=null}if(gR2x){bAE7x=!0;bAF7y=gR2x.GetVariable("$version")}}else{if(navigator.plugins&&navigator.plugins.length>0){gR2x=navigator.plugins["Shockwave Flash"];if(gR2x){bAE7x=!0;bAF7y=gR2x.description}}}return{supported:bAE7x,version:bAF7y}};l8d.sS6M=function(){return"网易云音乐"};l8d.cqe2x=function(){return i8a};l8d.bTO4S=function(cM0x){var D9u=i8a[cM0x];return D9u==null?"":bAf7Y.replace("{ID}",D9u)};l8d.yL0x=function(bt9k,es1x,DI1x){if(!bt9k)return"";if(!!DI1x){bt9k=l8d.cqc2x(bt9k)}return l8d.bhP2x(l8d.cqb2x(bt9k,es1x))};l8d.bhW2x=function(){var Xu8m={AT:/(@([\u4e00-\u9fa5A-Za-z0-9-_]{2,})((?=[ :@：])|$))/g,LINK:/(@([\u4e00-\u9fa5A-Za-z0-9-_]{2,})((?=[ :@：])|$))|((http[s]{0,1}):\/\/[\-a-zA-Z0-9\.]+(:(6553[0-5]|655[0-2][0-9]|65[0-4][0-9][0-9]|6[0-4][0-9][0-9][0-9]|\\d{2,4}|[1-9]))?(\/[a-zA-Z0-9\\\.\-~!@#$%\^&\*\+\?:_\/=<>]*)?)/g,ACT_NOLINK:/(@([\u4e00-\u9fa5A-Za-z0-9-_]{2,})((?=[ :@：])|$))|(#[^\[\]\/\\\#\r\n]+?#)/g,ACT:/(@([\u4e00-\u9fa5A-Za-z0-9-_]{2,})((?=[ :@：])|$))|((http[s]{0,1}):\/\/[\-a-zA-Z0-9\.]+(:(6553[0-5]|655[0-2][0-9]|65[0-4][0-9][0-9]|6[0-4][0-9][0-9][0-9]|\\d{2,4}|[1-9]))?(\/[a-zA-Z0-9\\\.\-~!@#$%\^&\*\+\?:_\/=<>]*)?)|(#[^\[\]\/\\\#\r\n]+?#)/g,LING:/\n/g,BLANK:/\s/g,MLINE:/([ \f\r\t\v]*\n){2,}/g},bAH7A={LINK:'<a href="${url}" class="${klass}">${value}</a>',AT:'<a href="${url}" class="${klass}">@${value}</a>',ACT:'<a href="javascript:;" class="${klass}" data-title="${value}" data-action="activity">${value}</a>'},cpW2x={r:/\<|\>|\&lt;|\&gt;|\&|\'|\"/g,"<":"&lt;",">":"&gt;","&":"&amp;"," ":"&nbsp;",'"':"&quot;","'":"&#39;","&lt;":"&lt;","&gt;":"&gt;"},cpQ2x=["AT","LINK","ACT_NOLINK","ACT"];var cpO2x=function(dV1x,bAL7E){dV1x=OK5P(dV1x);if(!!bAL7E){dV1x=dV1x.replace(Xu8m.MLINE,"\n\n").replace(Xu8m.LING,"</br>")}dV1x=l8d.bhP2x(dV1x);return dV1x};var OK5P=function(bt9k){return k8c.EH2x(cpW2x,bt9k)};return function(dV1x,e8e,dN1x){e8e=e8e||{};dN1x=dN1x||{};dN1x.actHash={};var cpH2x=!!e8e.parseLink,cpG2x=!!e8e.parseAct,cpF2x=e8e.linkTpl||bAH7A.LINK,cpE2x=e8e.atTpl||bAH7A.AT,cpz2x=e8e.atUrl||"/user/home?nickname=",cpy2x=e8e.actTpl||bAH7A.ACT,bAL7E=!!e8e.keepSpace,bAS7L=e8e.linkKlass||"s-fc7";cXq5v=e8e.actBiJson||"";if(!dV1x)return"";dV1x=dV1x.trim().replace(/&amp;/g,"&").replace(/&nbsp;/g," ");var mA4E=cpQ2x[cpH2x+2*cpG2x],ds1x=Xu8m[mA4E],bv9m=null,kQ3x=null,gG2x=0,cXs5x="",cXt5y="";var rL6F=[];ds1x.lastIndex=0;while(bv9m=ds1x.exec(dV1x)){var ed1x={html:"",before:bv9m.index-1,after:bv9m.index+bv9m[0].length};if(bv9m[1]){var kQ3x=bv9m[2].replace(/[^\x00-\xff]/g,"**");if(kQ3x.length<4||kQ3x.length>32){}else{var Kb3x=a7h.eK1x(cpE2x);ed1x.html=a7h.cg0x(Kb3x,{value:OK5P(bv9m[2]),url:encodeURI(cpz2x+bv9m[2]),klass:bAS7L});rL6F.push(ed1x)}}else if(bv9m.length>8&&bv9m[4]){var Kb3x=a7h.eK1x(cpF2x);ed1x.html=a7h.cg0x(Kb3x,{value:OK5P(bv9m[4]),url:bv9m[4],klass:bAS7L});rL6F.push(ed1x)}else{var bUt4x=mA4E=="ACT_NOLINK"?4:9;var Kb3x=a7h.eK1x(cpy2x);ed1x.html=a7h.cg0x(Kb3x,{value:OK5P(bv9m[bUt4x]),klass:bAS7L});rL6F.push(ed1x);dN1x.actHash[bv9m[bUt4x].slice(1,-1)]=true}}var bAU7N=rL6F.length,lb3x={before:dV1x.length-1,after:0},bAV7O="";for(var i=0;i<=bAU7N;i++){var eT1x,du1x;eT1x=(rL6F[i-1]||lb3x).after;du1x=(rL6F[i]||lb3x).before;if(du1x>=eT1x&&eT1x>=0&&du1x<=dV1x.length-1){bAV7O+=cpO2x(dV1x.substring(eT1x,du1x+1),bAL7E)}if(rL6F[i]){bAV7O+=rL6F[i].html}}return bAV7O}}();l8d.cqc2x=function(){var ds1x=new RegExp("(http[s]{0,1})://[-a-zA-Z0-9.]+(:(6553[0-5]|655[0-2][0-9]|65[0-4][0-9][0-9]|6[0-4][0-9][0-9][0-9]|\\d{2,4}|[1-9]))?(/[a-zA-Z0-9\\.\\-~!@#$%^&*+?:_/=<>]*)?","g");return function(bt9k){return(bt9k||"").replace(/&amp;/g,"&").replace(/&nbsp;/g," ").replace(ds1x,function($0,$1){return"<a href="+$0+' class="link u-link"><i class="u-dicn u-dicn-28"></i>网页链接</a>'})}}();l8d.cqb2x=function(){var ds1x=/@([a-zA-Z0-9_\-\u4E00-\u9FA5]+)/g;var eM1x=function(kQ3x,es1x){return'<a href="/user/home?nickname='+encodeURIComponent(kQ3x)+'" class="'+(es1x||"")+'">@'+kQ3x+"</a>"};return function(bt9k,es1x){return(bt9k||"").replace(ds1x,function($0,$1){return eM1x($1,es1x)})}}();l8d.bhP2x=function(){var ds1x=/\[(.*?)\]/g;return function(bt9k){return(bt9k||"").replace(ds1x,function($1,$2){var Z9Q=l8d.bTO4S($2);return!Z9Q?$1:'<img src="'+Z9Q+'"/>'})}}();l8d.Fh2x=function(H9y,es1x){a7h.bG9x(H9y,es1x)?a7h.y9p(H9y,es1x):a7h.w9n(H9y,es1x)};l8d.OZ5e=function(cN0x,lN4R){cN0x=a7h.B9s(cN0x);lN4R=a7h.B9s(lN4R);if(!cN0x||!lN4R)return!1;for(lN4R=lN4R.parentNode;!!lN4R&&lN4R!=cN0x;lN4R=lN4R.parentNode);return lN4R==cN0x};l8d.mh4l=function(){var bUJ5O=function(hF2x){return(hF2x<10?"0":"")+hF2x};return function(hD2x){hD2x=parseInt(hD2x)||0;if(!hD2x)return"00:00";var Dn1x=Math.floor(hD2x%60),coL2x=Math.floor(hD2x/60);return bUJ5O(coL2x)+":"+bUJ5O(Dn1x)}}();l8d.Dm1x=function(go2x,zA0x){if(!go2x||go2x.length==0)return"";zA0x=zA0x||"/";var bv9m=[];for(var i=go2x.length-1;i>=0;i--){bv9m.unshift(go2x[i].name)}return bv9m.join(zA0x)};l8d.tF7y=function(){var UU7N=function(iN3x,es1x,cN0x,bjS2x){var eM1x=bjS2x?l8d.bBg7Z:k8c.dP1x;if(!iN3x||!iN3x.name)return"";if(!iN3x.id)return'<span class="'+es1x+'">'+eM1x(iN3x.name)+"</span>";return"<a"+(cN0x?' target="_blank"':"")+' class="'+es1x+'" href="/artist?id='+iN3x.id+'" hidefocus="true">'+eM1x(iN3x.name)+"</a>"};return function(go2x,Y9P,zA0x,cN0x,bUU5Z,bjS2x){if(!go2x||!go2x.length)return"";zA0x=zA0x||"/";Y9P=Y9P||"";Pm5r="";var eD1x=[];for(var i=0,j8b=[],vZ8R=[],gg2x;i<go2x.length;++i){eD1x.push(go2x[i].name);if(!go2x[i]||go2x[i].id<=0){vZ8R.push(go2x[i]);continue}if(k8c.he2x(Y9P)){gg2x=Y9P(go2x[i])}else{gg2x=UU7N(go2x[i],Y9P,cN0x,bjS2x)}if(gg2x&&bUU5Z&&go2x[i].tns&&go2x[i].tns.length>0){Pm5r=k8c.dP1x(go2x[i].tns[0]);gg2x+='<span class="s-fc8" title="'+Pm5r+'"> - ('+Pm5r+")</span>"}!!gg2x&&j8b.push(gg2x)}for(var i=0,gg2x;i<vZ8R.length;++i){if(k8c.he2x(Y9P)){gg2x=Y9P(vZ8R[i])}else{gg2x=UU7N(vZ8R[i],Y9P,cN0x,bjS2x)}if(gg2x&&bUU5Z&&vZ8R[i].tns&&vZ8R[i].tns.length>0){Pm5r=k8c.dP1x(vZ8R[i].tns[0]);gg2x+='<span class="s-fc8" title="'+Pm5r+'"> - ('+Pm5r+")</span>"}!!gg2x&&j8b.push(gg2x)}return'<span title="'+eD1x.join(zA0x)+'">'+j8b.join(zA0x)+"</span>"}}();l8d.Dc1x=function(fU2x,rw6q){rw6q=rw6q||"86";return!!fU2x&&(rw6q=="86"?/^\d{11}$/:/^\d+$/).test(fU2x)};l8d.cXA5F=function(fU2x){if(!l8d.Dc1x(fU2x))return fU2x;return fU2x.substring(0,3)+"****"+fU2x.substr(7)};l8d.lw4A=function(){var ds1x=/^\s+$/g;return function(iG3x){return!iG3x||ds1x.test(iG3x)}}();l8d.Vo7h=function(){var bBm7f=/[^\x00-\xfff]/g;return function(iG3x){var coq2x=iG3x.match(bBm7f)||[],do1x=coq2x.length;return iG3x.length+do1x}}();l8d.Dv1x=function(){var bBm7f=/[^\x00-\xfff]/;return function(iG3x,eN1x){for(var i=0,len=iG3x.length;i<len&&eN1x>0;i++){if(bBm7f.test(iG3x.charAt(i))){eN1x-=2;if(eN1x<0){break}}else{eN1x-=1}}return iG3x.substring(0,i)}}();l8d.Dz1x=function(iG3x,eN1x,Ui7b){eN1x=eN1x||10;Ui7b=Ui7b||nej.p.dC1x.engine=="trident"&&parseInt(nej.p.dC1x.release)<5;if(Ui7b&&l8d.Vo7h(iG3x)>eN1x){return l8d.Dv1x(iG3x,eN1x)+"..."}else{return iG3x}};l8d.bVL5Q=function(g8c){return g8c===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(g8c.type||g8c.href||~g8c.tabIndex)};l8d.cod2x=function(d8f,cN0x){if(!d8f||!cN0x)return!0;var g8c,t8l=d8f.type.toLowerCase();if(t8l=="mouseout"){g8c=d8f.relatedTarget||d8f.toElement}else if(t8l=="mouseover"){g8c=d8f.relatedTarget||d8f.fromElement}return!g8c||g8c!==cN0x&&!l8d.OZ5e(cN0x,g8c)};l8d.vP8H=function(){Q9H={};return function(g8c,ev1x){var D9u=a7h.my4C(g8c),K9B="hover-"+D9u;if(!ev1x||!D9u||!!Q9H[K9B])return;Q9H[K9B]=!0;h8b.s8k(D9u,"mouseover",function(){var bBv7o=a7h.F9w(g8c,"hshow")||[];var bBD7w=a7h.F9w(g8c,"icn-dislike")||[];a7h.w9n(D9u,"z-hover");a7h.bd9U(bBv7o[0],"display","block");a7h.bd9U(bBD7w[0],"display","block")});h8b.s8k(D9u,"mouseout",function(){var bBv7o=a7h.F9w(g8c,"hshow")||[];var bBD7w=a7h.F9w(g8c,"icn-dislike")||[];a7h.y9p(D9u,"z-hover");a7h.bd9U(bBv7o[0],"display","none");a7h.bd9U(bBD7w[0],"display","none")})}}();l8d.bWp5u=function(){var bA9r={r:/\(|\)|\[|\]|\{|\}|\*|\+|\^|\$|\?|\!|\\|\||\./gi,"(":"\\(",")":"\\)","[":"\\[","]":"\\]","{":"\\{","}":"\\}","*":"\\*","+":"\\+","^":"\\^",$:"\\$","?":"\\?","!":"\\!","\\":"\\\\","|":"\\|",".":"\\."};return function(iG3x){return k8c.EH2x(bA9r,iG3x)}}();l8d.CV1x=function(bB9s){if(k8c.Ju3x(bB9s))bB9s=bB9s.getTime();var fp1x=new Date,ll3x=fp1x.getTime()-bB9s;if(ll3x<=6e4)return"刚刚";var oj4n=fp1x.getHours()*36e5+fp1x.getMinutes()*6e4+fp1x.getSeconds()*1e3;if(ll3x<=oj4n){if(ll3x<36e5){var HU3x=Math.floor(ll3x/6e4);return HU3x+"分钟前"}return k8c.iC3x(bB9s,"HH:mm")}else{if(ll3x<oj4n+864e5){return"昨天"+k8c.iC3x(bB9s,"HH:mm")}else{var hj2x=fp1x.getFullYear(),Vy7r=new Date(hj2x,0,1);var oj4n=fp1x.getTime()-Vy7r.getTime();if(ll3x<oj4n){return k8c.iC3x(bB9s,"M月d日 HH:mm")}return k8c.iC3x(bB9s,"yyyy年M月d日")}}};l8d.cnH1x=function(bB9s){if(k8c.Ju3x(bB9s))bB9s=bB9s.getTime();var fp1x=new Date,ll3x=fp1x.getTime()-bB9s;var oj4n=fp1x.getHours()*36e5+fp1x.getMinutes()*6e4+fp1x.getSeconds()*1e3;if(ll3x<=oj4n){return"今天"+k8c.iC3x(bB9s,"HH:mm")}else{if(ll3x<oj4n+864e5){return"昨天"+k8c.iC3x(bB9s,"HH:mm")}else{return k8c.iC3x(bB9s,"yy-MM-dd HH:mm")}}};l8d.cnD1x=function(bB9s){if(k8c.Ju3x(bB9s))bB9s=bB9s.getTime();var fp1x=new Date,ll3x=fp1x.getTime()-bB9s;if(ll3x<=6e4)return"刚刚";var oj4n=fp1x.getHours()*36e5+fp1x.getMinutes()*6e4+fp1x.getSeconds()*1e3;if(ll3x<=oj4n){if(ll3x<36e5){var HU3x=Math.floor(ll3x/6e4);return HU3x+"分钟前"}return k8c.iC3x(bB9s,"HH:mm")}else{if(ll3x<oj4n+864e5){return"昨天"+k8c.iC3x(bB9s,"HH:mm")}else if(ll3x<oj4n+864e5*6){var hj2x=fp1x.getFullYear(),Vy7r=new Date(hj2x,0,1);var oj4n=fp1x.getTime()-Vy7r.getTime();if(ll3x<oj4n){return k8c.iC3x(bB9s,"M月d日 HH:mm")}return k8c.iC3x(bB9s,"yyyy年M月d日")}else{return"最近"}}};l8d.bbd9U=function(){var ds1x=/\{(.*?)\}/gi;return function(qq5v,i8a){return(qq5v||"").replace(ds1x,function($1,$2){var C9t=i8a[$2];return C9t==null?$1:C9t})}}();l8d.fF2x=function(){var bk9b=Array.prototype.slice.call(arguments,0),qq5v=bk9b.shift();if(qq5v){return qq5v.replace(/{(\d+)}/g,function($1,$2){return $2<bk9b.length?bk9b[$2]:$1})}return""};l8d.Pv5A=function(j8b,es1x,lt4x){return"";lt4x=lt4x||" - ";if(j8b&&j8b.length){return lt4x+(!!es1x?'<span class="'+es1x+'">'+j8b[0]+"</span>":j8b[0])}return""};l8d.bWx5C=function(){if(window.getSelection){var tM8E=window.getSelection();if(tM8E&&tM8E.focusNode&&tM8E.focusNode.tagName){var uB8t=a7h.dm1x(tM8E.focusNode);for(var i=0,CO1x;i<uB8t.length;++i){CO1x=uB8t[i].tagName;if(!CO1x)continue;CO1x=CO1x.toLowerCase();if(CO1x=="textarea"||CO1x=="input")return!0}}}else if(document.selection){var dn1x=document.selection.createRange();if(dn1x){var g8c=dn1x.parentElement();if(g8c&&g8c.tagName){var CO1x=g8c.tagName.toLowerCase();if(CO1x=="textarea"||CO1x=="input")return!0}}}return!1};l8d.DJ1x=function(gb2x){if(/^[A-Z]\:\\/i.test(gb2x)){gb2x=gb2x.split("\\")}else{gb2x=gb2x.split("/")}gb2x=gb2x[gb2x.length-1];return gb2x};l8d.cnz1x=function(){var JK3x=[13,17,34,19,18,21];return function(D9u){var bv9m=(D9u||"").split("_");return{type:JK3x[bv9m[2]]||-1,id:bv9m[3]||""}}}();l8d.bWy5D=function(gR2x){if(!gR2x){return true}for(var k in gR2x){return false}return true};l8d.bBH7A=function(dA1x){if(!dA1x){return""}if(4==dA1x.userType){return'<sup class="icn u-icn2 u-icn2-music2"></sup>'}else if(dA1x.authStatus==1){return'<sup class="u-icn u-icn-1"></sup>'}else if(dA1x.expertTags&&dA1x.expertTags.length||!l8d.bWy5D(dA1x.experts)){return'<sup class="u-icn u-icn-84"></sup>'}};l8d.VL7E=function(hI2x){if(!hI2x)return"";var do1x=hI2x.length,iU3x=[];iU3x[0]=do1x/3|0;iU3x[1]=iU3x[0]+((do1x-iU3x[0])/2|0);return hI2x.substring(0,iU3x[0])+hI2x.substring(iU3x[0],iU3x[1]).replace(/\d/g,"*")+hI2x.substring(iU3x[1],do1x)};l8d.cXF6z=function(r8j,cK0x){return(r8j%cK0x+cK0x)%cK0x};l8d.bBL7E=function(){var JK3x={0:"playlist",1:"program",2:"event",3:"album",4:"song",5:"mv",6:"topic",62:"video"};return function(D9u){var bv9m=(D9u||"").split("_"),m8e={type:JK3x[bv9m[2]]||-1,id:bv9m[3]||""};if(m8e.type=="event"){m8e.uid=bv9m[4]||"";return"/"+m8e.type+"?id="+m8e.id+"&uid="+m8e.uid}return"/"+m8e.type+"?id="+m8e.id}}();l8d.bBN7G=function(){var JK3x={0:"歌单",1:"电台节目",2:"动态",3:"专辑",4:"单曲",5:"MV",6:"专栏文章",62:"视频"};return function(D9u){var bv9m=(D9u||"").split("_");return JK3x[bv9m[2]]||"资源"}}();l8d.cmX1x=function(bx9o){var qs=bx9o.length>0?bx9o.substring(1):"",args={},items=qs.length?qs.split("&"):[],item=null,name=null,value=null,i=0,len=items.length;for(i=0;i<len;i++){item=items[i].split("=");name=decodeURIComponent(item[0]);value=decodeURIComponent(item[1]);if(name.length){args[name]=value}}return args};l8d.bBR7K=function(pF5K,VP7I){var bbI0x=0,dZ1x=new Array;k8c.bf9W(pF5K,function(Z9Q,r8j){var cG0x=a7h.dt1x("img");cG0x.src=Z9Q;h8b.s8k(cG0x,"load",function(r8j,d8f){dZ1x[r8j]=1;bbI0x++;if(bbI0x==pF5K.length)VP7I(pF5K,dZ1x)}.f8d(this,r8j));h8b.s8k(cG0x,"error",function(d8f,r8j){dZ1x[r8j]=0;bbI0x++;if(bbI0x==pF5K.length)VP7I(pF5K,dZ1x)}.f8d(this,r8j))})};l8d.Pz5E=function(j8b,en1x){var m8e=[];k8c.bf9W(j8b,function(p8h,r8j,O9F){m8e.push(en1x(p8h,r8j,O9F))});return m8e};l8d.bkw3x=function(j8b,en1x,O9F){var m8e=[];k8c.bf9W(j8b,function(p8h,r8j){if(en1x.call(O9F,p8h,r8j,j8b)){m8e.push(p8h)}});return m8e};l8d.bXd5i=function(bt9k){return k8c.dP1x((bt9k||"").replace(/\s{2,}/g," ").trim())};var cmP1x={r:/\<|\>/g,"<":"&lt;",">":"&gt;"};l8d.cmN1x=function(bt9k){return k8c.EH2x(cmP1x,bt9k)};l8d.bBU7N=function(bn9e){if(bn9e.transNames&&bn9e.transNames.length){return bn9e.transNames[0]}else if(bn9e.alias&&bn9e.alias.length){return bn9e.alias[0]}};l8d.bCb8T=function(UO7H){if(UO7H){return UO7H.replace(/\n{2,}/g,"<br/><br/>").replace(/\n/g,"<br/>").replace(/(<br\/?>){2,}/g,"<br/><br/>")}};l8d.bXD6x=function(g8c){var g8c=a7h.B9s(g8c),cM0x=g8c&&g8c.getElementsByTagName("textarea")[0],K9B=a7h.u9l(g8c,"key"),Wd7W=a7h.u9l(g8c,"simple")=="1",bCc8U=a7h.u9l(g8c,"pvnamed")=="1",Wi7b=q8i.vN8F.fZ2x();if(!(g8c&&cM0x&&K9B))return;var uM8E,bCe8W,bcn0x;uM8E=a7h.F9w(a7h.B9s("m-playlist"),"j-img");k8c.bf9W(uM8E,function(jJ3x){if(!bcn0x&&a7h.u9l(jJ3x,"key")){bcn0x=a7h.u9l(jJ3x,"key");jJ3x.removeAttribute("data-key")}});uM8E=a7h.F9w(a7h.B9s("m-playlist"),"m-info");k8c.bf9W(uM8E,function(jJ3x){if(!bCe8W&&jJ3x.id&&jJ3x.id.indexOf("auto-id-")==0){bCe8W=jJ3x.id.slice(8,12)}});var C9t=cM0x.value||cM0x.defaultValue;if(bcn0x){C9t=decodeURIComponent(k8c.bYi6c(C9t,"param="+bCe8W+bcn0x))}C9t=JSON.parse(C9t);if(bCc8U){l8d.bYj6d(C9t)}if(Wd7W){C9t=l8d.BM1x(C9t)}Wi7b.tA7t(K9B,C9t);g8c.innerHTML="";return K9B};l8d.clV1x=function(rR6L){if(!rR6L.onbeforelistload){rR6L.onbeforelistload=function(d8f){d8f.value='<div class="u-load s-fc4"><i class="icn"></i> 加载中...</div>'}}if(!rR6L.onemptylist){rR6L.onemptylist=function(d8f){d8f.value='<div class="n-nmusic"><h3 class="f-ff2"><i class="u-icn u-icn-21"></i>'+(rR6L.emptyMsg||"暂时还没有数据")+"</h3></div>"}}return rR6L};l8d.bYj6d=function(fl1x){k8c.bf9W(fl1x,function(bR0x){bR0x.privilege=bR0x.pv;delete bR0x.pv})};l8d.BM1x=function(iT3x){if(k8c.er1x(iT3x)){var dN1x=[];k8c.bf9W(iT3x,function(Wd7W){dN1x.push(bYm6g(Wd7W))});return dN1x}else{return bYm6g(iT3x)}function bYm6g(iT3x){if(!iT3x)return null;var dN1x={album:iT3x.al,alias:iT3x.alia||iT3x.ala||[],artists:iT3x.ar||[],commentThreadId:"R_SO_4_"+iT3x.id,copyrightId:iT3x.cp||0,duration:iT3x.dt||0,id:iT3x.id,mvid:iT3x.mv||0,name:iT3x.name||"",cd:iT3x.cd,position:iT3x.no||0,ringtone:iT3x.rt,rtUrl:iT3x.rtUrl,status:iT3x.st||0,pstatus:iT3x.pst||0,fee:iT3x.fee||0,version:iT3x.v||0,eq:iT3x.eq,songType:iT3x.t||0,mst:iT3x.mst,score:iT3x.pop||0,ftype:iT3x.ftype,rtUrls:iT3x.rtUrls,transNames:iT3x.tns,privilege:iT3x.privilege,lyrics:iT3x.lyrics};return dN1x}};l8d.cXM6G=function(){var g8c=a7h.oW5b('<div class="u-mask u-mask-light"></div>'+'<div class="m-opentip">'+'<div class="lay">'+'<div class="note">'+"<h3>分享打不开？</h3>"+'<p>请点击右上角<br>选择<span class="s-fc5">“分享到...”</span></p>'+"</div></div></div>");document.body.appendChild(g8c);h8b.s8k(g8c,"click",function(d8f){h8b.bi9Z(d8f);a7h.cY1x(g8c)})};l8d.jw3x=function(cp0x){if(cp0x<1e5){return cp0x}else if(cp0x<1e8){return Math.floor(cp0x/1e3)/10+"万"}else{return Math.floor(cp0x/1e7)/10+"亿"}};l8d.yd9U=function(cp0x,cM0x){return"<i>"+(cp0x?"("+cp0x+")":cM0x)+"</i>"};l8d.bYt6n=function(t8l,iP3x){var e8e={};if(!k8c.mx4B(iP3x)){return e8e}switch(parseInt(t8l)){case 17:e8e.title=iP3x.name;e8e.author=(iP3x.radio||[]).name;e8e.picUrl=iP3x.coverUrl;e8e.category=iP3x.radio.category;break;case 19:e8e.title=iP3x.name;e8e.author=l8d.Dm1x(iP3x.artists);e8e.authors=l8d.Dm1x(iP3x.artists," / ");e8e.picUrl=iP3x.picUrl;break;case 13:e8e.title=iP3x.name;e8e.author=(iP3x.creator||[]).nickname;e8e.picUrl=iP3x.coverImgUrl;break;case 18:e8e.title=iP3x.name;e8e.author=l8d.Dm1x(iP3x.artists);e8e.picUrl=(iP3x.album||[]).picUrl;break;case 20:e8e.title=iP3x.name;e8e.author="";e8e.picUrl=iP3x.img1v1Url;break;case 21:e8e.title=iP3x.name;e8e.author=iP3x.artistName;e8e.authors=l8d.Dm1x(iP3x.artists," / ");e8e.picUrl=iP3x.newCover||iP3x.cover;break;case 70:e8e.title=iP3x.name;e8e.author=(iP3x.dj||[]).nickname;e8e.picUrl=iP3x.picUrl;e8e.category=iP3x.category;break;default:break}return e8e};l8d.bYu6o=function(){return location.hostname.indexOf("igame.163.com")>=0};l8d.WE7x=function(eM1x,pn5s,e8e){var bL9C,bk9b,m8e;var hu2x=null;var yo0x=0;if(!e8e)e8e={};var Ch1x=function(){yo0x=e8e.leading===false?0:+(new Date);hu2x=null;m8e=eM1x.apply(bL9C,bk9b);if(!hu2x)bL9C=bk9b=null};return function(){var fp1x=+(new Date);if(!yo0x&&e8e.leading===false)yo0x=fp1x;var JF3x=pn5s-(fp1x-yo0x);bL9C=this;bk9b=arguments;if(JF3x<=0||JF3x>pn5s){if(hu2x){clearTimeout(hu2x);hu2x=null}yo0x=fp1x;m8e=eM1x.apply(bL9C,bk9b);if(!hu2x)bL9C=bk9b=null}else if(!hu2x&&e8e.trailing!==false){hu2x=setTimeout(Ch1x,JF3x)}return m8e}};l8d.PP5U=function(eM1x,pn5s,qc5h){var hu2x,bk9b,bL9C,EJ2x,m8e;var Ch1x=function(){var gG2x=new Date-EJ2x;if(gG2x<pn5s&&gG2x>=0){hu2x=setTimeout(Ch1x,pn5s-gG2x)}else{hu2x=null;if(!qc5h){m8e=eM1x.apply(bL9C,bk9b);if(!hu2x)bL9C=bk9b=null}}};return function(){bL9C=this;bk9b=arguments;EJ2x=new Date;var WV7O=qc5h&&!hu2x;if(!hu2x)hu2x=setTimeout(Ch1x,pn5s);if(WV7O){m8e=eM1x.apply(bL9C,bk9b);bL9C=bk9b=null}return m8e}};l8d.WY7R=function(g8c,hR2x){if(g8c){var g8c=g8c.firstElementChild;if(g8c){g8c.firstElementChild&&(g8c=g8c.firstElementChild);g8c.setAttribute("xlink:href","/style/pc/svg/"+hR2x)}}};l8d.bYN6H=function(eD1x){if(!eD1x||!eD1x.length){return}eD1x=/^#(.+?)#$/.exec(eD1x)[1];eD1x=eD1x.replace(/\s/g," ");v9m.bm9d("/api/act/detail",{type:"json",method:"post",data:k8c.cJ0x({actname:eD1x}),onload:function(T9K){if(!T9K||T9K.code!=200||!T9K.act){n8f.bb9S.J9A({type:2,tip:"该话题暂未创建"})}else{location.dispatch2("/activity?id="+T9K.act.actId)}},onerror:function(bV0x){n8f.bb9S.J9A({type:2,tip:"操作失败，请稍后再试"})}})};l8d.clH0x=function(eD1x){if(!eD1x||!eD1x.length){return}var Xg7Z=location.host;eD1x=/^#(.+?)#$/.exec(eD1x)[1];eD1x=eD1x.replace(/\s/g," ");v9m.bm9d("/api/act/detail",{type:"json",method:"post",data:k8c.cJ0x({actname:eD1x}),onload:function(T9K){if(!T9K||T9K.code!=200||!T9K.act){cB0x.il2x("该话题暂未创建")}else{cB0x.ES2x(Xg7Z+"/activity?id="+T9K.act.actId)}},onerror:function(bV0x){cB0x.il2x("操作失败，请稍后再试")}})};l8d.bCz8r=function(BU1x,tX8P){if(!BU1x||!tX8P)return false;if(BU1x==tX8P)return true;return l8d.bCz8r(BU1x,tX8P.parentNode)};a7h.cR1x=function(bI9z,jQ3x){if(!bI9z)return null;if(!jQ3x)return bI9z.firstChild;return a7h.F9w(bI9z,jQ3x)[0]};l8d.bYY6S=function(iG3x){return/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i.test(iG3x)};l8d.bZc6W=function(iG3x,Xi7b){Xi7b=Xi7b||"86";if(Xi7b=="86")return/^\d{11}$/.test(iG3x);return/^\d+$/.test(iG3x)};l8d.cXP6J=function(wy9p){if(!wy9p){return"0b"}var clz0x=["Bytes","KB","MB","GB"];var bc9T=Math.floor(Math.log(wy9p)/Math.log(1024));return(wy9p/Math.pow(1024,Math.floor(bc9T))).toFixed(bc9T==1?0:1)+clz0x[bc9T]};l8d.bZf6Z=function(dV1x,fn1x,clx0x){if(!dV1x)return dV1x;var do1x=k8c.fV2x(dV1x);if(do1x<=fn1x)return dV1x;var bCD8v=do1x-dV1x.length,bCE8w=dV1x.length-bCD8v;var fK2x=Math.ceil(fn1x/2),cls0x=fn1x,bZr6l=0;if(bCD8v<fK2x)fK2x=fn1x-bCD8v;if(bCE8w<fn1x)fn1x=bCE8w+Math.ceil((fn1x-bCE8w)/2);while(fK2x<=fn1x){bZr6l=k8c.fV2x(dV1x.substr(0,fK2x));var bCI8A=cls0x-bZr6l;if(bCI8A==0)break;if(bCI8A==1){var cln0x=k8c.fV2x(dV1x.charAt(fK2x));if(cln0x==1){fK2x++;break}else{break}}fK2x+=Math.floor(bCI8A/2)}return dV1x.substr(0,fK2x)+(!!clx0x?"":"...")};l8d.clj0x=function(br9i){br9i=br9i||10;var cC0x="";for(var i=0;i<br9i;i++){cC0x+=String.fromCharCode(Math.round(Math.random()*20901)+19968)}return cC0x};var clf0x=/([A-Za-z0-9 \.\-\(\)\!\?])/,cle0x=/([\u4e00-\u9fa5\uac00-\ud7af\u3040-\u30ff\u31f0-\u31ff])/,cla0x=["的","一","是","在","不","了","有","和","人","这","中","大","为","上","个","国","我","以","要","他","时","来","用","们","生","到","作","地","于","出","就","分","对","成","会","可","主","发","年","动","同","工","也","能","下","过","子","说","产","种","面","而","方","后","多","定","行","学","法","所","民","得","经","十","三","之","进","着","等","部","度","家","电","力","里","如","水","化","高","自","二","理","起","小","物","现","实","加","量","都","两","体","制","机","当","使","点","从","业","本","去","把","性","好","应","开","它","合","还","因","由","其","些","然","前","外","天","政","四","日","那","社","义","事","平","形","相","全","表","间","样","与","关","各","重","新","线","内","数","正","心","反","你","明","看","原","又","么","利","比","或","但","质","气","第","向","道","命","此","变","条","只","没","结","解","问","意","建","月","公","无","系","军","很","情","者","最","立","代","想","已","通","并","提","直","题","党","程","展","五","果","料","象","员","革","位","入","常","文","总","次","品","式","活","设","及","管","特","件","长","求","老","头","基","资","边","流","路","级","少","图","山","统","接","知","较","将","组","见","计","别","她","手","角","期","根","论","运","农","指","几","九","区","强","放","决","西","被","干","做","必","战","先","回","则","任","取","据","处","队","南","给","色","光","门","即","保","治","北","造","百","规","热","领","七","海","口","东","导","器","压","志","世","金","增","争","济","阶","油","思","术","极","交","受","联","什","认","六","共","权","收","证","改","清","己","美","再","采","转","更","单","风","切","打","白","教","速","花","带","安","场","身","车","例","真","务","具","万","每","目","至","达","走","积","示","议","声","报","斗","完","类","八","离","华","名","确","才","科","张","信","马","节","话","米","整","空","元","况","今","集","温","传","土","许","步","群","广","石","记","需","段","研","界","拉","林","律","叫","且","究","观","越","织","装","影","算","低","持","音","众","书","布","复","容","儿","须","际","商","非","验","连","断","深","难","近","矿","千","周","委","素","技","备","半","办","青","省","列","习","响","约","支","般","史","感","劳","便","团","往","酸","历","市","克","何","除","消","构","府","称","太","准","精","值","号","率","族","维","划","选","标","写","存","候","毛","亲","快","效","斯","院","查","江","型","眼","王","按","格","养","易","置","派","层","片","始","却","专","状","育","厂","京","识","适","属","圆","包","火","住","调","满","县","局","照","参","红","细","引","听","该","铁","价","严","龙","飞"];var cab6V=function(Fl2x){var br9i=k8c.DR1x(1,5),ckY0x=Math.random()<.5,jI3x="";if(Fl2x){if(ckY0x){while(br9i>=0){jI3x+=cla0x[k8c.DR1x(0,500)];br9i--}}else{jI3x=l8d.clj0x(br9i)}}else{jI3x=k8c.Yi8a(br9i)}return'<div class="soil">'+jI3x+"</div>"};l8d.bBg7Z=function(eB1x){eB1x=k8c.EA1x(eB1x);try{var br9i=eB1x.length,r8j=k8c.DR1x(1,br9i-1);while(r8j<br9i){if(cle0x.test(eB1x.charAt(r8j))){return k8c.dP1x(eB1x.slice(0,r8j))+cab6V(true)+k8c.dP1x(eB1x.slice(r8j))}else if(clf0x.test(eB1x.charAt(r8j))){return k8c.dP1x(eB1x.slice(0,r8j))+cab6V()+k8c.dP1x(eB1x.slice(r8j))}else{r8j++}}return k8c.dP1x(eB1x)}catch(e){return k8c.dP1x(eB1x)}};l8d.beq1x=function(nP4T,nL4P){return"//nos.netease.com/"+nP4T+"/"+nL4P};l8d.ckT0x=function(gb2x){var ed1x=/(.+)(\.[^\.]+$)/.exec(gb2x);return ed1x?{filename:ed1x[1],suffix:ed1x[2]}:{filename:gb2x||"",suffix:""}};l8d.cah6b=function(bv9m,ckO0x){var dN1x=[];k8c.bf9W(bv9m,function(gQ2x){dN1x.push(ckO0x(gQ2x))});return dN1x};var ckK0x={title:"name",durationms:"duration",coverUrl:"cover",playTime:"playCount",vid:"id",subscribed:"subed"};l8d.cav6p=function(BB1x){var i8a=NEJ.X({},BB1x);k8c.eX1x(BB1x,function(p8h,K9B){var caD6x=ckK0x[K9B];if(caD6x){i8a[caD6x]=p8h}});var XY8Q=BB1x.creator||[];if(!k8c.er1x(XY8Q)){XY8Q=[XY8Q]}if(XY8Q){i8a.artists=[];k8c.bf9W(XY8Q,function(p8h){i8a.artists.push({name:p8h.nickname||p8h.userName,id:p8h.userId})})}if(!!BB1x.aliaName){i8a.alias=[BB1x.aliaName]}if(!!BB1x.transName){i8a.transNames=[BB1x.transName]}return i8a};l8d.ckC0x=function(Z9Q){return(Z9Q||"").replace(/^https?:/,"")};l8d.Js3x=function(cC0x){if(!k8c.fX2x(cC0x))return cC0x;var dN1x=null;try{dN1x=JSON.parse(cC0x)}catch(_e){}return dN1x};var ckz0x='<span class="s-fc7 f-tdn">${value}</span>';l8d.cky0x=function(cM0x,vq8i,e8e){e8e=e8e||{};if(!vq8i){return k8c.dP1x(cM0x)}cM0x=k8c.EA1x(cM0x);var rL6F=[],bv9m=null,YK8C=new RegExp(l8d.bWp5u(vq8i),"gi"),qq5v=e8e.tpl||ckz0x;while(bv9m=YK8C.exec(cM0x)){var ed1x={html:"",before:bv9m.index-1,after:bv9m.index+bv9m[0].length};var Kb3x=a7h.eK1x(qq5v);ed1x.html=a7h.cg0x(Kb3x,{value:k8c.dP1x(bv9m[0])});rL6F.push(ed1x)}var bAU7N=rL6F.length,lb3x={before:cM0x.length-1,after:0},dN1x="";for(var i=0;i<=bAU7N;i++){var eT1x,du1x;eT1x=(rL6F[i-1]||lb3x).after;du1x=(rL6F[i]||lb3x).before;if(du1x>=eT1x&&eT1x>=0&&du1x<=cM0x.length-1){dN1x+=k8c.dP1x(cM0x.substring(eT1x,du1x+1))}if(rL6F[i]){dN1x+=rL6F[i].html}}return dN1x};l8d.kD3x=function(){if(!window.WM){var g8c=document.createElement("script");var ux8p=window.location.hostname;var cXU6O=window.location.protocol;a7h.hc2x(g8c,"type","text/javascript");a7h.hc2x(g8c,"src","https://acstatic-dun.126.net/tool.min.js");g8c.onload=function(data){initWatchman({productNumber:"YD00000558929251",onload:function(instance){window.WM=instance}})};document.body.appendChild(g8c)}};l8d.lV4Z=function(oV5a){if(window.WM){window.WM.getToken("bd5d2f973ef74cd2a61325a412ae54d9",oV5a)}};l8d.Fy2x=function(oV5a){if(window.WM){window.WM.getToken("0b0cdd23ed1144a0b78de049edc09824",oV5a)}}})();
(function(){var k8c=NEJ.P("nej.u");function ckr0x(){var FE2x=function(iH3x){if(iH3x<-128){return FE2x(128-(-128-iH3x))}else if(iH3x>=-128&&iH3x<=127){return iH3x}else if(iH3x>127){return FE2x(-129+iH3x-127)}else{throw new Error("1001")}};var ckn0x=function(iH3x,bj9a){return FE2x(iH3x+bj9a)};var ckl0x=function(bfz1x,bDn8f){if(bfz1x==null){return null}if(bDn8f==null){return bfz1x}var sV6P=[];var cki0x=bDn8f.length;for(var i=0,br9i=bfz1x.length;i<br9i;i++){sV6P[i]=ckn0x(bfz1x[i],bDn8f[i%cki0x])}return sV6P};var ckg0x=function(bfK1x){if(bfK1x==null){return bfK1x}var sV6P=[];var cka0x=bfK1x.length;for(var i=0,br9i=cka0x;i<br9i;i++){sV6P[i]=FE2x(0-bfK1x[i])}return sV6P};var cjX0x=function(bDr8j,Yz8r){bDr8j=FE2x(bDr8j);Yz8r=FE2x(Yz8r);return FE2x(bDr8j^Yz8r)};var cbj7c=function(YC8u,bDu8m){if(YC8u==null||bDu8m==null||YC8u.length!=bDu8m.length){return YC8u}var sV6P=[];var cjM0x=YC8u.length;for(var i=0,br9i=cjM0x;i<br9i;i++){sV6P[i]=cjX0x(YC8u[i],bDu8m[i])}return sV6P};var cbr7k=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var cjJ0x=function(cA0x){var Qy5D=[];Qy5D.push(cbr7k[cA0x>>>4&15]);Qy5D.push(cbr7k[cA0x&15]);return Qy5D.join("")};var cbu7n=function(wy9p){var br9i=wy9p.length;if(wy9p==null||br9i<0){return new String("")}var Qy5D=[];for(var i=0;i<br9i;i++){Qy5D.push(cjJ0x(wy9p[i]))}return Qy5D.join("")};var cbG7z=function(bgI1x){if(bgI1x==null||bgI1x.length==0){return bgI1x}var bDB8t=new String(bgI1x);var sV6P=[];var br9i=bDB8t.length/2;var bj9a=0;for(var i=0;i<br9i;i++){var qA5F=parseInt(bDB8t.charAt(bj9a++),16)<<4;var qB5G=parseInt(bDB8t.charAt(bj9a++),16);sV6P[i]=FE2x(qA5F+qB5G)}return sV6P};var cbM7F=function(cC0x){if(cC0x==null||cC0x==undefined){return cC0x}var YF8x=encodeURIComponent(cC0x);var wy9p=[];var cbR7K=YF8x.length;for(var i=0;i<cbR7K;i++){if(YF8x.charAt(i)=="%"){if(i+2<cbR7K){wy9p.push(cbG7z(YF8x.charAt(++i)+""+YF8x.charAt(++i))[0])}else{throw new Error("1009")}}else{wy9p.push(YF8x.charCodeAt(i))}}return wy9p};var cji9Z=function(zb0x){var bc9T=0;bc9T+=(zb0x[0]&255)<<24;bc9T+=(zb0x[1]&255)<<16;bc9T+=(zb0x[2]&255)<<8;bc9T+=zb0x[3]&255;return bc9T};var cYn6h=function(bc9T){var zb0x=[];zb0x[0]=bc9T>>>24&255;zb0x[1]=bc9T>>>16&255;zb0x[2]=bc9T>>>8&255;zb0x[3]=bc9T&255;return zb0x};var cjf9W=function(de1x,bDH8z,br9i){var dN1x=[];if(de1x==null||de1x.length==0){return dN1x}if(de1x.length<br9i){throw new Error("1003")}for(var i=0;i<br9i;i++){dN1x[i]=de1x[bDH8z+i]}return dN1x};var bDI8A=function(de1x,bDH8z,ui8a,ciZ9Q,br9i){if(de1x==null||de1x.length==0){return ui8a}if(ui8a==null){throw new Error("1004")}if(de1x.length<br9i){throw new Error("1003")}for(var i=0;i<br9i;i++){ui8a[ciZ9Q+i]=de1x[bDH8z+i]}return ui8a};var ciY9P=function(br9i){var bv9m=[];for(var i=0;i<br9i;i++){bv9m[i]=0}return bv9m};var ciX9O=[82,9,106,-43,48,54,-91,56,-65,64,-93,-98,-127,-13,-41,-5,124,-29,57,-126,-101,47,-1,-121,52,-114,67,68,-60,-34,-23,-53,84,123,-108,50,-90,-62,35,61,-18,76,-107,11,66,-6,-61,78,8,46,-95,102,40,-39,36,-78,118,91,-94,73,109,-117,-47,37,114,-8,-10,100,-122,104,-104,22,-44,-92,92,-52,93,101,-74,-110,108,112,72,80,-3,-19,-71,-38,94,21,70,87,-89,-115,-99,-124,-112,-40,-85,0,-116,-68,-45,10,-9,-28,88,5,-72,-77,69,6,-48,44,30,-113,-54,63,15,2,-63,-81,-67,3,1,19,-118,107,58,-111,17,65,79,103,-36,-22,-105,-14,-49,-50,-16,-76,-26,115,-106,-84,116,34,-25,-83,53,-123,-30,-7,55,-24,28,117,-33,110,71,-15,26,113,29,41,-59,-119,111,-73,98,14,-86,24,-66,27,-4,86,62,75,-58,-46,121,32,-102,-37,-64,-2,120,-51,90,-12,31,-35,-88,51,-120,7,-57,49,-79,18,16,89,39,-128,-20,95,96,81,127,-87,25,-75,74,13,45,-27,122,-97,-109,-55,-100,-17,-96,-32,59,77,-82,42,-11,-80,-56,-21,-69,60,-125,83,-103,97,23,43,4,126,-70,119,-42,38,-31,105,20,99,85,33,12,125];var QM5R=64;var bho2x=64;var cbX7Q=4;var ciU9L=function(sw6q){var cbY7R=[];if(sw6q==null||sw6q==undefined||sw6q.length==0){return ciY9P(bho2x)}if(sw6q.length>=bho2x){return cjf9W(sw6q,0,bho2x)}else{for(var i=0;i<bho2x;i++){cbY7R[i]=sw6q[i%sw6q.length]}}return cbY7R};var ciQ9H=function(bhB2x){if(bhB2x==null||bhB2x.length%QM5R!=0){throw new Error("1005")}var bDL8D=[];var bj9a=0;var ciE9v=bhB2x.length/QM5R;for(var i=0;i<ciE9v;i++){bDL8D[i]=[];for(var j=0;j<QM5R;j++){bDL8D[i][j]=bhB2x[bj9a++]}}return bDL8D};var ciB9s=function(ccq7j){var qA5F=ccq7j>>>4&15;var qB5G=ccq7j&15;var bj9a=qA5F*16+qB5G;return ciX9O[bj9a]};var ccr7k=function(bDR8J){if(bDR8J==null){return null}var ccu7n=[];for(var i=0,br9i=bDR8J.length;i<br9i;i++){ccu7n[i]=ciB9s(bDR8J[i])}return ccu7n};var ccA7t=function(Rc6W,sw6q){if(Rc6W==null){return null}if(Rc6W.length==0){return[]}if(Rc6W.length%QM5R!=0){throw new Error("1005")}sw6q=ciU9L(sw6q);var bDT8L=sw6q;var bEd8V=ciQ9H(Rc6W);var ZO9F=[];var chm9d=bEd8V.length;for(var i=0;i<chm9d;i++){var bEm8e=ccr7k(bEd8V[i]);bEm8e=ccr7k(bEm8e);var bEn8f=cbj7c(bEm8e,bDT8L);var cgZ9Q=ckl0x(bEn8f,ckg0x(bDT8L));bEn8f=cbj7c(cgZ9Q,sw6q);bDI8A(bEn8f,0,ZO9F,i*QM5R,QM5R);bDT8L=bEd8V[i]}var cdK7D=[];bDI8A(ZO9F,ZO9F.length-cbX7Q,cdK7D,0,cbX7Q);var br9i=cji9Z(cdK7D);if(br9i>ZO9F.length){throw new Error("1006")}var sV6P=[];bDI8A(ZO9F,0,sV6P,0,br9i);return sV6P};var cgT9K=function(bih2x,K9B){if(bih2x==null){return null}var cdR7K=new String(bih2x);if(cdR7K.length==0){return[]}var Rc6W=cbG7z(cdR7K);if(K9B==null||K9B==undefined){throw new Error("1007")}var sw6q=cbM7F(K9B);return ccA7t(Rc6W,sw6q)};this.cgN9E=function(bih2x,K9B){var bEz8r=cgT9K(bih2x,K9B);var Lh3x=new String(cbu7n(bEz8r));var AC0x=[];var bEB8t=Lh3x.length/2;var bj9a=0;for(var i=0;i<bEB8t;i++){AC0x.push("%");AC0x.push(Lh3x.charAt(bj9a++));AC0x.push(Lh3x.charAt(bj9a++))}return AC0x.join("")};k8c.bYi6c=function(bED8v,K9B){return k8c.cgB9s(k8c.cAx7q(bED8v),K9B)};k8c.cgB9s=function(bED8v,K9B){var bEz8r=ccA7t(bED8v,cbM7F(K9B));var Lh3x=new String(cbu7n(bEz8r));var AC0x=[];var bEB8t=Lh3x.length/2;var bj9a=0;for(var i=0;i<bEB8t;i++){AC0x.push("%");AC0x.push(Lh3x.charAt(bj9a++));AC0x.push(Lh3x.charAt(bj9a++))}return AC0x.join("")}}window.settmusic=(new ckr0x).cgN9E})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,G9x=c8g("nej.ut"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),v9m=c8g("nej.j"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),K9B="Search-tracks_",b8h;q8i.fF2x({"search-suggest":{url:"/api/search/suggest/web",type:"POST",format:function(T9K){return T9K},onerror:function(T9K,e8e){if(T9K.code==407){e8e.onForbidden()}}},"search-multimatch":{url:"/api/search/suggest/multimatch",type:"GET"},"search-list":{url:"/api/cloudsearch/get/web",type:"post",noescape:true,filter:function(e8e,bl9c){window.log&&window.log("searchkeywordclient",{type:this.cgA9r(parseInt(e8e.data.type))||"suggest",keyword:e8e.data.s,offset:e8e.offset})},format:function(T9K,e8e){if(T9K.abroad){try{T9K.result=JSON.parse(decodeURIComponent(settmusic(T9K.result,q8i.sk)))}catch(e){}}T9K.result=T9K.result||{};var j8b,cK0x,iq3x=[],qY5d=e8e.data.s||"",gz2x=e8e.data.limit,t8l=parseInt(e8e.data.type)||1,m8e=T9K.result;switch(t8l){case 1:j8b=this.cej8b(m8e.songs,e8e.data.hlpretag,e8e.data.hlposttag);cK0x=m8e.songCount;break;case 10:j8b=m8e.albums;cK0x=m8e.albumCount;break;case 100:j8b=m8e.artists;cK0x=m8e.artistCount;break;case 1e3:j8b=m8e.playlists;cK0x=m8e.playlistCount;break;case 1002:j8b=m8e.userprofiles;cK0x=m8e.userprofileCount;break;case 1004:j8b=m8e.mvs;cK0x=m8e.mvCount;break;case 1014:j8b=l8d.cah6b(m8e.videos,l8d.cav6p);cK0x=m8e.videoCount;break;case 1006:j8b=this.cej8b(m8e.songs,e8e.data.hlpretag,e8e.data.hlposttag);cK0x=m8e.songCount;break;case 1009:var rW6Q=m8e.djRadios;if(!!rW6Q){k8c.bf9W(rW6Q,function(C9t,r8j,cgy9p){C9t.xid=C9t.id;C9t.id=C9t.id+"_rad"});if(rW6Q.length){this.tA7t("radio_search-"+e8e.data.s,rW6Q)}}cK0x=Math.min(m8e.djprogramCount,500);j8b=m8e.djprograms||[];if(e8e.data.isPub){k8c.oB5G(rW6Q,function(C9t,r8j,cgy9p){C9t.stype=1;j8b.unshift(C9t)});cK0x=Math.min(j8b.length,500)}break}this.z9q("onsearchload",T9K);if(j8b&&j8b.length){for(var i=0;i<gz2x;i++){if(i<j8b.length){iq3x.push(j8b[i])}else{iq3x.push(null)}}}return{more:!0,total:Math.min(cK0x||0,qY5d.length<3?500:5e3),list:iq3x}},onerror:function(T9K,e8e){e8e.onload(e8e,[]);if(k8c.he2x(e8e.onerror)){e8e.onerror(T9K)}}}});q8i.IA3x=NEJ.C();b8h=q8i.IA3x.M9D(q8i.ia2x);b8h.cF0x=function(){this.cO0x()};b8h.cgt9k=function(K9B,e8e){if(!K9B)return;if(!!this.ceC8u)v9m.le3x(this.ceC8u);this.ceC8u=this.cr0x("search-suggest",NEJ.X({data:{s:K9B,limit:8}},e8e))};b8h.cgr8j=function(K9B,e8e){if(!K9B)return;this.cr0x("search-multimatch",NEJ.X({data:{s:K9B}},e8e))};b8h.cej8b=function(){var cgq8i=function(ih2x,ceI8A,ceJ8B){var cgc8U=ih2x.match(new RegExp(ceI8A+"(.+?)"+ceJ8B,"gi")),cp0x=0;k8c.bf9W(cgc8U,function(p8h){cp0x+=p8h.replace(new RegExp(ceI8A,"g"),"").replace(new RegExp(ceJ8B,"g"),"").length});return cp0x};return function(jy3x,cgb8T,cfZ8R){var ceY8Q=[];k8c.bf9W(jy3x,function(bn9e,bc9T){bn9e=l8d.BM1x(bn9e);var bjn2x=bn9e.lyrics||[],do1x=bjn2x.length,kP3x=0,cK0x=4,bjq2x={l:0,v:0},bFh8Z;if(do1x>4){k8c.bf9W(bjn2x,function(ih2x,r8j){var cfd8V=cgq8i(ih2x,cgb8T,cfZ8R);if(cfd8V>bjq2x.v){bjq2x.v=cfd8V;bjq2x.l=r8j}});kP3x=bjq2x.l;kP3x=Math.max(kP3x,0);bFh8Z=do1x-kP3x-4;if(bFh8Z<0)kP3x+=bFh8Z;bn9e.lrcAbstractEnd=kP3x+cK0x-1}else{bn9e.lrcAbstractEnd=do1x-1}bn9e.lrcAbstractStart=kP3x;bn9e.indexId=(bjn2x&&bjn2x.length?"L":"NL")+bn9e.id;ceY8Q.push(bn9e)});return ceY8Q}}();b8h.cgA9r=function(t8l){switch(t8l){case 1:return"song";break;case 100:return"artist";break;case 10:return"album";break;case 1004:return"mv";break;case 1014:return"video";break;case 1006:return"lyric";break;case 1e3:return"list";break;case 1009:return"djradio";break;case 1002:return"user";break;default:return"suggest";break}}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),v9m=c8g("nej.j"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),E9v=c8g("nm.m"),n8f=c8g("nm.l"),dE1x=c8g("nm.i"),N9E=c8g("nm.m.sch"),b8h,L9C;var bjK2x={songs:1,artists:100,albums:10,playlists:1e3,mvs:1004};N9E.baJ9A=NEJ.C();b8h=N9E.baJ9A.M9D(G9x.cS1x);b8h.cF0x=function(g8c){this.cO0x();this.bY0x(g8c);this.U9L=q8i.IA3x.fZ2x()};b8h.bY0x=function(g8c){this.o8g=g8c;var j8b=a7h.F9w(g8c,"j-flag");this.fs1x=j8b[0];this.bFn8f=j8b[1];this.cI0x=j8b[2];this.oT5Y=j8b[3];h8b.s8k(this.fs1x,"input",this.gM2x.f8d(this));h8b.s8k(this.fs1x,"keyup",this.gM2x.f8d(this));h8b.s8k(this.fs1x,"focus",this.hs2x.f8d(this));h8b.s8k(this.bFn8f,"click",this.hs2x.f8d(this));h8b.s8k(this.fs1x,"blur",this.bFp8h.f8d(this));h8b.s8k(this.cI0x,"click",this.bjY2x.f8d(this));h8b.s8k(this.o8g,"keydown",this.bFq8i.f8d(this));h8b.s8k(this.o8g,"keypress",this.bkc2x.f8d(this));h8b.s8k(this.oT5Y,"mouseover",this.baW9N.f8d(this));h8b.s8k(this.oT5Y,"mouseout",this.baW9N.f8d(this));if(this.fs1x.value){this.fs1x.value=""}if(this.fs1x.style.opacity!=null){this.fs1x.style.opacity=1}};b8h.gM2x=function(d8f){if(d8f.type=="keyup"&&d8f.keyCode==8||d8f.keyCode==46){this.KC3x()}else if(d8f.type=="input"||d8f.type=="propertychange"){setTimeout(this.KC3x.f8d(this),0)}};b8h.hs2x=function(){this.CX1x(this.bFn8f,!1);a7h.w9n(this.o8g,"m-srch-fcs");this.fs1x.focus();this.KC3x();a7h.w9n((a7h.F9w("g-topbar","j-showoff")||[])[0],"f-hide")};b8h.bFp8h=function(){if(!this.fs1x.value){this.CX1x(this.bFn8f,!0)}var Hk2x=a7h.F9w(this.oT5Y,"slt");if(this.bkm3x(this.oT5Y)&&Hk2x.length>0&&a7h.u9l(Hk2x[0],"type")){var hR2x=Hk2x[0].href;if(/#\/(song|album|artist|playlist)\?id=(\d+)/.test(hR2x)){window.log("search",{rid:RegExp.$2,type:RegExp.$1,keyword:this.fs1x.value})}this.bFr8j(Hk2x[0].href)}this.CX1x(this.oT5Y,!1);a7h.y9p(this.o8g,"m-srch-fcs")};b8h.CX1x=function(g8c,mR4V){a7h.bd9U(g8c,"display",!mR4V?"none":"")};b8h.bkm3x=function(g8c){return a7h.dr1x(g8c,"display")!="none"};b8h.KC3x=function(){var cfJ8B=function(iG3x){iG3x=k8c.EA1x(iG3x);var eN1x=this.o8g.clientWidth>250?41:17;if(l8d.Vo7h(iG3x)>eN1x){iG3x=l8d.Dv1x(iG3x,eN1x)+"..."}return k8c.dP1x(iG3x)};var bks3x=function(m8e){return m8e.songs&&m8e.songs.length||m8e.albums&&m8e.albums.length||m8e.artists&&m8e.artists.length||m8e.playlists&&m8e.playlists.length};var oV5a=function(vq8i,d8f){if(!l8d.bVL5Q(this.fs1x)||l8d.lw4A(this.fs1x.value)){this.CX1x(this.oT5Y,!1);return}d8f.keyword=k8c.dP1x(vq8i);var ek1x=a7h.cg0x("m-search-suggest",d8f,{mark:l8d.cky0x.eS1x(this,vq8i),cutStr:cfJ8B.f8d(this)}),wm8e=d8f.result.order;this.oT5Y.innerHTML=ek1x;this.CX1x(this.oT5Y,bks3x(d8f.result)?!0:!1);if(!!wm8e&&!!wm8e.length&&bjK2x[wm8e[0]]){this.bFw8o={keyword:vq8i,type:bjK2x[wm8e[0]]}}};var cfI8A=function(){this.CX1x(this.oT5Y,!1);return};return function(){var C9t=this.fs1x.value;if(l8d.lw4A(C9t)){this.CX1x(this.oT5Y,!1);return}this.U9L.cgt9k(C9t,{onload:oV5a.f8d(this,C9t),onForbidden:cfI8A.f8d(this)})}}();b8h.bkc2x=function(d8f){if(d8f.keyCode!=13)return;var Hk2x=a7h.F9w(this.oT5Y,"slt");if(this.bkm3x(this.oT5Y)&&Hk2x.length>0){this.bFr8j(Hk2x[0].href);this.CX1x(this.oT5Y,!1);return}this.bjY2x();this.CX1x(this.oT5Y,!1)};b8h.bFq8i=function(d8f){if(!this.bkm3x(this.oT5Y))return;var j8b=a7h.F9w(this.oT5Y,"xtag"),do1x=j8b.length,r8j=k8c.dw1x(j8b,function(p8h){return a7h.bG9x(p8h,"slt")});switch(d8f.keyCode){case 38:if(r8j>=0)a7h.y9p(j8b[r8j],"slt");a7h.w9n(j8b[r8j<=0?do1x-1:r8j-1],"slt");break;case 40:if(r8j>=0)a7h.y9p(j8b[r8j],"slt");a7h.w9n(j8b[(r8j+1)%do1x],"slt");break}};b8h.baW9N=function(d8f){if(!this.bkm3x(this.oT5Y))return;var baX9O,H9y=h8b.ba9R(d8f),j8b=a7h.F9w(this.oT5Y,"xtag");if(H9y.tagName.toLowerCase()=="a")baX9O=H9y;else if(H9y.parentNode.tagName.toLowerCase()=="a")baX9O=H9y.parentNode;if(!baX9O)return;k8c.bf9W(j8b,function(p8h){a7h.y9p(p8h,"slt");a7h.u9l(p8h,"type","")});if(d8f.type=="mouseout")return;a7h.w9n(baX9O,"slt");a7h.u9l(baX9O,"type","mouse")};b8h.bjY2x=function(){var co0x=location.hash,r8j=co0x.indexOf("?"),bx9o=k8c.hb2x(co0x.substring(r8j+1));bx9o.s=this.fs1x.value;if(l8d.lw4A(bx9o.s))return;if(!bx9o.type&&this.bFw8o&&this.bFw8o.keyword==bx9o.s){bx9o.type=this.bFw8o.type}this.bFr8j("/search/#/?"+k8c.cJ0x(bx9o));this.fs1x.blur()};b8h.bFr8j=function(Z9Q){if(location.dispatch2){location.dispatch2(Z9Q)}else{location.href=Z9Q}};N9E.baJ9A.cfM8E=function(){var j8b=a7h.F9w(document.body,"j-suggest");k8c.bf9W(j8b,function(p8h){new N9E.baJ9A(p8h)})};N9E.baJ9A.cfM8E()})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,G9x=c8g("nej.ut"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),v9m=c8g("nej.j"),q8i=c8g("nm.d"),b8h;q8i.fF2x({"mv_artist-list":{url:"/api/artist/mvs",type:"get",format:function(T9K){return{total:T9K.size||0,list:T9K.mvs||[]}}},"album_artist-list":{url:"/api/artist/albums/{id}",type:"get",format:function(T9K){return{total:T9K.size||0,list:T9K.hotAlbums||[]}}},"ydcailing_post-list":{url:"/api/cailing/all",type:"POST",format:function(T9K){return T9K.result.songs}},"wo-list":{url:"/api/unicom/wo/content",format:function(T9K,e8e){if(e8e.offset==0){var rG6A=T9K.data[0];this.z9q("onfirstload",rG6A);T9K.data.splice(0,1);return T9K.data}else{return T9K.data}}}});q8i.Hh2x=NEJ.C();b8h=q8i.Hh2x.M9D(q8i.ia2x);b8h.cF0x=function(){this.cO0x()};b8h.bFm8e=function(){var uL8D="LOCAL_FLAG";return function(t8l,cfQ8I){var i8a=this.Lq4u(uL8D,{});if(i8a[t8l]){return true}else{if(!cfQ8I){i8a[t8l]=true;this.yO0x(uL8D,i8a)}return false}}}()})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),k8c=c8g("nej.u"),P9G=c8g("nej.ut"),bFi8a;if(!!P9G.pH5M)return;P9G.pH5M=NEJ.C();bFi8a=P9G.pH5M.M9D(P9G.cS1x);bFi8a.bp9g=function(){var cfR8J=function(d8f){d8f.matched=d8f.source==d8f.target};return function(e8e){e8e.oncheck=e8e.oncheck||cfR8J;this.bq9h(e8e);this.bX0x=e8e.list;this.ji3x=e8e.dataset||"id";this.lO4S=e8e.selected||"js-selected"}}();bFi8a.pv5A=function(C9t){var H9y,d8f={target:C9t};k8c.bf9W(this.bX0x,function(g8c){delete d8f.matched;d8f.source=a7h.u9l(g8c,this.ji3x);this.z9q("oncheck",d8f);if(!d8f.matched){a7h.y9p(g8c,this.lO4S)}else{H9y=g8c;a7h.w9n(g8c,this.lO4S)}},this);return H9y}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,a7h=c8g("nej.e"),P9G=c8g("nej.ut"),qZ5e;if(!!P9G.dp1x)return;P9G.dp1x=NEJ.C();qZ5e=P9G.dp1x.M9D(P9G.cS1x);qZ5e.cF0x=function(){this.jr3x={};this.cO0x();this.bK9B()};qZ5e.bp9g=function(e8e){this.bq9h(e8e);this.bFg8Y=e8e.umi||"";this.GC2x=e8e.dispatcher;this.Rl6f=e8e.composite||be9V;this.bpI4M({onshow:this.fr1x.f8d(this),onhide:this.lu4y.f8d(this),onrefresh:this.eJ1x.f8d(this),onmessage:this.sP6J.f8d(this),onbeforehide:this.cfX8P.f8d(this)})};qZ5e.bC9t=function(){delete this.bFg8Y;this.jr3x={};this.bJ9A()};qZ5e.ya9R=function(d8f){if(!!d8f)d8f.stopped=!0};qZ5e.bK9B=bs9j;qZ5e.fr1x=bs9j;qZ5e.lu4y=bs9j;qZ5e.eJ1x=bs9j;qZ5e.sP6J=bs9j;qZ5e.cfX8P=bs9j;qZ5e.oF5K=function(ow5B,bF9w,ep1x){this.GC2x.bFd8V({to:ow5B,mode:ep1x||0,data:bF9w,from:this.bFg8Y})};qZ5e.cYT6N=function(t8l,i8a){this.GC2x.Gy2x(t8l,{from:this.bFg8Y,data:i8a})};qZ5e.cYS6M=function(){this.GC2x.oC5H.apply(this.GC2x,arguments)};qZ5e.cgn8f=function(){return this.jr3x};a7h.bbt0x=function(){if(!!window.dispatcher){dispatcher.ceF8x.apply(dispatcher,arguments)}}})();
(function(){var c8g=NEJ.P,bs9j=NEJ.F,be9V=NEJ.O,a7h=c8g("nej.e"),k8c=c8g("nej.u"),P9G=c8g("nej.ut"),AD0x;if(!!P9G.dy1x)return;P9G.dy1x=NEJ.C();AD0x=P9G.dy1x.M9D(P9G.dp1x);AD0x.cgs9j=function(e8e){var bI9z;if(!bI9z){var i8a=e8e.input||be9V;bI9z=a7h.B9s(i8a.parent)}if(!bI9z){var i8a=e8e.data||be9V;bI9z=a7h.B9s(i8a.parent)}if(!bI9z){bI9z=a7h.B9s(e8e.parent)}return bI9z};AD0x.fr1x=function(e8e){var bI9z=this.cgs9j(e8e);if(!!bI9z&&!!this.o8g)bI9z.appendChild(this.o8g);this.ha2x(e8e);this.cey8q("onshow",e8e);this.eJ1x(e8e)};AD0x.eJ1x=function(e8e){this.gt2x(e8e);this.cey8q("onrefresh",e8e)};AD0x.lu4y=function(){this.mr4v();this.cgw9n();a7h.nx4B(this.o8g)};AD0x.ces8k=function(){var hk2x=/^onshow|onrefresh|delay$/;return function(cq0x){return hk2x.test(cq0x)}}();AD0x.cer8j=bs9j;AD0x.cey8q=function(){var cep8h=function(bx9o,e8e,cq0x,ph5m){if(this.ces8k(ph5m))return;if(!!bx9o)cq0x+=(cq0x.indexOf("?")>1?"&":"?")+bx9o;var da1x=this.cer8j(ph5m,e8e)||{};da1x.location=e8e;da1x.parent=this.jr3x[ph5m];this.GC2x.jo3x(cq0x,{input:da1x})};return function(t8l,e8e){if(!e8e.nodelay){if(!!this.Rl6f.delay)return;var cem8e=this.Rl6f[t8l]||be9V;if(cem8e.delay)return}var bx9o=k8c.cJ0x(e8e.param)||"";if(t8l=="onrefresh"){k8c.eX1x(this.Rl6f,cep8h.f8d(this,bx9o,e8e))}k8c.eX1x(cem8e,cep8h.f8d(this,bx9o,e8e))}}();AD0x.cgw9n=function(){var EW2x=function(cq0x,ph5m){if(!this.ces8k(ph5m))this.GC2x.bu9l(cq0x)};return function(){k8c.eX1x(this.Rl6f,EW2x,this);k8c.eX1x(this.Rl6f.onshow,EW2x,this);k8c.eX1x(this.Rl6f.onrefresh,EW2x,this)}}()})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),G9x=c8g("nej.ut"),v9m=c8g("nej.j"),k8c=c8g("nej.u"),E9v=c8g("nm.m"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),b8h,L9C;E9v.ZX9O=NEJ.C();b8h=E9v.ZX9O.M9D(G9x.cS1x);b8h.cF0x=function(){this.cO0x();this.o8g=a7h.B9s("g-topbar");var j8b=a7h.F9w(this.o8g,"j-tflag");this.bEI8A=j8b[0];this.Iq3x=j8b[1];this.cee8W=j8b[2];this.bEE8w=j8b[3];this.cgI9z=G9x.pH5M.A9r({list:this.bEI8A.getElementsByTagName("a"),selected:"z-slt",dataset:"module"});this.bEA8s=G9x.pH5M.A9r({list:this.bEE8w.getElementsByTagName("a"),selected:"z-slt",dataset:"module"});this.ca0x([[this.o8g,"click",this.ZE9v.f8d(this)],[this.Iq3x,"click",this.cT1x.f8d(this)],[this.Iq3x,"mouseout",this.cdT7M.f8d(this,0)],[this.Iq3x,"mouseover",this.cdT7M.f8d(this,1)]]);window.scrollTopbar=this.cgM9D.f8d(this);window.matchNav=this.cdN7G.f8d(this);window.polling=this.xI9z.f8d(this);this.bEu8m=q8i.Hh2x.A9r();this.cgX9O();this.QR5W();var bx9o=k8c.hb2x(location.href.split("?")[1])||{};if(bx9o.market){a7h.B9s("topbar-download-link").href="/download?market="+bx9o.market}var bEt8l=a7h.F9w(this.o8g,"j-showoff");if(bEt8l&&!this.bEu8m.bFm8e("newMvSearch")){a7h.y9p(bEt8l[0],"f-hide");window.setTimeout(function(){a7h.w9n(bEt8l[0],"f-hide")},5e3)}l8d.kD3x()};b8h.xI9z=function(d8f){var co0x=l8d.Ov5A();if(!/^\/msg/.test(co0x)){var zm0x=0;zm0x+=d8f.comment;zm0x+=d8f.forward;zm0x+=d8f.msg;zm0x+=d8f.notice;if(zm0x>0){zm0x=zm0x>99?"99+":zm0x;this.Zq9h.innerText=zm0x;this.QP5U.innerText=zm0x;a7h.y9p(this.Zq9h,"f-hide");a7h.y9p(this.QP5U,"f-hide");this.bct0x=true}else{a7h.w9n(this.Zq9h,"f-hide");a7h.w9n(this.QP5U,"f-hide");this.bct0x=false}var fo1x="/at";if(d8f.notice)fo1x="/notify";if(d8f.comment)fo1x="/comment";if(d8f.msg>0)fo1x="/private";if(d8f.forward>0)fo1x="/at";this.QP5U.parentNode.href="/msg/#"+fo1x}else{this.QP5U.parentNode.href="javascript:;";a7h.w9n(this.Zq9h,"f-hide");a7h.w9n(this.QP5U,"f-hide");this.bct0x=false}var j8b=a7h.F9w(this.bEI8A,"j-t");if(!/^\/friend/.test(co0x)){if(j8b&&j8b.length){a7h.bd9U(j8b[0],"display",d8f.event>0?"":"none")}}else{a7h.bd9U(j8b[0],"display","none")}};b8h.cT1x=function(d8f){var g8c=h8b.ba9R(d8f,"d:action");if(g8c){switch(a7h.u9l(g8c,"action")){case"login":h8b.cv0x(d8f);var t8l=a7h.u9l(g8c,"type");if(t8l){if(t8l=="sina"||t8l=="tencent"){this.Ge2x=g8c.href;l8d.Fy2x(this.lS4W.f8d(this));this.Zf9W=top.open()}else top.login(t8l=="mobile"?0:3)}else{top.login()}break;case"logout":h8b.cv0x(d8f);top.logout();break;case"viewStore":if(!this.bEu8m.bFm8e("storeNew")){a7h.w9n(this.cYO6I,"f-vhide")}break;case"viewLevel":if(!this.bEu8m.bFm8e("levelNew")){a7h.w9n(this.cYN6H,"f-vhide")}break}}};b8h.lS4W=function(ct0x){this.Ge2x+="&checkToken="+ct0x||"";this.Zf9W.location.href=this.Ge2x};b8h.ZE9v=function(d8f){var g8c=h8b.ba9R(d8f,"d:action");if(!g8c)return;var X9O=a7h.u9l(g8c,"action");switch(X9O){case"bilog":var bEs8k=a7h.u9l(g8c,"logAction"),bEr8j=a7h.u9l(g8c,"logJson");window.log(bEs8k,bEr8j);break}};b8h.cdT7M=function(QC5H,d8f){if(this.bEq8i){this.bEq8i.style.display=!QC5H?"none":"";(QC5H||!this.bct0x?a7h.w9n:a7h.y9p).call(window,this.Zq9h,"f-hide")}};b8h.cgM9D=function(gE2x){a7h.bd9U(this.o8g,"top",-gE2x+"px")};b8h.cdN7G=function(fo1x,chd9U){this.cgI9z.pv5A(fo1x);if(fo1x=="discover"){a7h.w9n(this.cee8W,"f-hide");a7h.y9p(this.bEE8w,"f-hide");window.g_topBarHeight=105;this.bEA8s.pv5A(chd9U)}else{a7h.y9p(this.cee8W,"f-hide");a7h.w9n(this.bEE8w,"f-hide");window.g_topBarHeight=75}};b8h.cgX9O=function(){var eL1x=a7h.B9s("g_iframe");if(!eL1x)return;var gY2x=eL1x.contentWindow.document.getElementById("g_top");this.cdN7G(a7h.u9l(gY2x,"module"),a7h.u9l(gY2x,"sub"))};var bcM0x={},cdC7v=/\/\/\w+/,che9V={avatarUrl:function(a,b){a=a||"";b=b||"";return a.replace(cdC7v,"")!==b.replace(cdC7v,"")},userId:true,nickname:true,reward:true,topic:true,djStatus:true};b8h.chf9W=function(xm9d){var pE5J=k8c.dw1x(che9V,function(C9t,K9B){if(k8c.he2x(C9t)){return C9t(xm9d[K9B],bcM0x[K9B])}else{return xm9d[K9B]!==bcM0x[K9B]}});bcM0x=xm9d;return xm9d[pE5J]};b8h.QR5W=function(){var dA1x=GUser||{},chp9g=GUserAcc||{};if(dA1x&&dA1x.userId){var cdp7i=NEJ.X(dA1x,chp9g);if(this.chf9W(cdp7i)){a7h.dJ1x(this.Iq3x,"m-topbar-user-login",cdp7i)}}else{bcM0x={};this.Iq3x.innerHTML=a7h.iQ3x("m-topbar-user-unlogin");var j8b=a7h.F9w(this.bEI8A,"j-t");a7h.bd9U(j8b[0],"display","none")}a7h.y9p(this.Iq3x,"f-hide");this.bct0x=false;var j8b=a7h.F9w(this.Iq3x,"j-uflag");if(dA1x&&dA1x.userId){this.Zq9h=j8b.shift();this.bEq8i=j8b.shift();this.QP5U=j8b.shift()}else{this.bEq8i=j8b.shift()}}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,h8b=c8g("nej.v"),G9x=c8g("nej.ut"),q8i=c8g("nm.d"),b8h,L9C;q8i.fF2x({"polling-get":{type:"GET",url:"/api/pl/count",format:function(T9K){h8b.z9q(q8i.vx8p,"message",T9K)}}});q8i.vx8p=NEJ.C();b8h=q8i.vx8p.M9D(q8i.ia2x);b8h.bdc0x=function(){this.cr0x("polling-get",{})};b8h.xh9Y=function(){var ew1x;return function(){if(!!ew1x)return;ew1x=window.setInterval(this.bdc0x.f8d(this),1e5);this.bdc0x()}}();G9x.fY2x.A9r({event:"message",element:q8i.vx8p})})();
var io="undefined"===typeof module?{}:module.exports;(function(){(function(exports,global){var io=exports;io.version="0.9.16";io.protocol=1;io.transports=[];io.j=[];io.sockets={};io.connect=function(host,details){var uri=io.util.parseUri(host),uuri,socket;if(global&&global.location){uri.protocol=uri.protocol||global.location.protocol.slice(0,-1);uri.host=uri.host||(global.document?global.document.domain:global.location.hostname);uri.port=uri.port||global.location.port}uuri=io.util.uniqueUri(uri);var options={host:uri.host,secure:"https"==uri.protocol,port:uri.port||("https"==uri.protocol?443:80),query:uri.query||""};io.util.merge(options,details);if(options["force new connection"]||!io.sockets[uuri]){socket=new io.Socket(options)}if(!options["force new connection"]&&socket){io.sockets[uuri]=socket}socket=socket||io.sockets[uuri];return socket.of(uri.path.length>1?uri.path:"")}})("object"===typeof module?module.exports:this.io={},this);(function(exports,global){var util=exports.util={};var re=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;var parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];util.parseUri=function(str){var m=re.exec(str||""),uri={},i=14;while(i--){uri[parts[i]]=m[i]||""}return uri};util.uniqueUri=function(uri){var protocol=uri.protocol,host=uri.host,port=uri.port;if("document"in global){host=host||document.domain;port=port||(protocol=="https"&&document.location.protocol!=="https:"?443:document.location.port)}else{host=host||"localhost";if(!port&&protocol=="https"){port=443}}return(protocol||"http")+"://"+host+":"+(port||80)};util.query=function(base,addition){var query=util.chunkQuery(base||""),components=[];util.merge(query,util.chunkQuery(addition||""));for(var part in query){if(query.hasOwnProperty(part)){components.push(part+"="+query[part])}}return components.length?"?"+components.join("&"):""};util.chunkQuery=function(qs){var query={},params=qs.split("&"),i=0,l=params.length,kv;for(;i<l;++i){kv=params[i].split("=");if(kv[0]){query[kv[0]]=kv[1]}}return query};var pageLoaded=false;util.load=function(fn){if("document"in global&&document.readyState==="complete"||pageLoaded){return fn()}util.on(global,"load",fn,false)};util.on=function(element,event,fn,capture){if(element.attachEvent){element.attachEvent("on"+event,fn)}else if(element.addEventListener){element.addEventListener(event,fn,capture)}};util.request=function(xdomain){if(xdomain&&"undefined"!=typeof XDomainRequest&&!util.ua.hasCORS){return new XDomainRequest}if("undefined"!=typeof XMLHttpRequest&&(!xdomain||util.ua.hasCORS)){return new XMLHttpRequest}if(!xdomain){try{return new(window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}return null};if("undefined"!=typeof window){util.load(function(){pageLoaded=true})}util.defer=function(fn){if(!util.ua.webkit||"undefined"!=typeof importScripts){return fn()}util.load(function(){setTimeout(fn,100)})};util.merge=function merge(target,additional,deep,lastseen){var seen=lastseen||[],depth=typeof deep=="undefined"?2:deep,prop;for(prop in additional){if(additional.hasOwnProperty(prop)&&util.indexOf(seen,prop)<0){if(typeof target[prop]!=="object"||!depth){target[prop]=additional[prop];seen.push(additional[prop])}else{util.merge(target[prop],additional[prop],depth-1,seen)}}}return target};util.mixin=function(ctor,ctor2){util.merge(ctor.prototype,ctor2.prototype)};util.inherit=function(ctor,ctor2){function f(){}f.prototype=ctor2.prototype;ctor.prototype=new f};util.isArray=Array.isArray||function(obj){return Object.prototype.toString.call(obj)==="[object Array]"};util.intersect=function(arr,arr2){var ret=[],longest=arr.length>arr2.length?arr:arr2,shortest=arr.length>arr2.length?arr2:arr;for(var i=0,l=shortest.length;i<l;i++){if(~util.indexOf(longest,shortest[i]))ret.push(shortest[i])}return ret};util.indexOf=function(arr,o,i){for(var j=arr.length,i=i<0?i+j<0?0:i+j:i||0;i<j&&arr[i]!==o;i++){}return j<=i?-1:i};util.toArray=function(enu){var arr=[];for(var i=0,l=enu.length;i<l;i++)arr.push(enu[i]);return arr};util.ua={};util.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(e){return false}return a.withCredentials!=undefined}();util.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);util.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)})("undefined"!=typeof io?io:module.exports,this);(function(exports,io){exports.EventEmitter=EventEmitter;function EventEmitter(){}EventEmitter.prototype.on=function(name,fn){if(!this.$events){this.$events={}}if(!this.$events[name]){this.$events[name]=fn}else if(io.util.isArray(this.$events[name])){this.$events[name].push(fn)}else{this.$events[name]=[this.$events[name],fn]}return this};EventEmitter.prototype.addListener=EventEmitter.prototype.on;EventEmitter.prototype.once=function(name,fn){var self=this;function on(){self.removeListener(name,on);fn.apply(this,arguments)}on.listener=fn;this.on(name,on);return this};EventEmitter.prototype.removeListener=function(name,fn){if(this.$events&&this.$events[name]){var list=this.$events[name];if(io.util.isArray(list)){var pos=-1;for(var i=0,l=list.length;i<l;i++){if(list[i]===fn||list[i].listener&&list[i].listener===fn){pos=i;break}}if(pos<0){return this}list.splice(pos,1);if(!list.length){delete this.$events[name]}}else if(list===fn||list.listener&&list.listener===fn){delete this.$events[name]}}return this};EventEmitter.prototype.removeAllListeners=function(name){if(name===undefined){this.$events={};return this}if(this.$events&&this.$events[name]){this.$events[name]=null}return this};EventEmitter.prototype.listeners=function(name){if(!this.$events){this.$events={}}if(!this.$events[name]){this.$events[name]=[]}if(!io.util.isArray(this.$events[name])){this.$events[name]=[this.$events[name]]}return this.$events[name]};EventEmitter.prototype.emit=function(name){if(!this.$events){return false}var handler=this.$events[name];if(!handler){return false}var args=Array.prototype.slice.call(arguments,1);if("function"==typeof handler){handler.apply(this,args)}else if(io.util.isArray(handler)){var listeners=handler.slice();for(var i=0,l=listeners.length;i<l;i++){listeners[i].apply(this,args)}}else{return false}return true}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(exports,nativeJSON){"use strict";if(nativeJSON&&nativeJSON.parse){return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify}}var JSON=exports.JSON={};function f(n){return n<10?"0"+n:n}function date(d,key){return isFinite(d.valueOf())?d.getUTCFullYear()+"-"+f(d.getUTCMonth()+1)+"-"+f(d.getUTCDate())+"T"+f(d.getUTCHours())+":"+f(d.getUTCMinutes())+":"+f(d.getUTCSeconds())+"Z":null}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value instanceof Date){value=date(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else if(typeof space==="string"){indent=space}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})};JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}})("undefined"!=typeof io?io:module.exports,typeof JSON!=="undefined"?JSON:undefined);(function(exports,io){var parser=exports.parser={};var packets=parser.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"];var reasons=parser.reasons=["transport not supported","client not handshaken","unauthorized"];var advice=parser.advice=["reconnect"];var JSON=io.JSON,indexOf=io.util.indexOf;parser.encodePacket=function(packet){var type=indexOf(packets,packet.type),id=packet.id||"",endpoint=packet.endpoint||"",ack=packet.ack,data=null;switch(packet.type){case"error":var reason=packet.reason?indexOf(reasons,packet.reason):"",adv=packet.advice?indexOf(advice,packet.advice):"";if(reason!==""||adv!=="")data=reason+(adv!==""?"+"+adv:"");break;case"message":if(packet.data!=="")data=packet.data;break;case"event":var ev={name:packet.name};if(packet.args&&packet.args.length){ev.args=packet.args}data=JSON.stringify(ev);break;case"json":data=JSON.stringify(packet.data);break;case"connect":if(packet.qs)data=packet.qs;break;case"ack":data=packet.ackId+(packet.args&&packet.args.length?"+"+JSON.stringify(packet.args):"");break}var encoded=[type,id+(ack=="data"?"+":""),endpoint];if(data!==null&&data!==undefined)encoded.push(data);return encoded.join(":")};parser.encodePayload=function(packets){var decoded="";if(packets.length==1)return packets[0];for(var i=0,l=packets.length;i<l;i++){var packet=packets[i];decoded+="�"+packet.length+"�"+packets[i]}return decoded};var regexp=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;parser.decodePacket=function(data){var pieces=data.match(regexp);if(!pieces)return{};var id=pieces[2]||"",data=pieces[5]||"",packet={type:packets[pieces[1]],endpoint:pieces[4]||""};if(id){packet.id=id;if(pieces[3])packet.ack="data";else packet.ack=true}switch(packet.type){case"error":var pieces=data.split("+");packet.reason=reasons[pieces[0]]||"";packet.advice=advice[pieces[1]]||"";break;case"message":packet.data=data||"";break;case"event":try{var opts=JSON.parse(data);packet.name=opts.name;packet.args=opts.args}catch(e){}packet.args=packet.args||[];break;case"json":try{packet.data=JSON.parse(data)}catch(e){}break;case"connect":packet.qs=data||"";break;case"ack":var pieces=data.match(/^([0-9]+)(\+)?(.*)/);if(pieces){packet.ackId=pieces[1];packet.args=[];if(pieces[3]){try{packet.args=pieces[3]?JSON.parse(pieces[3]):[]}catch(e){}}}break;case"disconnect":case"heartbeat":break}return packet};parser.decodePayload=function(data){if(data.charAt(0)=="�"){var ret=[];for(var i=1,length="";i<data.length;i++){if(data.charAt(i)=="�"){ret.push(parser.decodePacket(data.substr(i+1).substr(0,length)));i+=Number(length)+1;length=""}else{length+=data.charAt(i)}}return ret}else{return[parser.decodePacket(data)]}}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(exports,io){exports.Transport=Transport;function Transport(socket,sessid){this.socket=socket;this.sessid=sessid}io.util.mixin(Transport,io.EventEmitter);Transport.prototype.heartbeats=function(){return true};Transport.prototype.onData=function(data){this.clearCloseTimeout();if(this.socket.connected||this.socket.connecting||this.socket.reconnecting){this.setCloseTimeout()}if(data!==""){var msgs=io.parser.decodePayload(data);if(msgs&&msgs.length){for(var i=0,l=msgs.length;i<l;i++){this.onPacket(msgs[i])}}}return this};Transport.prototype.onPacket=function(packet){this.socket.setHeartbeatTimeout();if(packet.type=="heartbeat"){return this.onHeartbeat()}if(packet.type=="connect"&&packet.endpoint==""){this.onConnect()}if(packet.type=="error"&&packet.advice=="reconnect"){this.isOpen=false}this.socket.onPacket(packet);return this};Transport.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var self=this;this.closeTimeout=setTimeout(function(){self.onDisconnect()},this.socket.closeTimeout)}};Transport.prototype.onDisconnect=function(){if(this.isOpen)this.close();this.clearTimeouts();this.socket.onDisconnect();return this};Transport.prototype.onConnect=function(){this.socket.onConnect();return this};Transport.prototype.clearCloseTimeout=function(){if(this.closeTimeout){clearTimeout(this.closeTimeout);this.closeTimeout=null}};Transport.prototype.clearTimeouts=function(){this.clearCloseTimeout();if(this.reopenTimeout){clearTimeout(this.reopenTimeout)}};Transport.prototype.packet=function(packet){this.send(io.parser.encodePacket(packet))};Transport.prototype.onHeartbeat=function(heartbeat){this.packet({type:"heartbeat"})};Transport.prototype.onOpen=function(){this.isOpen=true;this.clearCloseTimeout();this.socket.onOpen()};Transport.prototype.onClose=function(){var self=this;this.isOpen=false;this.socket.onClose();this.onDisconnect()};Transport.prototype.prepareUrl=function(){var options=this.socket.options;return this.scheme()+"://"+options.host+":"+options.port+"/"+options.resource+"/"+io.protocol+"/"+this.name+"/"+this.sessid};Transport.prototype.ready=function(socket,fn){fn.call(this)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(exports,io,global){exports.Socket=Socket;function Socket(options){this.options={port:80,secure:false,document:"document"in global?document:false,resource:"socket.io",transports:io.transports,"connect timeout":1e4,"try multiple transports":true,reconnect:true,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":false,"auto connect":true,"flash policy port":10843,manualFlush:false};io.util.merge(this.options,options);this.connected=false;this.open=false;this.connecting=false;this.reconnecting=false;this.namespaces={};this.buffer=[];this.doBuffer=false;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||io.util.ua.hasCORS)){var self=this;io.util.on(global,"beforeunload",function(){self.disconnectSync()},false)}if(this.options["auto connect"]){this.connect()}}io.util.mixin(Socket,io.EventEmitter);Socket.prototype.of=function(name){if(!this.namespaces[name]){this.namespaces[name]=new io.SocketNamespace(this,name);if(name!==""){this.namespaces[name].packet({type:"connect"})}}return this.namespaces[name]};Socket.prototype.publish=function(){this.emit.apply(this,arguments);var nsp;for(var i in this.namespaces){if(this.namespaces.hasOwnProperty(i)){nsp=this.of(i);nsp.$emit.apply(nsp,arguments)}}};function empty(){}Socket.prototype.handshake=function(fn){var self=this,options=this.options;function complete(data){if(data instanceof Error){self.connecting=false;self.onError(data.message)}else{fn.apply(null,data.split(":"))}}var url=["http"+(options.secure?"s":"")+":/",options.host+":"+options.port,options.resource,io.protocol,io.util.query(this.options.query,"t="+ +(new Date))].join("/");if(this.isXDomain()&&!io.util.ua.hasCORS){var insertAt=document.getElementsByTagName("script")[0],script=document.createElement("script");script.src=url+"&jsonp="+io.j.length;insertAt.parentNode.insertBefore(script,insertAt);io.j.push(function(data){complete(data);script.parentNode.removeChild(script)})}else{var xhr=io.util.request();xhr.open("GET",url,true);if(this.isXDomain()){xhr.withCredentials=true}xhr.onreadystatechange=function(){if(xhr.readyState==4){xhr.onreadystatechange=empty;if(xhr.status==200){complete(xhr.responseText)}else if(xhr.status==403){self.onError(xhr.responseText)}else{self.connecting=false;!self.reconnecting&&self.onError(xhr.responseText)}}};xhr.send(null)}};Socket.prototype.getTransport=function(override){var transports=override||this.transports,match;for(var i=0,transport;transport=transports[i];i++){if(io.Transport[transport]&&io.Transport[transport].check(this)&&(!this.isXDomain()||io.Transport[transport].xdomainCheck(this))){return new io.Transport[transport](this,this.sessionid)}}return null};Socket.prototype.connect=function(fn){if(this.connecting&&this.transports!="jsonp-polling"){return this}var self=this;self.connecting=true;this.handshake(function(sid,heartbeat,close,transports){self.sessionid=sid;self.closeTimeout=close*1e3;self.heartbeatTimeout=heartbeat*1e3;var check=function(){return"WebSocket"in global&&!("__addTask"in WebSocket)||"MozWebSocket"in global};if(!check()){transports="jsonp-polling"}if(!self.transports)self.transports=self.origTransports=transports?io.util.intersect(transports.split(","),self.options.transports):self.options.transports;self.setHeartbeatTimeout();function connect(transports){if(self.transport)self.transport.clearTimeouts();self.transport=self.getTransport(transports);if(!self.transport)return self.publish("connect_failed");self.transport.ready(self,function(){self.connecting=true;self.publish("connecting",self.transport.name);self.transport.open();if(self.options["connect timeout"]){self.connectTimeoutTimer=setTimeout(function(){if(!self.connected){self.connecting=false;if(self.options["try multiple transports"]){var remaining=self.transports;while(remaining.length>0&&remaining.splice(0,1)[0]!=self.transport.name){}if(remaining.length){connect(remaining)}else{self.publish("connect_failed")}}}},self.options["connect timeout"])}})}connect(self.transports);self.once("connect",function(){clearTimeout(self.connectTimeoutTimer);fn&&typeof fn=="function"&&fn()})});return this};Socket.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);if(this.transport&&!this.transport.heartbeats())return;var self=this;this.heartbeatTimeoutTimer=setTimeout(function(){self.transport.onClose()},this.heartbeatTimeout)};Socket.prototype.packet=function(data){if(this.connected&&!this.doBuffer){this.transport.packet(data)}else{this.buffer.push(data)}return this};Socket.prototype.setBuffer=function(v){this.doBuffer=v;if(!v&&this.connected&&this.buffer.length){if(!this.options["manualFlush"]){this.flushBuffer()}}};Socket.prototype.flushBuffer=function(){this.transport.payload(this.buffer);this.buffer=[]};Socket.prototype.disconnect=function(){if(this.connected||this.connecting){if(this.open){this.of("").packet({type:"disconnect"})}this.onDisconnect("booted")}return this};Socket.prototype.disconnectSync=function(){var xhr=io.util.request();var uri=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,io.protocol,"",this.sessionid].join("/")+"/?disconnect=1";xhr.open("GET",uri,false);xhr.send(null);this.onDisconnect("booted")};Socket.prototype.isXDomain=function(){var port=global.location.port||("https:"==global.location.protocol?443:80);return this.options.host!==global.location.hostname||this.options.port!=port};Socket.prototype.onConnect=function(){if(!this.connected){this.connected=true;this.connecting=false;if(!this.doBuffer){this.setBuffer(false)}this.emit("connect")}};Socket.prototype.onOpen=function(){this.open=true};Socket.prototype.onClose=function(){this.open=false;clearTimeout(this.heartbeatTimeoutTimer)};Socket.prototype.onPacket=function(packet){this.of(packet.endpoint).onPacket(packet)};Socket.prototype.onError=function(err){if(err&&err.advice){if(err.advice==="reconnect"&&(this.connected||this.connecting)){this.disconnect();if(this.options.reconnect){this.reconnect()}}}this.publish("error",err&&err.reason?err.reason:err)};Socket.prototype.onDisconnect=function(reason){var wasConnected=this.connected,wasConnecting=this.connecting;this.connected=false;this.connecting=false;this.open=false;if(wasConnected||wasConnecting){this.transport.close();this.transport.clearTimeouts();if(wasConnected){this.publish("disconnect",reason);if("booted"!=reason&&this.options.reconnect&&!this.reconnecting){this.reconnect()}}}};Socket.prototype.reconnect=function(){this.reconnecting=true;this.reconnectionAttempts=0;this.reconnectionDelay=this.options["reconnection delay"];var self=this,maxAttempts=this.options["max reconnection attempts"],tryMultiple=this.options["try multiple transports"],limit=this.options["reconnection limit"];function reset(){if(self.connected){for(var i in self.namespaces){if(self.namespaces.hasOwnProperty(i)&&""!==i){self.namespaces[i].packet({type:"connect"})}}self.publish("reconnect",self.transport.name,self.reconnectionAttempts)}clearTimeout(self.reconnectionTimer);self.removeListener("connect_failed",maybeReconnect);self.removeListener("connect",maybeReconnect);self.reconnecting=false;delete self.reconnectionAttempts;delete self.reconnectionDelay;delete self.reconnectionTimer;delete self.redoTransports;self.options["try multiple transports"]=tryMultiple}function maybeReconnect(){if(!self.reconnecting){return}if(self.connected){return reset()}if(self.connecting&&self.reconnecting&&self.transports!="jsonp-polling"){return self.reconnectionTimer=setTimeout(maybeReconnect,1e3)}if(self.reconnectionAttempts++>=maxAttempts){if(!self.redoTransports){self.on("connect_failed",maybeReconnect);self.options["try multiple transports"]=true;self.transports=self.origTransports;self.transport=self.getTransport();self.redoTransports=true;self.connect()}else{self.publish("reconnect_failed");reset()}}else{if(self.reconnectionDelay<limit){self.reconnectionDelay*=2}self.connect();self.publish("reconnecting",self.reconnectionDelay,self.reconnectionAttempts);self.reconnectionTimer=setTimeout(maybeReconnect,self.reconnectionDelay)}}this.options["try multiple transports"]=false;this.reconnectionTimer=setTimeout(maybeReconnect,this.reconnectionDelay);this.on("connect",maybeReconnect)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(exports,io){exports.SocketNamespace=SocketNamespace;function SocketNamespace(socket,name){this.socket=socket;this.name=name||"";this.flags={};this.json=new Flag(this,"json");this.ackPackets=0;this.acks={}}io.util.mixin(SocketNamespace,io.EventEmitter);SocketNamespace.prototype.$emit=io.EventEmitter.prototype.emit;SocketNamespace.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};SocketNamespace.prototype.packet=function(packet){packet.endpoint=this.name;this.socket.packet(packet);this.flags={};return this};SocketNamespace.prototype.send=function(data,fn){var packet={type:this.flags.json?"json":"message",data:data};if("function"==typeof fn){packet.id=++this.ackPackets;packet.ack=true;this.acks[packet.id]=fn}return this.packet(packet)};SocketNamespace.prototype.emit=function(name){var args=Array.prototype.slice.call(arguments,1),lastArg=args[args.length-1],packet={type:"event",name:name};if("function"==typeof lastArg){packet.id=++this.ackPackets;packet.ack="data";this.acks[packet.id]=lastArg;args=args.slice(0,args.length-1)}packet.args=args;return this.packet(packet)};SocketNamespace.prototype.disconnect=function(){if(this.name===""){this.socket.disconnect()}else{this.packet({type:"disconnect"});this.$emit("disconnect")}return this};SocketNamespace.prototype.onPacket=function(packet){var self=this;function ack(){self.packet({type:"ack",args:io.util.toArray(arguments),ackId:packet.id})}switch(packet.type){case"connect":this.$emit("connect");break;case"disconnect":if(this.name===""){this.socket.onDisconnect(packet.reason||"booted")}else{this.$emit("disconnect",packet.reason)}break;case"message":case"json":var params=["message",packet.data];if(packet.ack=="data"){params.push(ack)}else if(packet.ack){this.packet({type:"ack",ackId:packet.id})}this.$emit.apply(this,params);break;case"event":var params=[packet.name].concat(packet.args);if(packet.ack=="data")params.push(ack);this.$emit.apply(this,params);break;case"ack":if(this.acks[packet.ackId]){this.acks[packet.ackId].apply(this,packet.args);delete this.acks[packet.ackId]}break;case"error":if(packet.advice){this.socket.onError(packet)}else{if(packet.reason=="unauthorized"){this.$emit("connect_failed",packet.reason)}else{this.$emit("error",packet.reason)}}break}};function Flag(nsp,name){this.namespace=nsp;this.name=name}Flag.prototype.send=function(){this.namespace.flags[this.name]=true;this.namespace.send.apply(this.namespace,arguments)};Flag.prototype.emit=function(){this.namespace.flags[this.name]=true;this.namespace.emit.apply(this.namespace,arguments)}})("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(exports,io,global){exports.websocket=WS;function WS(socket){io.Transport.apply(this,arguments)}io.util.inherit(WS,io.Transport);WS.prototype.name="websocket";WS.prototype.open=function(){var query=io.util.query(this.socket.options.query),self=this,Socket;if(!Socket){Socket=global.MozWebSocket||global.WebSocket}this.websocket=new Socket(this.prepareUrl()+query);this.websocket.onopen=function(){self.onOpen();self.socket.setBuffer(false)};this.websocket.onmessage=function(ev){self.onData(ev.data)};this.websocket.onclose=function(){self.onClose();self.socket.setBuffer(true)};this.websocket.onerror=function(e){self.onError(e)};return this};if(io.util.ua.iDevice){WS.prototype.send=function(data){var self=this;setTimeout(function(){self.websocket.send(data)},0);return this}}else{WS.prototype.send=function(data){this.websocket.send(data);return this}}WS.prototype.payload=function(arr){for(var i=0,l=arr.length;i<l;i++){this.packet(arr[i])}return this};WS.prototype.close=function(){this.websocket.close();return this};WS.prototype.onError=function(e){this.socket.onError(e)};WS.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};WS.check=function(){return"WebSocket"in global&&!("__addTask"in WebSocket)||"MozWebSocket"in global};WS.xdomainCheck=function(){return true};io.transports.push("websocket")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(exports,io){exports.flashsocket=Flashsocket;function Flashsocket(){io.Transport.websocket.apply(this,arguments)}io.util.inherit(Flashsocket,io.Transport.websocket);Flashsocket.prototype.name="flashsocket";Flashsocket.prototype.open=function(){var self=this,args=arguments;WebSocket.bdf0x(function(){io.Transport.websocket.prototype.open.apply(self,args)});return this};Flashsocket.prototype.send=function(){var self=this,args=arguments;WebSocket.bdf0x(function(){io.Transport.websocket.prototype.send.apply(self,args)});return this};Flashsocket.prototype.close=function(){WebSocket.Yy8q.length=0;io.Transport.websocket.prototype.close.call(this);return this};Flashsocket.prototype.ready=function(socket,fn){function init(){var options=socket.options,port=options["flash policy port"],path=["http"+(options.secure?"s":"")+":/",options.host+":"+options.port,options.resource,"static/flashsocket","WebSocketMain"+(socket.isXDomain()?"Insecure":"")+".swf"];if(!Flashsocket.loaded){if(typeof WEB_SOCKET_SWF_LOCATION==="undefined"){WEB_SOCKET_SWF_LOCATION=path.join("/")}if(port!==843){WebSocket.loadFlashPolicyFile("xmlsocket://"+options.host+":"+port)}WebSocket.bEi8a();Flashsocket.loaded=true}fn.call(self)}var self=this;if(document.body)return init();io.util.load(init)};Flashsocket.check=function(){if(typeof WebSocket=="undefined"||!("__initialize"in WebSocket)||!swfobject)return false;return swfobject.getFlashPlayerVersion().major>=10};Flashsocket.xdomainCheck=function(){return true};if(typeof window!="undefined"){WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=true}io.transports.push("flashsocket")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);if("undefined"!=typeof window){var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O[["Active"].concat("Object").join("X")]!=D){try{var ad=new(window[["Active"].concat("Object").join("X")])(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if(typeof j.readyState!=D&&j.readyState=="complete"||typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body)){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);aa.style.visibility="hidden";var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||!/%$/.test(aa.width)&&parseInt(aa.width,10)<310){aa.width="310"}if(typeof aa.height==D||!/%$/.test(aa.height)&&parseInt(aa.height,10)<137){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?["Active"].concat("").join("X"):"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return Y[0]>X[0]||Y[0]==X[0]&&Y[1]>X[1]||Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=ad&&typeof ad=="string"?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring(Y[X].indexOf("=")+1))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}()}(function(){if("undefined"==typeof window||window.WebSocket)return;var console=window.console;if(!console||!console.log||!console.error){console={log:function(){},error:function(){}}}if(!swfobject.hasFlashPlayerVersion("10.0.0")){console.error("Flash Player >= 10.0.0 is required.");return}if(location.protocol=="file:"){console.error("WARNING: web-socket-js doesn't work in file:///... URL "+"unless you set Flash Security Settings properly. "+"Open the page via Web server i.e. http://...")}WebSocket=function(url,protocols,proxyHost,proxyPort,headers){var self=this;self.hy2x=WebSocket.chH9y++;WebSocket.ccS7L[self.hy2x]=self;self.readyState=WebSocket.CONNECTING;self.bufferedAmount=0;self.no4s={};if(!protocols){protocols=[]}else if(typeof protocols=="string"){protocols=[protocols]}setTimeout(function(){WebSocket.bdf0x(function(){WebSocket.rp5u.create(self.hy2x,url,protocols,proxyHost||null,proxyPort||0,headers||null)})},0)};WebSocket.prototype.send=function(data){if(this.readyState==WebSocket.CONNECTING){throw"INVALID_STATE_ERR: Web Socket connection has not been established"}var result=WebSocket.rp5u.send(this.hy2x,encodeURIComponent(data));if(result<0){return true}else{this.bufferedAmount+=result;return false}};WebSocket.prototype.close=function(){if(this.readyState==WebSocket.CLOSED||this.readyState==WebSocket.CLOSING){return}this.readyState=WebSocket.CLOSING;WebSocket.rp5u.close(this.hy2x)};WebSocket.prototype.addEventListener=function(type,listener,useCapture){if(!(type in this.no4s)){this.no4s[type]=[]}this.no4s[type].push(listener)};WebSocket.prototype.removeEventListener=function(type,listener,useCapture){if(!(type in this.no4s))return;var events=this.no4s[type];for(var i=events.length-1;i>=0;--i){if(events[i]===listener){events.splice(i,1);break}}};WebSocket.prototype.dispatchEvent=function(event){var events=this.no4s[event.type]||[];for(var i=0;i<events.length;++i){events[i](event)}var handler=this["on"+event.type];if(handler)handler(event)};WebSocket.prototype.chK9B=function(flashEvent){if("readyState"in flashEvent){this.readyState=flashEvent.readyState}if("protocol"in flashEvent){this.protocol=flashEvent.protocol}var jsEvent;if(flashEvent.type=="open"||flashEvent.type=="error"){jsEvent=this.ccQ7J(flashEvent.type)}else if(flashEvent.type=="close"){jsEvent=this.ccQ7J("close")}else if(flashEvent.type=="message"){var data=decodeURIComponent(flashEvent.message);jsEvent=this.chL9C("message",data)}else{throw"unknown event type: "+flashEvent.type}this.dispatchEvent(jsEvent)};WebSocket.prototype.ccQ7J=function(type){if(document.createEvent&&window.Event){var event=document.createEvent("Event");event.initEvent(type,false,false);return event}else{return{type:type,bubbles:false,cancelable:false}}};WebSocket.prototype.chL9C=function(type,data){if(document.createEvent&&window.MessageEvent&&!window.opera){var event=document.createEvent("MessageEvent");event.initMessageEvent("message",false,false,data,null,null,window,null);return event}else{return{type:type,data:data,bubbles:false,cancelable:false}}};WebSocket.CONNECTING=0;WebSocket.OPEN=1;WebSocket.CLOSING=2;WebSocket.CLOSED=3;WebSocket.rp5u=null;WebSocket.ccS7L={};WebSocket.Yy8q=[];WebSocket.chH9y=0;WebSocket.loadFlashPolicyFile=function(url){WebSocket.bdf0x(function(){WebSocket.rp5u.loadManualPolicyFile(url)})};WebSocket.bEi8a=function(){if(WebSocket.rp5u)return;if(WebSocket.chM9D){window.WEB_SOCKET_SWF_LOCATION=WebSocket.chM9D}if(!window.WEB_SOCKET_SWF_LOCATION){console.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");return}var container=document.createElement("div");container.id="webSocketContainer";container.style.position="absolute";if(WebSocket.chN9E()){container.style.left="0px";container.style.top="0px"}else{container.style.left="-100px";container.style.top="-100px"}var holder=document.createElement("div");holder.id="webSocketFlash";container.appendChild(holder);document.body.appendChild(container);swfobject.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:true,swliveconnect:true,allowScriptAccess:"always"},null,function(e){if(!e.success){console.error("[WebSocket] swfobject.embedSWF failed")}})};WebSocket.cYM6G=function(){setTimeout(function(){WebSocket.rp5u=document.getElementById("webSocketFlash");WebSocket.rp5u.setCallerUrl(location.href);WebSocket.rp5u.setDebug(!!window.WEB_SOCKET_DEBUG);for(var i=0;i<WebSocket.Yy8q.length;++i){WebSocket.Yy8q[i]()}WebSocket.Yy8q=[]},0)};WebSocket.cYL6F=function(){setTimeout(function(){try{var events=WebSocket.rp5u.receiveEvents();for(var i=0;i<events.length;++i){WebSocket.ccS7L[events[i].webSocketId].chK9B(events[i])}}catch(e){console.error(e)}},0);return true};WebSocket.cYK6E=function(message){console.log(decodeURIComponent(message))};WebSocket.ej1x=function(message){console.error(decodeURIComponent(message))};WebSocket.bdf0x=function(task){if(WebSocket.rp5u){task()}else{WebSocket.Yy8q.push(task)}};WebSocket.chN9E=function(){if(!window.navigator||!window.navigator.mimeTypes){return false}var mimeType=window.navigator.mimeTypes["application/x-shockwave-flash"];if(!mimeType||!mimeType.enabledPlugin||!mimeType.enabledPlugin.filename){return false}return mimeType.enabledPlugin.filename.match(/flashlite/i)?true:false};if(!window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION){if(window.addEventListener){window.addEventListener("load",function(){WebSocket.bEi8a()},false)}else{window.attachEvent("onload",function(){WebSocket.bEi8a()})}}})();(function(exports,io,global){exports.XHR=XHR;function XHR(socket){if(!socket)return;io.Transport.apply(this,arguments);this.sendBuffer=[]}io.util.inherit(XHR,io.Transport);XHR.prototype.open=function(){this.socket.setBuffer(false);this.onOpen();this.get();this.setCloseTimeout();return this};XHR.prototype.payload=function(payload){var msgs=[];for(var i=0,l=payload.length;i<l;i++){msgs.push(io.parser.encodePacket(payload[i]))}this.send(io.parser.encodePayload(msgs))};XHR.prototype.send=function(data){this.post(data);return this};function empty(){}XHR.prototype.post=function(data){var self=this;this.socket.setBuffer(true);function stateChange(){if(this.readyState==4){this.onreadystatechange=empty;self.posting=false;if(this.status==200){self.socket.setBuffer(false)}else{self.onClose()}}}function onload(){this.onload=empty;self.socket.setBuffer(false)}this.sendXHR=this.request("POST");if(global.XDomainRequest&&this.sendXHR instanceof XDomainRequest){this.sendXHR.onload=this.sendXHR.onerror=onload}else{this.sendXHR.onreadystatechange=stateChange}this.sendXHR.send(data)};XHR.prototype.close=function(){this.onClose();return this};XHR.prototype.request=function(method){var req=io.util.request(this.socket.isXDomain()),query=io.util.query(this.socket.options.query,"t="+ +(new Date));req.open(method||"GET",this.prepareUrl()+query,true);if(method=="POST"){try{if(req.setRequestHeader){req.setRequestHeader("Content-type","text/plain;charset=UTF-8")}else{req.contentType="text/plain"}}catch(e){}}return req};XHR.prototype.scheme=function(){return this.socket.options.secure?"https":"http"};XHR.check=function(socket,xdomain){try{var request=io.util.request(xdomain),usesXDomReq=global.XDomainRequest&&request instanceof XDomainRequest,socketProtocol=socket&&socket.options&&socket.options.secure?"https:":"http:",isXProtocol=global.location&&socketProtocol!=global.location.protocol;if(request&&!(usesXDomReq&&isXProtocol)){return true}}catch(e){}return false};XHR.xdomainCheck=function(socket){return XHR.check(socket,true)}})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(exports,io){exports.htmlfile=HTMLFile;function HTMLFile(socket){io.Transport.XHR.apply(this,arguments)}io.util.inherit(HTMLFile,io.Transport.XHR);HTMLFile.prototype.name="htmlfile";HTMLFile.prototype.get=function(){this.doc=new(window[["Active"].concat("Object").join("X")])("htmlfile");this.doc.open();this.doc.write("<html></html>");this.doc.close();this.doc.parentWindow.s=this;var iframeC=this.doc.createElement("div");iframeC.className="socketio";this.doc.body.appendChild(iframeC);this.iframe=this.doc.createElement("iframe");iframeC.appendChild(this.iframe);var self=this,query=io.util.query(this.socket.options.query,"t="+ +(new Date));this.iframe.src=this.prepareUrl()+query;io.util.on(window,"unload",function(){self.destroy()})};HTMLFile.prototype.c8g=function(data,doc){data=data.replace(/\\\//g,"/");this.onData(data);try{var script=doc.getElementsByTagName("script")[0];script.parentNode.removeChild(script)}catch(e){}};HTMLFile.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(e){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};HTMLFile.prototype.close=function(){this.destroy();return io.Transport.XHR.prototype.close.call(this)};HTMLFile.check=function(socket){if(typeof window!="undefined"&&["Active"].concat("Object").join("X")in window){try{var a=new(window[["Active"].concat("Object").join("X")])("htmlfile");return a&&io.Transport.XHR.check(socket)}catch(e){}}return false};HTMLFile.xdomainCheck=function(){return false};io.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);(function(exports,io,global){exports["xhr-polling"]=XHRPolling;function XHRPolling(){io.Transport.XHR.apply(this,arguments)}io.util.inherit(XHRPolling,io.Transport.XHR);io.util.merge(XHRPolling,io.Transport.XHR);XHRPolling.prototype.name="xhr-polling";XHRPolling.prototype.heartbeats=function(){return false};XHRPolling.prototype.open=function(){var self=this;io.Transport.XHR.prototype.open.call(self);return false};function empty(){}XHRPolling.prototype.get=function(){if(!this.isOpen)return;var self=this;function stateChange(){if(this.readyState==4){this.onreadystatechange=empty;if(this.status==200){self.onData(this.responseText);self.get()}else{self.onClose()}}}function onload(){this.onload=empty;this.onerror=empty;self.retryCounter=1;self.onData(this.responseText);self.get()}function onerror(){self.retryCounter++;if(!self.retryCounter||self.retryCounter>3){self.onClose()}else{self.get()}}this.xhr=this.request();if(global.XDomainRequest&&this.xhr instanceof XDomainRequest){this.xhr.onload=onload;this.xhr.onerror=onerror}else{this.xhr.onreadystatechange=stateChange}this.xhr.send(null)};XHRPolling.prototype.onClose=function(){io.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=empty;try{this.xhr.abort()}catch(e){}this.xhr=null}};XHRPolling.prototype.ready=function(socket,fn){var self=this;io.util.defer(function(){fn.call(self)})};io.transports.push("xhr-polling")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);(function(exports,io,global){var indicator=global.document&&"MozAppearance"in global.document.documentElement.style;exports["jsonp-polling"]=JSONPPolling;function JSONPPolling(socket){io.Transport["xhr-polling"].apply(this,arguments);this.index=io.j.length;var self=this;io.j.push(function(msg){self.c8g(msg)})}io.util.inherit(JSONPPolling,io.Transport["xhr-polling"]);JSONPPolling.prototype.name="jsonp-polling";JSONPPolling.prototype.post=function(data){var self=this,query=io.util.query(this.socket.options.query,"t="+ +(new Date)+"&i="+this.index);if(!this.form){var form=document.createElement("form"),area=document.createElement("textarea"),id=this.iframeId="socketio_iframe_"+this.index,iframe;form.className="socketio";form.style.position="absolute";form.style.top="0px";form.style.left="0px";form.style.display="none";form.target=id;form.method="POST";form.setAttribute("accept-charset","utf-8");area.name="d";form.appendChild(area);document.body.appendChild(form);this.form=form;this.area=area}this.form.action=this.prepareUrl()+query;function complete(){initIframe();self.socket.setBuffer(false)}function initIframe(){if(self.iframe){self.form.removeChild(self.iframe)}try{iframe=document.createElement('<iframe name="'+self.iframeId+'">')}catch(e){iframe=document.createElement("iframe");iframe.name=self.iframeId}iframe.id=self.iframeId;self.form.appendChild(iframe);self.iframe=iframe}initIframe();this.area.value=io.JSON.stringify(data);try{this.form.submit()}catch(e){}if(this.iframe.attachEvent){iframe.onreadystatechange=function(){if(self.iframe.readyState=="complete"){complete()}}}else{this.iframe.onload=complete}this.socket.setBuffer(true)};JSONPPolling.prototype.get=function(){var self=this,script=document.createElement("script"),query=io.util.query(this.socket.options.query,"t="+ +(new Date)+"&i="+this.index);if(this.script){this.script.parentNode.removeChild(this.script);this.script=null}script.async=true;script.src=this.prepareUrl()+query;script.onerror=function(){self.onClose()};var insertAt=document.getElementsByTagName("script")[0];insertAt.parentNode.insertBefore(script,insertAt);this.script=script;if(indicator){setTimeout(function(){var iframe=document.createElement("iframe");document.body.appendChild(iframe);document.body.removeChild(iframe)},100)}};JSONPPolling.prototype.c8g=function(msg){this.onData(msg);if(this.isOpen){this.get()}return this};JSONPPolling.prototype.ready=function(socket,fn){var self=this;if(!indicator)return fn.call(this);io.util.load(function(){fn.call(self)})};JSONPPolling.check=function(){return"document"in global};JSONPPolling.xdomainCheck=function(){return true};io.transports.push("jsonp-polling")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);if(typeof define==="function"&&define.amd){define([],function(){return io})}})();
(function(){var isArray=Array.isArray;if(isArray===undefined){isArray=function(arr){return Object.prototype.toString.call(arr)==="[object Array]"}}var root=this;function EventEmitter(){}if(typeof module!=="undefined"&&module.exports){module.exports.EventEmitter=EventEmitter}else{root=window;root.EventEmitter=EventEmitter}var defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!this.bZ0x)this.bZ0x={};this.rY6S=n};EventEmitter.prototype.emit=function(){var type=arguments[0];if(type==="error"){if(!this.bZ0x||!this.bZ0x.error||isArray(this.bZ0x.error)&&!this.bZ0x.error.length){if(this.domain){var er=arguments[1];er.domain_emitter=this;er.domain=this.domain;er.domain_thrown=false;this.domain.emit("error",er);return false}if(arguments[1]instanceof Error){throw arguments[1]}else{throw new Error("Uncaught, unspecified 'error' event.")}return false}}if(!this.bZ0x)return false;var handler=this.bZ0x[type];if(!handler)return false;if(typeof handler=="function"){if(this.domain){this.domain.enter()}switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:var l=arguments.length;var args=new Array(l-1);for(var i=1;i<l;i++)args[i-1]=arguments[i];handler.apply(this,args)}if(this.domain){this.domain.exit()}return true}else if(isArray(handler)){if(this.domain){this.domain.enter()}var l=arguments.length;var args=new Array(l-1);for(var i=1;i<l;i++)args[i-1]=arguments[i];var listeners=handler.slice();for(var i=0,l=listeners.length;i<l;i++){listeners[i].apply(this,args)}if(this.domain){this.domain.exit()}return true}else{return false}};EventEmitter.prototype.addListener=function(type,listener){if("function"!==typeof listener){throw new Error("addListener only takes instances of Function")}if(!this.bZ0x)this.bZ0x={};this.emit("newListener",type,typeof listener.listener==="function"?listener.listener:listener);if(!this.bZ0x[type]){this.bZ0x[type]=listener}else if(isArray(this.bZ0x[type])){this.bZ0x[type].push(listener)}else{this.bZ0x[type]=[this.bZ0x[type],listener]}if(isArray(this.bZ0x[type])&&!this.bZ0x[type].warned){var m;if(this.rY6S!==undefined){m=this.rY6S}else{m=defaultMaxListeners}if(m&&m>0&&this.bZ0x[type].length>m){this.bZ0x[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this.bZ0x[type].length);console.trace()}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if("function"!==typeof listener){throw new Error(".once only takes instances of Function")}var self=this;function g(){self.removeListener(type,g);listener.apply(this,arguments)}g.listener=listener;self.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){if("function"!==typeof listener){throw new Error("removeListener only takes instances of Function")}if(!this.bZ0x||!this.bZ0x[type])return this;var list=this.bZ0x[type];if(isArray(list)){var position=-1;for(var i=0,length=list.length;i<length;i++){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;list.splice(position,1)}else if(list===listener||list.listener&&list.listener===listener){delete this.bZ0x[type]}return this};EventEmitter.prototype.removeAllListeners=function(type){if(arguments.length===0){this.bZ0x={};return this}var events=this.bZ0x&&this.bZ0x[type];if(!events)return this;if(isArray(events)){events.splice(0)}else{this.bZ0x[type]=null}return this};EventEmitter.prototype.listeners=function(type){if(!this.bZ0x)this.bZ0x={};if(!this.bZ0x[type])this.bZ0x[type]=[];if(!isArray(this.bZ0x[type])){this.bZ0x[type]=[this.bZ0x[type]]}return this.bZ0x[type]}})();(function(){if(typeof Object.create!=="function"){Object.create=function(o){function F(){}F.prototype=o;return new F}}var root=window;var pomelo=Object.create(EventEmitter.prototype);root.pomelo=pomelo;var socket=null;var id=1;var callbacks={};var route="web-connector.messageHandler.";var isRegister=false;var success=200;var register_ack="register";var bind_ack="bind";var regBind_ack="registerAndBind";var cancelBind_ack="cancelBind";var message_store={};var heartbeat_interval=1e3*60;var heartbeat_timer;var current_user;var current_domain;var cacheMessageIds=[];var cacheSize=100;pomelo.init=function(host,port,reconnect,cb){var url="ws://"+host;if(port){url+=":"+port}var params;if(reconnect){params={"force new connection":true,reconnect:true,"max reconnection attempts":50}}else{params={"force new connection":true,reconnect:false}}socket=io.connect(url,params);socket.on("connect",function(){console.log("[pomeloclient.init] websocket connected!");cb()});socket.on("reconnect",function(){pomelo.emit("reconnect")});socket.on("message",function(data){message_store={};if(typeof data==="string"){data=JSON.parse(data)}if(data instanceof Array){processMessageBatch(data)}else{processMessage(data);emitMessage()}});socket.on("error",function(err){cb(err)});socket.on("disconnect",function(reason){isRegister=false;pomelo.emit("disconnect",reason)})};var request=function(method,opts,cb){if(!method){console.error("request message error with no method.");return}id++;callbacks[id]=cb;sendMsg(method,id,opts)};var notify=function(method,msg){if(!method){console.error("notify message error with no method.");return}sendMsg(method,0,msg)};var sendMsg=function(method,msgId,msg){var path=route+method;var rs={id:msgId,route:path,msg:msg};var sg=JSON.stringify(rs);socket.send(sg)};var processMessageBatch=function(msgs){for(var i=0,l=msgs.length;i<l;i++){processMessage(msgs[i])}emitMessage()};var emitMessage=function(){for(var key in message_store){pomelo.emit(key,message_store[key])}};var processMessage=function(msg){if(msg.id){var cb=callbacks[msg.id];delete callbacks[msg.id];if(typeof cb!=="function"){console.log("[pomeloclient.processMessage] cb is not a function for request "+msg.id);return}cb(msg.body);if(msg.body.type===register_ack&&msg.body.code==success){isRegister=true}if((msg.body.type===bind_ack||msg.body.type===regBind_ack)&&msg.body.code==success){heartbeat_timer=setInterval(function(){notify("heartbeat",{flag:"online",domain:current_domain,user:current_user})},heartbeat_interval)}if(msg.body.type===cancelBind_ack&&msg.body.code==success){clearInterval(heartbeat_timer)}return}else{if(!filterMessage(msg)){return}if(!message_store[msg.route]){if(msg.body instanceof Array){message_store[msg.route]=msg.body}else{message_store[msg.route]=[msg.body]}}else{var arr=message_store[msg.route];if(msg.body instanceof Array){var messages=msg.body;for(var i=0;i<messages.length;i++){arr.push(messages[i])}}else{arr.push(msg.body)}message_store[msg.route]=arr}}};var filterMessage=function(message){var msgs=message.body;var ids=[];var results={};if(msgs instanceof Array){for(var i=0;i<msgs.length;i++){var id=msgs[i].msgId;ids.push(id)}var duplicatedIds=checkMessage(ids);if(duplicatedIds.length!==0){return false}else{cacheMessageIds=cacheMessageIds.concat(ids);if(cacheMessageIds.length>cacheSize){var length=cacheMessageIds-cacheSize;for(var i=0;i<length;i++){cacheMessageIds.shift()}}}}return true};var checkMessage=function(ids){var array=[];for(var i=0;i<cacheMessageIds.length;i++){var id=cacheMessageIds[i];for(var j=0;j<ids.length;j++){if(ids[j]===id){array.push(id)}}}return array};pomelo.register=function(opts,cb){request("register",opts,cb)};pomelo.bind=function(opts,cb){if(isRegister){current_domain=opts.domain;current_user=opts.user;request("bind",opts,cb)}else{console.log("cannot bind without registration.")}};pomelo.registerAndBind=function(opts,cb){current_domain=opts.domain;current_user=opts.user;request("registerAndBind",opts,cb)};pomelo.cancelBind=function(opts,cb){current_domain=null;current_user=null;request("cancelBind",opts,cb)};pomelo.getOnlineUser=function(opts,cb){request("getOnlineUser",opts,cb)};pomelo.disconnect=function(){if(socket){socket.disconnect();socket=null}};pomelo.ackMessage=function(domain,msgs){var msgIds="";var types="";var message={};var user;for(var i=0;i<msgs.length;i++){var data=msgs[i];if(!user){user=data.user}msgIds+=data.msgId;types+=data.type;if(i!==msgs.length-1){msgIds+=";";types+=";"}}var message={user:user,msgIds:msgIds,types:types,domain:domain};notify("ack",message)}})();
(function(){eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!"".replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return"\\w+"};c=1}while(c--)if(k[c])p=p.replace(new RegExp("\\b"+e(c)+"\\b","g"),k[c]);return p}("g 1=e;0.d=f(){3(1)h;1=c;3(a.9=='8.b.q'){0.4={2:'p.o.t.s',7:'6',5:'r'}}k{0.4={2:'j.i.n.m',7:'6',5:'l'}}}",30,30,"window|inited|pushHost|if|MUSIC_CONFIG|pushKey|6003|pushPort|music|host|location|163|true|initPushConfig|false|function|var|return|58|123|else|7bde08fbeb884e0e8459b1304df970cd|233|180|push|web|com|3b97981848064bbabeaaf2fb1eab7368|net|126".split("|"),0,{}))})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,h8b=c8g("nej.v"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),l8d=c8g("nm.x"),dM1x=c8g("nm.u"),q8i=c8g("nm.d"),Yf8X=c8g("pomelo"),V9M=0,b8h,L9C;q8i.fF2x({"polling-init":{url:"/api/push/init",format:function(T9K){V9M=2;var vr8j={domain:"music.163.com",host:MUSIC_CONFIG.pushHost,port:MUSIC_CONFIG.pushPort,key:MUSIC_CONFIG.pushKey},i8a=T9K.account||be9V,dz1x=GUser.userId;Yf8X.init(vr8j.host,vr8j.port,true,this.cib9S.f8d(this,{user:dz1x,nonce:i8a.nonce,domain:vr8j.domain,productKey:vr8j.key,signature:i8a.signature,expire_time:i8a.expireTime}))},onerror:function(){return this.bDS8K()}}});q8i.Fv2x=NEJ.C();b8h=q8i.Fv2x.M9D(q8i.ia2x);b8h.cF0x=function(){var sv6p=!1;return function(e8e){if(!sv6p){sv6p=!0}this.cO0x(e8e);Yf8X.on("specify",this.sP6J.f8d(this));Yf8X.on("broadcast",this.sP6J.f8d(this))}}();b8h.sP6J=function(d8f){k8c.bf9W(d8f,function(bF9w){h8b.z9q(q8i.Fv2x,"message",bF9w)},this)};b8h.bDS8K=function(){var bB9s=500;return function(){V9M=0;Yf8X.disconnect();if(bB9s>6e4)bB9s=500;bB9s*=2}}();b8h.cib9S=function(e8e,bV0x){if(!!bV0x){return this.bDS8K()}V9M=3;Yf8X.registerAndBind(e8e,function(m8e){if(m8e.code!=200){return this.bDS8K()}V9M=4}.f8d(this))};b8h.cYE6y=function(){dM1x.cis9j.fZ2x().cYA6u()};b8h.cYx6r=function(){dM1x.cis9j.fZ2x().cYv6p()};b8h.bDK8C=function(){var sv6p=!1;return function(){if(sv6p)return;sv6p=!0;if(window.initPushConfig){try{window.initPushConfig()}catch(e){}}this.cr0x("polling-init",{})}}();G9x.fY2x.A9r({event:"message",element:q8i.Fv2x})})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),v9m=c8g("nej.j"),cA0x=c8g("nej.p"),k8c=c8g("nej.u"),n8f=c8g("nm.l"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),cB0x=c8g("api"),b8h,L9C;var gK2x=a7h.jW3x('<div class="lyct f-cb"><div class="m-fdback"><div class="tip">任何产品中的问题，欢迎反馈给我们</div><div class="u-txtwrap f-pr"><textarea class="u-txt area" placeholder="请输入反馈内容"></textarea><span class="zs s-fc2">140</span></div><div class="u-txtwrap f-pr holder-parent"><textarea class="u-txt contact" placeholder="请留下联系方式（电话、QQ、邮箱）" maxLength="100"></textarea></div><div style="display:none" class="u-err"><i class="u-icn u-icn-25"></i>内容不能为空！</div></div><div class="lybtn f-tc"><a href="javascript:;" class="u-btn2 u-btn2-2 u-btn2-w4" hidefocus="true"><i>发送意见</i></a><a href="javascript:;" class="u-btn2 u-btn2-1 u-btn2-w4" hidefocus="true"><i>取 消</i></a></div></div>');n8f.bDJ8B=NEJ.C();b8h=n8f.bDJ8B.M9D(n8f.ey1x);L9C=n8f.bDJ8B.cy0x;b8h.bp9g=function(e8e){e8e.title="意见反馈";this.bq9h(e8e)};b8h.cj0x=function(){this.cf0x=gK2x};b8h.bY0x=function(){this.ck0x();this.if2x={};var Qj5o=a7h.F9w;var LN4R=h8b.s8k;this.if2x.submit_btn=Qj5o(this.o8g,"u-btn2")[0];this.if2x.cancle_btn=Qj5o(this.o8g,"u-btn2")[1];this.if2x.prompt_msg=Qj5o(this.o8g,"u-err")[0];this.if2x.zs=Qj5o(this.o8g,"zs")[0];a7h.bd9U(this.if2x.zs,"display","none");this.if2x.fb_txt=Qj5o(this.o8g,"u-txt")[0];this.if2x.contact=Qj5o(this.o8g,"u-txt")[1];a7h.hg2x(this.if2x.fb_txt,"holder");a7h.hg2x(this.if2x.contact,"holder");if(a7h.bG9x(this.if2x.fb_txt.parentNode,"holder-parent")){a7h.bd9U(this.if2x.fb_txt.parentNode,"display","block")}if(a7h.bG9x(this.if2x.contact.parentNode,"holder-parent")){a7h.bd9U(this.if2x.contact.parentNode,"display","block")}LN4R(this.if2x.submit_btn,"click",this.ciP9G.f8d(this));LN4R(this.if2x.cancle_btn,"click",this.ciS9J.f8d(this));LN4R(this.if2x.prompt_msg,"msgShow",this.cjl9c.f8d(this));LN4R(this.if2x.fb_txt,"keyup",this.wS9J.f8d(this));LN4R(this.if2x.fb_txt,"input",this.fe1x.f8d(this));LN4R(this.if2x.contact,"keyup",this.cjt0x.f8d(this));LN4R(this.if2x.contact,"input",this.cbD7w.f8d(this));this.lj3x=q8i.ii2x.A9r()};b8h.ciP9G=function(d8f){h8b.bi9Z(d8f);if(this.cZ1x())return;var bt9k=this.if2x.fb_txt.value.trim();var br9i=bt9k.length;var e8e={type:"json",method:"post",noEnc:true};var cbC7v=this.if2x.contact.value.trim();var beD1x={ua:navigator.userAgent,hash:top.location.hash,href:location.href,flash:l8d.bAx7q(),contact:cbC7v};var i8a={content:bt9k,client:"web",xInfo:JSON.stringify(beD1x)},pm5r=this.lj3x.cwc5h();if(pm5r&&pm5r.length){i8a.log=pm5r.join("\n")}if(br9i==0){this.if2x.prompt_msg.innerHTML="反馈内容不能为空";a7h.bd9U(this.if2x.prompt_msg,"display","block");return}if(cbC7v.length>100){this.if2x.prompt_msg.innerHTML="联系方式最多只能输入100个字符";a7h.bd9U(this.if2x.prompt_msg,"display","block");return}this.cZ1x(true);e8e.data=k8c.cJ0x(i8a);e8e.onload=this.cjK0x.f8d(this);e8e.onerror=this.jA3x.f8d(this);v9m.bm9d("/api/feedback/web",e8e)};b8h.fe1x=function(d8f){var br9i=this.if2x.fb_txt.value.trim().length;if(br9i>0)a7h.bd9U(this.if2x.prompt_msg,"display","none");cA0x.dC1x.browser=="ie"&&cA0x.dC1x.version<"7.0"?setTimeout(this.gM2x.f8d(this),0):this.gM2x()};b8h.wS9J=function(d8f){if(d8f.keyCode===8)this.gM2x()};b8h.gM2x=function(){var br9i=this.if2x.fb_txt.value.trim().length;this.if2x.zs.innerHTML=!br9i?"0/140":br9i+"/140"};b8h.cbD7w=function(d8f){var br9i=this.if2x.contact.value.trim().length;if(br9i>0)a7h.bd9U(this.if2x.prompt_msg,"display","none")};b8h.cjt0x=function(d8f){if(d8f.keyCode===8)this.cbD7w()};b8h.ciS9J=function(d8f){h8b.cv0x(d8f);this.bu9l()};b8h.cjl9c=function(d8f){var g8c=h8b.ba9R(d8f);g8c.innerHTML="请输入反馈内容"};b8h.cXZ6T=function(cXW6Q){var g8c=h8b.ba9R(d8f);g8c.innerHTML=""};b8h.cjK0x=function(m8e){this.cZ1x(false);this.bu9l();n8f.bb9S.J9A({tip:"意见发送成功",autoclose:true})};b8h.jA3x=function(m8e){this.cZ1x(false);n8f.bb9S.J9A({tip:"意见发送失败",autoclose:true})};b8h.cZ1x=function(dj1x){return this.ef1x(this.if2x.submit_btn,dj1x,"发送意见","发送中...")};b8h.J9A=function(){L9C.J9A.call(this);this.cZ1x(false);this.if2x.fb_txt.value="";this.if2x.contact.value="";a7h.bd9U(this.if2x.prompt_msg,"display","none");this.gM2x()};l8d.ckj0x=function(e8e){e8e=e8e||{};if(e8e.title===undefined)e8e.title="意见反馈";n8f.bDJ8B.J9A(e8e)};cB0x.feedback=l8d.feedback=l8d.ckj0x})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,P9G=c8g("nej.ui"),b8h;if(!!P9G.BH1x)return;P9G.BH1x=NEJ.C();b8h=P9G.BH1x.M9D(P9G.eA1x);b8h.cF0x=function(){this.hy2x=this.caY7R();this.cO0x()};b8h.bp9g=function(e8e){this.bq9h(e8e);this.cx0x=e8e.index;this.gW2x=e8e.total;this.ib2x=e8e.range;this.hq2x(e8e.data)};b8h.bC9t=function(){this.bJ9A();delete this.bh9Y;delete this.cx0x;delete this.gW2x;delete this.ib2x};b8h.jf3x=bs9j;b8h.caY7R=function(){var hl2x=+(new Date);return function(){return"itm-"+ ++hl2x}}();b8h.Hi2x=function(){return this.hy2x};b8h.hE2x=function(){return this.bh9Y};b8h.hq2x=function(i8a){this.bh9Y=i8a||{};this.jf3x(this.bh9Y)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),P9G=c8g("nej.ui"),b8h,L9C;if(!!P9G.wC9t)return;P9G.wC9t=NEJ.C();b8h=P9G.wC9t.M9D(P9G.BH1x);L9C=P9G.wC9t.cy0x;b8h.bp9g=function(e8e){this.ckq0x=e8e.pkey||"id";this.bq9h(e8e)};b8h.Hu2x=function(i8a){this.z9q("ondelete",{ext:i8a,id:this.Hi2x(),data:this.hE2x(),body:this.mL4P()})};b8h.vg8Y=function(i8a){this.z9q("onupdate",{ext:i8a,id:this.Hi2x(),data:this.hE2x(),body:this.mL4P()})};b8h.hq2x=function(i8a){L9C.hq2x.apply(this,arguments);this.hy2x=this.bh9Y[this.ckq0x]||this.caY7R()}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,fR2x=NEJ.R,a7h=c8g("nej.e"),k8c=c8g("nej.u"),P9G=c8g("nej.ui"),b8h,jU3x,bDe8W;if(!!P9G.bDd8V)return;P9G.bDd8V=NEJ.C();b8h=P9G.bDd8V.M9D(P9G.eA1x);b8h.bp9g=function(e8e){this.bfv1x=NEJ.X({},e8e);this.gp2x=NEJ.X({},e8e);delete this.bfv1x.onchange;this.gp2x.onchange=this.gD2x.f8d(this);this.bq9h(e8e);this.ckF0x({number:e8e.number,label:e8e.label||be9V})};b8h.bC9t=function(){this.bJ9A();if(!!this.mi4m){this.mi4m.W9N();delete this.mi4m}delete this.bfv1x;delete this.gp2x;this.ckH0x();this.o8g.innerHTML="&nbsp;"};b8h.cj0x=function(){this.mW4a=jU3x};b8h.ckF0x=function(i8a){a7h.dJ1x(this.o8g,bDe8W,i8a);var hl2x=a7h.ON5S();this.gp2x.list=a7h.F9w(this.o8g,"js-i-"+hl2x);this.gp2x.pbtn=(a7h.F9w(this.o8g,"js-p-"+hl2x)||fR2x)[0];this.gp2x.nbtn=(a7h.F9w(this.o8g,"js-n-"+hl2x)||fR2x)[0]};b8h.bY0x=function(){this.ck0x()};b8h.cXT6N=function(i8a){return a7h.cg0x(bDe8W,i8a)};b8h.gD2x=function(d8f){if(this.Xo8g)return;var r8j=d8f.index,cK0x=d8f.total;this.Xo8g=!0;this.Xk8c(r8j,cK0x);k8c.bf9W(this.bfH1x,function(vd8V){vd8V.Xk8c(r8j,cK0x)});this.Xo8g=!1;this.z9q("onchange",d8f)};b8h.f8d=function(bI9z){bI9z=a7h.B9s(bI9z);if(!bI9z)return this;var cD0x=NEJ.X({},this.bfv1x);cD0x.parent=bI9z;cD0x.index=this.vc8U();cD0x.total=this.mk4o();var vd8V=this.constructor.A9r(cD0x);vd8V.zy0x("onchange",this.gp2x.onchange);if(!this.bfH1x)this.bfH1x=[];this.bfH1x.push(vd8V);return this};b8h.ckH0x=function(){var bvE6y=function(vd8V,r8j,j8b){vd8V.W9N();j8b.splice(r8j,1)};return function(){k8c.oB5G(this.bfH1x,bvE6y)}}();b8h.lE4I=function(r8j){if(!this.mi4m)return;this.mi4m.lE4I(r8j)};b8h.vc8U=function(){if(!this.mi4m)return 1;return this.mi4m.vc8U()};b8h.mk4o=function(){if(!this.mi4m)return 1;return this.mi4m.mk4o()};b8h.Xk8c=function(r8j,cK0x){if(!this.mi4m)return;this.mi4m.Xk8c(r8j,cK0x)};b8h.bDa8S=function(cK0x){if(!this.mi4m)return;this.mi4m.bDa8S(cK0x)};jU3x=a7h.vJ8B(".#<uispace>{font-size:12px;line-height:160%;}.#<uispace> a{margin:0 2px;padding:2px 8px;color:#333;border:1px solid #aaa;text-decoration:none;}.#<uispace> .js-disabled{cursor:default;}.#<uispace> .js-selected{cursor:default;background:#bbb;}");bDe8W=a7h.eK1x('{trim}{if !defined("noprv")||!noprv}<a href="#" class="zbtn zprv ${\'js-p-\'|seed}">${label.prev||"上一页"}</a>{/if}{list 1..number as x}<a href="#" class="zpgi zpg${x} ${\'js-i-\'|seed}"></a>{/list}{if !defined("nonxt")||!nonxt}<a href="#" class="zbtn znxt ${\'js-n-\'|seed}">${label.next||"下一页"}</a>{/if}{/trim}')})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),P9G=c8g("nej.ut"),b8h;if(!!P9G.bfR1x)return;P9G.bfR1x=NEJ.C();b8h=P9G.bfR1x.M9D(P9G.cS1x);b8h.bp9g=function(e8e){this.bq9h(e8e);this.bfT1x=e8e.pbtn;this.cI0x=e8e.nbtn;this.bfU1x=e8e.sbtn;this.bfW1x=e8e.ebtn;this.ji3x=e8e.event||"click";this.lO4S=e8e.selected||"js-selected";this.oX5c=e8e.disabled||"js-disabled";this.ckP0x(e8e.list);this.Xk8c(e8e.index||1,e8e.total||1)};b8h.bC9t=function(){this.bJ9A();delete this.bX0x;delete this.ji3x;delete this.bfT1x;delete this.cI0x;delete this.bfU1x;delete this.bfW1x;delete this.can6h;delete this.gW2x;delete this.cx0x;delete this.lO4S;delete this.oX5c};b8h.ckP0x=function(){var bCX8P=function(g8c){this.bX0x.push(g8c);this.ca0x([[g8c,this.ji3x,this.cz0x.eS1x(this,0)]])};return function(j8b){this.bX0x=[];this.ca0x([[this.bfT1x,"click",this.cz0x.eS1x(this,-1)],[this.cI0x,"click",this.cz0x.eS1x(this,1)],[this.bfU1x,"click",this.cz0x.eS1x(this,-2)],[this.bfW1x,"click",this.cz0x.eS1x(this,2)]]);k8c.bf9W(j8b,bCX8P,this)}}();b8h.IQ3x=function(g8c,r8j){if(r8j==null){g8c.innerText="";a7h.bd9U(g8c,"display","none");a7h.y9p(g8c,this.lO4S)}else{g8c.innerText=r8j;a7h.bd9U(g8c,"display","");r8j==this.cx0x?a7h.w9n(g8c,this.lO4S):a7h.y9p(g8c,this.lO4S)}};b8h.bCW8O=function(){if(this.cx0x<=1){a7h.w9n(this.bfT1x,this.oX5c);a7h.w9n(this.bfU1x,this.oX5c)}else{a7h.y9p(this.bfT1x,this.oX5c);a7h.y9p(this.bfU1x,this.oX5c)}if(this.cx0x>=this.gW2x){a7h.w9n(this.cI0x,this.oX5c);a7h.w9n(this.bfW1x,this.oX5c)}else{a7h.y9p(this.cI0x,this.oX5c);a7h.y9p(this.bfW1x,this.oX5c)}};b8h.bgm1x=bs9j;b8h.bCV8N=function(){this.bgm1x();this.bCW8O();this.z9q("onchange",{last:this.can6h,total:this.gW2x,index:this.cx0x,ext:this.bCQ8I})};b8h.bZU6O=function(r8j){r8j=parseInt(r8j);if(isNaN(r8j)||this.gW2x==null)return!1;r8j=Math.max(1,Math.min(r8j,this.gW2x));this.can6h=this.cx0x;this.cx0x=r8j;return!0};b8h.bCO8G=function(cK0x){cK0x=parseInt(cK0x);if(isNaN(cK0x)||cK0x<1)return!1;this.gW2x=cK0x;return!0};b8h.cz0x=function(d8f,fy2x){h8b.cv0x(d8f);var H9y=h8b.ba9R(d8f);if(!H9y||a7h.bG9x(H9y,this.lO4S)||a7h.bG9x(H9y,this.oX5c))return;var r8j=H9y.innerText;switch(fy2x){case 1:case-1:r8j=this.cx0x+fy2x;break;case 2:r8j=this.gW2x;break;case-2:r8j=1;break}this.lE4I(r8j)};b8h.vc8U=function(){return this.cx0x};b8h.lE4I=function(r8j){var clc0x=this.cx0x;this.bZU6O(r8j);if(clc0x!=this.cx0x)this.bCV8N();return this};b8h.mk4o=function(){return this.gW2x};b8h.Wk7d=function(cK0x){if(this.bCO8G(cK0x)&&this.cx0x!=null){this.cx0x=1;this.bCV8N()}return this};b8h.bDa8S=function(cK0x){if(this.bCO8G(cK0x)){this.bgm1x();this.bCW8O()}return this};b8h.Xk8c=function(r8j,cK0x){if(!this.bCO8G(cK0x)||!this.bZU6O(r8j))return this;this.bCV8N();return this}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,a7h=c8g("nej.e"),k8c=c8g("nej.u"),di1x=c8g("nej.x"),P9G=c8g("nej.ut"),b8h;if(!!P9G.Xb7U)return;P9G.Xb7U=NEJ.C();b8h=P9G.Xb7U.M9D(P9G.bfR1x);b8h.cF0x=function(){this.cO0x();var g8c=a7h.dt1x("span","zdot");g8c.innerText="...";this.bgx1x=[g8c.cloneNode(true),g8c]};b8h.bC9t=function(){this.bJ9A();this.bZK6E()};b8h.bZK6E=function(){a7h.nx4B(this.bgx1x[0]);a7h.nx4B(this.bgx1x[1])};b8h.bgm1x=function(){this.bCQ8I={last:!1,first:!1,list:this.bX0x};this.bZK6E();this.IQ3x(this.bX0x[0],1);var bN0x=1,br9i=this.bX0x.length;if(this.gW2x<br9i){for(var se6Y;bN0x<br9i;bN0x++){se6Y=bN0x+1;this.IQ3x(this.bX0x[bN0x],se6Y>this.gW2x?null:se6Y)}return}if(this.cx0x>1){var cp0x=Math.floor((br9i-2)/2),clg0x=this.gW2x-br9i+2,eT1x=Math.max(2,this.cx0x-cp0x);if(this.gW2x>=br9i){eT1x=Math.min(eT1x,clg0x)}if(eT1x>2){this.bX0x[0].insertAdjacentElement("afterEnd",this.bgx1x[0]);this.bCQ8I.first=!0}for(var r8j;;bN0x++){r8j=eT1x+bN0x-1;if(r8j>this.cx0x)break;this.IQ3x(this.bX0x[bN0x],r8j)}}if(this.cx0x<this.gW2x){var r8j,eT1x=this.cx0x+1;for(var i=0,l=br9i-2;;i++,bN0x++){r8j=eT1x+i;if(bN0x>l||r8j>this.gW2x)break;this.IQ3x(this.bX0x[bN0x],r8j)}if(r8j<this.gW2x){this.bX0x[bN0x].insertAdjacentElement("beforeBegin",this.bgx1x[1]);this.bCQ8I.last=!0}if(r8j<=this.gW2x){this.IQ3x(this.bX0x[bN0x++],this.gW2x)}}for(;bN0x<br9i;bN0x++){this.IQ3x(this.bX0x[bN0x])}};a7h.clh0x=di1x.clh0x=function(bI9z,e8e){var D9u=a7h.my4C(bI9z);if(!D9u)return null;if(!P9G.bhf2x(D9u,P9G.Xb7U)){e8e=e8e||{};var j8b=!e8e.clazz?a7h.dm1x(D9u):a7h.F9w(D9u,e8e.clazz);e8e.pbtn=j8b.shift();e8e.nbtn=j8b.pop();e8e.list=j8b;delete e8e.clazz}return P9G.bhf2x(D9u,P9G.Xb7U,e8e||be9V)};di1x.isChange=!0})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,fR2x=NEJ.R,a7h=c8g("nej.e"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),P9G=c8g("nej.ui"),b8h,L9C,gK2x;if(!!P9G.WW7P)return;P9G.WW7P=NEJ.C();b8h=P9G.WW7P.M9D(P9G.bDd8V);L9C=P9G.WW7P.cy0x;b8h.bp9g=function(e8e){e8e.number=parseInt(e8e.number)||9;this.bq9h(e8e);this.mi4m=G9x.Xb7U.A9r(this.gp2x)};b8h.gD2x=function(d8f){if(!!this.bfv1x.noend){var bZE6y=d8f.ext||be9V,j8b=bZE6y.list||fR2x;if(bZE6y.last){a7h.bd9U(j8b[j8b.length-1],"display","none")}}L9C.gD2x.apply(this,arguments)}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),bc9T=c8g("nej.ui"),P9G=c8g("nej.ut"),b8h;if(!!P9G.bgL1x)return;P9G.bgL1x=NEJ.C();b8h=P9G.bgL1x.M9D(P9G.cS1x);b8h.bp9g=function(e8e){this.jK3x={};this.bq9h(e8e);this.iV3x=a7h.B9s(e8e.parent);this.fE2x={parent:this.iV3x};this.pL5Q=parseInt(e8e.limit)||10;this.Ce1x=parseInt(e8e.first)||this.pL5Q;this.cli0x(e8e.item);this.cll0x(e8e.cache||be9V);this.clm0x(e8e.pager||be9V);this.hq2x()};b8h.bC9t=function(){this.z9q("onbeforerecycle");this.WO7H();this.bJ9A();if(this.jK3x.clear){this.U9L.xF9w(this.jK3x.key)}this.U9L.W9N();if(!!this.ko3x){this.ko3x.W9N();delete this.ko3x}delete this.bZo6i;delete this.gp2x;delete this.bhe2x;delete this.U9L;delete this.iV3x;delete this.WN7G;delete this.fE2x;delete this.jK3x};b8h.bZg6a=function(){var ds1x=/\{(.*?)\}/gi,cly0x=function(qq5v,i8a){return(qq5v||"{id}{seed}").replace(ds1x,function($1,$2){var C9t=i8a[$2];return C9t==null?$1:C9t})};return function(D9u){var K9B=cly0x(this.fE2x.jstIdTempalte,{id:D9u,seed:a7h.ON5S()});if(!this.fE2x.jstIdType){return a7h.B9s(K9B)}else if(this.fE2x.jstIdType==1){return(a7h.F9w(this.iV3x,K9B)||[])[0]}}}();b8h.Ew1x=function(bN0x,bj9a,gz2x,br9i){var m8e={index:1,total:1};if(bj9a>=bN0x){m8e.index=Math.floor((bj9a-bN0x)/gz2x)+2}if(br9i>bN0x){m8e.total=Math.ceil((br9i-bN0x)/gz2x)+1}return m8e};b8h.bZd6X=function(K9B){delete this.WN7G;this.PK5P=K9B;this.ca0x([[this.iV3x,"click",this.clI0x.f8d(this)]])};b8h.cli0x=function(p8h){if(k8c.fX2x(p8h)){this.bZd6X(p8h);return}NEJ.X(this.fE2x,p8h);var es1x=this.fE2x.klass;delete this.fE2x.klass;if(k8c.fX2x(es1x)){this.bZd6X(es1x);return}delete this.PK5P;this.WN7G=es1x;this.fE2x.ondelete=this.z9q.f8d(this,"ondelete");this.fE2x.onupdate=this.z9q.f8d(this,"onupdate")};b8h.cll0x=function(Q9H){var es1x=Q9H.klass,ls4w=NEJ.X({},Q9H);this.jK3x.key=ls4w.lkey;this.jK3x.data=ls4w.data||{};this.jK3x.clear=!!ls4w.clear;this.fE2x.pkey=ls4w.key||"id";ls4w.onlistload=this.bCy8q.f8d(this);ls4w.onpullrefresh=this.clK0x.f8d(this);if(!!es1x&&"onlistchange"in es1x){this.ca0x([[es1x,"listchange",this.bCx8p.f8d(this)]])}else{ls4w.onitemadd=this.bhu2x.f8d(this);ls4w.onitemdelete=this.bhv2x.f8d(this);ls4w.onitemupdate=this.bYH6B.f8d(this)}this.U9L=(es1x||P9G.baS9J).A9r(ls4w);if(Q9H.total!=null){this.U9L.Wk7d(this.jK3x.key,Q9H.total)}if(!!Q9H.list){this.U9L.tA7t(this.jK3x.key,Q9H.list)}};b8h.clm0x=function(vd8V){this.bZo6i=vd8V.klass||bc9T.WW7P;this.gp2x=NEJ.X({},vd8V);if(k8c.er1x(vd8V.parent)){this.gp2x.parent=vd8V.parent[0];this.WD7w=vd8V.parent.slice(1);if(!this.WD7w||!this.WD7w.length){delete this.WD7w}}delete this.gp2x.klass};b8h.WO7H=function(){var hk2x=/^(?:table|tr|tbody|ul|ol|select)$/i;return function(){this.z9q("onbeforelistclear",{parent:this.iV3x});if(!!this.gh2x&&this.gh2x.length>0){this.gh2x=this.WN7G.W9N(this.gh2x);delete this.gh2x}if(hk2x.test(this.iV3x.tagName)){a7h.cai6c(this.iV3x)}else{this.iV3x.innerHTML=""}}}();b8h.bCw8o=function(bhA2x){if(!!this.gp2x.fixed)return;a7h.bd9U(this.gp2x.parent,"display",bhA2x);k8c.bf9W(this.WD7w,function(bI9z){a7h.bd9U(bI9z,"display",bhA2x)},this)};b8h.bCv8n=function(){var r8j=this.gp2x.index||1;delete this.gp2x.index;if(!!this.ko3x){r8j=this.ko3x.vc8U()}this.Eo1x({last:r8j,index:r8j})};b8h.Eo1x=function(d8f){this.z9q("onpagechange",d8f)};b8h.bYA6u=function(bj9a){this.jK3x.offset=bj9a;this.bbe9V()};b8h.bYv6p=function(e8e){return e8e};b8h.bbe9V=function(){this.Wu7n();var i8a=this.jK3x.data;i8a.offset=this.jK3x.offset;var rG6A=i8a.offset==0;i8a.total=rG6A;this.jK3x.limit=rG6A?this.Ce1x:this.pL5Q;i8a.limit=this.jK3x.limit;this.U9L.mz4D(this.bYv6p(NEJ.X({},this.jK3x)))};b8h.bCy8q=function(e8e){if(e8e.key!=this.jK3x.key||e8e.offset!=this.jK3x.offset)return;this.bhH2x();var j8b=this.U9L.ig2x(e8e.key);if(!j8b||!j8b.length){this.bCs8k();return}var gz2x=e8e.limit,bj9a=e8e.offset;if(this.bCq8i(j8b,bj9a,gz2x))return;this.z9q("onbeforelistrender",{list:j8b,offset:bj9a,parent:this.iV3x});if(!!this.PK5P){this.fE2x.xlist=j8b;this.fE2x.beg=bj9a;this.fE2x.end=Math.min(j8b.length,bj9a+gz2x)-1;this.fE2x.act="list";var ek1x=a7h.cg0x(this.PK5P,this.fE2x);this.Wn7g(ek1x)}else{this.fE2x.limit=gz2x;this.fE2x.offset=bj9a;var hQ2x=a7h.Eg1x(j8b,this.WN7G,this.fE2x);this.Wl7e(hQ2x)}this.z9q("onafterlistrender",{list:j8b,offset:bj9a,parent:this.iV3x})};b8h.clK0x=function(e8e){if(!this.bhe2x)return;delete this.bhe2x;this.bhH2x("onafterpullrefresh");this.hq2x()};b8h.bYn6h=function(r8j,cK0x){if(!!this.ko3x){var zk0x=this.ko3x.vc8U(),clU1x=this.ko3x.mk4o();if(zk0x>cK0x||cK0x!=clU1x){this.ko3x.W9N();delete this.ko3x;this.Eo1x({last:zk0x,index:Math.min(r8j,cK0x)});return!0}}else{this.gp2x.index=r8j;this.gp2x.total=cK0x;this.ko3x=this.bZo6i.A9r(this.gp2x);this.ko3x.zy0x("onchange",this.Eo1x.f8d(this));k8c.bf9W(this.WD7w,function(bI9z){this.ko3x.f8d(bI9z)},this)}};b8h.bhS2x=function(){var hl2x=+(new Date);return function(i8a){var D9u=i8a[this.fE2x.pkey];if(!D9u){i8a["dirty-data"]=!0;i8a[this.fE2x.pkey]="dirty-"+hl2x++}return i8a}}();b8h.bhU2x=function(i8a){var D9u=i8a[this.fE2x.pkey];if(!!i8a["dirty-data"]){delete i8a["dirty-data"];delete i8a[this.fE2x.pkey]}return D9u};b8h.bhV2x=function(){var cmh1x=function(ch0x,nT4X){this.iV3x.insertAdjacentElement(ch0x,nT4X)};return function(ch0x,i8a){var OG5L=[i8a];if(!!this.PK5P){this.fE2x.xlist=OG5L;this.fE2x.beg=0;this.fE2x.end=0;this.fE2x.act="add";this.Wn7g(a7h.cg0x(this.PK5P,this.fE2x),ch0x)}else{this.fE2x.limit=1;this.fE2x.offset=0;this.fE2x.parent=cmh1x.f8d(this,ch0x);var hQ2x=a7h.Eg1x(OG5L,this.WN7G,this.fE2x);this.fE2x.parent=this.iV3x;this.Wl7e(hQ2x)}}}();b8h.Wu7n=bs9j;b8h.bhH2x=function(Y9P){var d8f={parent:this.iV3x};this.z9q(Y9P||"onafterlistload",d8f);if(!d8f.stopped){a7h.nx4B(this.cU1x)}};b8h.bCq8i=bs9j;b8h.bhY2x=function(bF9w,ch0x){if(k8c.fX2x(bF9w)){if(!this.cU1x)this.cU1x=a7h.dt1x("div");this.cU1x.innerHTML=bF9w}else{this.cU1x=bF9w}this.iV3x.insertAdjacentElement(ch0x||"beforeEnd",this.cU1x)};b8h.Bo0x=function(Y9P,lb3x,ch0x){var d8f={parent:this.iV3x};this.z9q(Y9P,d8f);if(!d8f.stopped){this.bhY2x(d8f.value||lb3x,ch0x)}};b8h.bCs8k=bs9j;b8h.Wn7g=bs9j;b8h.Wl7e=bs9j;b8h.clI0x=function(){var hk2x=/^(?:delete|update)$/;return function(d8f){var g8c=h8b.ba9R(d8f,"d:action");if(!g8c)return;var X9O=a7h.u9l(g8c,"action");if(!hk2x.test(X9O))return;var D9u=a7h.u9l(g8c,"id");if(!D9u)return;var p8h=this.U9L.eY1x(D9u);if(!p8h)return;h8b.bi9Z(d8f);this.z9q("on"+X9O,{data:p8h,id:p8h[this.fE2x.pkey],body:a7h.B9s(this.bZg6a(D9u))})}}();b8h.bhu2x=bs9j;b8h.bbi9Z=function(d8f){var i8a=d8f.data||{},e8e={data:i8a,key:this.jK3x.key,id:i8a[this.fE2x.pkey]};this.z9q("onbeforedelete",e8e);this.U9L.Mc4g(e8e)};b8h.bhv2x=bs9j;b8h.bbj9a=function(d8f){var i8a=d8f.data||{},e8e={data:i8a,key:this.jK3x.key};this.z9q("onbeforeupdate",e8e);this.U9L.bkZ3x(e8e)};b8h.bYH6B=function(d8f){this.Wh7a(d8f,"onafterupdate");if(d8f.stopped)return;var D9u=d8f.data[this.fE2x.pkey];if(!!this.gh2x){var p8h=a7h.cal6f(D9u);if(!!p8h)p8h.hq2x(d8f.data)}else{var g8c=a7h.B9s(D9u+""+a7h.ON5S());if(!g8c)return;var j8b=this.U9L.ig2x(d8f.key),r8j=k8c.dw1x(j8b,d8f.data);if(r8j<0)return;this.fE2x.list=j8b;this.fE2x.beg=r8j;this.fE2x.end=r8j;this.fE2x.act="update";var ek1x=a7h.cg0x(this.PK5P,this.fE2x);g8c.insertAdjacentHTML("afterEnd",ek1x);a7h.cY1x(g8c)}};b8h.Wh7a=function(d8f,Y9P){var p8h=d8f.data;if(!p8h||p8h[this.fE2x.pkey]==null){this.z9q("onerror",d8f);d8f.stopped=!0}if(!d8f.stopped){this.z9q(Y9P,d8f)}};b8h.bCl8d=bs9j;b8h.bCj8b=bs9j;b8h.bCx8p=function(d8f){if(d8f.key!=this.jK3x.key)return;switch(d8f.action){case"add":this.bhu2x(d8f);break;case"delete":this.bhv2x(d8f);break;case"update":this.bYH6B(d8f);break;case"refresh":this.hq2x();break;case"unshift":this.bCj8b(d8f.offset,d8f.limit);break;case"append":this.bCl8d(d8f.offset,d8f.limit);break}};b8h.ri5n=function(p8h){this.bbj9a({data:p8h})};b8h.nX4b=function(p8h){this.bbi9Z({data:p8h})};b8h.uJ8B=function(p8h){this.U9L.kc3x({data:p8h,key:this.jK3x.key})};b8h.uI8A=function(){return this.U9L};b8h.bCh8Z=function(i8a){this.bhV2x("afterBegin",this.bhS2x(i8a));return this.bhU2x(i8a)};b8h.bXT6N=function(i8a){this.bhV2x("beforeEnd",this.bhS2x(i8a));return this.bhU2x(i8a)};b8h.hq2x=function(){this.WO7H();this.bCv8n()};b8h.cXK6E=function(){this.U9L.xF9w(this.jK3x.key);this.hq2x()};b8h.bwn6h=function(){if(!!this.bhe2x)return;this.bhe2x=!0;this.Bo0x("onbeforepullrefresh","列表刷新中...","afterBegin");var j8b=this.U9L.ig2x(this.jK3x.key);if(j8b&&j8b[0]){this.jK3x.data.aftertime=j8b[0].eventTime||""}this.U9L.bwn6h({key:this.jK3x.key,data:this.jK3x.data})};b8h.mk4o=function(){return this.U9L.mk4o(this.jK3x.key)};b8h.bXO6I=function(){return this.ko3x};b8h.bjP2x=function(){return this.U9L.bjP2x(this.jK3x.key)};b8h.cmt1x=function(){return this.gh2x}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,fR2x=NEJ.R,k8c=c8g("nej.u"),a7h=c8g("nej.e"),P9G=c8g("nej.ut"),b8h,L9C;if(!!P9G.li3x)return;P9G.li3x=NEJ.C();b8h=P9G.li3x.M9D(P9G.bgL1x);L9C=P9G.li3x.cy0x;b8h.Ew1x=function(bj9a,br9i){return L9C.Ew1x.call(this,this.Ce1x,bj9a,this.pL5Q,br9i)};b8h.bBW7P=function(r8j){var bj9a=0;if(r8j>1)bj9a=this.Ce1x+(r8j-2)*this.pL5Q;return bj9a};b8h.Eo1x=function(d8f){L9C.Eo1x.apply(this,arguments);if(!d8f.stopped){this.bYA6u(this.bBW7P(d8f.index))}};b8h.Wu7n=function(){this.WO7H();this.Bo0x("onbeforelistload","列表加载中...")};b8h.bhH2x=function(){L9C.bhH2x.apply(this,arguments);this.WO7H()};b8h.bCq8i=function(j8b,bj9a,gz2x){var R9I=this.Ew1x(bj9a,j8b.length);if(this.bYn6h(R9I.index,R9I.total))return!0;this.bCw8o(R9I.total>1?"":"none")};b8h.bCs8k=function(){this.Bo0x("onemptylist","没有列表数据！")};b8h.bhY2x=function(bF9w,ch0x){if(!ch0x&&k8c.fX2x(bF9w)){this.iV3x.innerHTML=bF9w;return}L9C.bhY2x.apply(this,arguments)};b8h.Wn7g=function(ek1x){this.iV3x.innerHTML=ek1x};b8h.Wl7e=function(hQ2x){this.gh2x=hQ2x};b8h.bhu2x=function(d8f){this.Wh7a(d8f,"onafteradd");if(!d8f.stopped)this.hq2x()};b8h.bhv2x=function(d8f){this.Wh7a(d8f,"onafterdelete");if(!d8f.stopped)this.hq2x()};b8h.bCl8d=function(bj9a,gz2x){var r8j=1;if(!!this.ko3x){r8j=this.ko3x.vc8U()}var kP3x=this.bBW7P(r8j),du1x=kP3x+(r8j>1?this.pL5Q:this.Ce1x);if(bj9a>=du1x&&!!this.ko3x){var R9I=this.Ew1x(0,this.mk4o());this.ko3x.bDa8S(R9I.total);this.bCw8o(R9I.total>1?"":"none")}else{this.hq2x()}};b8h.bCj8b=function(bj9a,gz2x){var r8j=1;if(!!this.ko3x){r8j=this.ko3x.vc8U()}var kP3x=this.bBW7P(r8j),R9I=this.Ew1x(kP3x,this.mk4o());this.Eo1x({last:r8j,index:R9I.index})}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),G9x=c8g("nej.ut"),k8c=c8g("nej.u"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),x9o=c8g("nm.w"),fn1x=40,b8h,L9C;x9o.bej1x=NEJ.C();b8h=x9o.bej1x.M9D(G9x.cS1x);L9C=x9o.bej1x.cy0x;b8h.cF0x=function(){this.cO0x()};b8h.bp9g=function(e8e){this.bq9h(e8e);this.Wa7T=e8e.inputer;this.bBV7O=e8e.tipper;this.ca0x([[this.Wa7T,"input",this.fe1x.f8d(this)]])};b8h.bC9t=function(){this.bJ9A();this.PB5G(null,null)};b8h.fe1x=function(d8f){if(d8f&&d8f.type=="keyup"&&(d8f.keyCode!=8||d8f.keyCode!=68))return;var Y9P=this.Wa7T.value,cXH6B;if(l8d.Vo7h(Y9P)>fn1x){this.Wa7T.value=l8d.Dv1x(Y9P,fn1x);this.PB5G("歌单名不能超过20个汉字或40个英文字符！",arguments.callee.f8d(this))}else if(Y9P.indexOf("#")>=0||Y9P.indexOf("@")>=0){this.PB5G("歌单名不能包含字符“@”和“#”！")}else{this.PB5G(null,null);this.z9q("onchange",{value:Y9P})}};b8h.cmI1x=function(){this.fe1x()};b8h.PB5G=function(){var D9u=0;return function(dV1x,bBS7L){if(!!D9u)window.clearTimeout(D9u);if(!dV1x){a7h.w9n(this.bBV7O,"f-vhide");this.bXa5f=!1;return}this.bBV7O.innerHTML='<i class="u-icn u-icn-25"></i>'+dV1x;a7h.y9p(this.bBV7O,"f-vhide");this.bXa5f=!0;if(k8c.he2x(bBS7L))D9u=window.setTimeout(function(){this.PB5G(null,null);bBS7L()}.f8d(this),1e3)}}();b8h.bWT5Y=function(){if(this.bXa5f)return!1;if(l8d.lw4A(this.Wa7T.value)){this.PB5G("歌单名不能为空");return!1}return!0};b8h.gu2x=function(){return this.Wa7T.value}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,h8b=c8g("nej.v"),a7h=c8g("nej.e"),v9m=c8g("nej.j"),n8f=c8g("nm.l"),x9o=c8g("nm.w"),bD9u=c8g("nej.ui"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),b8h,L9C;n8f.biN2x=NEJ.C();b8h=n8f.biN2x.M9D(n8f.ey1x);L9C=n8f.biN2x.cy0x;b8h.cF0x=function(){this.cO0x();l8d.kD3x()};b8h.bY0x=function(){this.ck0x();var j8b=a7h.F9w(this.o8g,"j-flag");this.biO2x={inputer:j8b[0],tipper:j8b[1]};this.iZ3x={onerror:this.bWQ5V.f8d(this),onitemadd:this.bWQ5V.f8d(this)};this.mN4R=j8b[2];h8b.s8k(j8b[2],"click",this.Hs2x.f8d(this));h8b.s8k(j8b[3],"click",this.Gc2x.f8d(this));h8b.s8k(this.o8g,"keypress",this.bWL5Q.f8d(this))};b8h.cj0x=function(){this.cf0x="m-wgt-create"};b8h.bp9g=function(e8e){e8e.clazz=" m-layer-w2";e8e.parent=e8e.parent||document.body;e8e.title="新建歌单";e8e.draggable=!0;e8e.destroyalbe=!0;e8e.mask=true;this.bq9h(e8e);this.biO2x.inputer.value=e8e.name||"";this.xn9e=x9o.bej1x.A9r(this.biO2x);this.xn9e.cmI1x();this.U9L=q8i.iL3x.A9r(this.iZ3x);setTimeout(function(){this.biO2x.inputer.focus()}.f8d(this),0)};b8h.bC9t=function(){this.bJ9A();if(this.xn9e){this.xn9e.W9N();delete this.xn9e}this.uD8v(!1);this.biO2x.inputer.value=""};b8h.uD8v=function(VK7D){this.pR5W=VK7D;if(VK7D){this.mN4R.innerHTML="<i>新建中...</i>";a7h.w9n(this.mN4R,"u-btn2-dis")}else{this.mN4R.innerHTML="<i>新 建</i>";a7h.y9p(this.mN4R,"u-btn2-dis")}};b8h.Hs2x=function(){function create(token){if(this.pR5W||!this.xn9e.bWT5Y())return;var cD0x={key:"playlist_new-"+GUser.userId,data:{name:this.xn9e.gu2x(),checkToken:token},offset:1};this.U9L.kc3x(cD0x);this.uD8v(!0)}l8d.lV4Z(create.f8d(this))};b8h.bWQ5V=function(d8f){var ci0x=(d8f.result||be9V).code;if(!ci0x){this.z9q("onsuccess",d8f.data)}else{this.z9q("onerror",d8f)}this.bu9l()};b8h.Gc2x=function(){this.bu9l()};b8h.bWL5Q=function(d8f){if(d8f.keyCode==13)this.Hs2x()}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),v9m=c8g("nej.j"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),n8f=c8g("nm.l"),b8h,L9C;n8f.bBK7D=NEJ.C();b8h=n8f.bBK7D.M9D(n8f.ey1x);L9C=n8f.bBK7D.cy0x;b8h.cF0x=function(){this.cO0x()};b8h.bY0x=function(){this.ck0x();var j8b=a7h.F9w(this.o8g,"j-flag");this.js3x={limit:301,parent:j8b[1],cache:{klass:q8i.iL3x,lkey:"playlist_new-"+GUser.userId,onlisterror:this.bBI7B.f8d(this)},item:{klass:"m-wgt-subscribe-item",cutStr:l8d.Dz1x,escape:k8c.dP1x}};this.iZ3x={onsuccess:this.bjc2x.f8d(this),onerror:this.eb1x.f8d(this)};h8b.s8k(j8b[0],"click",this.Hs2x.f8d(this));h8b.s8k(j8b[1],"click",this.lD4H.f8d(this))};b8h.cj0x=function(){this.cf0x="m-wgt-subscribe"};b8h.bp9g=function(e8e){e8e.parent=e8e.parent||document.body;e8e.clazz=" m-layer-w2";e8e.title="添加到歌单";e8e.draggable=!0;e8e.mask=!0;this.bq9h(e8e);this.bjh2x=(e8e.tracks||[]).reverse();this.js3x.item.size=this.bjh2x.length;this.iZ3x.name=e8e.name||"";this.bWD5I=q8i.vN8F.A9r({onaddsuccess:this.DG1x.f8d(this)});this.uQ8I=q8i.iL3x.A9r({onlistload:this.cnr1x.f8d(this)});this.uQ8I.bPB1x();k8c.bf9W(this.bjh2x,function(p8h,r8j,j8b){if(!k8c.mx4B(p8h)){j8b[r8j]=this.bWD5I.eY1x(p8h)||p8h}},this)};b8h.cnr1x=function(){if(this.dW1x)this.dW1x.W9N();this.dW1x=G9x.li3x.A9r(this.js3x)};b8h.Hs2x=function(){this.bu9l();if(this.HN2x)this.HN2x.W9N();this.HN2x=n8f.biN2x.A9r(this.iZ3x);this.HN2x.J9A()};b8h.lD4H=function(){var cny1x=function(g8c){while(g8c&&g8c!=document){if(g8c.tagName.toLowerCase()=="li"){return g8c}g8c=g8c.parentNode}};return function(d8f){h8b.cv0x(d8f);var H9y=h8b.ba9R(d8f),CS1x=cny1x(H9y);if(!!CS1x&&!a7h.bG9x(CS1x,"dis")){this.bjc2x({id:a7h.u9l(CS1x,"id")})}}}();b8h.bjc2x=function(d8f){var D9u=d8f.id;if(!D9u||!this.bjh2x.length)return;this.bWD5I.kc3x({key:"track_playlist-"+D9u,data:{tracks:this.bjh2x,pid:D9u}});this.bu9l()};b8h.DG1x=function(){this.z9q("onsuccess");n8f.bb9S.J9A({tip:"收藏成功"})};b8h.eb1x=function(d8f){this.bu9l();this.z9q("onerror",d8f);var cX1x="收藏失败";switch(d8f.code){case 405:cX1x="操作过于频繁，先休息一下再试吧";break;case 507:cX1x="歌单数量超过限制";break;case 502:cX1x="歌曲已经存在"}n8f.bb9S.J9A({tip:cX1x,type:2})};b8h.bBI7B=function(){this.bu9l();n8f.bb9S.J9A({tip:"列表下载失败，请稍后再试",type:2})};l8d.oC5H=function(e8e){if(!GUser||!GUser.userId||GUser.userId<=0){top.login();return}n8f.bBK7D.J9A(e8e)}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,cA0x=c8g("nej.p"),a7h=c8g("nej.e"),h8b=c8g("nej.v"),v9m=c8g("nej.j"),k8c=c8g("nej.u"),l8d=c8g("nm.x");var bBG7z,qx5C,Z9Q=decodeURIComponent(location.href),kM3x=/.+(https?:\/\/.+\/proxy.html)/.test(Z9Q)?RegExp.$1:"";if(!!kM3x){v9m.yt0x("mail_proxy_url",kM3x)}else{kM3x=v9m.vT8L("mail_proxy_url")||"about:blank"}bBG7z=a7h.biX2x({src:kM3x,onload:function(){qx5C=true}});var bWv5A=function(){v9m.gX2x("USER_TRIGGER",{value:true,expire:1/(24*60),path:"/"})};var cnC1x=function(){if(cA0x.dC1x.browser=="ie"&&parseInt(cA0x.dC1x.version)<9){l8d.eZ1x({clazz:"m-layer-w2",message:"当前浏览器版本过低，暂时无法使用，请升级后再试。"});return false}return true};l8d.Pq5v=function(t8l,D9u,X9O){if(!cnC1x())return;bWv5A();if(X9O=="stop"){if(!qx5C)throw"proxy not loaded";bWv5A();bBG7z.contentWindow.location.replace(kM3x+"#"+k8c.cJ0x({to:"ifrmMusic",message:JSON.stringify({s:+(new Date),action:"stop"})}))}else{bBG7z.contentWindow.location.replace(kM3x+"#"+k8c.cJ0x({to:"ifrmMusic",message:JSON.stringify({type:t8l,id:D9u,s:+(new Date),action:X9O})}))}}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),v9m=c8g("nej.j"),k8c=c8g("nej.u"),l8d=c8g("nm.x"),n8f=c8g("nm.l"),q8i=c8g("nm.d");var lj3x=q8i.ii2x.A9r();var qE5J=q8i.vN8F.A9r({onlistload:cnJ1x,onitemload:cnN1x,onerror:eb1x});var Ia3x=q8i.sq6k.A9r({onlistload:cnQ1x,onitemload:cnT1x,onerror:eb1x});var bWh5m={};function zT0x(d8f){var g8c=h8b.ba9R(d8f,"d:resAction"),X9O=a7h.u9l(g8c,"resAction");if(g8c&&(X9O=="play"||X9O=="addto")){var t8l=parseInt(a7h.u9l(g8c,"resType"));bVY5d({action:X9O,type:t8l,id:a7h.u9l(g8c,"resId"),from:a7h.u9l(g8c,"resFrom"),data:a7h.u9l(g8c,"resData"),order:a7h.u9l(g8c,"resOrder"),node:g8c});if(t8l!=13)bVW5b(g8c)}}function bVY5d(bU0x){var X9O=bU0x.action,t8l=bU0x.type,D9u=bU0x.id,em1x=bU0x.from,i8a=bU0x.data,wm8e=bU0x.order,e8e={limit:1e3,offset:0,data:{id:D9u},ext:{id:D9u,action:X9O,type:t8l,from:em1x,data:i8a,node:bU0x.node}};if(X9O!="play"&&X9O!="addto"||!t8l)return;if(window.GRef&&GRef=="mail"){l8d.Pq5v(t8l,D9u,X9O);return}switch(t8l){case 13:e8e.key="track_playlist-"+D9u;qE5J.mz4D(e8e);break;case 17:e8e.key="program";e8e.id=D9u;Ia3x.bkK3x(e8e);if(X9O=="play"){v9m.bm9d("/api/dj/program/listen",{query:{id:D9u}})}break;case 18:e8e.key="track";e8e.id=D9u;qE5J.bkK3x(e8e);break;case 19:e8e.key="track_album-"+D9u;qE5J.mz4D(e8e);break;case 24:e8e.key="track_day";qE5J.mz4D(e8e);break;case 2:e8e.key="track_artist_top-"+D9u;qE5J.mz4D(e8e);break;case 70:e8e.key="program_djradio-"+D9u+"-"+wm8e;e8e.data.radioId=D9u;e8e.data.asc=wm8e==2;Ia3x.mz4D(e8e);break}}function bVE5J(j8b){var m8e=[];k8c.bf9W(j8b,function(p8h){if(p8h.mainSong){p8h.mainSong.program=p8h;m8e.push(p8h.mainSong);p8h.localupdatetime=+(new Date);qE5J.cwQ5V(p8h.mainSong);p8h.mainTrackId=p8h.mainSong.id;delete p8h.mainSong}else{var bVC5H=qE5J.eY1x(p8h.mainTrackId);bVC5H&&m8e.push(bVC5H)}});return m8e}function bjZ2x(j8b,e8e){var uc8U=e8e.action=="play"&&e8e.type!=17&&e8e.type!=18,gy2x=e8e.action=="play";if(!j8b.length)return;if(e8e.type==19){j8b=l8d.Mr4v(j8b,true,{play:true},{source:"album",sourceid:e8e.id})}else{j8b=l8d.Mr4v(j8b,true,{play:true})}k8c.bf9W(j8b,function(p8h){p8h.source=l8d.bAm7f({fid:e8e.from,fdata:e8e.data,type:e8e.type,rid:e8e.id},p8h.id)});top.player.addTo(j8b,uc8U,gy2x);lj3x.Tg6a({rid:e8e.id,type:e8e.type,hash:l8d.Ov5A(),play:gy2x,source:e8e.from,sourceid:e8e.data})}function cnJ1x(d8f){var eg1x=d8f.ext||{};j8b=qE5J.ig2x(d8f.key);bjZ2x(j8b,eg1x);if(eg1x.type==13&&eg1x.action=="play"&&j8b&&j8b.length>0){bVW5b(eg1x.node);v9m.bm9d("/api/playlist/update/playcount",{query:{id:eg1x.id}})}}function cnN1x(d8f){var j8b=[qE5J.eY1x(d8f.id)],bn9e=j8b[0],sl6f=l8d.qV5a(bn9e),vY8Q=bn9e.privilege||{};if(sl6f==10){l8d.xf9W(vY8Q.fee||bn9e.fee,bn9e.id,"song",null,vY8Q)}else if(sl6f==100){l8d.jd3x(null,null,null,true,bn9e)}else if(sl6f==11){l8d.bNc1x(bn9e.id,18)}else{bjZ2x(j8b,d8f.ext)}}function cnQ1x(d8f){var j8b=bVE5J(Ia3x.ig2x(d8f.key));bjZ2x(j8b,d8f.ext)}function cnT1x(d8f){var j8b=bVE5J([Ia3x.eY1x(d8f.id)]);bjZ2x(j8b,d8f.ext)}function eb1x(){top.player.tipPlay("无法播放，音乐已下线")}function bVW5b(g8c){var t8l=a7h.u9l(g8c,"resType"),D9u=a7h.u9l(g8c,"resId"),K9B=t8l+"-"+D9u;if(bWh5m[K9B])return;var bVv5A=a7h.B9s("play-count"),bBs7l=a7h.F9w(g8c.parentNode,"nb"),Vj7c=null;if(bVv5A){Vj7c=bVv5A}else{Vj7c=!!bBs7l&&!!bBs7l[0]?bBs7l[0]:null}if(Vj7c){var cp0x=Vj7c.innerHTML;if(/^\d+$/.test(cp0x)){Vj7c.innerText=+cp0x+1}bWh5m[K9B]=true}}l8d.com2x=function(g8c){h8b.s8k(g8c||document.body,"click",zT0x.f8d(this))};l8d.con2x=function(X9O,t8l,D9u){bVY5d({action:X9O,type:t8l,id:D9u})}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,h8b=c8g("nej.v"),k8c=c8g("nej.u"),v9m=c8g("nej.j"),G9x=c8g("nej.ut"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),b8h,L9C;q8i.fF2x({"share-all":{url:"/api/share/friends/resource",format:function(m8e,e8e){this.coo2x(m8e,e8e)},onerror:"onshareerror"},"share-sns":{url:"/api/share/resource/sns",format:function(m8e,e8e){this.z9q("onshareall",e8e.result)},onerror:function(m8e,e8e){this.z9q("onshareall",e8e.result)}},"share-private":{url:"/api/msg/private/send",onload:"onshareprivate",onerror:"onshareerror"},share_img_compound:{url:"/upload/event/img/compound",type:"POST",format:function(m8e,e8e){e8e.options.picUrl=m8e.picUrl;this.bVn5s(e8e.options,e8e.result)},onerror:function(m8e,e8e){this.z9q("onshareall",e8e.result)}},"vid-get":{url:"/api/video/coversvid/get",format:function(T9K,e8e){this.rj5o("vid_info-"+e8e.data.nosKey,T9K);return T9K}},"video-submit":{url:"/api/cloudvideo/video/event/submit",filter:function(e8e){},format:function(m8e,e8e){e8e.data=e8e.data2;this.cr0x("share-all",e8e)},onerror:"onshareerror"}});q8i.bBp7i=NEJ.C();b8h=q8i.bBp7i.M9D(q8i.ia2x);b8h.cop2x=function(){var yu0x=function(T9K,e8e){e8e.times++;if(e8e.times>10){this.z9q("onvinfoerror",e8e.key,T9K)}else{setTimeout(eM1x.f8d(this,e8e),e8e.times*1e3)}};var Dg1x=function(T9K,e8e){this.z9q("onvinfo",e8e.key,T9K)};var eM1x=function(e8e){var Z9Q=e8e.url;v9m.bm9d(Z9Q+"?vinfo",{method:"GET",type:"json",mode:1,onload:Dg1x.eS1x(this,e8e),onerror:yu0x.eS1x(this,e8e)})};return function(e8e){e8e.times=0;eM1x.call(this,e8e)}}();b8h.cXB5G=function(){var Jb3x;var yu0x=function(T9K,e8e){if(T9K.code>0){clearInterval(this.Jd3x);this.z9q("onviderror",e8e.data.nosKey)}};var Dg1x=function(K9B,T9K){if(T9K.vid&&T9K.covers){clearInterval(this.Jd3x);this.z9q("onvid",K9B,T9K)}};var eM1x=function(e8e){if(+(new Date)-Jb3x>60*60*1e3){clearInterval(this.Jd3x);this.z9q("onviderror",e8e.data.nosKey);return}e8e.onload=Dg1x.f8d(this,e8e.data.nosKey);e8e.onerror=yu0x.f8d(this);this.cr0x("vid-get",e8e)};return function(e8e){if(!e8e||!e8e.data)return;Jb3x=+(new Date);this.Jd3x=clearInterval(this.Jd3x);this.Jd3x=setInterval(eM1x.f8d(this,e8e),1e4);eM1x.apply(this,arguments)}}();b8h.coy2x=function(){this.Jd3x=clearInterval(this.Jd3x)};b8h.coo2x=function(m8e,pj5o){if(m8e.event&&pj5o.snsTypes){if(pj5o.pics){var bVb5g=[];for(var i=0,len=pj5o.pics.length;i<len;i++){bVb5g[i]=pj5o.pics[i].originId}this.cr0x("share_img_compound",{data:{picIds:bVb5g.join(",")},options:pj5o,result:m8e})}else{pj5o.picUrl=pj5o.picUrl;this.bVn5s(pj5o,m8e)}}else{this.z9q("onshareall",m8e)}var xN9E=q8i.ii2x.A9r();xN9E.fa1x(pj5o.isPub?"pubevent":"shareevent",{id:m8e.id})};b8h.bVn5s=function(pj5o,m8e){var cD0x={},d8f=m8e.event||{};cD0x.eventid=d8f.id;cD0x.eventtype=d8f.type;pj5o.picUrl&&(cD0x.picUrl=pj5o.picUrl);cD0x.snsTypes=pj5o.snsTypes;cD0x.msg=pj5o.data.msg||"";cD0x.type=pj5o.data.type;pj5o.data.id&&(cD0x.id=pj5o.data.id);if(cD0x.eventtype==41){var T9K=l8d.Js3x(d8f.json);cD0x.eventtype=39;if(cD0x.msg){cD0x.msg+="  "}cD0x.msg+="分享"+T9K.video.creator.nickname+"的视频《"+T9K.video.title+"》";delete cD0x.id}this.cr0x("share-sns",{data:cD0x,result:m8e})};b8h.coD2x=function(e8e){var i8a={type:"",id:0,threadId:"",msg:"",actId:0,pics:"",checkToken:"",uuid:"publish-"+ +(new Date)+k8c.pu5z(5)};i8a=NEJ.EX(i8a,e8e);if(i8a.id<0){delete i8a.id;i8a.type="noresource"}if(!i8a.threadId){delete i8a.threadId}if(!i8a.actId){delete i8a.actId}if(!i8a.pics){delete i8a.pics}else{i8a.pics=JSON.stringify(i8a.pics)}this.cr0x("share-all",{data:i8a,snsTypes:e8e.snsTypes,picUrl:e8e.picUrl,pics:e8e.pics,isPub:e8e.isPub})};b8h.coE2x=function(e8e){this.cr0x("share-private",e8e)};b8h.coI2x=function(e8e){this.cr0x("video-submit",e8e)}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,h8b=c8g("nej.v"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),n8f=c8g("nm.l"),b8h,L9C;var coK2x={40:!0};q8i.fF2x({"event-list":{url:"/api/v1/event/get",filter:function(e8e){e8e.data.getcounts=true;e8e.data.pagesize=e8e.data.limit;if(e8e.data.offset==0){e8e.data.lasttime=-1}delete e8e.data.offset},format:function(T9K,e8e){T9K.event=l8d.bkw3x(T9K.event,function(p8h,r8j){return!coK2x[p8h.type]});this.coO2x(T9K.event);e8e.data.lasttime=T9K.lasttime;if(T9K.event.length){T9K.event.length=e8e.limit}return{list:T9K.event,total:T9K.size}}},"event_latest-list":{url:"/api/act/event/getnews",format:function(T9K,e8e){return{list:T9K.events,total:T9K.count}}},"event-pull":{url:"/api/event/getnews",filter:function(e8e){e8e.data.pagesize=20},format:function(T9K,e8e){return T9K.event}},"ievent-get":{type:"GET",url:"/api/event/get",onload:"oneventload",onerror:"oneventloaderror"},"ievent-new-get":{type:"GET",url:"/api/event/getnews",onload:"oneventnewload"},"ievent_user-list":{type:"GET",url:"/api/event/get/{userId}",filter:function(e8e){if(e8e.data.offset==0){e8e.data.time=-1}delete e8e.data.offset;e8e.data.getcounts=true},format:function(T9K,e8e){e8e.data.time=T9K.lasttime;var j8b=T9K.events;if(T9K.more&&j8b.length<e8e.data.limit){j8b=this.Pd5i(j8b,e8e.data.limit)}return{list:j8b,total:T9K.size}}},"ievent-res-get":{url:"/api/res/status",format:function(m8e,e8e){m8e.conf=e8e.conf;return m8e}},"ievent-like":{url:"/api/resource/like",onload:"oneventlike",filter:function(e8e,bl9c){if(e8e.like){if(e8e.comment){bl9c.url="/api/v1/comment/like"}else{bl9c.url="/api/resource/like"}bl9c.onload="oneventlike";bl9c.onerror="oneventlikeerr"}else{if(e8e.comment){bl9c.url="/api/v1/comment/unlike"}else{bl9c.url="/api/resource/unlike"}bl9c.onload="oneventunlike";bl9c.onerror="oneventunlikeerr"}},format:function(m8e,e8e){m8e.eid=e8e.eid;m8e.origin=e8e.origin;m8e.ext=e8e.ext;return m8e},onmessage:function(ci0x,m8e){if(ci0x==250){n8f.bb9S.J9A({tip:m8e.message||m8e.msg||"点赞异常",type:2});return}}},"ievent_user-del":{url:"/api/event/delete",format:function(m8e,e8e){m8e.id=e8e.data.id;return m8e}},"event-del":{url:"/api/event/delete",filter:function(e8e,bl9c){if(e8e.data.type=="nointer"){bl9c.url="/api/event/rcmd/reject"}else if(e8e.data.transcoding){bl9c.url="/api/event/video/transcoding/delete"}else{bl9c.url="/api/event/delete"}},format:function(m8e,e8e){m8e.id=e8e.data.id;return m8e}},"event_activity-del":{url:"/api/event/delete",format:function(m8e,e8e){m8e.id=e8e.data.id;return m8e}},"event_activity-list":{url:"/api/act/event",filter:function(e8e){e8e.data.lasttime=e8e.data.lasttime||-1;e8e.data.pagesize=e8e.data.limit;e8e.data.getcounts=true;delete e8e.data.offset},format:function(T9K,e8e){e8e.data.lasttime=T9K.lasttime;var j8b=T9K.events;if(T9K.more)j8b=this.Pd5i(j8b,e8e.data.pagesize);return{list:j8b,total:T9K.size}},onerror:"onlisterror"}});q8i.Dk1x=NEJ.C();b8h=q8i.Dk1x.M9D(q8i.ia2x);b8h.cF0x=function(){this.cO0x()};b8h.bBf7Y=function(t8l,dd1x){return t8l+"-"+dd1x};b8h.cXy5D=function(e8e){this.cr0x("ievent-get",e8e)};b8h.cXx5C=function(e8e){this.cr0x("ievent-new-get",e8e)};b8h.cXw5B=function(e8e){this.cr0x("ievent-user-get",e8e)};b8h.cXv5A=function(t8l,dd1x){return this.tG7z(this.bBf7Y(t8l,dd1x))};b8h.cXu5z=function(Pb5g,e8e){if(!Pb5g||!Pb5g.length)return;e8e=e8e||{};var bA9r={song:2,album:4,playlist:1,mv:3,program:5};for(var i=0,IV3x=[],bUD5I=[],i8a;i<Pb5g.length;++i){i8a=Pb5g[i];i8a=this.tG7z(this.bBf7Y(i8a.type,i8a.id));if(!i8a){IV3x.push(Pb5g[i].id);bUD5I.push(bA9r[Pb5g[i].type]||0)}}if(!IV3x.length){this.z9q("oneventresload",e8e.conf);return}e8e.data={ids:JSON.stringify(IV3x),types:JSON.stringify(bUD5I)};e8e.onload=this.coW2x.f8d(this);this.cr0x("ievent-res-get",e8e)};b8h.coW2x=function(m8e){if(m8e.code!=200){this.z9q("oneventreserror",m8e.code);return}var bA9r={1:"playlist",2:"song",3:"mv",4:"album",5:"program"};for(var i=0,j8b=m8e.results;i<j8b.length;++i){this.rj5o(this.bBf7Y(bA9r[j8b[i].type],j8b[i].id),j8b[i])}this.z9q("oneventresload",m8e.conf)};b8h.bUB5G=function(i8a){var K9B="event-list";this.bwk6e(K9B,i8a);this.z9q("onitemadd",{key:K9B,action:"add",data:i8a,flag:-1})};b8h.qi5n=function(e8e){this.cr0x("ievent-like",e8e)};b8h.nX4b=function(e8e){this.cr0x("ievent-delete",e8e)};b8h.Pd5i=function(j8b,gz2x){for(var i=j8b.length;i<gz2x;i++)j8b.push(null);return j8b};b8h.coO2x=function(j8b){var m8e=[];if(!j8b||!j8b.length)return;k8c.bf9W(j8b,function(d8f){d8f.biData=this.bUz5E(d8f)},this)};b8h.bUz5E=function(){var bjK2x={32:"comment",33:"activity",34:"recomment_artist"},cpb2x=[13,17,18,19,20,21,22,28,31];return function(d8f){var T9K={id:d8f.id,sourceid:d8f.user.userId,alg:d8f.rcmdInfo?d8f.rcmdInfo.alg:null,contentType:bjK2x[d8f.type]||(k8c.dw1x(cpb2x,d8f.type)!=-1?"user_event":"other")};return T9K}}();b8h.JV3x=function(cpf2x,d8f){var T9K=this.bUz5E(d8f);T9K.actionType=cpf2x;if(window.log)log("eventclick",T9K)};b8h.cXr5w=function(e8e){this.cr0x("event_latest-list",e8e)}})();
(function(factory){window.SparkMD5=factory()})(function(undefined){"use strict";var add32=function(a,b){return a+b&4294967295},hex_chr=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function cmn(q,a,b,x,s,t){a=add32(add32(a,q),add32(x,t));return add32(a<<s|a>>>32-s,b)}function md5cycle(x,k){var a=x[0],b=x[1],c=x[2],d=x[3];a+=(b&c|~b&d)+k[0]-680876936|0;a=(a<<7|a>>>25)+b|0;d+=(a&b|~a&c)+k[1]-389564586|0;d=(d<<12|d>>>20)+a|0;c+=(d&a|~d&b)+k[2]+606105819|0;c=(c<<17|c>>>15)+d|0;b+=(c&d|~c&a)+k[3]-1044525330|0;b=(b<<22|b>>>10)+c|0;a+=(b&c|~b&d)+k[4]-176418897|0;a=(a<<7|a>>>25)+b|0;d+=(a&b|~a&c)+k[5]+1200080426|0;d=(d<<12|d>>>20)+a|0;c+=(d&a|~d&b)+k[6]-1473231341|0;c=(c<<17|c>>>15)+d|0;b+=(c&d|~c&a)+k[7]-45705983|0;b=(b<<22|b>>>10)+c|0;a+=(b&c|~b&d)+k[8]+1770035416|0;a=(a<<7|a>>>25)+b|0;d+=(a&b|~a&c)+k[9]-1958414417|0;d=(d<<12|d>>>20)+a|0;c+=(d&a|~d&b)+k[10]-42063|0;c=(c<<17|c>>>15)+d|0;b+=(c&d|~c&a)+k[11]-1990404162|0;b=(b<<22|b>>>10)+c|0;a+=(b&c|~b&d)+k[12]+1804603682|0;a=(a<<7|a>>>25)+b|0;d+=(a&b|~a&c)+k[13]-40341101|0;d=(d<<12|d>>>20)+a|0;c+=(d&a|~d&b)+k[14]-1502002290|0;c=(c<<17|c>>>15)+d|0;b+=(c&d|~c&a)+k[15]+1236535329|0;b=(b<<22|b>>>10)+c|0;a+=(b&d|c&~d)+k[1]-165796510|0;a=(a<<5|a>>>27)+b|0;d+=(a&c|b&~c)+k[6]-1069501632|0;d=(d<<9|d>>>23)+a|0;c+=(d&b|a&~b)+k[11]+643717713|0;c=(c<<14|c>>>18)+d|0;b+=(c&a|d&~a)+k[0]-373897302|0;b=(b<<20|b>>>12)+c|0;a+=(b&d|c&~d)+k[5]-701558691|0;a=(a<<5|a>>>27)+b|0;d+=(a&c|b&~c)+k[10]+38016083|0;d=(d<<9|d>>>23)+a|0;c+=(d&b|a&~b)+k[15]-660478335|0;c=(c<<14|c>>>18)+d|0;b+=(c&a|d&~a)+k[4]-405537848|0;b=(b<<20|b>>>12)+c|0;a+=(b&d|c&~d)+k[9]+568446438|0;a=(a<<5|a>>>27)+b|0;d+=(a&c|b&~c)+k[14]-1019803690|0;d=(d<<9|d>>>23)+a|0;c+=(d&b|a&~b)+k[3]-187363961|0;c=(c<<14|c>>>18)+d|0;b+=(c&a|d&~a)+k[8]+1163531501|0;b=(b<<20|b>>>12)+c|0;a+=(b&d|c&~d)+k[13]-1444681467|0;a=(a<<5|a>>>27)+b|0;d+=(a&c|b&~c)+k[2]-51403784|0;d=(d<<9|d>>>23)+a|0;c+=(d&b|a&~b)+k[7]+1735328473|0;c=(c<<14|c>>>18)+d|0;b+=(c&a|d&~a)+k[12]-1926607734|0;b=(b<<20|b>>>12)+c|0;a+=(b^c^d)+k[5]-378558|0;a=(a<<4|a>>>28)+b|0;d+=(a^b^c)+k[8]-2022574463|0;d=(d<<11|d>>>21)+a|0;c+=(d^a^b)+k[11]+1839030562|0;c=(c<<16|c>>>16)+d|0;b+=(c^d^a)+k[14]-35309556|0;b=(b<<23|b>>>9)+c|0;a+=(b^c^d)+k[1]-1530992060|0;a=(a<<4|a>>>28)+b|0;d+=(a^b^c)+k[4]+1272893353|0;d=(d<<11|d>>>21)+a|0;c+=(d^a^b)+k[7]-155497632|0;c=(c<<16|c>>>16)+d|0;b+=(c^d^a)+k[10]-1094730640|0;b=(b<<23|b>>>9)+c|0;a+=(b^c^d)+k[13]+681279174|0;a=(a<<4|a>>>28)+b|0;d+=(a^b^c)+k[0]-358537222|0;d=(d<<11|d>>>21)+a|0;c+=(d^a^b)+k[3]-722521979|0;c=(c<<16|c>>>16)+d|0;b+=(c^d^a)+k[6]+76029189|0;b=(b<<23|b>>>9)+c|0;a+=(b^c^d)+k[9]-640364487|0;a=(a<<4|a>>>28)+b|0;d+=(a^b^c)+k[12]-421815835|0;d=(d<<11|d>>>21)+a|0;c+=(d^a^b)+k[15]+530742520|0;c=(c<<16|c>>>16)+d|0;b+=(c^d^a)+k[2]-995338651|0;b=(b<<23|b>>>9)+c|0;a+=(c^(b|~d))+k[0]-198630844|0;a=(a<<6|a>>>26)+b|0;d+=(b^(a|~c))+k[7]+1126891415|0;d=(d<<10|d>>>22)+a|0;c+=(a^(d|~b))+k[14]-1416354905|0;c=(c<<15|c>>>17)+d|0;b+=(d^(c|~a))+k[5]-57434055|0;b=(b<<21|b>>>11)+c|0;a+=(c^(b|~d))+k[12]+1700485571|0;a=(a<<6|a>>>26)+b|0;d+=(b^(a|~c))+k[3]-1894986606|0;d=(d<<10|d>>>22)+a|0;c+=(a^(d|~b))+k[10]-1051523|0;c=(c<<15|c>>>17)+d|0;b+=(d^(c|~a))+k[1]-2054922799|0;b=(b<<21|b>>>11)+c|0;a+=(c^(b|~d))+k[8]+1873313359|0;a=(a<<6|a>>>26)+b|0;d+=(b^(a|~c))+k[15]-30611744|0;d=(d<<10|d>>>22)+a|0;c+=(a^(d|~b))+k[6]-1560198380|0;c=(c<<15|c>>>17)+d|0;b+=(d^(c|~a))+k[13]+1309151649|0;b=(b<<21|b>>>11)+c|0;a+=(c^(b|~d))+k[4]-145523070|0;a=(a<<6|a>>>26)+b|0;d+=(b^(a|~c))+k[11]-1120210379|0;d=(d<<10|d>>>22)+a|0;c+=(a^(d|~b))+k[2]+718787259|0;c=(c<<15|c>>>17)+d|0;b+=(d^(c|~a))+k[9]-343485551|0;b=(b<<21|b>>>11)+c|0;x[0]=a+x[0]|0;x[1]=b+x[1]|0;x[2]=c+x[2]|0;x[3]=d+x[3]|0}function md5blk(s){var md5blks=[],i;for(i=0;i<64;i+=4){md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24)}return md5blks}function md5blk_array(a){var md5blks=[],i;for(i=0;i<64;i+=4){md5blks[i>>2]=a[i]+(a[i+1]<<8)+(a[i+2]<<16)+(a[i+3]<<24)}return md5blks}function md51(s){var n=s.length,state=[1732584193,-271733879,-1732584194,271733878],i,length,tail,tmp,lo,hi;for(i=64;i<=n;i+=64){md5cycle(state,md5blk(s.substring(i-64,i)))}s=s.substring(i-64);length=s.length;tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<length;i+=1){tail[i>>2]|=s.charCodeAt(i)<<(i%4<<3)}tail[i>>2]|=128<<(i%4<<3);if(i>55){md5cycle(state,tail);for(i=0;i<16;i+=1){tail[i]=0}}tmp=n*8;tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/);lo=parseInt(tmp[2],16);hi=parseInt(tmp[1],16)||0;tail[14]=lo;tail[15]=hi;md5cycle(state,tail);return state}function md51_array(a){var n=a.length,state=[1732584193,-271733879,-1732584194,271733878],i,length,tail,tmp,lo,hi;for(i=64;i<=n;i+=64){md5cycle(state,md5blk_array(a.subarray(i-64,i)))}a=i-64<n?a.subarray(i-64):new Uint8Array(0);length=a.length;tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<length;i+=1){tail[i>>2]|=a[i]<<(i%4<<3)}tail[i>>2]|=128<<(i%4<<3);if(i>55){md5cycle(state,tail);for(i=0;i<16;i+=1){tail[i]=0}}tmp=n*8;tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/);lo=parseInt(tmp[2],16);hi=parseInt(tmp[1],16)||0;tail[14]=lo;tail[15]=hi;md5cycle(state,tail);return state}function rhex(n){var s="",j;for(j=0;j<4;j+=1){s+=hex_chr[n>>j*8+4&15]+hex_chr[n>>j*8&15]}return s}function hex(x){var i;for(i=0;i<x.length;i+=1){x[i]=rhex(x[i])}return x.join("")}if(hex(md51("hello"))!=="5d41402abc4b2a76b9719d911017c592"){add32=function(x,y){var lsw=(x&65535)+(y&65535),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535}}if(typeof ArrayBuffer!=="undefined"&&!ArrayBuffer.prototype.slice){(function(){function clamp(val,length){val=val|0||0;if(val<0){return Math.max(val+length,0)}return Math.min(val,length)}ArrayBuffer.prototype.slice=function(from,to){var length=this.byteLength,begin=clamp(from,length),end=length,num,target,targetArray,sourceArray;if(to!==undefined){end=clamp(to,length)}if(begin>end){return new ArrayBuffer(0)}num=end-begin;target=new ArrayBuffer(num);targetArray=new Uint8Array(target);sourceArray=new Uint8Array(this,begin,num);targetArray.set(sourceArray);return target}})()}function toUtf8(str){if(/[\u0080-\uFFFF]/.test(str)){str=unescape(encodeURIComponent(str))}return str}function utf8Str2ArrayBuffer(str,returnUInt8Array){var length=str.length,buff=new ArrayBuffer(length),arr=new Uint8Array(buff),i;for(i=0;i<length;i+=1){arr[i]=str.charCodeAt(i)}return returnUInt8Array?arr:buff}function arrayBuffer2Utf8Str(buff){return String.fromCharCode.apply(null,new Uint8Array(buff))}function concatenateArrayBuffers(first,second,returnUInt8Array){var result=new Uint8Array(first.byteLength+second.byteLength);result.set(new Uint8Array(first));result.set(new Uint8Array(second),first.byteLength);return returnUInt8Array?result:result.buffer}function hexToBinaryString(hex){var bytes=[],length=hex.length,x;for(x=0;x<length-1;x+=2){bytes.push(parseInt(hex.substr(x,2),16))}return String.fromCharCode.apply(String,bytes)}function SparkMD5(){this.reset()}SparkMD5.prototype.append=function(str){this.appendBinary(toUtf8(str));return this};SparkMD5.prototype.appendBinary=function(contents){this.tB7u+=contents;this.br9i+=contents.length;var length=this.tB7u.length,i;for(i=64;i<=length;i+=64){md5cycle(this.co0x,md5blk(this.tB7u.substring(i-64,i)))}this.tB7u=this.tB7u.substring(i-64);return this};SparkMD5.prototype.end=function(raw){var buff=this.tB7u,length=buff.length,i,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ret;for(i=0;i<length;i+=1){tail[i>>2]|=buff.charCodeAt(i)<<(i%4<<3)}this.qv5A(tail,length);ret=hex(this.co0x);if(raw){ret=hexToBinaryString(ret)}this.reset();return ret};SparkMD5.prototype.reset=function(){this.tB7u="";this.br9i=0;this.co0x=[1732584193,-271733879,-1732584194,271733878];return this};SparkMD5.prototype.getState=function(){return{buff:this.tB7u,length:this.br9i,hash:this.co0x}};SparkMD5.prototype.setState=function(state){this.tB7u=state.buff;this.br9i=state.length;this.co0x=state.hash;return this};SparkMD5.prototype.destroy=function(){delete this.co0x;delete this.tB7u;delete this.br9i};SparkMD5.prototype.qv5A=function(tail,length){var i=length,tmp,lo,hi;tail[i>>2]|=128<<(i%4<<3);if(i>55){md5cycle(this.co0x,tail);for(i=0;i<16;i+=1){tail[i]=0}}tmp=this.br9i*8;tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/);lo=parseInt(tmp[2],16);hi=parseInt(tmp[1],16)||0;tail[14]=lo;tail[15]=hi;md5cycle(this.co0x,tail)};SparkMD5.hash=function(str,raw){return SparkMD5.hashBinary(toUtf8(str),raw)};SparkMD5.hashBinary=function(content,raw){var hash=md51(content),ret=hex(hash);return raw?hexToBinaryString(ret):ret};SparkMD5.ArrayBuffer=function(){this.reset()};SparkMD5.ArrayBuffer.prototype.append=function(arr){var buff=concatenateArrayBuffers(this.tB7u.buffer,arr,true),length=buff.length,i;this.br9i+=arr.byteLength;for(i=64;i<=length;i+=64){md5cycle(this.co0x,md5blk_array(buff.subarray(i-64,i)))}this.tB7u=i-64<length?new Uint8Array(buff.buffer.slice(i-64)):new Uint8Array(0);return this};SparkMD5.ArrayBuffer.prototype.end=function(raw){var buff=this.tB7u,length=buff.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i,ret;for(i=0;i<length;i+=1){tail[i>>2]|=buff[i]<<(i%4<<3)}this.qv5A(tail,length);ret=hex(this.co0x);if(raw){ret=hexToBinaryString(ret)}this.reset();return ret};SparkMD5.ArrayBuffer.prototype.reset=function(){this.tB7u=new Uint8Array(0);this.br9i=0;this.co0x=[1732584193,-271733879,-1732584194,271733878];return this};SparkMD5.ArrayBuffer.prototype.getState=function(){var state=SparkMD5.prototype.getState.call(this);state.buff=arrayBuffer2Utf8Str(state.buff);return state};SparkMD5.ArrayBuffer.prototype.setState=function(state){state.buff=utf8Str2ArrayBuffer(state.buff,true);return SparkMD5.prototype.setState.call(this,state)};SparkMD5.ArrayBuffer.prototype.destroy=SparkMD5.prototype.destroy;SparkMD5.ArrayBuffer.prototype.qv5A=SparkMD5.prototype.qv5A;SparkMD5.ArrayBuffer.hash=function(arr,raw){var hash=md51_array(new Uint8Array(arr)),ret=hex(hash);return raw?hexToBinaryString(ret):ret};return SparkMD5});
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,a7h=c8g("nej.e"),h8b=c8g("nej.v"),v9m=c8g("nej.j"),ec1x=c8g("nej.g"),k8c=c8g("nej.u"),gg2x=c8g("nej.n"),G9x=c8g("nej.ut"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),ij2x=c8g("nm.x.nos"),x9o=c8g("nm.w");var cpo2x=1024*256,cpp2x=1024*1024*2,sd6X={TOKEN_ERROR:-100,DNS_ERROR:-101},bUb4f=typeof File!=="undefined"?File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice:bs9j,sf6Z={MD5_DONE:.2,TOKEN_GET:.22,DNS_GET:.24,UPLOADED:1},kB3x={AUDIO:"audio",IMAGE:"image",TXT:"txt",RAR:"rar",OTHER:"other",VIDEO:"video"};var px5C={};var xN9E=q8i.ii2x.A9r();ij2x.cXl5q=function(){return kB3x};var cpR2x=function(){return k8c.pu5z(6)+ +(new Date)};var Ko3x=function(jt3x,e8e){if(!px5C[e8e.taskId]){return}(e8e.onuploading||bs9j).call(this,jt3x)};var bAI7B=function(Q9H){var cpV2x=Q9H.md5,cV1x=Q9H.file,cpX2x=cpV2x+cV1x.size;return"nos_file_hash_"+cpX2x};var cpY2x=function(Q9H){var K9B=bAI7B(Q9H),i8a=v9m.bIL9C(K9B,"{}");try{i8a=JSON.parse(i8a)}catch(e){i8a={}}return i8a};var cqa2x=function(Q9H,e8e){if(!Q9H.md5){return}var K9B=bAI7B(Q9H),i8a=v9m.bIL9C(K9B,"{}");try{i8a=JSON.parse(i8a)}catch(e){i8a={}}NEJ.X(i8a,e8e);v9m.yt0x(K9B,JSON.stringify(i8a))};var cqd2x=function(Q9H){var K9B=bAI7B(Q9H);v9m.My4C(K9B)};var cqf2x=function(Q9H,dL1x){var Z9Q=Q9H.urls[Math.min(Q9H.urlIndex,Q9H.urls.length-1)],cV1x=Q9H.file,nP4T=Q9H.bucket,nL4P=Q9H.objectKey,ct0x=Q9H.token,bL9C=Q9H.context,kC3x={},TG6A=bUb4f.call(cV1x,Q9H.beg,Q9H.end),bx9o={offset:Q9H.beg,complete:Q9H.lastChunk||false,version:"1.0"};if(bL9C){bx9o.context=bL9C}kC3x["x-nos-token"]=ct0x;kC3x[ec1x.AJ0x]=cV1x.type;Q9H.reqId=v9m.bm9d(Z9Q+"/"+nP4T+"/"+nL4P,{type:"json",method:"POST",headers:kC3x,query:bx9o,data:TG6A,onload:dL1x.onload,onerror:dL1x.onerror})};var cqg3x=function(m8e,Q9H,e8e){m8e={code:200,fileName:e8e.file.name,size:e8e.file.size,type:e8e.file.type,bucket:Q9H.bucket,docId:Q9H.docId,objectKey:Q9H.objectKey,url:"//nos.netease.com/"+Q9H.bucket+"/"+Q9H.objectKey,taskId:e8e.taskId};cqd2x(Q9H);if(!px5C[e8e.taskId]){return}delete px5C[e8e.taskId];xN9E.fa1x("sysaction",{type:"nosuploadsuccess",location:location.href,result:JSON.stringify(m8e)});(e8e.onsuccess||bs9j).call(this,m8e)};var cqh3x=function(m8e,e8e){(e8e.onerror||bs9j).call(this,m8e)};var cqi3x=function(m8e,Q9H,e8e){Q9H.context=m8e.context;Q9H.beg=m8e.offset;var jt3x=Q9H.beg/Q9H.file.size;cqa2x(Q9H,{bucket:Q9H.bucket,objectKey:Q9H.objectKey,token:Q9H.token,context:Q9H.context,beg:Q9H.beg,updateTime:+(new Date)});jt3x=sf6Z.DNS_GET+(sf6Z.UPLOADED-sf6Z.DNS_GET)*jt3x;Ko3x(jt3x,e8e);if(Q9H.lastChunk){cqg3x(m8e,Q9H,e8e)}else{bbS0x(Q9H,e8e)}};var cqj3x=function(m8e,Q9H,e8e){xN9E.fa1x("sysaction",{type:"noschunkuploaderror",location:location.href,code:m8e.data,body:m8e.extData,ext:JSON.stringify(Q9H),timging:+(new Date)-Q9H.chuckUploadStartTime});if(Q9H.urlIndex<Math.max(Q9H.urls.length-1,5)){Q9H.urlIndex++;bbS0x(Q9H,e8e)}else{cqh3x(m8e,e8e)}};var bbS0x=function(Q9H,e8e){if(!Q9H||Q9H.step==-1){return}Q9H.end=Q9H.beg+cpo2x;if(Q9H.end>=Q9H.file.size){Q9H.end=Q9H.file.size;Q9H.lastChunk=true}Q9H.chuckUploadStartTime=+(new Date);cqf2x(Q9H,{onload:cqi3x.eS1x(this,Q9H,e8e),onerror:cqj3x.eS1x(this,Q9H,e8e)})};var cqk3x=function(m8e,Q9H,e8e){Q9H.beg=m8e.offset;var jt3x=Q9H.beg/Q9H.file.size;jt3x=sf6Z.DNS_GET+(sf6Z.UPLOADED-sf6Z.DNS_GET)*jt3x;Ko3x(jt3x,e8e);bbS0x(Q9H,e8e)};var cqm3x=function(m8e,Q9H,e8e){Q9H.beg=0;delete Q9H.context;bAC7v(Q9H,e8e)};var bTB4F=function(Ty6s,Q9H,e8e){Q9H.lastChunk=false;Q9H.urls=Ty6s;Q9H.urlIndex=0;Ko3x(sf6Z.DNS_GET,e8e);if(Q9H.fromExist){delete Q9H.fromExist;var Z9Q=Q9H.urls[Math.min(Q9H.urlIndex,Q9H.urls.length-1)],nP4T=Q9H.bucket,nL4P=Q9H.objectKey,ct0x=Q9H.token,bL9C=Q9H.context,kC3x={},bx9o={context:bL9C,version:"1.0"};kC3x["x-nos-token"]=ct0x;Q9H.reqId=v9m.bm9d(Z9Q+"/"+nP4T+"/"+nL4P+"?uploadContext",{type:"json",method:"GET",headers:kC3x,query:bx9o,onload:cqk3x.eS1x(this,Q9H,e8e),onerror:cqm3x.eS1x(this,Q9H,e8e)})}else{Q9H.beg=0;bbS0x(Q9H,e8e)}};var cqp3x=function(m8e,Q9H,e8e){m8e.code=sd6X.DNS_ERROR;(e8e.onerror||bs9j).call(this,m8e)};var bTl4p=function(i8a,e8e){var m8e=i8a.result||{},nP4T=m8e.bucket,nL4P=m8e.objectKey,ct0x=m8e.token,Q9H=px5C[e8e.taskId];if(!nP4T||!nL4P||!ct0x||!Q9H){m8e.code=sd6X.TOKEN_ERROR;(e8e.onerror||bs9j).call(this,m8e);return}Q9H.bucket=nP4T;Q9H.objectKey=nL4P;Q9H.docId=m8e.docId;Q9H.token=ct0x;Ko3x(sf6Z.TOKEN_GET,e8e);if(location.protocol=="https:"){bTB4F(["//nosup-hz1.127.net"],Q9H,e8e)}else{Q9H.reqId=ij2x.cqy3x({bucket:nP4T,onload:bTB4F.eS1x(this,Q9H,e8e),onerror:cqp3x.eS1x(this,Q9H,e8e)})}Q9H.step=1};var cqB3x=function(m8e,e8e){m8e.code=sd6X.TOKEN_ERROR;(e8e.onerror||bs9j).call(this,m8e)};var bAC7v=function(Q9H,e8e){var cV1x=e8e.file,fi1x=cV1x.name||"",eg1x=fi1x.split(".").pop();ij2x.bcj0x(NEJ.X({filename:fi1x,ext:eg1x,onload:bTl4p.eS1x(this,e8e),onerror:cqB3x.eS1x(this,e8e)},e8e,function(p8h){return k8c.he2x(p8h)||k8c.mx4B(p8h)}))};var cqK3x=function(Q9H,e8e){if(!Q9H||Q9H.step==-1){return}Q9H.md5=Q9H.spark.end();var OH5M=cpY2x(Q9H)||{},nP4T=OH5M.bucket,nL4P=OH5M.objectKey,ct0x=OH5M.token;if(!nP4T||!nL4P||!ct0x){bAC7v(Q9H,e8e)}else{Q9H.context=OH5M.context;Q9H.beg=OH5M.beg;Q9H.fromExist=true;bTl4p({result:OH5M},e8e)}};var cqL3x=function(Ld3x,Q9H,e8e){if(!Q9H||Q9H.step==-1){return}Q9H.beg=Q9H.end;var jt3x=Q9H.beg/Q9H.file.size;jt3x=0+sf6Z.MD5_DONE*jt3x;Ko3x(jt3x,e8e);Q9H.spark.append(Ld3x.result);if(Q9H.lastChunk){cqK3x(Q9H,e8e)}else{bSP4T(Q9H,e8e)}};var cqO3x=function(m8e,Q9H,e8e){Q9H.md5="";bAC7v(Q9H,e8e)};var bSP4T=function(Q9H,e8e){if(!Q9H||Q9H.step==-1){return}Q9H.end=Q9H.beg+cpp2x;if(Q9H.end>=Q9H.file.size){Q9H.end=Q9H.file.size;Q9H.lastChunk=true}var Ld3x=new FileReader;Ld3x.onload=cqL3x.f8d(this,Ld3x,Q9H,e8e);Ld3x.onerror=cqO3x.f8d(this,Ld3x,Q9H,e8e);Ld3x.readAsArrayBuffer(bUb4f.call(Q9H.file,Q9H.beg,Q9H.end))};ij2x.iw3x=function(e8e){var cV1x=e8e.file,fi1x=cV1x.name||"",eg1x=fi1x.split(".").pop(),Li4m=cpR2x();e8e.taskId=Li4m;px5C[Li4m]={step:0};Ko3x(0,e8e);var Q9H=px5C[Li4m];Q9H.id=Li4m;Q9H.file=cV1x;Q9H.beg=0;Q9H.lastChunk=false;Q9H.spark=new SparkMD5.ArrayBuffer;var cqP3x=e8e.onerror||bs9j;e8e.onerror=function(){if(!px5C[Li4m]){return}delete px5C[Li4m];cqP3x.apply(this,arguments)};xN9E.fa1x("sysaction",{type:"nosuploadstart",location:location.href});bSP4T(Q9H,e8e);return Li4m};ij2x.le3x=function(D9u){var Q9H=px5C[D9u];if(Q9H){if(Q9H.step==0){delete px5C[D9u]}else{Q9H.step=-1;if(Q9H.reqId){v9m.le3x(Q9H.reqId)}delete px5C[D9u]}}};ij2x.bcj0x=function(){var CE1x=function(m8e,e8e){(e8e.onload||bs9j).call(this,m8e)};var tT8L=function(m8e,e8e){(e8e.onerror||bs9j).call(this,m8e)};var bSH4L=JSON.stringify({code:200,size:"$(ObjectSize)"});return function(e8e){var bcv0x=e8e.returnBody||bSH4L;if(k8c.mx4B(bcv0x)){try{JSON.stringify(bcv0x)}catch(e){bcv0x=bSH4L}}return v9m.bm9d("/api/nos/token/alloc",{method:"POST",type:"json",query:{filename:e8e.filename||"",ext:e8e.ext||"",type:e8e.type||kB3x.OTHER,bucket:e8e.bucket||"",local:e8e.local||false,nos_product:e8e.nosProduct||0,return_body:bcv0x},onload:CE1x.eS1x(this,e8e),onerror:tT8L.eS1x(this,e8e)})}}();ij2x.cqy3x=function(){var cqR3x="//wanproxy.127.net/lbs";var CE1x=function(m8e,e8e){if(m8e.lbs){}var Ty6s=m8e.upload;if(!Ty6s||!Ty6s.length){tT8L(m8e,e8e)}(e8e.onload||bs9j).call(this,Ty6s)};var tT8L=function(m8e,e8e){(e8e.onerror||bs9j).call(this,m8e)};return function(e8e){var nP4T=e8e.bucket;return v9m.bm9d(cqR3x,{method:"GET",type:"json",query:{version:"1.0",bucketname:nP4T},onload:CE1x.eS1x(this,e8e),onerror:tT8L.eS1x(this,e8e)})}}();ij2x.bcz0x=function(){return typeof File!=="undefined"&&typeof Blob!=="undefined"&&typeof FileList!=="undefined"&&(!!Blob.prototype.webkitSlice||!!Blob.prototype.mozSlice||!!Blob.prototype.slice||false)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v9m=c8g("nej.j"),ce0x=c8g("nej.ut"),bD9u=c8g("nej.ui"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),ij2x=c8g("nm.x.nos"),E9v=c8g("nm.m"),n8f=c8g("nm.l"),x9o=c8g("nm.w"),b8h,L9C;var gK2x=a7h.jW3x('<form action="" method="post" enctype="multipart/form-data"><input name="Object" type="hidden" value=""><input name="x-nos-token" type="hidden" value=""><input name="x-nos-entity-type" type="hidden" value="json" /><input name="Content-Type" type="hidden" value="" /><input class="j-file" type="file" name="file" /></form>');x9o.OD5I=NEJ.C();b8h=x9o.OD5I.M9D(bD9u.eA1x);b8h.cj0x=function(){this.cf0x=gK2x};b8h.bY0x=function(){this.ck0x();this.bQ0x=this.o8g;this.hC2x=a7h.F9w(this.o8g,"j-file")[0];h8b.s8k(this.hC2x,"change",this.rC6w.f8d(this))};b8h.bp9g=function(e8e){e8e=e8e||{};this.bq9h(e8e);this.hC2x.id=e8e.inputId||"";this.hC2x.accept=e8e.accept||"*";this.Am0x=e8e};b8h.bcG0x=function(){return a7h.my4C(this.hC2x)};b8h.rC6w=function(d8f){if(this.hC2x.value=="")return;var lZ4d=this.hC2x.value.split("\\"),fi1x=lZ4d.length>0?lZ4d[lZ4d.length-1]:lZ4d[0],qD5I=(this.hC2x.files||[{}])[0];var cs0x={files:this.hC2x.files,filename:fi1x,size:qD5I.size,cancelUpload:false};this.z9q("onchange",cs0x);if(cs0x.cancelUpload){this.hC2x.value="";return}if(cs0x.stopped){return}this.SG6A()};b8h.SG6A=function(){if(this.hC2x.value=="")return;var lZ4d=this.hC2x.value.split("\\"),fi1x=lZ4d.length>0?lZ4d[lZ4d.length-1]:lZ4d[0],eg1x=(fi1x.split(".")||[]).pop(),qD5I=(this.hC2x.files||[{}])[0],LC4G=(qD5I.type||"").split("/").shift();if(qD5I.size>100*1024*1024){return this.mY4c("onerror",{code:-200})}this.z9q("onuploading",0);this.bSF4J=ij2x.bcj0x(NEJ.X({onload:this.SF6z.eS1x(this,fi1x),onerror:this.mY4c.f8d(this)},this.Am0x,function(p8h){return k8c.he2x(p8h)||k8c.mx4B(p8h)}))};b8h.SF6z=function(bP0x,fi1x){var m8e=bP0x.result||{},nP4T=m8e.bucket,nL4P=m8e.objectKey,ct0x=m8e.token;if(!nP4T||!nL4P||!ct0x){bP0x.code=-100;this.mY4c.call(this,bP0x);return}var qD5I=(this.hC2x.files||[{}])[0];var iq3x=a7h.dm1x(this.bQ0x);iq3x[0].value=nL4P;iq3x[1].value=ct0x;iq3x[2].value="json";if(qD5I.type&&qD5I.type.indexOf("audio")==0){iq3x[3].value="audio/mpeg"}else{iq3x[3].value=qD5I.type||""}this.LK4O=m8e;this.rX6R=fi1x;this.z9q("onuploading",.2);this.iw3x()};b8h.iw3x=function(){this.bSF4J=ij2x.iw3x({isBackend:false,file:(this.hC2x.files||[{}])[0],bucket:"yyimgs",local:false,onsuccess:this.wQ9H.f8d(this),onerror:this.mY4c.f8d(this)})};b8h.le3x=function(){v9m.le3x(this.bSF4J);this.bQ0x.reset()};b8h.wQ9H=function(bP0x){var ct0x=this.LK4O,fi1x=this.rX6R,qD5I=(this.hC2x.files||[{}])[0],lb3x={code:200,fileName:fi1x,size:qD5I.size,bucket:ct0x.bucket,docId:ct0x.docId,objectKey:ct0x.objectKey,url:"//nos.netease.com/"+ct0x.bucket+"/"+ct0x.objectKey};if(!bP0x){bP0x=lb3x}if(!bP0x.code||bP0x.code==200){this.z9q("onsuccess",NEJ.X(lb3x,bP0x))}else{this.z9q("onerror",bP0x)}this.bQ0x.reset()};b8h.mY4c=function(bP0x){this.z9q("onerror",bP0x);this.bQ0x.reset()};b8h.bAi7b=function(jt3x){this.z9q("onuploading",.2+jt3x.loaded/jt3x.total*.8)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v9m=c8g("nej.j"),ce0x=c8g("nej.ut"),bD9u=c8g("nej.ui"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),ij2x=c8g("nm.x.nos"),E9v=c8g("nm.m"),n8f=c8g("nm.l"),x9o=c8g("nm.w"),b8h,L9C;x9o.Su6o=NEJ.C();b8h=x9o.Su6o.M9D(ce0x.cS1x);b8h.bp9g=function(e8e){e8e=e8e||{};this.bq9h(e8e);this.bcV0x=x9o.OD5I.A9r(NEJ.X({parent:e8e.parent,onchange:this.rC6w.f8d(this),onuploading:this.z9q.f8d(this,"onuploading"),onsuccess:this.z9q.f8d(this,"onsuccess"),onerror:this.z9q.f8d(this,"onerror")},e8e,function(p8h){return k8c.he2x(p8h)||k8c.mx4B(p8h)}));if(e8e.multiple&&ij2x.bcz0x()){a7h.hc2x(this.bcV0x.bcG0x(),"multiple",true)}this.Am0x=e8e};b8h.rC6w=function(e8e){var fi1x=e8e.filename,eg1x=(fi1x.split(".")||[]).pop();this.bSx4B=(e8e.files||[{}])[0];this.z9q("onchange",e8e);if(ij2x.bcz0x()&&!e8e.stopped&&!e8e.cancelUpload){this.SG6A(true);e8e.stopped=true}};b8h.bcG0x=function(){return this.bcV0x.bcG0x()};b8h.cqV3x=function(){return this.bSx4B};b8h.SG6A=function(fy2x,cV1x){cV1x=cV1x||this.bSx4B;if(ij2x.bcz0x()){this.bSv4z=ij2x.iw3x(NEJ.X({file:cV1x,local:this.Am0x.bucket&&this.Am0x.bucket.length,onuploading:this.z9q.f8d(this,"onuploading"),onsuccess:this.z9q.f8d(this,"onsuccess"),onerror:this.z9q.f8d(this,"onerror")},this.Am0x,function(p8h){return k8c.he2x(p8h)||k8c.mx4B(p8h)}));return this.bSv4z}else if(!fy2x){this.bcV0x.SG6A()}};b8h.le3x=function(D9u){D9u=D9u||this.bSv4z;if(D9u){ij2x.le3x(D9u)}this.bcV0x.le3x()}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),ec1x=c8g("nej.g"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v9m=c8g("nej.j"),gg2x=c8g("nej.n"),G9x=c8g("nej.ut"),bc9T=c8g("nej.ui"),x9o=c8g("nm.w"),n8f=c8g("nm.l"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),N9E=c8g("nm.x.f"),ij2x=c8g("nm.x.nos"),b8h,L9C,bAd7W={0:"","-1":"不能添加重复图片","-10":"最多只能添加9张","-3":"请选择不超过5M的图片"},bAc7V=5*1024*1024,cXf5k=80,bde0x=/\.(bmp|jpg|jpeg|png|gif)$/i;x9o.bSi4m=NEJ.C();b8h=x9o.bSi4m.M9D(G9x.xp9g);b8h.btH5M=function(){return{x:this.Ev1x.clientWidth-this.o8g.offsetWidth,y:this.Ev1x.clientHeight-this.o8g.offsetHeight}};x9o.bzV7O=NEJ.C();b8h=x9o.bzV7O.M9D(bc9T.eA1x);b8h.cj0x=function(){this.cf0x="m-xwgt-share-upload"};b8h.bY0x=function(){this.ck0x();var j8b=a7h.F9w(this.o8g,"j-flag");this.bdk0x=j8b.shift();this.Op5u=j8b.shift();this.Si6c=j8b.shift();this.bSa4e={onchange:this.bRW3x.eS1x(this,0),onerror:this.eb1x.f8d(this),onsuccess:this.ts7l.f8d(this),multiple:true,parent:this.Op5u,accept:"image/bmp,image/jpg,image/jpeg,image/png,image/gif"};this.bzO7H={onchange:this.bRW3x.eS1x(this,1),onerror:this.eb1x.f8d(this),onsuccess:this.ts7l.f8d(this),multiple:true,accept:"image/bmp,image/jpg,image/jpeg,image/png,image/gif"};this.crE3x=x9o.Su6o.A9r(this.bSa4e)};b8h.bp9g=function(e8e){this.bq9h(e8e);this.bzO7H.parent=e8e.button;this.On5s&&this.On5s.W9N();this.On5s=x9o.Su6o.A9r(this.bzO7H);this.o8g.style.display="none";if(!!this.ft1x){for(var i=this.ft1x.length-1;i>=0;i--){a7h.cY1x(this.ft1x[i].element,false);if(this.ft1x[i].dragger)this.ft1x[i].dragger.W9N()}}this.ft1x=[];if(this.Eb1x){clearTimeout(this.Eb1x)}this.bdD1x(0);this.RT6N=0;this.ca0x([[this.bSa4e.parent,"click",this.bRR3x.f8d(this)],[this.bzO7H.parent,"click",this.bRR3x.f8d(this)]])};b8h.bC9t=function(){h8b.hH2x(this.tq7j,"click");if(!!this.ft1x){for(var i=this.ft1x.length-1;i>=0;i--){a7h.cY1x(this.ft1x[i].element,false);if(this.ft1x[i].dragger)this.ft1x[i].dragger.W9N()}}this.ft1x=[];if(this.Eb1x){clearTimeout(this.Eb1x)}this.Eb1x=0;this.On5s&&this.On5s.W9N();delete this.On5s;this.bJ9A()};b8h.bRR3x=function(d8f){if(!ij2x.bcz0x()&&this.ft1x.doing){h8b.bi9Z(d8f)}};b8h.bRW3x=function(e8e,r8j){var mu4y=e8e.files,hV2x;e8e.stopped=true;if(!mu4y){if(e8e.filename){mu4y=[{name:e8e.filename,isIE:true}]}}for(var i=0,len=mu4y.length;i<len;i++){if(!bde0x.test(mu4y[i].name)){this.bzM7F({path:mu4y[i].name,index:r8j,status:-4,fail:"这不是<br>图片"})}else if(mu4y[i].size>bAc7V){this.bzL7E(-3);this.bzM7F({path:mu4y[i].name,index:r8j,status:-3,fail:"上传<br>失败"})}else{this.bzM7F({path:mu4y[i].name,file:mu4y[i],index:r8j,status:0})}}};b8h.bzM7F=function(vR8J){if(this.ft1x.length>=9){this.bzL7E(-10,3e3,this.bRO3x.f8d(this));return}this.crF3x(vR8J);this.ft1x.push(vR8J);if(!!this.ft1x.length){this.o8g.style.display=""}if(this.ft1x.length>=9){this.Op5u.style.display="none"}else{this.Op5u.style.display=""}this.Og5l()};b8h.Og5l=function(){var bzE7x=-1,bRA3x=0;for(var i=0,l=this.ft1x.length;i<l;i++){if(this.ft1x[i].status==1){return}if(this.ft1x[i].status==0&&bzE7x<0){bzE7x=i}if(this.ft1x[i].status==2||this.ft1x[i].status<0){bRA3x++}}var p8h=this.ft1x[bzE7x];if(p8h){(p8h.index==0?this.crE3x:this.On5s).SG6A(false,p8h.file);p8h.status=1;this.ft1x.doing=p8h;this.z9q("onstartupload",{})}else if(bRA3x==this.ft1x.length){this.z9q("onfinishupload",{})}};b8h.bzC7v=function(){return this.ft1x.doing||{}};b8h.eb1x=function(d8f){var vR8J=this.bzC7v();vR8J.status=-4;vR8J.fail="上传<br>失败";this.bRu3x(vR8J);this.ft1x.doing=null;this.Og5l()};b8h.ts7l=function(d8f){var vR8J=this.bzC7v(),ed1x=d8f.fileName.match(bde0x);vR8J.picUrl=d8f.url;v9m.bm9d("/upload/event/img/v1",{query:{imgid:d8f.docId,format:ed1x[1]},type:"json",onload:this.bRp3x.f8d(this),onerror:this.bRp3x.f8d(this)})};b8h.bRp3x=function(d8f){if(d8f&&d8f.code==200&&d8f.picInfo){var vR8J=this.bzC7v();vR8J.status=2;var R9I=NEJ.X({},d8f.picInfo);R9I.originId=R9I.originIdStr;R9I.squareId=R9I.squareIdStr;R9I.rectangleId=R9I.rectangleIdStr;R9I.pcSquareId=R9I.pcSquareIdStr;R9I.pcRectangleId=R9I.pcRectangleIdStr;R9I.originJpgId=R9I.originJpgIdStr||R9I.originJpgId;vR8J.picInfo=R9I;this.bRu3x(vR8J);this.ft1x.doing=null;this.Og5l()}else{this.eb1x(d8f)}};b8h.bzL7E=function(r8j,hD2x,dL1x){if(this.RT6N<r8j){return}if(this.Eb1x){clearTimeout(this.Eb1x);this.Eb1x=0}if(hD2x){this.Si6c.innerText=bAd7W[r8j*1];this.RT6N=r8j;this.Eb1x=setTimeout(this.bdD1x.f8d(this,r8j,dL1x),hD2x)}else{this.Si6c.innerText=bAd7W[r8j];this.RT6N=r8j}this.Si6c.style.display=""};b8h.bdD1x=function(r8j,dL1x){if(r8j&&this.RT6N!==r8j){return}this.RT6N=0;this.Si6c.innerText=bAd7W[0];this.Si6c.style.display="none";dL1x&&dL1x()};b8h.crF3x=function(cV1x){var i8a={};if(cV1x.fail){i8a.fail=cV1x.fail}var ek1x=a7h.cg0x("m-xwgt-share-upload-preview",i8a);cV1x.element=a7h.oW5b(ek1x);h8b.s8k(a7h.F9w(cV1x.element,"del")[0],"mousedown",this.crR3x.f8d(this,cV1x),false);this.bdk0x.insertBefore(cV1x.element,this.bdk0x.lastElementChild);cV1x.dragger=x9o.bSi4m.A9r({view:this.bdk0x.parentNode,body:cV1x.element,overflow:false,direction:0,isRelative:1,ondragstart:this.Zx9o.f8d(this,cV1x),onchange:this.crS3x.f8d(this,cV1x),ondragend:this.btE5J.f8d(this,cV1x)})};b8h.bRu3x=function(cV1x){if(!cV1x||!cV1x.element){return false}var i8a={};if(cV1x.fail){i8a.fail=cV1x.fail}else{i8a.url=cV1x.picUrl}a7h.w9n(cV1x.element,"z-fail");cV1x.element.firstChild.outerHTML=a7h.cg0x("m-xwgt-share-upload-preview-img",i8a)};b8h.Zx9o=function(p8h,ch0x){a7h.w9n(p8h.element,"z-sel")};b8h.crS3x=function(p8h,ch0x){var cWV5a,gG2x=this.ft1x.length-1,pE5J;for(var i=gG2x;i>=0;i--){a7h.y9p(this.ft1x[i].element,"z-jump");if(this.ft1x[i]==p8h){pE5J=i}else{a7h.fv2x(this.ft1x[i].element,{left:"",top:""})}}var baN9E={x:46+92*(pE5J%5)+ch0x.left,y:46+92*(pE5J/5>>0)+ch0x.top};var bzv7o=baN9E.x/92>>0,bzs7l=baN9E.y/92>>0,Cp1x=Math.max(0,Math.min(gG2x,bzs7l*5+bzv7o));if(Cp1x==pE5J){return}var csf3x=Cp1x<pE5J;for(var i=Math.min(Cp1x,pE5J);i<=Math.max(Cp1x,pE5J);i++){if(i!==pE5J){var bQP3x=i%5;if(csf3x){if(bQP3x==4){a7h.fv2x(this.ft1x[i].element,{left:"-368px",top:"92px"})}else{a7h.fv2x(this.ft1x[i].element,{left:"92px",top:""})}}else{if(bQP3x==0){a7h.fv2x(this.ft1x[i].element,{left:"368px",top:"-92px"})}else{a7h.fv2x(this.ft1x[i].element,{left:"-92px",top:""})}}}}};b8h.btE5J=function(p8h,ch0x){var cWT5Y,gG2x=this.ft1x.length-1,pE5J;for(var i=gG2x;i>=0;i--){a7h.fv2x(this.ft1x[i].element,{left:"",top:""});if(this.ft1x[i]==p8h){pE5J=i}}a7h.y9p(p8h.element,"z-sel");var baN9E={x:46+92*(pE5J%5)+ch0x.left,y:46+92*(pE5J/5>>0)+ch0x.top};var bzv7o=baN9E.x/92>>0,bzs7l=baN9E.y/92>>0,Cp1x=Math.max(0,Math.min(gG2x,bzs7l*5+bzv7o));if(Cp1x==pE5J){return}this.bdk0x.insertBefore(p8h.element,(this.ft1x[Cp1x+(Cp1x>pE5J?1:0)]||{}).element||this.Op5u);this.ft1x.splice(pE5J,1);this.ft1x.splice(Cp1x,0,p8h)};b8h.crR3x=function(p8h,d8f){a7h.cY1x(p8h.element,false);if(p8h.dragger)p8h.dragger.W9N();delete p8h.dragger;var r8j=-1;for(var i=this.ft1x.length-1;i>=0;i--){if(this.ft1x[i]==p8h){r8j=i;break}}this.ft1x.splice(r8j,r8j>=0?1:0);delete p8h;if(this.ft1x.length>=9){this.Op5u.style.display="none"}else{this.Op5u.style.display=""}if(!this.ft1x.length){this.o8g.style.display="none";this.bdD1x(0)}else{this.bRO3x()}if(this.ft1x.doing==p8h){this.ft1x.doing=null}this.Og5l()};b8h.bRO3x=function(){var bQK3x=false;for(var i=0,len=this.ft1x.length;i<len;i++){if(this.ft1x[i].status==-3){bQK3x=true}}if(bQK3x){this.bzL7E(-3)}else{this.bdD1x(-3)}};b8h.ban9e=function(){var dN1x=[];for(var i=this.ft1x.length-1;i>=0;i--){if(this.ft1x[i].status==2){dN1x.unshift(this.ft1x[i].picInfo)}}return dN1x};G9x.fY2x.A9r({element:x9o.bzV7O,event:["onstartupload","onfinishupload"]})})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,fR2x=NEJ.R,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),bc9T=c8g("nej.ui"),P9G=c8g("nej.ut"),b8h,L9C;if(!!P9G.on5s)return;P9G.on5s=NEJ.C();b8h=P9G.on5s.M9D(P9G.bgL1x);L9C=P9G.on5s.cy0x;b8h.bp9g=function(e8e){this.csv4z(e8e.more);this.HA2x=a7h.B9s(e8e.sbody);this.csx4B=e8e.fixScrollPosition;this.ca0x([[this.HA2x,"scroll",this.csG4K.f8d(this)]]);var dB1x=e8e.delta;if(dB1x==null)dB1x=30;this.ZC9t=Math.max(0,dB1x);var cp0x=parseInt(e8e.count)||0;this.ky3x=Math.max(0,cp0x);var hF2x=parseInt(e8e.number)||0;if(hF2x>1&&hF2x<=cp0x){this.Fk2x=hF2x}this.bq9h(e8e)};b8h.bC9t=function(){this.bJ9A();delete this.Ex1x;delete this.HA2x;delete this.vj8b;delete this.beO1x};b8h.Ew1x=function(bj9a,br9i){var bN0x=this.Ce1x+(this.ky3x-1)*this.pL5Q,gz2x=this.ky3x*this.pL5Q;return L9C.Ew1x.call(this,bN0x,bj9a,gz2x,br9i)};b8h.csv4z=function(beQ1x){this.Ex1x=a7h.B9s(beQ1x);this.ca0x([[this.Ex1x,"click",this.qb5g.f8d(this)]])};b8h.bzp7i=function(H9y){H9y=H9y||{};if(this.vj8b||!H9y)return;if(!H9y.scrollHeight)H9y=a7h.qh5m();var bj9a=a7h.iu3x(this.iV3x,this.csx4B?H9y:null),dB1x=bj9a.y+this.iV3x.offsetHeight-H9y.scrollTop-H9y.clientHeight,bzo7h=H9y.scrollHeight<=H9y.clientHeight;if(dB1x<=this.ZC9t||bzo7h&&!this.vj8b){this.qb5g()}};b8h.csG4K=function(d8f){if(this.vj8b)return;this.bzp7i(h8b.ba9R(d8f))};b8h.Eo1x=function(d8f){L9C.Eo1x.apply(this,arguments);if(!d8f.stopped){this.WO7H();var bj9a=0;if(d8f.index>1){bj9a=this.Ce1x+((d8f.index-1)*this.ky3x-1)*this.pL5Q}this.iD3x=bj9a;this.qb5g()}};b8h.bYv6p=function(e8e){if(!!this.Fk2x){var dB1x=e8e.offset>0?this.pL5Q:this.Ce1x,gz2x=dB1x+this.pL5Q*(this.Fk2x-1);this.iD3x=e8e.offset+gz2x;e8e.data.limit=gz2x;e8e.limit=gz2x;delete this.Fk2x}return e8e};b8h.bCy8q=function(e8e){delete this.beO1x;L9C.bCy8q.apply(this,arguments);this.bQz2x()};b8h.bCx8p=function(d8f){if(d8f.key!=this.jK3x.key)return;switch(d8f.action){case"refresh":case"append":delete this.beO1x;break}L9C.bCx8p.apply(this,arguments)};b8h.Wu7n=function(){this.Bo0x("onbeforelistload","列表加载中...");a7h.bd9U(this.Ex1x,"display","none")};b8h.bCq8i=function(j8b,bj9a,gz2x){var br9i=j8b.length,bzm7f=j8b.loaded?bj9a+gz2x>=br9i:bj9a+gz2x>br9i;this.iD3x=Math.min(this.iD3x,br9i);a7h.bd9U(this.Ex1x,"display",bzm7f?"none":"");if(bzm7f)this.vj8b=!0;if(this.ky3x>0){var R9I=this.Ew1x(bj9a,j8b.length);if(this.bYn6h(R9I.index,R9I.total))return!0;var dB1x=this.Ce1x-this.pL5Q,hF2x=this.ky3x*this.pL5Q;this.vj8b=(bj9a+gz2x-dB1x)%hF2x==0||bzm7f;a7h.bd9U(this.Ex1x,"display",this.vj8b?"none":"");this.bCw8o(this.vj8b&&R9I.total>1?"":"none")}};b8h.bCs8k=function(){this.iD3x=0;this.vj8b=!0;this.Bo0x("onemptylist","没有列表数据！")};b8h.Wn7g=function(ek1x,ch0x){this.iV3x.insertAdjacentHTML(ch0x||"beforeEnd",ek1x)};b8h.Wl7e=function(hQ2x){this.gh2x=this.gh2x||[];if(k8c.er1x(hQ2x)){fR2x.push.apply(this.gh2x,hQ2x)}else{this.gh2x.push(hQ2x)}};b8h.bhu2x=function(d8f){a7h.nx4B(this.cU1x);this.Wh7a(d8f,"onafteradd");var fy2x=d8f.flag;if(d8f.stopped||!fy2x)return;if(this.ky3x>0){this.bCv8n();return}this.iD3x+=1;fy2x==-1?this.bCh8Z(d8f.data):this.bXT6N(d8f.data)};b8h.bhv2x=function(d8f){this.Wh7a(d8f,"onafterdelete");if(d8f.stopped)return;if(this.ky3x>0){this.bCv8n();return}var D9u=d8f.data[this.fE2x.pkey];if(!!this.gh2x){var p8h=a7h.cal6f(D9u),r8j=k8c.dw1x(this.gh2x,p8h);if(r8j>=0){this.gh2x.splice(r8j,1);this.iD3x-=1}if(!!p8h)p8h.W9N()}else{var g8c=a7h.B9s(this.bZg6a(D9u));if(!!g8c)this.iD3x-=1;a7h.cY1x(g8c)}if(this.iD3x<=0)this.qb5g()};b8h.bCl8d=function(bj9a,gz2x){if(bj9a!=this.iD3x)return;if(this.bjP2x()){this.vj8b=!1;this.bQz2x()}};b8h.bCj8b=function(bj9a,gz2x){if(bj9a!=0)return;var OG5L=this.U9L.ig2x(this.jK3x.key);for(var i=gz2x-1;i>=0;i--){this.bCh8Z(OG5L[i])}};b8h.bQz2x=function(){var H9y=this.HA2x;if(!H9y||this.vj8b)return;this.bzp7i(this.HA2x)};b8h.hq2x=function(){delete this.vj8b;L9C.hq2x.apply(this,arguments)};b8h.qb5g=function(){if(!!this.beO1x)return;this.beO1x=!0;var bj9a=this.iD3x;this.iD3x+=bj9a==0?this.Ce1x:this.pL5Q;this.bYA6u(bj9a)}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,a7h=c8g("nej.e"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),di1x=c8g("nej.x"),P9G=c8g("nej.ut"),b8h;if(!!P9G.HL2x)return;P9G.HL2x=NEJ.C();b8h=P9G.HL2x.M9D(P9G.cS1x);b8h.bp9g=function(e8e){this.bq9h(e8e);this.ji3x=e8e.event||"click";this.lO4S=e8e.selected||"js-selected";this.oX5c=e8e.disabled||"js-disabled";this.bQr2x=!!e8e.inverse;this.csQ4U(e8e.list);this.Zo9f(e8e.index||0)};b8h.bC9t=function(){var csR4V=function(g8c){this.bzh7a(g8c,!1)};return function(){this.bJ9A();k8c.bf9W(this.bX0x,csR4V,this);delete this.bX0x;delete this.ji3x;delete this.cx0x;delete this.oX5c;delete this.lO4S;delete this.bQr2x}}();b8h.csQ4U=function(){var bCX8P=function(p8h){if(!p8h)return;this.bX0x.push(p8h);var r8j=this.bX0x.length-1,dF1x=this.bzg7Z[r8j];if(!dF1x){dF1x=this.Zo9f.f8d(this,r8j);this.bzg7Z[r8j]=dF1x}this.ca0x([[p8h,this.ji3x,dF1x]])};return function(j8b){this.bX0x=[];if(!this.bzg7Z)this.bzg7Z=[];k8c.bf9W(j8b,bCX8P,this)}}();b8h.bzh7a=function(H9y,csZ4d){!!csZ4d&&!this.bQr2x?a7h.w9n(H9y,this.lO4S):a7h.y9p(H9y,this.lO4S)};b8h.Zo9f=function(r8j,YX9O,i8a){var H9y=this.bX0x[r8j];if(YX9O!=!0&&(r8j==this.cx0x||!H9y||a7h.bG9x(H9y,this.oX5c))){h8b.cv0x(arguments[1]);return this}var d8f={index:r8j,last:this.cx0x,list:this.mz4D(),data:i8a||a7h.u9l(H9y,"value")};this.cx0x=r8j;H9y=this.bX0x[d8f.last];if(!!H9y)this.bzh7a(H9y,!1);H9y=this.bX0x[this.cx0x];this.bzh7a(H9y,!0);this.z9q("onchange",d8f);if(!d8f.nostop)h8b.cv0x(arguments[1]);return this};b8h.vc8U=function(){return this.cx0x};b8h.mz4D=function(){return this.bX0x};a7h.ctb4f=di1x.ctb4f=function(bI9z,e8e){var D9u=a7h.my4C(bI9z);if(!D9u)return null;if(!P9G.bhf2x(D9u,P9G.HL2x)){e8e=e8e||{};e8e.list=!e8e.clazz?a7h.dm1x(D9u):a7h.F9w(D9u,e8e.clazz);delete e8e.clazz}return P9G.bhf2x(D9u,P9G.HL2x,e8e||be9V)};di1x.isChange=!0})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,k8c=c8g("nej.u"),v9m=c8g("nej.j"),l8d=c8g("nm.x");var SETTING_KEY="player-setting";var od4h={mode:4,volume:.8,autoPlay:false,index:0,lock:false};od4h=v9m.vT8L(SETTING_KEY)||od4h;l8d.bzb7U=function(){return od4h};l8d.HV3x=function(HW3x){if(HW3x){od4h=HW3x;v9m.yt0x(SETTING_KEY,HW3x)}}})();
try{!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).xyvod=e()}}(function(){var define,module,exports;return function s(o,a,f){function u(t,e){if(!a[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=a[t]={exports:{}};o[t][0].call(i.exports,function(e){return u(o[t][1][e]||e)},i,i.exports,s,o,a,f)}return a[t].exports}for(var c="function"==typeof require&&require,e=0;e<f.length;e++)u(f[e]);return u}({1:[function(f,e,u){((function(s){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var t=e(f("babel-runtime/helpers/classCallCheck")),r=e(f("babel-runtime/helpers/createClass")),i=e(f("assert")),o=(e(f("../utils/logger")),e(f("../utils/common"))),n=e(f("../utils/range-queue"));function e(e){return e&&e.__esModule?e:{"default":e}}var a=function(){function e(){(0,t.default)(this,e),this._buffer=s.allocUnsafe(o.default.MAX_CACHE_SIZE),this._rangeQueue=new n.default}return(0,r.default)(e,[{key:"clear",value:function(){this._rangeQueue.clear()}},{key:"dispose",value:function(){this._buffer=null,this._rangeQueue=null}},{key:"canDownload",value:function(e){return 0===this._rangeQueue.ranges.length||e.end-this._rangeQueue.start<o.default.MAX_CACHE_SIZE}},{key:"writeBytes",value:function(e,t){if(i.default.ok(t.length<=o.default.MAX_CACHE_SIZE,"writeBytes, range length("+t.length+") > MAX_CACHE_SIZE("+o.default.MAX_CACHE_SIZE+")"),i.default.ok(t.length<=e.length,"writeBytes, range length("+t.length+") > bytes.length("+e.length+")"),0!==e.length){var r=t.position%o.default.MAX_CACHE_SIZE;if(r+e.length>o.default.MAX_CACHE_SIZE){var n=o.default.MAX_CACHE_SIZE-r;e.copy(this._buffer,r,0,n),e.copy(this._buffer,0,n,e.length)}else e.copy(this._buffer,r,0,e.length);this._rangeQueue.addRange(t)}}},{key:"readBytes",value:function(e){if(0===e.length)return s.allocUnsafe(0);if(!this._rangeQueue.isContained(e))return s.allocUnsafe(0);var t=s.allocUnsafe(e.length),r=e.position%o.default.MAX_CACHE_SIZE;if(r+e.length>o.default.MAX_CACHE_SIZE){var n=o.default.MAX_CACHE_SIZE-r,i=r+e.length-o.default.MAX_CACHE_SIZE;this._buffer.copy(t,0,r,o.default.MAX_CACHE_SIZE),this._buffer.copy(t,n,0,i)}else this._buffer.copy(t,0,r,r+e.length);return this._rangeQueue.removeRange(e),t}},{key:"rangeQueue",get:function(){return this._rangeQueue}}]),e}();u.default=a})).call(this,f("buffer").Buffer)},{"../utils/common":26,"../utils/logger":30,"../utils/range-queue":33,assert:238,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a(e("babel-runtime/helpers/classCallCheck")),i=a(e("babel-runtime/helpers/createClass")),s=(a(e("../utils/logger")),e("../transfer/pipe-info")),o=a(e("../utils/common"));function a(e){return e&&e.__esModule?e:{"default":e}}var f=function(){function t(e){(0,n.default)(this,t),this._type=e,this.waitingPipes=[],this.openedPipes=[]}return(0,i.default)(t,[{key:"toString",value:function(){return"["+this._type+"] waiting: "+this.waitingPipes.length+", opened: "+this.openedPipes.length}},{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this.waitingPipes.length+this.openedPipes.length}}]),t}(),u=function(){function t(e){(0,n.default)(this,t),this._info=e,this._periodId=-1,this._periodCount=0}return(0,i.default)(t,[{key:"dispose",value:function(){this._info=null,clearTimeout(this._periodId),this._periodId=-1,this._periodCount=0,this._closePipes()}},{key:"resume",value:function(){this._periodDispatch()}},{key:"pause",value:function(){clearTimeout(this._periodId),this._periodId=-1,this._periodCount=0,this._closePipes()}},{key:"_closePipes",value:function(){s.PipeManager.forEach(function(e){e.state!==s.PipeState.CLOSED&&e.close()})}},{key:"_periodDispatch",value:function(){null!==this._info&&(this._periodCount+=1,this._periodCount%2==0?this._closeBadPipes():this._openNewPipes(),this._periodId=setTimeout(this._periodDispatch.bind(this),200))}},{key:"_closeBadPipes",value:function(){var i=Date.now();s.PipeManager.forEach(function(n){if(n.state!==s.PipeState.WAITING)if(n.state===s.PipeState.SENT){var e=n.client.connectTick;0<e&&3e3<=i-e&&n.close(s.PipeCloseReason.CONNECT_TIMEOUT)}else if(n.state===s.PipeState.ESTABLISHED){var t=n.client.handshakeTick;0<t&&2e3<=i-t&&n.close(s.PipeCloseReason.HANDSHAKE_TIMEOUT)}else try{n.reqMap.forEach(function(e,t){var r=e.reqTick;if(2e3<i-r)throw n.close(s.PipeCloseReason.RECEIVE_TIMEOUT),new Error("break forEach")})}catch(e){}})}},{key:"_openNewPipes",value:function(){if(0!==this._info.pieceSize){var t=new f(s.PipeType.SKJ);if(s.PipeManager.forEach(function(e){e.state===s.PipeState.WAITING?t.waitingPipes.push(e):e.state!==s.PipeState.CLOSED&&t.openedPipes.push(e)}),0!==t.waitingPipes.length&&!(t.openedPipes.length>=o.default.MAX_SKJ_NUM))try{var r=0;t.waitingPipes.forEach(function(e){if(e.open(),(r+=1)>=o.default.PROBING_NUM)throw new Error("openNewPipes, over probing num");if(t.openedPipes.length+r>=o.default.MAX_SKJ_NUM)throw new Error("openNewPipes, opened enough pipes")})}catch(e){}}}},{key:"isPaused",get:function(){return-1===this._periodId}}]),t}();r.default=u},{"../transfer/pipe-info":19,"../utils/common":26,"../utils/logger":30,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],3:[function(h,e,l){((function(s){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o=t(h("babel-runtime/core-js/json/stringify")),r=t(h("babel-runtime/helpers/classCallCheck")),e=t(h("babel-runtime/helpers/createClass")),a=t(h("../utils/common")),n=t(h("../utils/logger")),f=t(h("../transfer/resource")),u=h("../transfer/pipe-info");function t(e){return e&&e.__esModule?e:{"default":e}}var c=a.default.http+"://seeds-darwin.xycdn.com/h5/getseeds?v="+a.default.VERSION,i=function(){function t(e){(0,r.default)(this,t),this.onTrackerResp=null,this._info=e,this._isRequesting=!1,this._lastRequestTick=0}return(0,e.default)(t,[{key:"dispose",value:function(){this.onTrackerResp=null,this._info=null,this._lastRequestTick=0}},{key:"clear",value:function(){}},{key:"requestTracker",value:function(){var n=this;if(this._info&&!this._info.isPaused&&!this._isRequesting){var e=this._info.requestRgq.end,i=e+8*a.default.REQUEST_SIZE;this._info.reserveRg.isIn(i)||(i=this._info.reserveRg.position),i>=this._info.fileSize&&(i=e);var t={url:this._info.sourceUrl,surl:this._info.url,sid:this._info.playId,fs:this._info.fileSize,ofs:i,type:"h5",ver:a.default.VERSION,peer_status:this._getPeerStatus()};this._isRequesting=!0,this._lastRequestTick=Date.now();var r=(0,o.default)(t);s.fetch(c,{method:"POST",header:{"Content-Type":"text/plain","Content-Length":r.length},body:r,mode:"cors"}).then(function(e){if(n._isRequesting=!1,200!==e.status)throw new TypeError("Unexpect Http StatusCode "+e.status);return e.json()}).then(function(e){if(0!==e.ResultCode)throw new TypeError("Unexpect ResultCode "+e.ResultCode);if(n._info){""!==e.MUrl&&(n._info.fileIndex=e.MUrl);var r=[];e.PeerResourceList.forEach(function(e){if(e.peerIp&&e.wPort){var t=e.type.toLowerCase();a.default.isHttps&&t===u.PipeType.SKJ&&(e.peerIp=n._transformAddress(e.peerIp)),r.push(new f.default(e.peerId,t,e.hostname,e.peerIp,e.wPort,i))}}),n._onTrackerResp(null,r)}}).catch(function(e){n._onTrackerResp(e)})}}},{key:"_transformAddress",value:function(e){return e.replace(/(\d+)\.(\d+)\.(\d+)\.(\d+)/,"$1-$2-$3-$4.nhost.00cdn.com")}},{key:"_onTrackerResp",value:function(e,t){null!==e?n.default.ERROR("ResourceDispatcher",e.name+": "+e.message):this.onTrackerResp&&this.onTrackerResp(t)}},{key:"_getPeerStatus",value:function(){var r=[];return u.PipeManager.forEach(function(e){var t=0;t=e.state===u.PipeState.REQUESTED?1:e.client.lastQuality,r.push({hostname:e.hostname,peerId:e.remoteId,peerIp:e.ip,peerPort:e.port,type:e.type,traffic:e.client.recvBytesDiffer,period:e.client.downloadTimeDiffer,status:t}),e.state===u.PipeState.CLOSED&&u.PipeManager.delete(e.hostname)}),r}},{key:"lastRequestTick",get:function(){return this._lastRequestTick}}]),t}();l.default=i})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transfer/pipe-info":19,"../transfer/resource":20,"../utils/common":26,"../utils/logger":30,"babel-runtime/core-js/json/stringify":38,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=n(e("babel-runtime/helpers/classCallCheck")),s=n(e("babel-runtime/helpers/createClass")),f=(n(e("../utils/logger")),n(e("../utils/common"))),u=n(e("../utils/range")),o=n(e("./resource-dispatcher")),a=n(e("./connect-dispatcher")),c=n(e("../cache/vod-cache")),h=n(e("../transfer/vod-http-pipe")),l=n(e("../transfer/vod-ws-pipe")),d=n(e("../transfer/pipe-events")),p=e("../transfer/pipe-info"),b=n(e("../utils/range-queue"));function n(e){return e&&e.__esModule?e:{"default":e}}var _=function(){function n(e,t){var r=this;(0,i.default)(this,n),this._watcher=e,this._info=t,this._resDisp=new o.default(t),this._resDisp.onTrackerResp=this._onTrackerResp.bind(this),this._connDisp=new a.default(t),this._cache=new c.default,this._cdnPipe=null,this._isClosed=!0,this._periodId=-1,this._loopEndId=-1,this._suspendId=-1,this._periodCount=0,this._coefficient=1,this._isPaused=!1,this._resumeRgq=new b.default,this._videoEvent={onLoadedData:function(){},onCanPlay:function(){r._resDisp.requestTracker(),r._suspendId=setTimeout(r._suspend.bind(r),40)}},this._info.mediaElement.addEventListener("loadeddata",this._videoEvent.onLoadedData),this._info.mediaElement.addEventListener("canplay",this._videoEvent.onCanPlay)}return(0,s.default)(n,[{key:"open",value:function(e,t){this._isClosed&&(this._isClosed=!1,this._cdnPipe=new h.default(this._info),this._cdnPipe.on(d.default.NET_STATUS,this._onPipeEvents.bind(this)),0===t&&0<this._info.fileSize&&(t=this._info.fileSize-e),0<this._info.fileSize&&e+t>this._info.fileSize&&(t=this._info.fileSize-e),this._info.reserveRg=new u.default(e,t),this._requestCDN(!0))}},{key:"close",value:function(){this._isClosed||(this._isClosed=!0,clearTimeout(this._periodId),this._periodId=-1,clearTimeout(this._loopEndId),this._loopEndId=-1,clearTimeout(this._suspendId),this._suspendId=-1,this._connDisp.pause(),this._resDisp.clear(),this._cache.clear(),this._cdnPipe&&(this._cdnPipe.close(),this._cdnPipe.off(),this._cdnPipe=null),this._isPaused=!1,this._coefficient=1,this._resumeRgq.clear())}},{key:"pause",value:function(){this._isPaused||(this._isPaused=!0,this._connDisp.pause())}},{key:"resume",value:function(){var e=this._info.latestPosition;if(this._isPaused){this._isPaused=!1,this._connDisp.isPaused&&this._connDisp.resume();var t=this._resumeRgq.ranges;if(0!==t.length&&t[0].position===e){var r=t[0],n=this._cache.readBytes(r);this._watcher.receive(n,r),this._resumeRgq.clear()}}}},{key:"dispose",value:function(){this._isClosed=!0,clearTimeout(this._periodId),this._periodId=-1,clearTimeout(this._loopEndId),this._loopEndId=-1,clearTimeout(this._suspendId),this._suspendId=-1,this._connDisp&&(this._connDisp.dispose(),this._connDisp=null),this._resDisp&&(this._resDisp.dispose(),this._resDisp=null),this._cache&&(this._cache.dispose(),this._cache=null),this._cdnPipe&&(this._cdnPipe.close(),this._cdnPipe.off(),this._cdnPipe=null),this._isPaused=!1,this._coefficient=1,this._resumeRgq&&(this._resumeRgq.clear(),this._resumeRgq=null),p.BlackPipeList.clear(),p.PipeManager.clear(),this._info.mediaElement.removeEventListener("loadeddata",this._videoEvent.onLoadedData),this._info.mediaElement.removeEventListener("canplay",this._videoEvent.onCanPlay),this._info=null}},{key:"_periodDispatch",value:function(){this._isClosed||(this._periodCount+=1,this._periodCount%2==0?this._request():p.PipeManager.avaliablePipes().length<4&&8e3<Date.now()-this._resDisp.lastRequestTick&&this._resDisp.requestTracker(),this._periodId=setTimeout(this._periodDispatch.bind(this),200))}},{key:"_suspend",value:function(){if(null!==this._cdnPipe&&0!==this._info.sendRgq.end){var e=!1;if(this._info.getTimeByOffset(this._info.sendRgq.end)<f.default.BUFFER_LIMIT&&(e=!0),e)this._suspendId=setTimeout(this._suspend.bind(this),40);else{var t=new u.default(0,this._info.sendRgq.end);this._info.requestRgq.clear(),this._info.requestRgq.addRange(t),this._cdnPipe.close(),this._cdnPipe.off(),this._cdnPipe=new h.default(this._info),this._cdnPipe.on(d.default.NET_STATUS,this._onPipeEvents.bind(this)),this._requestPeer(),this._periodId=setTimeout(this._periodDispatch.bind(this),200)}}}},{key:"_request",value:function(e){if(!this._info.isPaused&&!(this._isPaused||this._cdnPipe&&this._cdnPipe.state!==p.PipeState.IDLE)){var t=this._info.getTimeByOffset(this._info.sendRgq.end);t<f.default.BUFFER_LIMIT?(this._coefficient=t>f.default.BUFFER_LIMIT/2?1:2,this._requestCDN()):this._requestPeer(e)}}},{key:"_requestCDN",value:function(e){if(!this._cdnPipe||this._cdnPipe.state===p.PipeState.IDLE){var t=this._info.requestRgq.ranges,r=0<t.length?t[0].end:this._info.reserveRg.position;if(e)this._cdnPipe.open(r,0);else if(0<this._info.reserveRg.length&&r>=this._info.reserveRg.end)this._connDisp.pause();else{var n=this._info.requestRgq,i=void 0;1<n.ranges.length?i=n.ranges[1].position-r:(i=this._info.cdnRequestSize*this._coefficient,i+=f.default.REQUEST_SIZE-(r+i)%f.default.REQUEST_SIZE);var s=this._info.reserveRg.end-r;0<s&&(i=Math.min(i,s));var o=new u.default(r,i);this._cache.canDownload(o)&&(this._info.requestRgq.addRange(o),this._cdnPipe.open(r,i))}}}},{key:"_requestPeer",value:function(e){if(0!==this._info.pieceSize)try{e&&e.type===p.PipeType.SKJ?this._requestPipe(e):p.PipeManager.forEach(this._requestPipe.bind(this))}catch(e){}}},{key:"_requestPipe",value:function(e){if(e.state===p.PipeState.IDLE){var t=this._info.requestRgq.ranges,r=0<t.length?t[0].end:this._info.reserveRg.position;if(r>=this._info.reserveRg.end&&0<this._info.reserveRg.length)throw new Error("requestPeer, file end: "+r);r%f.default.REQUEST_SIZE!=0&&(r-=r%f.default.REQUEST_SIZE);var n=r+f.default.REQUEST_SIZE<=this._info.reserveRg.end?f.default.REQUEST_SIZE:this._info.reserveRg.end-r,i=new u.default(r,n);if(!this._cache.canDownload(i))throw new Error("requestPeer, "+i+", over max cache size "+this._cache.rangeQueue+", stop to request");e.canDownloadRanges.isContained(i)&&(this._info.requestRgq.addRange(i),e.request(i))}}},{key:"_onTrackerResp",value:function(e){var r=this;this._isClosed||(e.forEach(function(e){if(!p.BlackPipeList.has(e.hostname)&&e.type===p.PipeType.SKJ&&""!==e.peerIp&&0!==e.peerPort){var t=new l.default(e,r._info);t.on(d.default.NET_STATUS,r._onPipeEvents.bind(r)),p.PipeManager.set(e.hostname,t)}}),this._connDisp.isPaused&&!this._isPaused&&0<p.PipeManager.waitingPipes().length&&this._connDisp.resume())}},{key:"_onPipeEvents",value:function(e,t){if(!this._isClosed)switch(e){case d.default.RECEIVE_DATA:this._onReceiveData(t);break;case d.default.RECEIVE_END:this._onReceiveEnd(t);break;case d.default.HTTP_HEADER:this._onHttpHeader(t);break;case d.default.CAN_DOWNLOAD:this._onCanDownload(t);break;case d.default.CLOSE:this._onClose(t);break;case d.default.FAILED:this._onFailed(t)}}},{key:"_onHttpHeader",value:function(e){0===this._info.fileSize&&(this._info.fileSize=e.fileSize,this._info.cdnRequestSize=Math.max(Math.floor(.01*e.fileSize),16384),this._info.pieceSize=this._calculatePieceSize(e.fileSize),this._info.lastModified=e.lastModified,(0===this._info.reserveRg.length||this._info.reserveRg.end>e.fileSize)&&this._info.reserveRg.assign(this._info.reserveRg.position,this._info.fileSize-this._info.reserveRg.position),this._watcher.fileSize(e.fileSize))}},{key:"_onCanDownload",value:function(e){var t=e.target;if(!(this._info.getTimeByOffset(this._info.sendRgq.end)<f.default.BUFFER_LIMIT||t.type!==p.PipeType.SKJ||this._cdnPipe&&this._cdnPipe.state!==p.PipeState.IDLE))try{this._requestPipe(t)}catch(e){}}},{key:"_onReceiveData",value:function(e){var t=new u.default(e.offset,e.buffer.length),r=e.target;this._info.speedCalc.addBytes(t.length),r.type===p.PipeType.CDN?(this._info.cdnSpeedCalc.addBytes(t.length),this._info.cdnBytes+=t.length):r.type===p.PipeType.SKJ&&(this._info.p2pSpeedCalc.addBytes(t.length),this._info.skjBytes+=t.length);var n=this._info.downloadRgq;if(!n.isContained(t)&&this._info.reserveRg.isIntersect(t)){var i=t.end+8*f.default.REQUEST_SIZE;if(i%f.default.FRAGMENT_SIZE==0&&i<this._info.fileSize&&(this._loopEndId=setTimeout(this._resDisp.requestTracker.bind(this._resDisp),0)),this._cache.writeBytes(e.buffer,t),n.addRange(t),this._isPaused)this._resumeRgq.addRange(t);else{var s=this._info.latestPosition,o=this._cache.rangeQueue.getRange(s);if(null!==o){var a=this._cache.readBytes(o);this._watcher.receive(a,o),!this._isClosed&&1===n.ranges.length&&n.ranges[0].isContained(this._info.reserveRg)&&(this._loopEndId=setTimeout(this._watcher.end.bind(this._watcher),0))}}}}},{key:"_onReceiveEnd",value:function(e){var t=e.target;this._request(t)}},{key:"_onClose",value:function(e){var t=e.target;t.client.closeReason!==p.PipeCloseReason.FILE_NOT_FOUND&&t.client.closeReason!==p.PipeCloseReason.FILE_SIZE_DIFFER&&t.client.closeReason!==p.PipeCloseReason.PIECE_SIZE_DIFFER&&t.client.closeReason!==p.PipeCloseReason.LAST_MODIFIED_DIFFER||p.BlackPipeList.set(t.hostname,t)}},{key:"_onFailed",value:function(e){var t=e.target;t.type===p.PipeType.CDN&&this._watcher.catch(e.error.message),p.PipeManager.delete(t.hostname)}},{key:"_calculatePieceSize",value:function(e){var t=8192;return e>f.default.SMALL_FILE&&(t=131072),e>f.default.LARGE_FILE&&(t=2097152),t}},{key:"cdnDetails",get:function(){var e={req:[],res:[]};return this._cdnPipe&&(e.req=this._cdnPipe.client.requestRgs.slice(0),e.res=this._cdnPipe.client.receiveRgs.slice(0),this._cdnPipe.client.requestRgs=[],this._cdnPipe.client.receiveRgs=[]),e}}]),n}();r.default=_},{"../cache/vod-cache":1,"../transfer/pipe-events":18,"../transfer/pipe-info":19,"../transfer/vod-http-pipe":21,"../transfer/vod-ws-pipe":23,"../utils/common":26,"../utils/logger":30,"../utils/range":34,"../utils/range-queue":33,"./connect-dispatcher":2,"./resource-dispatcher":3,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));s(e("../utils/logger"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function t(e){(0,n.default)(this,t),this.onData=null,this.onError=null,this.onFileSize=null,this.onEnd=null,this._info=e}return(0,i.default)(t,[{key:"dispose",value:function(){this.onData=null,this.onError=null,this.onFileSize=null,this.onEnd=null,this._info=null}},{key:"catch",value:function(e){this.onError&&this.onError(e)}},{key:"receive",value:function(e,t){this._info.sendRgq.addRange(t),this.onData&&this.onData(e,t.position)}},{key:"fileSize",value:function(e){this.onFileSize&&this.onFileSize(e)}},{key:"end",value:function(){this.onEnd&&this.onEnd()}}]),t}();r.default=o},{"../utils/logger":30,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=f(e("babel-runtime/core-js/json/stringify")),i=f(e("babel-runtime/helpers/classCallCheck")),s=f(e("babel-runtime/helpers/createClass")),o=f(e("assert")),a=f(e("../utils/polyfill"));function f(e){return e&&e.__esModule?e:{"default":e}}var u=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"BaseCmd";(0,i.default)(this,r),this.id=e,this.name=t,this.types=[]}return(0,s.default)(r,[{key:"toBytes",value:function(t){if(t.bytesAvailable<this.bytes)throw new Error("Current bytes out of range");this.types.forEach(function(e){return e.toBytes(t)})}},{key:"fromBytes",value:function(t){if(t.bytesAvailable<this.bytes)throw new Error("Not enough bytes to prase");this.types.forEach(function(e){return e.fromBytes(t)})}},{key:"toString",value:function(){return(0,n.default)(this.types.map(function(e){return e.value}))}},{key:"bytes",get:function(){var r=0;return this.types.forEach(function(e){var t=e.bytes;o.default.ok(a.default.isInteger(t),"expect number"),r+=t}),r}}]),r}();r.default=u},{"../utils/polyfill":32,assert:238,"babel-runtime/core-js/json/stringify":38,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ByteArray=r.Endian=void 0;var n=a(e("babel-runtime/helpers/classCallCheck")),i=a(e("babel-runtime/helpers/createClass")),s=e("buffer"),o=a(e("assert"));function a(e){return e&&e.__esModule?e:{"default":e}}var f={BIG_ENDIAN:!1,LITTLE_ENDIAN:!0},u=1,c=2,h=3,l=4,d=8,p=function(){function t(e){(0,n.default)(this,t),o.default.ok(s.Buffer.isBuffer(e),"expect Buffer"),this._buf=e,this._pos=0,this._endian=f.BIG_ENDIAN}return(0,i.default)(t,[{key:"readUint8",value:function(){var e=this._buf.readUInt8(this._pos);return this._pos+=u,e}},{key:"writeUint8",value:function(e){this._buf.writeUInt8(e,this._pos),this._pos+=u}},{key:"readUint16",value:function(){var e=this._buf.readUInt16BE(this._pos);return this._pos+=c,e}},{key:"writeUint16",value:function(e){this._buf.writeUInt16BE(e,this._pos),this._pos+=c}},{key:"readUint24",value:function(){var e=(this._buf.readUInt8(this._pos)<<16)+(this._buf.readUInt8(this._pos+1)<<8)+this._buf.readUInt8(this._pos+2);return this._pos+=h,e}},{key:"writeUint24",value:function(e){this._buf.writeUInt8(e>>>16,this._pos),this._buf.writeUInt8((65280&e)>>>8,this._pos+1),this._buf.writeUInt8(255&e,this._pos+2),this._pos+=h}},{key:"readUint32",value:function(){var e=this._buf.readUInt32BE(this._pos);return this._pos+=l,e}},{key:"writeUint32",value:function(e){this._buf.writeUInt32BE(e,this._pos),this._pos+=l}},{key:"readUint64",value:function(){var e=this._buf.readUInt32BE(this._pos).toString(16),t=function(e,t){for(var r=t/4-e.length,n="",i=0;i<r;i++)n+="0";return n+e}(this._buf.readUInt32BE(this._pos+4).toString(16),32);return this._pos+=d,parseInt(e+t,16)}},{key:"writeUint64",value:function(e){var t=e.toString(16);if(0<t.length){var r=t.slice(-16,-8)||"0",n=parseInt(r,16);this._buf.writeUInt32BE(n,this._pos);var i=parseInt(t.slice(-8),16);this._buf.writeUInt32BE(i,this._pos+4)}else this._buf.writeUInt32BE(0,this._pos),this._buf.writeUInt32BE(e,this._pos+4);this._pos+=d}},{key:"readString",value:function(e){for(var t="",r=0;r<e;r++)t+=String.fromCharCode(this._buf.readUInt8(this._pos)),this._pos++;return t}},{key:"writeString",value:function(e){for(var t=0;t<e.length;t++)this._buf.writeUInt8(e.charCodeAt(t),this._pos),this._pos++}},{key:"readBytes",value:function(e){var t=this._buf.slice(this._pos,this._pos+e);return this._pos+=e,t}},{key:"writeBytes",value:function(e){e.copy(this._buf,this._pos),this._pos+=e.length}},{key:"position",set:function(e){this._pos=e},get:function(){return this._pos}},{key:"buffer",get:function(){return this._buf}},{key:"bytesAvailable",get:function(){return this.length-this._pos}},{key:"length",get:function(){return this._buf.length}}]),t}();r.Endian=f,r.ByteArray=p},{assert:238,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274}],8:[function(s,e,o){((function(r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t(s("babel-runtime/helpers/classCallCheck")),e=t(s("babel-runtime/helpers/createClass"));function t(e){return e&&e.__esModule?e:{"default":e}}var i=function(){function t(e){(0,n.default)(this,t),this.value=r.allocUnsafe(0),this.byteLength=e}return(0,e.default)(t,[{key:"toBytes",value:function(e){e.writeBytes(this.value)}},{key:"fromBytes",value:function(e){this.value=e.readBytes(this.byteLength)}},{key:"bytes",get:function(){return this.byteLength}}]),t}();o.default=i})).call(this,s("buffer").Buffer)},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Fin=r.Pong=r.Ping=r.PieceMiss=r.PieceResponse=r.PieceRequest=r.Handshake=r.Header=void 0;var n=b(e("babel-runtime/core-js/object/get-prototype-of")),i=b(e("babel-runtime/helpers/classCallCheck")),s=b(e("babel-runtime/helpers/possibleConstructorReturn")),o=b(e("babel-runtime/helpers/inherits")),a=b(e("./base-cmd")),f=b(e("./uint8")),u=b(e("./uint16")),c=b(e("./uint32")),h=b(e("./uint64")),l=b(e("./type-string")),d=b(e("./type-buffer")),p=b(e("./bytes"));function b(e){return e&&e.__esModule?e:{"default":e}}var _=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this));return e.version=new f.default,e.cmdType=new f.default,e.bodyLength=new u.default,e.types=[e.version,e.cmdType,e.bodyLength],e}return(0,o.default)(t,e),t}(a.default),y=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,16,"Handshake"));return e.clientType=new f.default,e.clientId=new l.default,e.fileIndex=new l.default,e.lastModified=new h.default,e.fileSize=new h.default,e.pieceSize=new c.default,e.fileOffset=new h.default,e.bitField=new d.default,e.types=[e.clientType,e.clientId,e.fileIndex,e.lastModified,e.fileSize,e.pieceSize,e.fileOffset,e.bitField],e}return(0,o.default)(t,e),t}(a.default),v=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,32,"PieceRequest"));return e.pieceIndex=new c.default,e.offset=new c.default,e.length=new c.default,e.types=[e.pieceIndex,e.offset,e.length],e}return(0,o.default)(t,e),t}(a.default),m=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,33,"PieceResponse"));return e.pieceIndex=new c.default,e.pieceSha1=new p.default(20),e.pieceOffset=new c.default,e.piece=new d.default,e.types=[e.pieceIndex,e.pieceSha1,e.pieceOffset,e.piece],e}return(0,o.default)(t,e),t}(a.default),g=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,8,"PieceMiss"));return e.missCode=new f.default,e.pieceIndex=new c.default,e.types=[e.missCode,e.pieceIndex],e}return(0,o.default)(t,e),t}(a.default),w=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,5,"Ping"));return e.timestamp=new h.default,e.types=[e.timestamp],e}return(0,o.default)(t,e),t}(a.default),S=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,6,"Pong"));return e.timestamp=new h.default,e.types=[e.timestamp],e}return(0,o.default)(t,e),t}(a.default),k=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,n.default)(t)).call(this,7,"Fin"));return e.errorCode=new f.default,e.types=[e.errorCode],e}return(0,o.default)(t,e),t}(a.default);r.Header=_,r.Handshake=y,r.PieceRequest=v,r.PieceResponse=m,r.PieceMiss=g,r.Ping=w,r.Pong=S,r.Fin=k},{"./base-cmd":6,"./bytes":8,"./type-buffer":10,"./type-string":11,"./uint16":12,"./uint32":13,"./uint64":14,"./uint8":15,"babel-runtime/core-js/object/get-prototype-of":44,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/inherits":52,"babel-runtime/helpers/possibleConstructorReturn":53}],10:[function(s,e,o){((function(t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=e(s("babel-runtime/helpers/classCallCheck")),n=e(s("babel-runtime/helpers/createClass"));function e(e){return e&&e.__esModule?e:{"default":e}}var i=function(){function e(){(0,r.default)(this,e),this.value=t.allocUnsafe(0)}return(0,n.default)(e,[{key:"toBytes",value:function(e){e.writeUint32(this.value.length),e.writeBytes(this.value)}},{key:"fromBytes",value:function(e){var t=e.readUint32();this.value=e.readBytes(t)}},{key:"bytes",get:function(){return 4+this.value.length}}]),e}();o.default=i})).call(this,s("buffer").Buffer)},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e),this.value=""}return(0,i.default)(e,[{key:"toBytes",value:function(e){e.writeUint32(this.value.length),e.writeString(this.value)}},{key:"fromBytes",value:function(e){var t=e.readUint32(e);this.value=e.readString(t)}},{key:"bytes",get:function(){return 4+this.value.length}}]),e}();r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e),this.value=0}return(0,i.default)(e,[{key:"toBytes",value:function(e){e.writeUint16(this.value)}},{key:"fromBytes",value:function(e){this.value=e.readUint16()}},{key:"bytes",get:function(){return 2}}]),e}();r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e),this.value=0}return(0,i.default)(e,[{key:"toBytes",value:function(e){e.writeUint32(this.value)}},{key:"fromBytes",value:function(e){this.value=e.readUint32()}},{key:"bytes",get:function(){return 4}}]),e}();r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e),this.value=0}return(0,i.default)(e,[{key:"toBytes",value:function(e){e.writeUint64(this.value)}},{key:"fromBytes",value:function(e){this.value=e.readUint64()}},{key:"bytes",get:function(){return 8}}]),e}();r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e),this.value=0}return(0,i.default)(e,[{key:"toBytes",value:function(e){e.writeUint8(this.value)}},{key:"fromBytes",value:function(e){this.value=e.readUint8()}},{key:"bytes",get:function(){return 1}}]),e}();r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],16:[function(a,e,f){((function(n,r){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var t=e(a("babel-runtime/helpers/classCallCheck")),i=e(a("babel-runtime/helpers/createClass")),s=(e(a("../utils/logger")),a("../utils/error"));function e(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,t.default)(this,e),this.onHeaders=null,this.onData=null,this.onEnd=null,this.onError=null,this._reader=null}return(0,i.default)(e,[{key:"request",value:function(e,t){var r=this;n.fetch(e,{method:"GET",mode:"cors",redirect:"follow",headers:t}).then(function(e){if(e.status<200||299<e.status)throw new TypeError("Unexpect Http StatusCode "+e.status);r._reader=e.body.getReader(),r.onHeaders&&r.onHeaders({contentRange:e.headers.get("content-range"),lastModified:e.headers.get("last-modified")}),r._readStream()}).catch(function(e){e instanceof s.ResponseError?r.abort():r.onError&&r.onError(e)})}},{key:"abort",value:function(){this._reader&&(this._reader.cancel().catch(function(e){}),this._reader=null)}},{key:"_readStream",value:function(){var t=this;this._reader&&this._reader.read().then(function(e){t._reader&&e&&(e.done&&t.onEnd?t.onEnd():(t.onData&&t.onData(r.from(e.value.buffer)),t._readStream()))}).catch(function(e){t.onError&&t.onError(e)})}}]),e}();f.default=o})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"../utils/error":29,"../utils/logger":30,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274}],17:[function(a,e,f){((function(n,t){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var i=e(a("babel-runtime/core-js/object/keys")),r=e(a("babel-runtime/helpers/classCallCheck")),s=e(a("babel-runtime/helpers/createClass"));e(a("../utils/logger"));function e(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,r.default)(this,e),this.onHeaders=null,this.onData=null,this.onEnd=null,this.onError=null,this._xhr=null,this._error=null}return(0,s.default)(e,[{key:"request",value:function(e,t){var r=this;this._xhr=new n.XMLHttpRequest,this._xhr.open("GET",e,!0),(0,i.default)(t).forEach(function(e){r._xhr.setRequestHeader(e,t[e])}),this._xhr.responseType="moz-chunked-arraybuffer",this._xhr.onreadystatechange=this._onReadyStateChange.bind(this),this._xhr.onprogress=this._onProgress.bind(this),this._xhr.onerror=this._onError.bind(this),this._xhr.onloadend=this._onLoadEnd.bind(this),this._xhr.send()}},{key:"abort",value:function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onerror=null,this._xhr.onloadend=null,this._xhr.abort(),this._xhr=null),this._error=null}},{key:"_onReadyStateChange",value:function(){if(this._xhr&&!this._error&&2===this._xhr.readyState){if(0===this._xhr.status)return this._error=new TypeError("Failed to send"),void (this.onError&&this.onError(this._error));if(this._xhr.status<200||299<this._xhr.status)return this._error=new TypeError("Unexpect http status code: "+this._xhr.status),void (this.onError&&this.onError(this._error));this.onHeaders&&this.onHeaders({contentRange:this._xhr.getResponseHeader("content-range"),lastModified:this._xhr.getResponseHeader("last-modified")})}}},{key:"_onProgress",value:function(){this._xhr&&!this._error&&this.onData&&this.onData(t.from(this._xhr.response))}},{key:"_onLoadEnd",value:function(){this._xhr&&!this._error&&this.onEnd&&this.onEnd()}},{key:"_onError",value:function(){this._xhr&&!this._error&&(this._error=new TypeError("Network error"),this.onError&&this.onError(this._error))}}]),e}();f.default=o})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"../utils/logger":30,"babel-runtime/core-js/object/keys":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default={NET_STATUS:0,OPEN:1,CLOSE:2,CONNECT_OK:3,CAN_DOWNLOAD:4,REQUEST_DATA:5,FAILED:6,KEYFRAME:7,FIRST_DATA:8,RECEIVE_DATA:9,RECEIVE_END:10,HTTP_HEADER:11}},{}],19:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PipeCloseReason=r.BlackPipeList=r.PipeManager=r.PipeType=r.PipeInfo=r.PipeState=void 0;var s=f(e("babel-runtime/core-js/object/keys")),n=f(e("babel-runtime/core-js/object/create")),i=f(e("babel-runtime/helpers/classCallCheck")),o=f(e("babel-runtime/helpers/createClass")),a=(f(e("../utils/logger")),f(e("../utils/common")));function f(e){return e&&e.__esModule?e:{"default":e}}var u={WAITING:0,SENT:1,ESTABLISHED:2,IDLE:3,REQUESTED:4,CLOSED:5},c={CDN:"cdn",SKJ:"skj"},h={NORMAL:0,FILE_NOT_FOUND:1,LAST_MODIFIED_DIFFER:2,CONNECTION_LIMIT:3,PIECE_NOT_FOUND:4,NO_REQUEST:5,REMOTE_CLOSED:9,CONNECT_FAILED:10,CONNECT_TIMEOUT:11,HANDSHAKE_TIMEOUT:12,RECEIVE_TIMEOUT:13,FILE_SIZE_DIFFER:14,PIECE_SIZE_DIFFER:15},l=function(){function t(e){(0,i.default)(this,t),this._pipe=e,this._connectTick=0,this._handshakeTick=0,this._handshakeRespTick=0,this._reqTick=0,this._recvTick=0,this._recvBytes=0,this._closeTick=0,this._downloadTime=0,this._lastQuality=0,this._lastRecvBytes=0,this._lastDownloadTime=0,this._reqRgs=[],this._recvRgs=[],this._lastCloseReason=null}return(0,o.default)(t,[{key:"onOpen",value:function(){this._connectTick=Date.now()}},{key:"onConnectOK",value:function(){this._handshakeTick=Date.now()}},{key:"onHandshakeOK",value:function(){this._handshakeRespTick=Date.now()}},{key:"onRequestData",value:function(e,t){this._reqTick=Date.now();for(var r=Math.floor(t/a.default.REQUEST_SIZE),n=Math.floor(e/a.default.REQUEST_SIZE),i=0;i<r;i++)this._reqRgs.push(n+i)}},{key:"onReceiveData",value:function(e,t){this._recvTick=Date.now(),this._recvBytes+=t;for(var r=Math.floor(t/a.default.REQUEST_SIZE),n=Math.floor(e/a.default.REQUEST_SIZE),i=0;i<r;i++)this._recvRgs.push(n+i)}},{key:"onReceiveEnd",value:function(){this._downloadTime+=Date.now()-this._reqTick}},{key:"onClose",value:function(e){switch(this._closeTick=Date.now(),this._lastCloseReason=e){case h.NORMAL:this._lastQuality=1;break;case h.RECEIVE_TIMEOUT:this._lastQuality=2;break;case h.FILE_NOT_FOUND:case h.LAST_MODIFIED_DIFFER:case h.CONNECTION_LIMIT:case h.PIECE_NOT_FOUND:case h.CONNECT_FAILED:case h.CONNECT_TIMEOUT:case h.HANDSHAKE_TIMEOUT:case h.FILE_SIZE_DIFFER:case h.PIECE_SIZE_DIFFER:this._lastQuality=3;break;default:this._lastQuality=4}}},{key:"closeReason",get:function(){return this._lastCloseReason}},{key:"shortName",get:function(){return this._pipe.type!==c.CDN?this._pipe.type+"|"+this._pipe.hostname:""+this._pipe.type}},{key:"connectTick",get:function(){return this._connectTick}},{key:"handshakeTick",get:function(){return this._handshakeTick}},{key:"lastQuality",get:function(){return this._lastQuality}},{key:"requestTick",get:function(){return this._reqTick}},{key:"receiveTick",get:function(){return this._recvTick}},{key:"requestRgs",get:function(){return this._reqRgs},set:function(e){this._reqRgs=e}},{key:"receiveRgs",get:function(){return this._recvRgs},set:function(e){this._recvRgs=e}},{key:"downloadTime",get:function(){return this._downloadTime}},{key:"recvBytesDiffer",get:function(){var e=this._recvBytes-this._lastRecvBytes;return this._lastRecvBytes=this._recvBytes,e}},{key:"downloadTimeDiffer",get:function(){var e=this._downloadTime-this._lastDownloadTime;return this._lastDownloadTime=this._downloadTime,e}},{key:"info",get:function(){return{range:this._pipe.canDownloadRanges.toString(),state:this._pipe.state,recvBytes:this._recvBytes,time:this._downloadTime,peerId:this._pipe.remoteId,hostname:this._pipe.hostname,ip:this._pipe.ip,port:this._pipe.port}}}]),t}(),d=function(){function e(){(0,i.default)(this,e),this._allPipes="function"==typeof n.default?(0,n.default)(null):{}}return(0,o.default)(e,[{key:"set",value:function(e,t){this._allPipes[e]=t}},{key:"get",value:function(e){return this._allPipes[e]}},{key:"has",value:function(e){return void 0!==this._allPipes[e]}},{key:"delete",value:function(e){return void 0!==this._allPipes[e]&&(delete this._allPipes[e],!0)}},{key:"clear",value:function(){for(var e=(0,s.default)(this._allPipes),t=e.length;t--;)this.delete(e[t])}},{key:"forEach",value:function(e){if(e instanceof Function)for(var t=(0,s.default)(this._allPipes),r=0,n=t.length;r<n;r++){var i=t[r];e(this._allPipes[i],i)}}},{key:"allPipes",get:function(){return this._allPipes}}]),e}(),p=new d,b=new d;p.waitingPipes=function(){var t=[];return p.forEach(function(e){e.state===u.WAITING&&t.push(e)}),t},p.idlePipes=function(){var t=[];return p.forEach(function(e){e.state===u.IDLE&&t.push(e)}),t},p.avaliablePipes=function(){var t=[];return p.forEach(function(e){e.state!==u.WAITING&&e.state!==u.CLOSED&&t.push(e)}),t},r.PipeState=u,r.PipeInfo=l,r.PipeType=c,r.PipeManager=p,r.BlackPipeList=b,r.PipeCloseReason=h},{"../utils/common":26,"../utils/logger":30,"babel-runtime/core-js/object/create":42,"babel-runtime/core-js/object/keys":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=i(e("babel-runtime/helpers/classCallCheck")),n=i(e("babel-runtime/helpers/createClass"));function i(e){return e&&e.__esModule?e:{"default":e}}var s=function(){function o(e,t,r,n,i){var s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;(0,a.default)(this,o),this._peerId=e,this._type=t,this._hostname=r,this._peerIp=n,this._peerPort=i,this._trackerRequestOffset=s}return(0,n.default)(o,[{key:"toString",value:function(){return"resource, peerId: "+this._peerId+", type: "+this._type+", hostname: "+this._hostname+", peerIp: "+this._peerIp+", peerPort: "+this._peerPort}},{key:"peerId",get:function(){return this._peerId}},{key:"trackerRequestOffset",get:function(){return this._trackerRequestOffset}},{key:"type",get:function(){return this._type}},{key:"hostname",get:function(){return this._hostname}},{key:"peerIp",get:function(){return this._peerIp}},{key:"peerPort",get:function(){return this._peerPort}}]),o}();r.default=s},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=p(e("babel-runtime/core-js/number/parse-int")),n=p(e("babel-runtime/helpers/classCallCheck")),i=p(e("babel-runtime/helpers/createClass")),s=p(e("events")),f=p(e("../transfer/pipe-events")),o=e("../transfer/pipe-info"),u=(p(e("../utils/logger")),p(e("../utils/common"))),c=p(e("./http-fetch-stream")),h=p(e("./http-moz-chunked")),l=e("../utils/error"),d=p(e("../utils/polyfill"));function p(e){return e&&e.__esModule?e:{"default":e}}var b=function(){function t(e){(0,n.default)(this,t),this._type=o.PipeType.CDN,this._state=o.PipeState.IDLE,this._info=e,this._start=0,this._end=0,this._rangeRegEx=/^bytes\s(\d+)-(\d*)\/?(\d*)/,this._retryCount=0,this._retryId=0,this._client=new o.PipeInfo(this),this._emitter=new s.default,u.default.isFetchStreamSupported?this._loader=new c.default:this._loader=new h.default,this._loader.onHeaders=this._onHeaders.bind(this),this._loader.onData=this._onData.bind(this),this._loader.onEnd=this._onEnd.bind(this),this._loader.onError=this._onError.bind(this)}return(0,i.default)(t,[{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){e?t?this._emitter.removeListener(e,t):this._emitter.removeAllListeners(e):this._emitter.removeAllListeners()}},{key:"open",value:function(e,t){this._state=o.PipeState.REQUESTED,this._start=e,this._end=0<t?e+t-1:"",this._openTick=this._info.openTick||Date.now(),this._loader.request(this._info.url,{Range:"bytes="+this._start+"-"+this._end}),this._client.onRequestData(e,t)}},{key:"close",value:function(){this._state=o.PipeState.IDLE,this._start=0,this._end=0,this._retryCount=0,clearTimeout(this._retryId),this._retryId=0,this._openTick=0,this._loader.abort()}},{key:"_onHeaders",value:function(e){0===this._info.firstPacket&&(this._info.firstPacket=Date.now()-this._openTick);var t=0,r=0;if(e.contentRange){var n=this._rangeRegEx.exec(e.contentRange),i=(0,a.default)(n[1],10);(0,a.default)(n[2],10);if(t=(0,a.default)(n[3],10),i!==this._start)throw new l.ResponseError("current range start("+i+") !== request offset("+this._start+")")}if(void 0!==e.lastModified){var s=Date.parse(e.lastModified)/1e3;if(!d.default.isInteger(s)){var o=(new Date).getTimezoneOffset();s=Date.parse(/.*\d/.exec(e.lastModified)[0])/1e3-60*o}r=s}this._emitter.emit(f.default.NET_STATUS,f.default.HTTP_HEADER,{fileSize:t,lastModified:r})}},{key:"_onData",value:function(e){this._emitter.emit(f.default.NET_STATUS,f.default.RECEIVE_DATA,{buffer:e,offset:this._start,target:this});var t=Math.floor(this._start/u.default.REQUEST_SIZE)*u.default.REQUEST_SIZE,r=Math.floor((this._start%u.default.REQUEST_SIZE+e.length)/u.default.REQUEST_SIZE)*u.default.REQUEST_SIZE;this._client.onReceiveData(t,r),this._start+=e.length}},{key:"_onEnd",value:function(){this._state=o.PipeState.IDLE,this._emitter.emit(f.default.NET_STATUS,f.default.RECEIVE_END,{target:this})}},{key:"_onError",value:function(e){var t=this;e instanceof l.RuntimeError?this._emitter.emit(f.default.NET_STATUS,f.default.FAILED,{error:e,target:this}):(this._retryCount+=1,this._retryCount<2?(this._loader.abort(),this._retryId=setTimeout(function(){t._loader.request(t._info.url,{Range:"bytes="+t._start+"-"+t._end})},0)):this._emitter.emit(f.default.NET_STATUS,f.default.FAILED,{error:e,target:this}))}},{key:"type",get:function(){return this._type}},{key:"state",get:function(){return this._state}},{key:"hostname",get:function(){return"cdn"}},{key:"client",get:function(){return this._client}}]),t}();r.default=b},{"../transfer/pipe-events":18,"../transfer/pipe-info":19,"../utils/common":26,"../utils/error":29,"../utils/logger":30,"../utils/polyfill":32,"./http-fetch-stream":16,"./http-moz-chunked":17,"babel-runtime/core-js/number/parse-int":41,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,events:309}],22:[function(b,e,_){((function(i){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.FinCode=void 0;var n=t(b("babel-runtime/core-js/map")),s=t(b("babel-runtime/helpers/classCallCheck")),e=t(b("babel-runtime/helpers/createClass")),o=t(b("events")),a=t(b("assert")),f=b("../protocal/p2p"),u=b("../transfer/pipe-info"),c=t(b("../transfer/pipe-events")),h=(t(b("../utils/logger")),t(b("../utils/range"))),l=t(b("../utils/range-queue"));function t(e){return e&&e.__esModule?e:{"default":e}}var d={};d[16]=f.Handshake,d[32]=f.PieceRequest,d[33]=f.PieceResponse,d[8]=f.PieceMiss,d[5]=f.Ping,d[6]=f.Pong,d[7]=f.Fin;var p=_.FinCode={LOW_SPEED:51,TIMEOUT:52,NORMAL_CLOSE:53,PIECE_CHECK_FAIL:54,DECODE_FAIL:55,HANDSHAKE_FAIL:56},r=function(){function r(e,t){(0,s.default)(this,r),this._state=u.PipeState.WAITING,this._res=e,this._info=t,this._canDownloadRanges=new l.default,this._reqMap=new n.default,this._client=new u.PipeInfo(this),this._emitter=new o.default}return(0,e.default)(r,[{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"sendCmd",value:function(e){}},{key:"on",value:function(e,t){this._emitter.addListener(e,t)}},{key:"off",value:function(e,t){e?t?this._emitter.removeListener(e,t):this._emitter.removeAllListeners(e):this._emitter.removeAllListeners()}},{key:"ping",value:function(){var e=new f.Ping;e.timestamp.value=Date.now(),this.sendCmd(e),this.pingTimeoutId=setTimeout(this.ping.bind(this),3e4)}},{key:"createPingTimer",value:function(){this.pingTimeoutId=setTimeout(this.ping.bind(this),3e4)}},{key:"deletePingTimer",value:function(){clearTimeout(this.pingTimeoutId)}},{key:"open",value:function(){u.PipeState.WAITING===this._state&&(this.connect(),this._state=u.PipeState.SENT,this._client.onOpen())}},{key:"close",value:function(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u.PipeCloseReason.NORMAL,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];u.PipeState.CLOSED!==this._state&&(this._state=u.PipeState.CLOSED,t&&this._state>=u.PipeState.ESTABLISHED&&this.sendFin(e),this.deletePingTimer(),this.disconnect(),this._reqMap.forEach(function(e,t){var r=e.length,n=new h.default(t,r);i._info.requestRgq.removeRange(n)}),this._client.onClose(e),this._emitter.emit(c.default.NET_STATUS,c.default.CLOSE,{target:this}))}},{key:"request",value:function(e){var t=e.position,r=e.length;this._reqMap.set(t,{reqTick:Date.now(),length:r});var n=Math.floor(t/this._info.pieceSize),i=t%this._info.pieceSize;a.default.ok(i+r<=this._info.pieceSize,"offset("+i+") + length("+r+") > pieceSize("+this._info.pieceSize+")");var s=new f.PieceRequest;s.pieceIndex.value=n,s.offset.value=i,s.length.value=r,this.sendCmd(s),4<=this._reqMap.size&&(this._state=u.PipeState.REQUESTED),this._client.onRequestData(t,r)}},{key:"sendFin",value:function(e){var t=p.NORMAL_CLOSE;e!==u.PipeCloseReason.LAST_MODIFIED_DIFFER&&e!==u.PipeCloseReason.FILE_SIZE_DIFFER||(t=p.HANDSHAKE_FAIL);var r=new f.Fin;r.errorCode.value=t,this.sendCmd(r)}},{key:"getCmdClass",value:function(e){return d[e]}},{key:"onRecvData",value:function(e){this["handle"+e.name](e)}},{key:"onConnectOK",value:function(){this._state=u.PipeState.ESTABLISHED,this._client.onConnectOK();var e=new f.Handshake;e.clientType.value=7,e.clientId.value=this._info.playId,e.fileIndex.value=this._info.fileIndex,e.lastModified.value=0,e.fileSize.value=this._info.fileSize,e.pieceSize.value=this._info.pieceSize,e.fileOffset.value=this._res.trackerRequestOffset,e.bitField.value=this._calcBitField(this._info.fileSize,this._info.pieceSize,this._info.downloadRgq),this.sendCmd(e)}},{key:"onFailed",value:function(){this._emitter.emit(c.default.NET_STATUS,c.default.FAILED,{target:this}),this._state<u.PipeState.ESTABLISHED?this.close(u.PipeCloseReason.CONNECT_FAILED):this.close(u.PipeCloseReason.REMOTE_CLOSED)}},{key:"handleHandshake",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new f.Handshake,t=e.fileSize.value,r=(e.lastModified.value,e.pieceSize.value);if(0!==this._info.fileSize){if(t!==this._info.fileSize)return void this.close(u.PipeCloseReason.FILE_SIZE_DIFFER);if(r!==this._info.pieceSize)return void this.close(u.PipeCloseReason.PIECE_SIZE_DIFFER)}this._canDownloadRanges=this._calcDownloadRgq(this._info.fileSize,this._info.pieceSize,e.bitField.value),this.createPingTimer(),this._state=u.PipeState.IDLE,this._client.onHandshakeOK(),this._emitter.emit(c.default.NET_STATUS,c.default.CAN_DOWNLOAD,{target:this})}},{key:"handlePieceResponse",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new f.PieceResponse,t=e.pieceIndex.value,r=e.pieceOffset.value,n=e.piece.value,i=t*this._info.pieceSize+r;this._reqMap.get(i)?(this._reqMap.delete(i),this._emitter.emit(c.default.NET_STATUS,c.default.RECEIVE_DATA,{buffer:n,offset:i,target:this})):(this._info.p2pSpeedCalc.addBytes(n.length),this._info.skjBytes+=n.length),this._client.onReceiveData(i,n.length),this._reqMap.size<4&&(this._state=u.PipeState.IDLE),this._client.onReceiveEnd(),this._emitter.emit(c.default.NET_STATUS,c.default.RECEIVE_END,{target:this})}},{key:"handlePieceMiss",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new f.PieceMiss;e.pieceIndex.value,e.missCode.value;this.close(u.PipeCloseReason.PIECE_NOT_FOUND)}},{key:"handleFin",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:new f.Fin).errorCode.value;this.close(e,!1)}},{key:"handlePong",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new f.Pong;Date.now(),e.timestamp.value}},{key:"_calcBitField",value:function(e,t,r){var n=i.allocUnsafe(1);return n.fill(0),n}},{key:"_calcDownloadRgq",value:function(e,t,r){for(var n=new l.default,i=r.length,s=0;s<i;){var o=r.readUInt8(s);if(255===o)n.addRange(new h.default(8*s*t,8*t));else for(var a=7;0<=a;a--){1===(o&Math.pow(2,a))>>>a&&n.addRange(new h.default(8*s*t+t*(8-a-1),t))}s+=1}return n}},{key:"type",get:function(){return this._res.type}},{key:"reqMap",get:function(){return this._reqMap}},{key:"state",get:function(){return this._state}},{key:"ip",get:function(){return this._res.peerIp}},{key:"port",get:function(){return this._res.peerPort}},{key:"remoteId",get:function(){return this._res.peerId}},{key:"hostname",get:function(){return this._res.hostname}},{key:"client",get:function(){return this._client}},{key:"canDownloadRanges",get:function(){return this._canDownloadRanges}}]),r}();_.default=r})).call(this,b("buffer").Buffer)},{"../protocal/p2p":9,"../transfer/pipe-events":18,"../transfer/pipe-info":19,"../utils/logger":30,"../utils/range":34,"../utils/range-queue":33,assert:238,"babel-runtime/core-js/map":39,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,buffer:274,events:309}],23:[function(y,e,v){((function(t,s){"use strict";Object.defineProperty(v,"__esModule",{value:!0});var i=n(y("babel-runtime/core-js/object/get-prototype-of")),o=n(y("babel-runtime/helpers/classCallCheck")),r=n(y("babel-runtime/helpers/createClass")),a=n(y("babel-runtime/helpers/possibleConstructorReturn")),f=n(y("babel-runtime/helpers/inherits")),u=n(y("../utils/logger")),c=n(y("../utils/common")),e=n(y("./vod-p2p")),h=y("../utils/error"),l=y("../protocal/p2p"),d=y("../protocal/byte-array"),p=n(y("../utils/md5"));function n(e){return e&&e.__esModule?e:{"default":e}}var b="VODWsPipe",_=function(e){function n(e,t){(0,o.default)(this,n);var r=(0,a.default)(this,(n.__proto__||(0,i.default)(n)).call(this,e,t));return r._wsUrl=c.default.ws+"://"+e.peerIp+":"+e.peerPort+"/xyvod/p2sp/"+p.default.encrypt(e.hostname),r._ws=null,r}return(0,f.default)(n,e),(0,r.default)(n,[{key:"connect",value:function(){null===this._ws&&(this._ws=new t.WebSocket(this._wsUrl,"platinum"),this._ws.binaryType="arraybuffer",this._ws.onopen=this._onWsOpen.bind(this),this._ws.onclose=this._onWsClose.bind(this),this._ws.onmessage=this._onWsMessage.bind(this),this._ws.onerror=this._onWsError.bind(this))}},{key:"disconnect",value:function(){this._ws&&(this._ws.onopen=null,this._ws.onclose=null,this._ws.onmessage=null,this._ws.onerror=null,this._ws.close(),this._ws=null)}},{key:"sendCmd",value:function(e){if(null!==this._ws&&1===this._ws.readyState){var t=new l.Header;t.version.value=1,t.cmdType.value=e.id,t.bodyLength.value=e.bytes;var r=s.allocUnsafe(t.bytes+e.bytes),n=new d.ByteArray(r);t.toBytes(n),e.toBytes(n),this._ws.send(r.buffer)}}},{key:"_onWsOpen",value:function(e){this.onConnectOK()}},{key:"_onWsClose",value:function(e){this.onFailed()}},{key:"_onWsMessage",value:function(e){if(null!==this._ws){if(e.data instanceof ArrayBuffer==!1)throw new h.ResponseError("websocket message type is not ArrayBuffer");var t=new l.Header;if(e.data.byteLength<t.bytes)u.default.ERROR(b,"not enough byteLength to parse");else{var r=new d.ByteArray(s.from(e.data));t.fromBytes(r);var n=this.getCmdClass(t.cmdType.value);if(n){var i=new n;try{i.fromBytes(r)}catch(e){return void u.default.ERROR(b,"cmd fromBytes: "+e.message)}this.onRecvData(i)}else u.default.ERROR(b,"unknown cmdType: "+t.cmdType.value)}}}},{key:"_onWsError",value:function(e){}}]),n}(e.default);v.default=_})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},y("buffer").Buffer)},{"../protocal/byte-array":7,"../protocal/p2p":9,"../utils/common":26,"../utils/error":29,"../utils/logger":30,"../utils/md5":31,"./vod-p2p":22,"babel-runtime/core-js/object/get-prototype-of":44,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":52,"babel-runtime/helpers/possibleConstructorReturn":53,buffer:274}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0<=e.indexOf("trident")&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],r=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],n={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:r[0]||""},i={};if(n.browser){i[n.browser]=!0;var s=n.majorVersion.split(".");i.version={major:parseInt(n.majorVersion,10),string:n.version},1<s.length&&(i.version.minor=parseInt(s[1],10)),2<s.length&&(i.version.build=parseInt(s[2],10))}n.platform&&(i[n.platform]=!0),(i.chrome||i.opr||i.safari)&&(i.webkit=!0),(i.rv||i.iemobile)&&(i.rv&&delete i.rv,n.browser="msie",i.msie=!0);i.edge&&(delete i.edge,n.browser="msedge",i.msedge=!0);i.opr&&(n.browser="opera",i.opera=!0);if(i.safari&&i.android){var o="android";i[n.browser=o]=!0}return i.name=n.browser,i.platform=n.platform,i}();r.default=n},{}],25:[function(h,e,l){((function(i){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var e=n(h("babel-runtime/core-js/json/stringify")),s=n(h("babel-runtime/helpers/classCallCheck")),t=n(h("babel-runtime/helpers/createClass")),o=n(h("url")),r=n(h("./range")),a=n(h("./range-queue")),f=n(h("../utils/speed-calculator")),u=h("../transfer/pipe-info");function n(e){return e&&e.__esModule?e:{"default":e}}var c=function(){function n(e){var t;(0,s.default)(this,n),this.playId=function(){for(var e="",t=1;t<=32;t++)e+=Math.floor(16*Math.random()).toString(16),8!==t&&12!==t&&16!==t&&20!==t||(e+="-");return e}(),this.url=(t=e.url,i.decodeURI(t)===t?i.encodeURI(t):t),this.mediaElement=e.video;var r=o.default.parse(this.url);this.sourceUrl=""+r.host+r.pathname,this.fileIndex=this.sourceUrl,this.startWithCDN=void 0===e.startWithCDN||!!e.startWithCDN,this.fileType="string"==typeof e.fileType?e.fileType.toLowerCase():"",this.openTick="number"==typeof e.openTick?e.openTick:0,this.playerInfo=e.info||{},this.speedCalc=new f.default(5),this.cdnSpeedCalc=new f.default(5),this.p2pSpeedCalc=new f.default(5)}return(0,t.default)(n,[{key:"getBufferedEnd",value:function(e){var t=this.mediaElement;if(!t||!t.buffered||0===t.buffered.length)return 0;for(var r=0,n=t.buffered.length;r<n;r++)if(e>=t.buffered.start(r)&&e<t.buffered.end(r))return t.buffered.end(r);return 0}},{key:"getTimeFromRange",value:function(e){for(var t=0,r=0;r<e.length;r++)t+=e.end(r)-e.start(r);return t}},{key:"parseTimeRanges",value:function(e){for(var t="length: "+e.length+", ranges: ",r=0;r<e.length;r++)t+="("+e.start(r)+", "+e.end(r)+")";return t}},{key:"getTimeByOffset",value:function(e){if(0===this.fileSize)return 0;var t=this.mediaElement;if(!t||!t.duration||t.duration===1/0)return 0;var r=e*t.duration/this.fileSize,n=t.currentTime;return n<r?r-n:0}},{key:"clear",value:function(){this.fileSize=0,this.lastModified=0,this.pieceSize=0,this.receiveEnd=0,this.firstPacket=0,this.firstBuffer=0,this.cdnIp="",this.interruptCount=0,this.interruptTime=0,this.bufferEmptyQueue=[],this.reserveRg=new r.default,this.downloadRgq=new a.default,this.requestRgq=new a.default,this.sendRgq=new a.default,this.cdnBytes=0,this.skjBytes=0,this.seekCost=0,this.seekType=0,this.seekPosition=0,this.waitingTime=0,this.cdnRequestSize=0}},{key:"dispose",value:function(){this.playId="",this.url="",this.mediaElement=null,this.sourceUrl="",this.fileIndex="",this.fileType="",this.startWithCDN=!0,this.speedCalc=null,this.cdnSpeedCalc=null,this.p2pSpeedCalc=null,this.clear()}},{key:"duration",get:function(){var e=this.mediaElement;return e&&e.duration?e.duration:0}},{key:"bufferLength",get:function(){var e=this.mediaElement;if(!e||!e.buffered||0===e.buffered.length)return 0;for(var t=0,r=e.buffered.length;t<r;t++){var n=e.buffered.start(t),i=e.buffered.end(t);if(e.currentTime>=n&&e.currentTime<i)return i-e.currentTime}return 0}},{key:"playTime",get:function(){var e=this.mediaElement;return e&&void 0!==e.currentTime?e.currentTime:0}},{key:"buffered",get:function(){var e=this.mediaElement;return e?this.parseTimeRanges(e.buffered):[]}},{key:"played",get:function(){var e=this.mediaElement;return e?this.parseTimeRanges(e.played):[]}},{key:"isPaused",get:function(){var e=this.mediaElement;return!e||e.paused&&1<e.readyState}},{key:"pipes",get:function(){var t={waiting:[],connecting:[],serving:[]};return u.PipeManager.forEach(function(e){e.state===u.PipeState.WAITING?t.waiting.push(e.client.info):e.state===u.PipeState.SENT||e.state===u.PipeState.ESTABLISHED?t.connecting.push(e.client.info):e.state!==u.PipeState.REQUESTED&&e.state!==u.PipeState.IDLE||t.serving.push(e.client.info)}),(0,e.default)(t,null,4)}},{key:"pipeDetails",get:function(){var t={};return u.PipeManager.forEach(function(e){e.state!==u.PipeState.REQUESTED&&e.state!==u.PipeState.IDLE||(t[e.hostname]={req:e.client.requestRgs.slice(0),res:e.client.receiveRgs.slice(0)},e.client.requestRgs=[],e.client.receiveRgs=[])}),t}},{key:"latestPosition",get:function(){return null===this.reserveRg?0:0<this.sendRgq.ranges.length?this.sendRgq.ranges[0].end:this.reserveRg.position}},{key:"peerRatio",get:function(){var e=this.cdnBytes+this.skjBytes;return 0<e?(100*this.skjBytes/e).toFixed(2):0..toFixed(2)}},{key:"skjRatio",get:function(){var e=this.cdnBytes+this.skjBytes;return 0<e?(100*this.skjBytes/e).toFixed(2):0..toFixed(2)}}]),n}();l.default=c})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transfer/pipe-info":19,"../utils/speed-calculator":36,"./range":34,"./range-queue":33,"babel-runtime/core-js/json/stringify":38,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,url:385}],26:[function(s,e,o){((function(r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=t(s("babel-runtime/core-js/object/create")),n=t(s("./browser"));function t(e){return e&&e.__esModule?e:{"default":e}}var i="function"==typeof e.default?(0,e.default)(null):{};i.VERSION="1.2.9",i.WSS_PORT=8443,i.REQUEST_SIZE=8192,i.MAX_CACHE_SIZE=16777216,i.SMALL_FILE=83886080,i.LARGE_FILE=1374389534.72,i.BUFFER_LIMIT=4,i.FRAGMENT_SIZE=83886080,i.TIMEOUT_PAD=3e3,i.RESUME_BUFFER_LENGTH=1,i.MAX_SKJ_NUM=10,i.PROBING_NUM=5,i.isHttps=function(){if(!r.document||!r.document.location)return!1;return/^https:/.test(r.document.location.href)}(),i.http=i.isHttps?"https":"http",i.ws=i.isHttps?"wss":"ws",i.userAgent=r.navigator&&r.navigator.userAgent?r.navigator.userAgent:"",i.isWebRTCSupported=(r.RTCPeerConnection=r.RTCPeerConnection||r.webkitRTCPeerConnection||r.mozRTCPeerConnection,!!r.RTCPeerConnection),i.isFetchStreamSupported=function(){try{var e=n.default.msedge&&15048<=n.default.version.minor,t=!n.default.msedge||e;return!!(r.fetch&&r.ReadableStream&&t)}catch(e){return!1}}(),i.isMozChunkedSupported=function(){if(!n.default.firefox)return!1;try{var e=new r.XMLHttpRequest;return e.open("GET","https://example.com",!0),(e.responseType="moz-chunked-arraybuffer")===e.responseType}catch(e){return!1}}(),o.default=i})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":24,"babel-runtime/core-js/object/create":42}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("babel-runtime/helpers/classCallCheck")),i=o(e("babel-runtime/helpers/createClass")),s=(o(e("./logger")),o(e("./reporter")));function o(e){return e&&e.__esModule?e:{"default":e}}var a=2,f=function(){function t(e){(0,n.default)(this,t),this._info=e,this._reporter=null,this._openTick=0,this._seekTick=0,this._isSeeking=!1,this._isWaiting=!1,this._waitingTick=0,this._isBufferEmpty=!1,this._bufferFullTick=0,this._bufferEmptyTick=0,this._me=null,this._timeoutId=-1,this._isFirstBuffer=!1,this._e={ended:this._onEnded.bind(this),waiting:this._onWaiting.bind(this),playing:this._onPlaying.bind(this),pause:this._onPause.bind(this),durationchange:this._onDurationChange.bind(this),seeking:this._onSeeking.bind(this),seeked:this._onSeeked.bind(this),canplay:this._onCanPlay.bind(this),loadeddata:this._onLoadedData.bind(this),timeupdate:this._onTimeUpdate.bind(this)}}return(0,i.default)(t,[{key:"open",value:function(){this._reporter||(this._reporter=new s.default(this._info)),this._openTick=this._info.openTick||Date.now(),this._seekTick=0,this._isSeeking=!1,this._bufferFullTick=0,this._bufferEmptyTick=0,this._me=this._info.mediaElement,this._attachMediaElement(),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this._bufferEmptyCheck.bind(this),50)}},{key:"close",value:function(){clearTimeout(this._timeoutId),this._reporter.stopInterval()}},{key:"dispose",value:function(){clearTimeout(this._timeoutId),this._timeoutId=-1,this._info=null,this._reporter&&(this._reporter.stopInterval(),this._reporter=null),this._detachMediaElement(),this._me=null,this._e&&(this._e.ended=null,this._e.waiting=null,this._e.playing=null,this._e.pause=null,this._e.durationchange=null,this._e.seeking=null,this._e.seeked=null,this._e.canplay=null,this._e.loadeddata=null)}},{key:"_attachMediaElement",value:function(){this._hasAttachElement||this._me&&(this._hasAttachElement=!0,this._me.addEventListener("ended",this._e.ended),this._me.addEventListener("waiting",this._e.waiting),this._me.addEventListener("playing",this._e.playing),this._me.addEventListener("pause",this._e.pause),this._me.addEventListener("durationchange",this._e.durationchange),this._me.addEventListener("seeking",this._e.seeking),this._me.addEventListener("seeked",this._e.seeked),this._me.addEventListener("canplay",this._e.canplay),this._me.addEventListener("loadeddata",this._e.loadeddata),this._me.addEventListener("timeupdate",this._e.timeupdate))}},{key:"_detachMediaElement",value:function(){this._me&&(this._me.removeEventListener("ended",this._e.ended),this._me.removeEventListener("waiting",this._e.waiting),this._me.removeEventListener("playing",this._e.playing),this._me.removeEventListener("pause",this._e.pause),this._me.removeEventListener("durationchange",this._e.durationchange),this._me.removeEventListener("seeking",this._e.seeking),this._me.removeEventListener("seeked",this._e.seeked),this._me.removeEventListener("canplay",this._e.canplay),this._me.removeEventListener("loadeddata",this._e.loadeddata),this._me.removeEventListener("timeupdate",this._e.timeupdate))}},{key:"_bufferEmptyCheck",value:function(){clearTimeout(this._timeoutId),this._me&&(this._isBufferEmpty||this._me.readyState!==a||(this._isBufferEmpty=!0,this._bufferEmptyTick=Date.now(),this._info.interruptCount+=1,this._reporter.onBufferEmpty(this._bufferEmptyTick)),this._timeoutId=setTimeout(this._bufferEmptyCheck.bind(this),50))}},{key:"_onEnded",value:function(){}},{key:"_onWaiting",value:function(){this._isWaiting||(this._isWaiting=!0,this._waitingTick=Date.now())}},{key:"_onPlaying",value:function(){}},{key:"_onPause",value:function(){}},{key:"_onDurationChange",value:function(){}},{key:"_onSeeking",value:function(){!this._me||this._me.currentTime<1||this._isSeeking||(this._isSeeking=!0,this._seekTick=Date.now(),this._info.seekType=this._me.readyState,this._info.seekPosition=this._info.reserveRg.position)}},{key:"_onSeeked",value:function(){}},{key:"_onLoadedData",value:function(){this._isFirstBuffer||(this._isFirstBuffer=!0,this._info.firstBuffer=Date.now()-this._openTick,this._reporter.startInterval(),this._reporter.sendFB())}},{key:"_onTimeUpdate",value:function(){this._isWaiting&&(this._isWaiting=!1,this._info.waitingTime+=Date.now()-this._waitingTick)}},{key:"_onCanPlay",value:function(){if(this._isSeeking&&(this._isSeeking=!1,this._info.seekCost=Date.now()-this._seekTick,this._reporter.sendDRAG()),this._isBufferEmpty){this._isBufferEmpty=!1,this._bufferFullTick=Date.now();var e=this._bufferFullTick-this._bufferEmptyTick;this._info.bufferEmptyQueue.push(e),this._reporter.onBufferFull(this._bufferFullTick)}}},{key:"dropFrames",get:function(){return this._me&&void 0!==this._me.webkitDroppedFrameCount?this._me.webkitDroppedFrameCount:0}}]),t}();r.default=f},{"./logger":30,"./reporter":35,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e)}return(0,i.default)(e,null,[{key:"format",value:function(e){return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1)+"-":e.getMonth()+1+"-")+(e.getDate()<10?"0"+e.getDate()+" ":e.getDate()+" ")+(e.getHours()<10?"0"+e.getHours()+":":e.getHours()+":")+(e.getMinutes()<10?"0"+e.getMinutes()+":":e.getMinutes()+":")+(e.getSeconds()<10?"0"+e.getSeconds()+".":e.getSeconds()+".")+(e.getMilliseconds()<10?"00"+e.getMilliseconds():e.getMilliseconds()<100?"0"+e.getMilliseconds():""+e.getMilliseconds())}}]),e}();r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DataError=r.ResponseError=r.Mp4ParseError=r.FlvParseError=r.IllegalStateError=r.InvalidArgumentError=r.RuntimeError=void 0;var n=f(e("babel-runtime/core-js/object/get-prototype-of")),i=f(e("babel-runtime/helpers/possibleConstructorReturn")),s=f(e("babel-runtime/helpers/inherits")),o=f(e("babel-runtime/helpers/classCallCheck")),a=f(e("babel-runtime/helpers/createClass"));function f(e){return e&&e.__esModule?e:{"default":e}}var u=r.RuntimeError=function(){function t(e){(0,o.default)(this,t),this.message=e}return(0,a.default)(t,[{key:"toString",value:function(){return this.name+": "+this.message}}]),t}();r.InvalidArgumentError=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"name",get:function(){return"InvalidArgumentError"}}]),t}(u),r.IllegalStateError=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"name",get:function(){return"IllegalStateError"}}]),t}(u),r.FlvParseError=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"name",get:function(){return"FlvParseError"}}]),t}(u),r.Mp4ParseError=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"name",get:function(){return"Mp4ParseError"}}]),t}(u),r.ResponseError=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"name",get:function(){return"ResponseError"}}]),t}(u),r.DataError=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"name",get:function(){return"DataError"}}]),t}(u)},{"babel-runtime/core-js/object/get-prototype-of":44,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,"babel-runtime/helpers/inherits":52,"babel-runtime/helpers/possibleConstructorReturn":53}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=i(e("babel-runtime/helpers/classCallCheck")),s=i(e("babel-runtime/helpers/createClass")),o=i(e("./date-formatter"));function i(e){return e&&e.__esModule?e:{"default":e}}var a=0,f=1,u=2,c=3,h=4,l=5,d=99,p=function(){function i(){(0,n.default)(this,i)}return(0,s.default)(i,null,[{key:"TRACE",value:function(){if(i.Level<=a){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).info.apply(e,[o.default.format(new Date)+" "+i.NamingSpace+" %c[TRACE]","background-color:#cccccc"].concat(r))}}},{key:"DEBUG",value:function(){if(i.Level<=f){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).info.apply(e,[o.default.format(new Date),i.NamingSpace,"[DEBUG]"].concat(r))}}},{key:"INFO",value:function(){if(i.Level<=u){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).info.apply(e,[o.default.format(new Date)+" "+i.NamingSpace+" %c[INFO]","color:#ffffff;background-color:#00BFFF"].concat(r))}}},{key:"WARN",value:function(){if(i.Level<=c){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).info.apply(e,[o.default.format(new Date)+" "+i.NamingSpace+" %c[WARN]","color:#ffffff;background-color:#FFA500"].concat(r))}}},{key:"ERROR",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;i.Level<=h&&(n=console).info.apply(n,[o.default.format(new Date)+" "+i.NamingSpace+" %c[ERROR]","color:#ffffff;background-color:#FF0000"].concat(t));i.ErrorHook&&i.ErrorHook([].concat(t).join(" "))}},{key:"FATAL",value:function(){if(i.Level<=l){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).info.apply(e,[o.default.format(new Date)+" "+i.NamingSpace+" %c[FATAL]","color:#ffffff;background-color:#9370DB"].concat(r))}}}]),i}();p.Level=d,p.NamingSpace="Default",p.ErrorHook=null,r.default=p},{"./date-formatter":28,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("babel-runtime/helpers/classCallCheck")),i=o(e("babel-runtime/helpers/createClass")),s=o(e("crypto"));function o(e){return e&&e.__esModule?e:{"default":e}}var a=function(){function e(){(0,n.default)(this,e)}return(0,i.default)(e,null,[{key:"encrypt",value:function(e){var t=s.default.createHash("md5");return t.update(e),t.digest("hex")}}]),e}();r.default=a},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,crypto:282}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("babel-runtime/core-js/number/is-integer")),i=o(e("babel-runtime/helpers/classCallCheck")),s=o(e("babel-runtime/helpers/createClass"));function o(e){return e&&e.__esModule?e:{"default":e}}var a=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,null,[{key:"isInteger",value:function(e){return n.default?(0,n.default)(e):"number"==typeof e&&e%1==0}}]),e}();r.default=a},{"babel-runtime/core-js/number/is-integer":40,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass")),c=s(e("./range"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function e(){(0,n.default)(this,e),this._ranges=[],this._start=0,this._end=0}return(0,i.default)(e,[{key:"isIn",value:function(e){for(var t=!1,r=0,n=this._ranges.length;r<n;r++){if(this._ranges[r].isIn(e)){t=!0;break}}return t}},{key:"getRange",value:function(e){for(var t=null,r=0,n=this._ranges.length;r<n;r++){var i=this._ranges[r];if(i.isIn(e)){t=i;break}}return t}},{key:"isContained",value:function(e){if(0===e.length)throw new RangeError("isContained, range.length is 0");if(0===this._ranges.length)return!1;for(var t=0,r=this._ranges.length;t<r;t++)if(this._ranges[t].isContained(e))return!0;return!1}},{key:"addRange",value:function(e){if(0===e.length)throw new RangeError("addRange, range.length is 0");var t=this._ranges.length;if(0===t||this._end<e.position)this._ranges.push(e.clone());else if(this._start>e.end)this._ranges.unshift(e.clone());else{for(var r=0,n=t-1;0<=n;n--){if(this._ranges[n].end<e.position){r=n+1;break}}for(var i=t-1,s=0;s<t;s++){if(this._ranges[s].position>e.end){i=s-1;break}}var o=this._ranges[r],a=this._ranges[i],f=e.clone();e.position>=o.position&&e.position<=o.end&&(f=f.merge(o,!0)),e.end>=a.position&&e.end<=a.end&&(f=f.merge(a,!0)),this._ranges.splice(r,i-r+1,f)}this._updateBound()}},{key:"removeRange",value:function(e){var t;if(0===e.length)throw new RangeError("removeRange, range.length is 0");var r=this._ranges.length;if(!(0===r||this._end<=e.position||this._start>=e.end)){for(var n=0,i=r-1;0<=i;i--){if(this._ranges[i].end<e.position){n=i+1;break}}for(var s=r-1,o=0;o<r;o++){if(this._ranges[o].position>e.end){s=o-1;break}}var a=this._ranges[n],f=this._ranges[s],u=[];e.position>a.position&&e.position<a.end&&u.push(new c.default(a.position,e.position-a.position)),e.end>f.position&&e.end<f.end&&u.push(new c.default(e.end,f.end-e.end)),(t=this._ranges).splice.apply(t,[n,s-n+1].concat(u)),this._updateBound()}}},{key:"equalTo",value:function(e){if(this._ranges.length!==e.ranges.length)return!1;for(var t=0,r=this._ranges.length;t<r;t++)if(!this._ranges[t].equalTo(e.ranges[t]))return!1;return!0}},{key:"clear",value:function(){this._ranges=[],this._start=0,this._end=0}},{key:"toString",value:function(){return"{"+this._ranges.join(",")+"}"}},{key:"_updateBound",value:function(){0!==this._ranges.length&&(this._start=this._ranges[0].position,this._end=this._ranges[this._ranges.length-1].end)}},{key:"length",get:function(){var t=0;return this._ranges.forEach(function(e){t+=e.length}),t}},{key:"ranges",get:function(){return this._ranges}},{key:"end",get:function(){return this._end}},{key:"start",get:function(){return this._start}}]),e}();r.default=o},{"./range":34,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("babel-runtime/helpers/classCallCheck")),i=s(e("babel-runtime/helpers/createClass"));function s(e){return e&&e.__esModule?e:{"default":e}}var o=function(){function r(e,t){(0,n.default)(this,r),this.assign(e,t)}return(0,i.default)(r,[{key:"assign",value:function(e,t){this._pos=e,this._length=t,this._end=e+t}},{key:"isIn",value:function(e){return e>=this._pos&&e<this._end}},{key:"isContained",value:function(e){if(0===e.length)throw new RangeError("isContained, range.length is 0");return e.position>=this._pos&&e.end<=this._end}},{key:"isIntersect",value:function(e){if(0===e.length)throw new RangeError("isIntersect, range.length is 0");return!(e.position>this._end||e.end<=this._pos)}},{key:"isFullRange",value:function(){return 0===this._pos&&this._length===r.MAX_LENGTH}},{key:"equalTo",value:function(e){return this._pos===e.position&&this._length===e.length}},{key:"toString",value:function(){return"["+this._pos+","+this._length+","+this._end+")"}},{key:"clone",value:function(){return new r(this._pos,this._length)}},{key:"canMerge",value:function(e){if(0===e.length)throw new RangeError("canMerge, range.length is 0");return!(e.end<this._pos||this._end<e.position)}},{key:"merge",value:function(e){if(!(1<arguments.length&&void 0!==arguments[1]&&arguments[1])&&!this.canMerge(e))throw new RangeError("merge, over bound");var t=Math.min(this._pos,e.position);return new r(t,Math.max(this._end,e.end)-t)}},{key:"intersect",value:function(e){if(0===e.length)throw new RangeError("intersect, range.length is 0");if(e.end<=this._pos||this._end<=e.position)return null;var t=this._pos<e.position?e.position:this._pos;return new r(t,(this._end>e.end?e.end:this._end)-t)}},{key:"position",get:function(){return this._pos}},{key:"length",get:function(){return this._length}},{key:"end",get:function(){return this._end}}]),r}();o.MAX_LENGTH=0xffffffffffff,r.default=o},{"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],35:[function(p,e,b){((function(r){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var n=t(p("babel-runtime/helpers/classCallCheck")),e=t(p("babel-runtime/helpers/createClass")),h=t(p("./common")),i=t(p("./logger")),s=p("./error");function t(e){return e&&e.__esModule?e:{"default":e}}var o=h.default.http+"://sdk1xyajs-data.xycdn.com/o_vod_h5sdk_one",l=h.default.http+"://sdk1xyajs-data.xycdn.com/o_vod_h5sdk_cycle",a=["logstate","v","pi","ua","u","ci","fb","ts","fs","lm"],f=["logstate","v","pi","ua","u","ci","sp","st","sc","bl"],d=["v","pi","ua","u","it","ic","dc","db","ds","pt","bla","bld","pr","sr","wt"],u=["logstate","v","pi","ua","u","e"],c=function(){function t(e){(0,n.default)(this,t),this._info=e,this._timeoutId=-1,this._intervalCount=0,this._lastInterruptTime=0,this._lastInterruptCount=0,this._lastDownCDN=0,this._lastDownSKJ=0,this._lastWaitingTime=0,this._isBufferEmpty=!1,this._lastCycleSendTick=0,this._bufferEmptyTick=0,this._bufferQueue=[],i.default.ErrorHook=this.sendERR.bind(this)}return(0,e.default)(t,[{key:"onBufferFull",value:function(e){this._isBufferEmpty=!1;var t=e-Math.max(this._bufferEmptyTick,this._lastCycleSendTick);this._info.interruptTime+=t}},{key:"onBufferEmpty",value:function(e){this._isBufferEmpty=!0,this._bufferEmptyTick=e}},{key:"startInterval",value:function(){this._intervalProcess()}},{key:"stopInterval",value:function(){-1!==this._timeoutId&&(this._sendCycle(),clearTimeout(this._timeoutId),this._timeoutId=-1)}},{key:"sendFB",value:function(){var e=["fb",h.default.VERSION,this._info.playId,h.default.userAgent,this._info.url,this._info.cdnIp,this._info.firstBuffer,this._info.playerInfo.timeStat,this._info.fileSize,this._info.lastModified],t=this._makeQuery(a,e);this._send(o,t)}},{key:"sendERR",value:function(e){var t=["err",h.default.VERSION,this._info.playId,h.default.userAgent,this._info.url,e];this._send(o,this._makeQuery(u,t))}},{key:"sendDRAG",value:function(){var e=["db",h.default.VERSION,this._info.playId,h.default.userAgent,this._info.url,this._info.cdnIp,this._info.seekPosition,this._info.seekType,this._info.seekCost,this._info.bufferLength.toFixed(3)],t=this._makeQuery(f,e);this._send(o,t)}},{key:"_intervalProcess",value:function(){this._intervalCount++,this._bufferQueue.push(1e3*this._info.bufferLength),this._intervalCount%30==0&&this._sendCycle(),this._timeoutId=setTimeout(this._intervalProcess.bind(this),1e3)}},{key:"_sendCycle",value:function(){this._intervalCount=0;var e=Date.now();if(this._isBufferEmpty){var t=e-Math.max(this._bufferEmptyTick,this._lastCycleSendTick);this._info.interruptTime+=t}var r=this._info.interruptCount-this._lastInterruptCount,n=this._info.interruptTime-this._lastInterruptTime,i=this._info.waitingTime-this._lastWaitingTime,s=this._info.cdnBytes-this._lastDownCDN,o=this._info.skjBytes-this._lastDownSKJ;0<this._info.fileSize&&((s>this._info.fileSize||s<0)&&(s=0),(o>this._info.fileSize||o<0)&&(o=0)),this._lastInterruptCount=this._info.interruptCount,this._lastInterruptTime=this._info.interruptTime,this._lastDownCDN=this._info.cdnBytes,this._lastDownSKJ=this._info.skjBytes,this._lastWaitingTime=this._info.waitingTime,this._lastCycleSendTick=e,0===this._bufferQueue.length&&this._bufferQueue.push(1e3*this._info.bufferLength);var a=this._avgBuffer(),f=this._stddevBuffer(a);this._bufferQueue=[];var u=[h.default.VERSION,this._info.playId,h.default.userAgent,this._info.url,n,r,s,0,o,this._info.playTime.toFixed(3),a,f,this._info.peerRatio,this._info.skjRatio,i],c=this._makeQuery(d,u);this._send(l,c)}},{key:"_send",value:function(e,t){r.fetch(e,{method:"POST",mode:"cors",body:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){if(200!==e.status)throw new s.ResponseError("Unexpect Http StatusCode "+e.status)}).catch(function(e){})}},{key:"_makeQuery",value:function(e,t){for(var r=[],n=0;n<e.length;n++)r.push(e[n]+"="+encodeURIComponent(t[n]));return""+r.join("&")}},{key:"_avgBuffer",value:function(){var e=this._bufferQueue.length;if(0===e)return 0;var t=0;return this._bufferQueue.forEach(function(e){t+=e}),Math.floor(t/e)}},{key:"_stddevBuffer",value:function(t){var e=this._bufferQueue.length;if(0===e)return 0;var r=0;return this._bufferQueue.forEach(function(e){r+=Math.abs(e-t)*Math.abs(e-t)}),Math.floor(Math.sqrt(r/e))}}]),t}();b.default=c})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./common":26,"./error":29,"./logger":30,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=o(e("babel-runtime/core-js/object/keys")),n=o(e("babel-runtime/helpers/classCallCheck")),i=o(e("babel-runtime/helpers/createClass"));function o(e){return e&&e.__esModule?e:{"default":e}}var a=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3;(0,n.default)(this,r),this._samples={},this._cycle=e,this._precision=t}return(0,i.default)(r,[{key:"addBytes",value:function(e){var t=Math.floor(Date.now()/this._precision);this._clean(t),this._samples[t]+=e}},{key:"calculate",value:function(){var t=this,r=Math.floor(Date.now()/this._precision);this._clean(r);var n=0,i=0;return(0,s.default)(this._samples).forEach(function(e){parseInt(e,10)!==r&&(n+=t._samples[e],i++)}),0===i?0:n/i*(1e3/this._precision)}},{key:"_clean",value:function(t){var r=this;(0,s.default)(this._samples).forEach(function(e){parseInt(e,10)+r._cycle<=t&&delete r._samples[e]});for(var e=t;e>t-this._cycle;e--)void 0===this._samples[e]&&(this._samples[e]=0)}}]),r}();r.default=a},{"babel-runtime/core-js/object/keys":45,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.XYVODEvent=r.XYVOD=void 0;var f=o(e("babel-runtime/helpers/classCallCheck")),n=o(e("babel-runtime/helpers/createClass")),i=o(e("babel-runtime/core-js/weak-map")),u=o(e("events")),c=o(e("./utils/logger")),s=o(e("./utils/common")),h=e("./utils/error"),l=o(e("./dispatcher/vod-dispatcher")),d=o(e("./parser/watcher")),p=o(e("./utils/polyfill")),b=o(e("./utils/data-statistics")),_=o(e("./utils/common-info"));function o(e){return e&&e.__esModule?e:{"default":e}}var y={DATA:"XYVOD.Data",ERROR:"XYVOD.Error",FILE_SIZE:"XYVOD.FileSize",END:"XYVOD.End"},v=new i.default,m=0,g=1,w=2,S=function(e,t){if(e===w)throw new h.IllegalStateError("XYVOD is already DISPOSED, need to reconstruct");if("open"===t&&e===g)throw new h.IllegalStateError("XYVOD is already OPENED")},a=function(){function a(e){var t=this;if((0,f.default)(this,a),!e)throw new h.InvalidArgumentError("XYVOD constructor, expect options");if(!e.url)throw new h.InvalidArgumentError("XYVOD constructor, expect options.url");if(!e.video)throw new h.InvalidArgumentError("XYVOD constructor, expect options.video");p.default.isInteger(e.logLevel)&&(c.default.Level=e.logLevel),"Default"===c.default.NamingSpace&&(c.default.NamingSpace="Core",c.default.Level=99);var r=new _.default(e),n=new u.default,i=new b.default(r),s=new d.default(r);s.onData=function(e,t){var r=e.buffer;r.byteLength>e.length&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),n.emit(y.DATA,r,t)},s.onError=function(e){t.close(),n.emit(y.ERROR,e)},s.onFileSize=function(e){n.emit(y.FILE_SIZE,e)},s.onEnd=function(){t.close(),n.emit(y.END)};var o=new l.default(s,r);v.set(this,{emitter:n,dataStat:i,watcher:s,disp:o,info:r,readyState:m})}return(0,n.default)(a,[{key:"on",value:function(e,t){S(this.readyState),v.get(this).emitter.addListener(e,t)}},{key:"off",value:function(e,t){S(this.readyState);var r=v.get(this).emitter;e?t?r.removeListener(e,t):r.removeAllListeners(e):r.removeAllListeners()}},{key:"pause",value:function(){S(this.readyState,"pause"),v.get(this).disp.pause()}},{key:"resume",value:function(){S(this.readyState,"resume"),v.get(this).disp.resume()}},{key:"open",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(S(this.readyState,"open"),!p.default.isInteger(e))throw new h.InvalidArgumentError("XYVOD open, 'position'("+e+") is not an integer");if(!p.default.isInteger(t))throw new h.InvalidArgumentError("XYVOD open, 'length'("+t+") is not an integer");t<0&&(t=0);var r=v.get(this);r.info.clear(),r.dataStat.open(),r.disp.open(e,t),r.readyState=g}},{key:"close",value:function(){if(this.readyState!==m){S(this.readyState,"close");var e=v.get(this);e.disp.close(),e.dataStat.close(),e.readyState=m}}},{key:"dispose",value:function(){if(v.has(this)){var e=v.get(this);e.disp&&(e.disp.dispose(),e.disp=null),e.dataStat&&(e.dataStat.dispose(),e.dataStat=null),e.watcher&&(e.watcher.dispose(),e.watcher=null),e.info&&(e.info.dispose(),e.info=null),e.emitter&&(e.emitter.removeAllListeners(),e.emitter=null),e.readyState=w}}},{key:"readyState",get:function(){return v.get(this).readyState}},{key:"info",get:function(){var e=v.get(this).info;return e?{version:s.default.VERSION,playId:e.playId,fileSize:e.fileSize,mediaDuration:e.duration,downloadSpeed:e.speedCalc.calculate()/1e3,firstPacket:e.firstPacket,firstBuffer:e.firstBuffer,interruptCount:e.interruptCount,interruptTime:e.interruptTime,bufferEmptyQueue:e.bufferEmptyQueue,bufferLength:e.bufferLength,played:e.played,buffered:e.buffered,reserveRg:e.reserveRg.toString(),requestRgq:e.requestRgq.toString(),downloadRgq:e.downloadRgq.toString(),sendRgq:e.sendRgq.toString(),playTime:e.playTime,cdnBytes:e.cdnBytes,skjBytes:e.skjBytes,peerRatio:e.peerRatio,pipes:e.pipes}:{}}},{key:"customerInfo",get:function(){var e=v.get(this).info;return e?{firstPacket:e.firstPacket,firstBuffer:e.firstBuffer,cdnBytes:e.cdnBytes,p2pBytes:e.skjBytes,totalBytes:e.cdnBytes+e.skjBytes,cdnSpeed:e.cdnSpeedCalc.calculate()/1e3,p2pSpeed:e.p2pSpeedCalc.calculate()/1e3,totalSpeed:e.speedCalc.calculate()/1e3}:{}}},{key:"pipeDetails",get:function(){var e=v.get(this).info.pipeDetails;return e.cdn=v.get(this).disp.cdnDetails,e}}],[{key:"isSupported",value:function(){return s.default.isFetchStreamSupported||s.default.isMozChunkedSupported}}]),a}();r.XYVOD=a,r.XYVODEvent=y},{"./dispatcher/vod-dispatcher":4,"./parser/watcher":5,"./utils/common":26,"./utils/common-info":25,"./utils/data-statistics":27,"./utils/error":29,"./utils/logger":30,"./utils/polyfill":32,"babel-runtime/core-js/weak-map":49,"babel-runtime/helpers/classCallCheck":50,"babel-runtime/helpers/createClass":51,events:309}],38:[function(e,t,r){t.exports={"default":e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":55}],39:[function(e,t,r){t.exports={"default":e("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":56}],40:[function(e,t,r){t.exports={"default":e("core-js/library/fn/number/is-integer"),__esModule:!0}},{"core-js/library/fn/number/is-integer":57}],41:[function(e,t,r){t.exports={"default":e("core-js/library/fn/number/parse-int"),__esModule:!0}},{"core-js/library/fn/number/parse-int":58}],42:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":59}],43:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":60}],44:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":61}],45:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":62}],46:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":63}],47:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":64}],48:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":65}],49:[function(e,t,r){t.exports={"default":e("core-js/library/fn/weak-map"),__esModule:!0}},{"core-js/library/fn/weak-map":66}],50:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],51:[function(e,t,r){"use strict";r.__esModule=!0;var n,i=e("../core-js/object/define-property"),s=(n=i)&&n.__esModule?n:{"default":n};r.default=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}()},{"../core-js/object/define-property":43}],52:[function(e,t,r){"use strict";r.__esModule=!0;var n=o(e("../core-js/object/set-prototype-of")),i=o(e("../core-js/object/create")),s=o(e("../helpers/typeof"));function o(e){return e&&e.__esModule?e:{"default":e}}r.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},{"../core-js/object/create":42,"../core-js/object/set-prototype-of":46,"../helpers/typeof":54}],53:[function(e,t,r){"use strict";r.__esModule=!0;var n,i=e("../helpers/typeof"),s=(n=i)&&n.__esModule?n:{"default":n};r.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}},{"../helpers/typeof":54}],54:[function(e,t,r){"use strict";r.__esModule=!0;var n=o(e("../core-js/symbol/iterator")),i=o(e("../core-js/symbol")),s="function"==typeof i.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{"default":e}}r.default="function"==typeof i.default&&"symbol"===s(n.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":s(e)}},{"../core-js/symbol":47,"../core-js/symbol/iterator":48}],55:[function(e,t,r){var n=e("../../modules/_core"),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(e){return i.stringify.apply(i,arguments)}},{"../../modules/_core":82}],56:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),e("../modules/es7.map.of"),e("../modules/es7.map.from"),t.exports=e("../modules/_core").Map},{"../modules/_core":82,"../modules/es6.map":149,"../modules/es6.object.to-string":157,"../modules/es6.string.iterator":158,"../modules/es7.map.from":161,"../modules/es7.map.of":162,"../modules/es7.map.to-json":163,"../modules/web.dom.iterable":168}],57:[function(e,t,r){e("../../modules/es6.number.is-integer"),t.exports=e("../../modules/_core").Number.isInteger},{"../../modules/_core":82,"../../modules/es6.number.is-integer":150}],58:[function(e,t,r){e("../../modules/es6.number.parse-int"),t.exports=e("../../modules/_core").Number.parseInt},{"../../modules/_core":82,"../../modules/es6.number.parse-int":151}],59:[function(e,t,r){e("../../modules/es6.object.create");var n=e("../../modules/_core").Object;t.exports=function(e,t){return n.create(e,t)}},{"../../modules/_core":82,"../../modules/es6.object.create":152}],60:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":82,"../../modules/es6.object.define-property":153}],61:[function(e,t,r){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":82,"../../modules/es6.object.get-prototype-of":154}],62:[function(e,t,r){e("../../modules/es6.object.keys"),t.exports=e("../../modules/_core").Object.keys},{"../../modules/_core":82,"../../modules/es6.object.keys":155}],63:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":82,"../../modules/es6.object.set-prototype-of":156}],64:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":82,"../../modules/es6.object.to-string":157,"../../modules/es6.symbol":159,"../../modules/es7.symbol.async-iterator":164,"../../modules/es7.symbol.observable":165}],65:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":145,"../../modules/es6.string.iterator":158,"../../modules/web.dom.iterable":168}],66:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/web.dom.iterable"),e("../modules/es6.weak-map"),e("../modules/es7.weak-map.of"),e("../modules/es7.weak-map.from"),t.exports=e("../modules/_core").WeakMap},{"../modules/_core":82,"../modules/es6.object.to-string":157,"../modules/es6.weak-map":160,"../modules/es7.weak-map.from":166,"../modules/es7.weak-map.of":167,"../modules/web.dom.iterable":168}],67:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],68:[function(e,t,r){t.exports=function(){}},{}],69:[function(e,t,r){t.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},{}],70:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":101}],71:[function(e,t,r){var n=e("./_for-of");t.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},{"./_for-of":91}],72:[function(e,t,r){var f=e("./_to-iobject"),u=e("./_to-length"),c=e("./_to-absolute-index");t.exports=function(a){return function(e,t,r){var n,i=f(e),s=u(i.length),o=c(r,s);if(a&&t!=t){for(;o<s;)if((n=i[o++])!=n)return!0}else for(;o<s;o++)if((a||o in i)&&i[o]===t)return a||o||0;return!a&&-1}}},{"./_to-absolute-index":136,"./_to-iobject":138,"./_to-length":139}],73:[function(e,t,r){var m=e("./_ctx"),g=e("./_iobject"),w=e("./_to-object"),S=e("./_to-length"),n=e("./_array-species-create");t.exports=function(h,e){var l=1==h,d=2==h,p=3==h,b=4==h,_=6==h,y=5==h||_,v=e||n;return function(e,t,r){for(var n,i,s=w(e),o=g(s),a=m(t,r,3),f=S(o.length),u=0,c=l?v(e,f):d?v(e,0):void 0;u<f;u++)if((y||u in o)&&(i=a(n=o[u],u,s),h))if(l)c[u]=i;else if(i)switch(h){case 3:return!0;case 5:return n;case 6:return u;case 2:c.push(n)}else if(b)return!1;return _?-1:p||b?b:c}}},{"./_array-species-create":75,"./_ctx":83,"./_iobject":97,"./_to-length":139,"./_to-object":140}],74:[function(e,t,r){var n=e("./_is-object"),i=e("./_is-array"),s=e("./_wks")("species");t.exports=function(e){var t;return i(e)&&("function"!=typeof (t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},{"./_is-array":99,"./_is-object":101,"./_wks":146}],75:[function(e,t,r){var n=e("./_array-species-constructor");t.exports=function(e,t){return new(n(e))(t)}},{"./_array-species-constructor":74}],76:[function(e,t,r){var i=e("./_cof"),s=e("./_wks")("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof (r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?r:o?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},{"./_cof":77,"./_wks":146}],77:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],78:[function(e,t,r){"use strict";var o=e("./_object-dp").f,a=e("./_object-create"),f=e("./_redefine-all"),u=e("./_ctx"),c=e("./_an-instance"),h=e("./_for-of"),n=e("./_iter-define"),i=e("./_iter-step"),s=e("./_set-species"),l=e("./_descriptors"),d=e("./_meta").fastKey,p=e("./_validate-collection"),b=l?"_s":"size",_=function(e,t){var r,n=d(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};t.exports={getConstructor:function(e,s,r,n){var i=e(function(e,t){c(e,i,s,"_i"),e._t=s,e._i=a(null),e._f=void 0,e._l=void 0,e[b]=0,null!=t&&h(t,r,e[n],e)});return f(i.prototype,{clear:function(){for(var e=p(this,s),t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[b]=0},"delete":function(e){var t=p(this,s),r=_(t,e);if(r){var n=r.n,i=r.p;delete t._i[r.i],r.r=!0,i&&(i.n=n),n&&(n.p=i),t._f==r&&(t._f=n),t._l==r&&(t._l=i),t[b]--}return!!r},forEach:function(e){p(this,s);for(var t,r=u(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!_(p(this,s),e)}}),l&&o(i.prototype,"size",{get:function(){return p(this,s)[b]}}),i},def:function(e,t,r){var n,i,s=_(e,t);return s?s.v=r:(e._l=s={i:i=d(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=s),n&&(n.n=s),e[b]++,"F"!==i&&(e._i[i]=s)),e},getEntry:_,setStrong:function(e,r,t){n(e,r,function(e,t){this._t=p(e,r),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?i(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,i(1))},t?"entries":"values",!t,!0),s(r)}}},{"./_an-instance":69,"./_ctx":83,"./_descriptors":85,"./_for-of":91,"./_iter-define":104,"./_iter-step":105,"./_meta":108,"./_object-create":110,"./_object-dp":111,"./_redefine-all":124,"./_set-species":129,"./_validate-collection":143}],79:[function(e,t,r){var n=e("./_classof"),i=e("./_array-from-iterable");t.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},{"./_array-from-iterable":71,"./_classof":76}],80:[function(e,t,r){"use strict";var o=e("./_redefine-all"),a=e("./_meta").getWeak,i=e("./_an-object"),f=e("./_is-object"),u=e("./_an-instance"),c=e("./_for-of"),n=e("./_array-methods"),h=e("./_has"),l=e("./_validate-collection"),s=n(5),d=n(6),p=0,b=function(e){return e._l||(e._l=new _)},_=function(){this.a=[]},y=function(e,t){return s(e.a,function(e){return e[0]===t})};_.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var r=y(this,e);r?r[1]=t:this.a.push([e,t])},"delete":function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(e,r,n,i){var s=e(function(e,t){u(e,s,r,"_i"),e._t=r,e._i=p++,e._l=void 0,null!=t&&c(t,n,e[i],e)});return o(s.prototype,{"delete":function(e){if(!f(e))return!1;var t=a(e);return!0===t?b(l(this,r)).delete(e):t&&h(t,this._i)&&delete t[this._i]},has:function(e){if(!f(e))return!1;var t=a(e);return!0===t?b(l(this,r)).has(e):t&&h(t,this._i)}}),s},def:function(e,t,r){var n=a(i(t),!0);return!0===n?b(e).set(t,r):n[e._i]=r,e},ufstore:b}},{"./_an-instance":69,"./_an-object":70,"./_array-methods":73,"./_for-of":91,"./_has":93,"./_is-object":101,"./_meta":108,"./_redefine-all":124,"./_validate-collection":143}],81:[function(e,t,r){"use strict";var h=e("./_global"),l=e("./_export"),d=e("./_meta"),p=e("./_fails"),b=e("./_hide"),_=e("./_redefine-all"),y=e("./_for-of"),v=e("./_an-instance"),m=e("./_is-object"),g=e("./_set-to-string-tag"),w=e("./_object-dp").f,S=e("./_array-methods")(0),k=e("./_descriptors");t.exports=function(r,e,t,n,i,s){var o=h[r],a=o,f=i?"set":"add",u=a&&a.prototype,c={};return k&&"function"==typeof a&&(s||u.forEach&&!p(function(){(new a).entries().next()}))?(a=e(function(e,t){v(e,a,r,"_c"),e._c=new o,null!=t&&y(t,i,e[f],e)}),S("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(n){var i="add"==n||"set"==n;n in u&&(!s||"clear"!=n)&&b(a.prototype,n,function(e,t){if(v(this,a,n),!i&&s&&!m(e))return"get"==n&&void 0;var r=this._c[n](0===e?0:e,t);return i?this:r})}),s||w(a.prototype,"size",{get:function(){return this._c.size}})):(a=n.getConstructor(e,r,i,f),_(a.prototype,t),d.NEED=!0),g(a,r),c[r]=a,l(l.G+l.W+l.F,c),s||n.setStrong(a,r,i),a}},{"./_an-instance":69,"./_array-methods":73,"./_descriptors":85,"./_export":89,"./_fails":90,"./_for-of":91,"./_global":92,"./_hide":94,"./_is-object":101,"./_meta":108,"./_object-dp":111,"./_redefine-all":124,"./_set-to-string-tag":130}],82:[function(e,t,r){var n=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},{}],83:[function(e,t,r){var s=e("./_a-function");t.exports=function(n,i,e){if(s(n),void 0===i)return n;switch(e){case 1:return function(e){return n.call(i,e)};case 2:return function(e,t){return n.call(i,e,t)};case 3:return function(e,t,r){return n.call(i,e,t,r)}}return function(){return n.apply(i,arguments)}}},{"./_a-function":67}],84:[function(e,t,r){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],85:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":90}],86:[function(e,t,r){var n=e("./_is-object"),i=e("./_global").document,s=n(i)&&n(i.createElement);t.exports=function(e){return s?i.createElement(e):{}}},{"./_global":92,"./_is-object":101}],87:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],88:[function(e,t,r){var a=e("./_object-keys"),f=e("./_object-gops"),u=e("./_object-pie");t.exports=function(e){var t=a(e),r=f.f;if(r)for(var n,i=r(e),s=u.f,o=0;i.length>o;)s.call(e,n=i[o++])&&t.push(n);return t}},{"./_object-gops":116,"./_object-keys":119,"./_object-pie":120}],89:[function(e,t,r){var b=e("./_global"),_=e("./_core"),y=e("./_ctx"),v=e("./_hide"),m=e("./_has"),g="prototype",w=function(e,t,r){var n,i,s,o=e&w.F,a=e&w.G,f=e&w.S,u=e&w.P,c=e&w.B,h=e&w.W,l=a?_:_[t]||(_[t]={}),d=l[g],p=a?b:f?b[t]:(b[t]||{})[g];for(n in a&&(r=t),r)(i=!o&&p&&void 0!==p[n])&&m(l,n)||(s=i?p[n]:r[n],l[n]=a&&"function"!=typeof p[n]?r[n]:c&&i?y(s,b):h&&p[n]==s?function(n){var e=function(e,t,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,r)}return n.apply(this,arguments)};return e[g]=n[g],e}(s):u&&"function"==typeof s?y(Function.call,s):s,u&&((l.virtual||(l.virtual={}))[n]=s,e&w.R&&d&&!d[n]&&v(d,n,s)))};w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,t.exports=w},{"./_core":82,"./_ctx":83,"./_global":92,"./_has":93,"./_hide":94}],90:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],91:[function(e,t,r){var l=e("./_ctx"),d=e("./_iter-call"),p=e("./_is-array-iter"),b=e("./_an-object"),_=e("./_to-length"),y=e("./core.get-iterator-method"),v={},m={};(r=t.exports=function(e,t,r,n,i){var s,o,a,f,u=i?function(){return e}:y(e),c=l(r,n,t?2:1),h=0;if("function"!=typeof u)throw TypeError(e+" is not iterable!");if(p(u)){for(s=_(e.length);h<s;h++)if((f=t?c(b(o=e[h])[0],o[1]):c(e[h]))===v||f===m)return f}else for(a=u.call(e);!(o=a.next()).done;)if((f=d(a,c,o.value,t))===v||f===m)return f}).BREAK=v,r.RETURN=m},{"./_an-object":70,"./_ctx":83,"./_is-array-iter":98,"./_iter-call":102,"./_to-length":139,"./core.get-iterator-method":147}],92:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],93:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],94:[function(e,t,r){var n=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":85,"./_object-dp":111,"./_property-desc":123}],95:[function(e,t,r){var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":92}],96:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":85,"./_dom-create":86,"./_fails":90}],97:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":77}],98:[function(e,t,r){var n=e("./_iterators"),i=e("./_wks")("iterator"),s=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||s[i]===e)}},{"./_iterators":106,"./_wks":146}],99:[function(e,t,r){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":77}],100:[function(e,t,r){var n=e("./_is-object"),i=Math.floor;t.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}},{"./_is-object":101}],101:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],102:[function(e,t,r){var s=e("./_an-object");t.exports=function(t,e,r,n){try{return n?e(s(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&s(i.call(t)),e}}},{"./_an-object":70}],103:[function(e,t,r){"use strict";var n=e("./_object-create"),i=e("./_property-desc"),s=e("./_set-to-string-tag"),o={};e("./_hide")(o,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)}),s(e,t+" Iterator")}},{"./_hide":94,"./_object-create":110,"./_property-desc":123,"./_set-to-string-tag":130,"./_wks":146}],104:[function(e,t,r){"use strict";var m=e("./_library"),g=e("./_export"),w=e("./_redefine"),S=e("./_hide"),k=e("./_iterators"),E=e("./_iter-create"),x=e("./_set-to-string-tag"),M=e("./_object-gpo"),I=e("./_wks")("iterator"),T=!([].keys&&"next"in[].keys()),C="values",j=function(){return this};t.exports=function(e,t,r,n,i,s,o){E(r,t,n);var a,f,u,c=function(e){if(!T&&e in p)return p[e];switch(e){case"keys":case C:return function(){return new r(this,e)}}return function(){return new r(this,e)}},h=t+" Iterator",l=i==C,d=!1,p=e.prototype,b=p[I]||p["@@iterator"]||i&&p[i],_=b||c(i),y=i?l?c("entries"):_:void 0,v="Array"==t&&p.entries||b;if(v&&(u=M(v.call(new e)))!==Object.prototype&&u.next&&(x(u,h,!0),m||"function"==typeof u[I]||S(u,I,j)),l&&b&&b.name!==C&&(d=!0,_=function(){return b.call(this)}),m&&!o||!T&&!d&&p[I]||S(p,I,_),k[t]=_,k[h]=j,i)if(a={values:l?_:c(C),keys:s?_:c("keys"),entries:y},o)for(f in a)f in p||w(p,f,a[f]);else g(g.P+g.F*(T||d),t,a);return a}},{"./_export":89,"./_hide":94,"./_iter-create":103,"./_iterators":106,"./_library":107,"./_object-gpo":117,"./_redefine":125,"./_set-to-string-tag":130,"./_wks":146}],105:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],106:[function(e,t,r){t.exports={}},{}],107:[function(e,t,r){t.exports=!0},{}],108:[function(e,t,r){var n=e("./_uid")("meta"),i=e("./_is-object"),s=e("./_has"),o=e("./_object-dp").f,a=0,f=Object.isExtensible||function(){return!0},u=!e("./_fails")(function(){return f(Object.preventExtensions({}))}),c=function(e){o(e,n,{value:{i:"O"+ ++a,w:{}}})},h=t.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,n)){if(!f(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!s(e,n)){if(!f(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return u&&h.NEED&&f(e)&&!s(e,n)&&c(e),e}}},{"./_fails":90,"./_has":93,"./_is-object":101,"./_object-dp":111,"./_uid":142}],109:[function(e,t,r){"use strict";var l=e("./_object-keys"),d=e("./_object-gops"),p=e("./_object-pie"),b=e("./_to-object"),_=e("./_iobject"),i=Object.assign;t.exports=!i||e("./_fails")(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=i({},e)[r]||Object.keys(i({},t)).join("")!=n})?function(e,t){for(var r=b(e),n=arguments.length,i=1,s=d.f,o=p.f;i<n;)for(var a,f=_(arguments[i++]),u=s?l(f).concat(s(f)):l(f),c=u.length,h=0;h<c;)o.call(f,a=u[h++])&&(r[a]=f[a]);return r}:i},{"./_fails":90,"./_iobject":97,"./_object-gops":116,"./_object-keys":119,"./_object-pie":120,"./_to-object":140}],110:[function(n,e,t){var i=n("./_an-object"),s=n("./_object-dps"),o=n("./_enum-bug-keys"),a=n("./_shared-key")("IE_PROTO"),f=function(){},u="prototype",c=function(){var e,t=n("./_dom-create")("iframe"),r=o.length;for(t.style.display="none",n("./_html").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object</script>"),e.close(),c=e.F;r--;)delete c[u][o[r]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(f[u]=i(e),r=new f,f[u]=null,r[a]=e):r=c(),void 0===t?r:s(r,t)}},{"./_an-object":70,"./_dom-create":86,"./_enum-bug-keys":87,"./_html":95,"./_object-dps":112,"./_shared-key":131}],111:[function(e,t,r){var n=e("./_an-object"),i=e("./_ie8-dom-define"),s=e("./_to-primitive"),o=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=s(t,!0),n(r),i)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":70,"./_descriptors":85,"./_ie8-dom-define":96,"./_to-primitive":141}],112:[function(e,t,r){var o=e("./_object-dp"),a=e("./_an-object"),f=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){a(e);for(var r,n=f(t),i=n.length,s=0;s<i;)o.f(e,r=n[s++],t[r]);return e}},{"./_an-object":70,"./_descriptors":85,"./_object-dp":111,"./_object-keys":119}],113:[function(e,t,r){var n=e("./_object-pie"),i=e("./_property-desc"),s=e("./_to-iobject"),o=e("./_to-primitive"),a=e("./_has"),f=e("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?u:function(e,t){if(e=s(e),t=o(t,!0),f)try{return u(e,t)}catch(e){}if(a(e,t))return i(!n.f.call(e,t),e[t])}},{"./_descriptors":85,"./_has":93,"./_ie8-dom-define":96,"./_object-pie":120,"./_property-desc":123,"./_to-iobject":138,"./_to-primitive":141}],114:[function(e,t,r){var n=e("./_to-iobject"),i=e("./_object-gopn").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return o&&"[object Window]"==s.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(n(e))}},{"./_object-gopn":115,"./_to-iobject":138}],115:[function(e,t,r){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},{"./_enum-bug-keys":87,"./_object-keys-internal":118}],116:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],117:[function(e,t,r){var n=e("./_has"),i=e("./_to-object"),s=e("./_shared-key")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},{"./_has":93,"./_shared-key":131,"./_to-object":140}],118:[function(e,t,r){var o=e("./_has"),a=e("./_to-iobject"),f=e("./_array-includes")(!1),u=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,n=a(e),i=0,s=[];for(r in n)r!=u&&o(n,r)&&s.push(r);for(;t.length>i;)o(n,r=t[i++])&&(~f(s,r)||s.push(r));return s}},{"./_array-includes":72,"./_has":93,"./_shared-key":131,"./_to-iobject":138}],119:[function(e,t,r){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,i)}},{"./_enum-bug-keys":87,"./_object-keys-internal":118}],120:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],121:[function(e,t,r){var i=e("./_export"),s=e("./_core"),o=e("./_fails");t.exports=function(e,t){var r=(s.Object||{})[e]||Object[e],n={};n[e]=t(r),i(i.S+i.F*o(function(){r(1)}),"Object",n)}},{"./_core":82,"./_export":89,"./_fails":90}],122:[function(e,t,r){var n=e("./_global").parseInt,i=e("./_string-trim").trim,s=e("./_string-ws"),o=/^[-+]?0[xX]/;t.exports=8!==n(s+"08")||22!==n(s+"0x16")?function(e,t){var r=i(String(e),3);return n(r,t>>>0||(o.test(r)?16:10))}:n},{"./_global":92,"./_string-trim":134,"./_string-ws":135}],123:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],124:[function(e,t,r){var i=e("./_hide");t.exports=function(e,t,r){for(var n in t)r&&e[n]?e[n]=t[n]:i(e,n,t[n]);return e}},{"./_hide":94}],125:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":94}],126:[function(e,t,r){"use strict";var n=e("./_export"),o=e("./_a-function"),a=e("./_ctx"),f=e("./_for-of");t.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,i,s=arguments[1];return o(this),(t=void 0!==s)&&o(s),null==e?new this:(r=[],t?(n=0,i=a(s,arguments[2],2),f(e,!1,function(e){r.push(i(e,n++))})):f(e,!1,r.push,r),new this(r))}})}},{"./_a-function":67,"./_ctx":83,"./_export":89,"./_for-of":91}],127:[function(e,t,r){"use strict";var n=e("./_export");t.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},{"./_export":89}],128:[function(t,e,r){var n=t("./_is-object"),i=t("./_an-object"),s=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,n){try{(n=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2))(e,[]),r=!(e instanceof Array)}catch(e){r=!0}return function(e,t){return s(e,t),r?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:s}},{"./_an-object":70,"./_ctx":83,"./_is-object":101,"./_object-gopd":113}],129:[function(e,t,r){"use strict";var n=e("./_global"),i=e("./_core"),s=e("./_object-dp"),o=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t="function"==typeof i[e]?i[e]:n[e];o&&t&&!t[a]&&s.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_core":82,"./_descriptors":85,"./_global":92,"./_object-dp":111,"./_wks":146}],130:[function(e,t,r){var n=e("./_object-dp").f,i=e("./_has"),s=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},{"./_has":93,"./_object-dp":111,"./_wks":146}],131:[function(e,t,r){var n=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return n[e]||(n[e]=i(e))}},{"./_shared":132,"./_uid":142}],132:[function(e,t,r){var n=e("./_global"),i="__core-js_shared__",s=n[i]||(n[i]={});t.exports=function(e){return s[e]||(s[e]={})}},{"./_global":92}],133:[function(e,t,r){var f=e("./_to-integer"),u=e("./_defined");t.exports=function(a){return function(e,t){var r,n,i=String(u(e)),s=f(t),o=i.length;return s<0||o<=s?a?"":void 0:(r=i.charCodeAt(s))<55296||56319<r||s+1===o||(n=i.charCodeAt(s+1))<56320||57343<n?a?i.charAt(s):r:a?i.slice(s,s+2):n-56320+(r-55296<<10)+65536}}},{"./_defined":84,"./_to-integer":137}],134:[function(e,t,r){var o=e("./_export"),n=e("./_defined"),a=e("./_fails"),f=e("./_string-ws"),i="["+f+"]",s=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),c=function(e,t,r){var n={},i=a(function(){return!!f[e]()||"â€‹Â…"!="â€‹Â…"[e]()}),s=n[e]=i?t(h):f[e];r&&(n[r]=s),o(o.P+o.F*i,"String",n)},h=c.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(u,"")),e};t.exports=c},{"./_defined":84,"./_export":89,"./_fails":90,"./_string-ws":135}],135:[function(e,t,r){t.exports="\t\n\f\r Â áš€á Žâ€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029﻿"},{}],136:[function(e,t,r){var n=e("./_to-integer"),i=Math.max,s=Math.min;t.exports=function(e,t){return(e=n(e))<0?i(e+t,0):s(e,t)}},{"./_to-integer":137}],137:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?i:n)(e)}},{}],138:[function(e,t,r){var n=e("./_iobject"),i=e("./_defined");t.exports=function(e){return n(i(e))}},{"./_defined":84,"./_iobject":97}],139:[function(e,t,r){var n=e("./_to-integer"),i=Math.min;t.exports=function(e){return 0<e?i(n(e),9007199254740991):0}},{"./_to-integer":137}],140:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":84}],141:[function(e,t,r){var i=e("./_is-object");t.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof (r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof (r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof (r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":101}],142:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},{}],143:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{"./_is-object":101}],144:[function(e,t,r){var n=e("./_global"),i=e("./_core"),s=e("./_library"),o=e("./_wks-ext"),a=e("./_object-dp").f;t.exports=function(e){var t=i.Symbol||(i.Symbol=s?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:o.f(e)})}},{"./_core":82,"./_global":92,"./_library":107,"./_object-dp":111,"./_wks-ext":145}],145:[function(e,t,r){r.f=e("./_wks")},{"./_wks":146}],146:[function(e,t,r){var n=e("./_shared")("wks"),i=e("./_uid"),s=e("./_global").Symbol,o="function"==typeof s;(t.exports=function(e){return n[e]||(n[e]=o&&s[e]||(o?s:i)("Symbol."+e))}).store=n},{"./_global":92,"./_shared":132,"./_uid":142}],147:[function(e,t,r){var n=e("./_classof"),i=e("./_wks")("iterator"),s=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||s[n(e)]}},{"./_classof":76,"./_core":82,"./_iterators":106,"./_wks":146}],148:[function(e,t,r){"use strict";var n=e("./_add-to-unscopables"),i=e("./_iter-step"),s=e("./_iterators"),o=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":68,"./_iter-define":104,"./_iter-step":105,"./_iterators":106,"./_to-iobject":138}],149:[function(e,t,r){"use strict";var n=e("./_collection-strong"),i=e("./_validate-collection");t.exports=e("./_collection")("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(i(this,"Map"),0===e?0:e,t)}},n,!0)},{"./_collection":81,"./_collection-strong":78,"./_validate-collection":143}],150:[function(e,t,r){var n=e("./_export");n(n.S,"Number",{isInteger:e("./_is-integer")})},{"./_export":89,"./_is-integer":100}],151:[function(e,t,r){var n=e("./_export"),i=e("./_parse-int");n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},{"./_export":89,"./_parse-int":122}],152:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{create:e("./_object-create")})},{"./_export":89,"./_object-create":110}],153:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":85,"./_export":89,"./_object-dp":111}],154:[function(e,t,r){var n=e("./_to-object"),i=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return i(n(e))}})},{"./_object-gpo":117,"./_object-sap":121,"./_to-object":140}],155:[function(e,t,r){var n=e("./_to-object"),i=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return i(n(e))}})},{"./_object-keys":119,"./_object-sap":121,"./_to-object":140}],156:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":89,"./_set-proto":128}],157:[function(e,t,r){},{}],158:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":104,"./_string-at":133}],159:[function(e,t,r){"use strict";var n=e("./_global"),o=e("./_has"),i=e("./_descriptors"),s=e("./_export"),a=e("./_redefine"),f=e("./_meta").KEY,u=e("./_fails"),c=e("./_shared"),h=e("./_set-to-string-tag"),l=e("./_uid"),d=e("./_wks"),p=e("./_wks-ext"),b=e("./_wks-define"),_=e("./_enum-keys"),y=e("./_is-array"),v=e("./_an-object"),m=e("./_is-object"),g=e("./_to-iobject"),w=e("./_to-primitive"),S=e("./_property-desc"),k=e("./_object-create"),E=e("./_object-gopn-ext"),x=e("./_object-gopd"),M=e("./_object-dp"),I=e("./_object-keys"),T=x.f,C=M.f,j=E.f,O=n.Symbol,A=n.JSON,P=A&&A.stringify,B="prototype",R=d("_hidden"),D=d("toPrimitive"),L={}.propertyIsEnumerable,U=c("symbol-registry"),N=c("symbols"),q=c("op-symbols"),F=Object[B],z="function"==typeof O,H=n.QObject,K=!H||!H[B]||!H[B].findChild,V=i&&u(function(){return 7!=k(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=T(F,t);n&&delete F[t],C(e,t,r),n&&e!==F&&C(F,t,n)}:C,W=function(e){var t=N[e]=k(O[B]);return t._k=e,t},G=z&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},X=function(e,t,r){return e===F&&X(q,t,r),v(e),t=w(t,!0),v(r),o(N,t)?(r.enumerable?(o(e,R)&&e[R][t]&&(e[R][t]=!1),r=k(r,{enumerable:S(0,!1)})):(o(e,R)||C(e,R,S(1,{})),e[R][t]=!0),V(e,t,r)):C(e,t,r)},Z=function(e,t){v(e);for(var r,n=_(t=g(t)),i=0,s=n.length;i<s;)X(e,r=n[i++],t[r]);return e},Q=function(e){var t=L.call(this,e=w(e,!0));return!(this===F&&o(N,e)&&!o(q,e))&&(!(t||!o(this,e)||!o(N,e)||o(this,R)&&this[R][e])||t)},Y=function(e,t){if(e=g(e),t=w(t,!0),e!==F||!o(N,t)||o(q,t)){var r=T(e,t);return!r||!o(N,t)||o(e,R)&&e[R][t]||(r.enumerable=!0),r}},J=function(e){for(var t,r=j(g(e)),n=[],i=0;r.length>i;)o(N,t=r[i++])||t==R||t==f||n.push(t);return n},$=function(e){for(var t,r=e===F,n=j(r?q:g(e)),i=[],s=0;n.length>s;)!o(N,t=n[s++])||r&&!o(F,t)||i.push(N[t]);return i};z||(a((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=l(0<arguments.length?arguments[0]:void 0),r=function(e){this===F&&r.call(q,e),o(this,R)&&o(this[R],t)&&(this[R][t]=!1),V(this,t,S(1,e))};return i&&K&&V(F,t,{configurable:!0,set:r}),W(t)})[B],"toString",function(){return this._k}),x.f=Y,M.f=X,e("./_object-gopn").f=E.f=J,e("./_object-pie").f=Q,e("./_object-gops").f=$,i&&!e("./_library")&&a(F,"propertyIsEnumerable",Q,!0),p.f=function(e){return W(d(e))}),s(s.G+s.W+s.F*!z,{Symbol:O});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)d(ee[te++]);for(var re=I(d.store),ne=0;re.length>ne;)b(re[ne++]);s(s.S+s.F*!z,"Symbol",{"for":function(e){return o(U,e+="")?U[e]:U[e]=O(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!z,"Object",{create:function(e,t){return void 0===t?k(e):Z(k(e),t)},defineProperty:X,defineProperties:Z,getOwnPropertyDescriptor:Y,getOwnPropertyNames:J,getOwnPropertySymbols:$}),A&&s(s.S+s.F*(!z||u(function(){var e=O();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(m(t)||void 0!==e)&&!G(e))return y(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!G(t))return t}),n[1]=t,P.apply(A,n)}}),O[B][D]||e("./_hide")(O[B],D,O[B].valueOf),h(O,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},{"./_an-object":70,"./_descriptors":85,"./_enum-keys":88,"./_export":89,"./_fails":90,"./_global":92,"./_has":93,"./_hide":94,"./_is-array":99,"./_is-object":101,"./_library":107,"./_meta":108,"./_object-create":110,"./_object-dp":111,"./_object-gopd":113,"./_object-gopn":115,"./_object-gopn-ext":114,"./_object-gops":116,"./_object-keys":119,"./_object-pie":120,"./_property-desc":123,"./_redefine":125,"./_set-to-string-tag":130,"./_shared":132,"./_to-iobject":138,"./_to-primitive":141,"./_uid":142,"./_wks":146,"./_wks-define":144,"./_wks-ext":145}],160:[function(e,t,r){"use strict";var s,n=e("./_array-methods")(0),o=e("./_redefine"),i=e("./_meta"),a=e("./_object-assign"),f=e("./_collection-weak"),u=e("./_is-object"),c=e("./_fails"),h=e("./_validate-collection"),l="WeakMap",d=i.getWeak,p=Object.isExtensible,b=f.ufstore,_={},y=function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},v={get:function(e){if(u(e)){var t=d(e);return!0===t?b(h(this,l)).get(e):t?t[this._i]:void 0}},set:function(e,t){return f.def(h(this,l),e,t)}},m=t.exports=e("./_collection")(l,y,v,f,!0,!0);c(function(){return 7!=(new m).set((Object.freeze||Object)(_),7).get(_)})&&(a((s=f.getConstructor(y,l)).prototype,v),i.NEED=!0,n(["delete","has","get","set"],function(n){var e=m.prototype,i=e[n];o(e,n,function(e,t){if(u(e)&&!p(e)){this._f||(this._f=new s);var r=this._f[n](e,t);return"set"==n?this:r}return i.call(this,e,t)})}))},{"./_array-methods":73,"./_collection":81,"./_collection-weak":80,"./_fails":90,"./_is-object":101,"./_meta":108,"./_object-assign":109,"./_redefine":125,"./_validate-collection":143}],161:[function(e,t,r){e("./_set-collection-from")("Map")},{"./_set-collection-from":126}],162:[function(e,t,r){e("./_set-collection-of")("Map")},{"./_set-collection-of":127}],163:[function(e,t,r){var n=e("./_export");n(n.P+n.R,"Map",{toJSON:e("./_collection-to-json")("Map")})},{"./_collection-to-json":79,"./_export":89}],164:[function(e,t,r){e("./_wks-define")("asyncIterator")},{"./_wks-define":144}],165:[function(e,t,r){e("./_wks-define")("observable")},{"./_wks-define":144}],166:[function(e,t,r){e("./_set-collection-from")("WeakMap")},{"./_set-collection-from":126}],167:[function(e,t,r){e("./_set-collection-of")("WeakMap")},{"./_set-collection-of":127}],168:[function(e,t,r){e("./es6.array.iterator");for(var n=e("./_global"),i=e("./_hide"),s=e("./_iterators"),o=e("./_wks")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),f=0;f<a.length;f++){var u=a[f],c=n[u],h=c&&c.prototype;h&&!h[o]&&i(h,o,u),s[u]=s.Array}},{"./_global":92,"./_hide":94,"./_iterators":106,"./_wks":146,"./es6.array.iterator":148}],169:[function(i,e,s){((function(a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),f=(e(i("../utils/logger")),e(i("../utils/common"))),u=e(i("../utils/range")),r=e(i("../utils/range-queue"));function e(e){return e&&e.__esModule?e:{"default":e}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._buffer=a.allocUnsafe(f.default.MAX_CACHE_SIZE),this._rangeQueue=new r.default}return t(e,[{key:"dispose",value:function(){this._buffer=null,this._rangeQueue=null}},{key:"writeBytes",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e.length,n=new u.default(t,r);if(n.length>f.default.MAX_CACHE_SIZE)throw new TypeError("writeBytes, range length("+n.length+") > MAX_CACHE_SIZE("+f.default.MAX_CACHE_SIZE+")");if(n.length>e.length)throw new TypeError("writeBytes, range length("+n.length+") > bytes.length("+e.length+")");if(0!==e.length){var i=n.position%f.default.MAX_CACHE_SIZE;if(i+e.length>f.default.MAX_CACHE_SIZE){var s=f.default.MAX_CACHE_SIZE-i;e.copy(this._buffer,i,0,s),e.copy(this._buffer,0,s,e.length)}else e.copy(this._buffer,i,0,e.length);this._rangeQueue.addRange(n)}}},{key:"readBytes",value:function(e,t){var r=new u.default(e,t);if(0===r.length)return a.allocUnsafe(0);if(!this._rangeQueue.isContained(r))return a.allocUnsafe(0);var n=a.allocUnsafe(r.length),i=r.position%f.default.MAX_CACHE_SIZE;if(i+r.length>f.default.MAX_CACHE_SIZE){var s=f.default.MAX_CACHE_SIZE-i,o=i+r.length-f.default.MAX_CACHE_SIZE;this._buffer.copy(n,0,i,f.default.MAX_CACHE_SIZE),this._buffer.copy(n,s,0,o)}else this._buffer.copy(n,0,i,i+r.length);return this._rangeQueue.removeRange(r),n}},{key:"buffer",get:function(){return this._buffer}},{key:"rangeQueue",get:function(){return this._rangeQueue}}]),e}();s.default=n})).call(this,i("buffer").Buffer)},{"../utils/common":217,"../utils/logger":219,"../utils/range":222,"../utils/range-queue":221,buffer:274}],170:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._times=e,this._positions=t,this._length=Math.min(e.length,t.length)}return n(r,[{key:"getNearestPosition",value:function(e){if(0===this._length)return null;var t=this._searchIndex(this._times,1e3*e,0,this._length-1);return{index:t,second:this._times[t]/1e3,position:this._positions[t]}}},{key:"getLatestPosition",value:function(e){var t=this.getNearestPosition(e),r=t.second>e&&0<t.index?t.index-1:t.index;return{index:r,second:this._times[r]/1e3,position:this._positions[r]}}},{key:"getNearestSecond",value:function(e){if(0===this._length)return null;var t=this._searchIndex(this._positions,e,0,this._length-1);return{index:t,second:this._times[t]/1e3,position:this._positions[t]}}},{key:"getLatestSecond",value:function(e){var t=this.getNearestSecond(e),r=t.position>e&&0<t.index?t.index-1:t.index;return{index:r,second:this._times[r]/1e3,position:this._positions[r]}}},{key:"_searchIndex",value:function(e,t,r,n){if(r+1===e.length)return r;if(r+1===n)return t-e[r]>e[n]-t?n:r;var i=Math.floor((r+n)/2);return t===e[i]?i:t>e[i]?this._searchIndex(e,t,i,n):this._searchIndex(e,t,r,i)}},{key:"times",get:function(){return this._times}},{key:"positions",get:function(){return this._positions}},{key:"length",get:function(){return this._length}}]),r}();r.default=i},{}],171:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.SampleInfo=function e(t,r,n,i,s){o(this,e),this.dts=t,this.pts=r,this.duration=n,this.originalDts=i,this.isSyncPoint=s,this.fileposition=null},r.MediaSegmentInfo=function(){function e(){o(this,e),this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return n(e,[{key:"appendSyncPoint",value:function(e){e.isSyncPoint=!0,this.syncPoints.push(e)}}]),e}(),r.IDRSampleList=function(){function e(){o(this,e),this._list=[]}return n(e,[{key:"clear",value:function(){this._list=[]}},{key:"appendArray",value:function(e){var t=this._list;0!==e.length&&(0<t.length&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))}},{key:"getLastSyncPointBeforeDts",value:function(e){if(0===this._list.length)return null;var t=this._list,r=0,n=t.length-1,i=0,s=0,o=n;for(e<t[0].dts&&(r=0,s=o+1);s<=o;){if((i=s+Math.floor((o-s)/2))===n||e>=t[i].dts&&e<t[i+1].dts){r=i;break}t[i].dts<e?s=i+1:o=i-1}return this._list[r]}}]),e}(),r.MediaSegmentInfoList=function(){function t(e){o(this,t),this._type=e,this._list=[],this._lastAppendLocation=-1}return n(t,[{key:"isEmpty",value:function(){return 0===this._list.length}},{key:"clear",value:function(){this._list=[],this._lastAppendLocation=-1}},{key:"_searchNearestSegmentBefore",value:function(e){var t=this._list;if(0===t.length)return-2;var r=t.length-1,n=0,i=0,s=r,o=0;if(e<t[0].originalBeginDts)return o=-1;for(;i<=s;){if((n=i+Math.floor((s-i)/2))===r||e>t[n].lastSample.originalDts&&e<t[n+1].originalBeginDts){o=n;break}t[n].originalBeginDts<e?i=n+1:s=n-1}return o}},{key:"_searchNearestSegmentAfter",value:function(e){return this._searchNearestSegmentBefore(e)+1}},{key:"append",value:function(e){var t=this._list,r=e,n=this._lastAppendLocation,i=0;-1!==n&&n<t.length&&r.originalBeginDts>=t[n].lastSample.originalDts&&(n===t.length-1||n<t.length-1&&r.originalBeginDts<t[n+1].originalBeginDts)?i=n+1:0<t.length&&(i=this._searchNearestSegmentBefore(r.originalBeginDts)+1),this._lastAppendLocation=i,this._list.splice(i,0,r)}},{key:"getLastSegmentBefore",value:function(e){var t=this._searchNearestSegmentBefore(e);return 0<=t?this._list[t]:null}},{key:"getLastSampleBefore",value:function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null}},{key:"getLastSyncPointBefore",value:function(e){for(var t=this._searchNearestSegmentBefore(e),r=this._list[t].syncPoints;0===r.length&&0<t;)t--,r=this._list[t].syncPoints;return 0<r.length?r[r.length-1]:null}},{key:"type",get:function(){return this._type}},{key:"length",get:function(){return this._list.length}}]),t}()},{}],172:[function(o,e,a){((function(e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),f=t(o("../utils/logger")),i=t(o("../utils/polyfill")),n=t(o("../utils/browser"));function t(e){return e&&e.__esModule?e:{"default":e}}var u="MSEController",s=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.onSourceOpen=null,this.onSourceClose=null,this.onSourceEnded=null,this.onSourceError=null,this.onSourceBufferFull=null,this._info=e,this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._sbListeners={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._lastInitSegments={video:null,audio:null},this._pendingRemoveRanges={video:[],audio:[]},this._isBufferFull=!1}return r(t,[{key:"dispose",value:function(){this.onSourceOpen=null,this.onSourceClose=null,this.onSourceEnded=null,this.onSourceError=null,this.onSourceBufferFull=null,this.detachMediaSource(),this._info=null}},{key:"attachMediaSource",value:function(){this._mediaSource=new e.MediaSource,this.onSourceOpen&&this._mediaSource.addEventListener("sourceopen",this.onSourceOpen),this.onSourceEnded&&this._mediaSource.addEventListener("sourceended",this.onSourceEnded),this.onSourceClose&&this._mediaSource.addEventListener("sourceclose",this.onSourceClose),this._mediaSourceObjectURL=e.URL.createObjectURL(this._mediaSource),this._info.mediaElement.src=this._mediaSourceObjectURL,!n.default.chrome&&this._info.mediaElement.autoplay&&this._info.mediaElement.play()}},{key:"detachMediaSource",value:function(){var n=this;this._info.mediaElement&&(this._info.mediaElement.src="",this._info.mediaElement.removeAttribute("src")),this._mediaSourceObjectURL&&(e.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null);var i=this._mediaSource;if(i){if(Object.keys(this._sourceBuffers).forEach(function(e){var t=n._pendingSegments[e];t.splice(0,t.length),n._pendingSegments[e]=[],n._pendingRemoveRanges[e]=[],n._lastInitSegments[e]=null;var r=n._sourceBuffers[e];r&&("closed"!==i.readyState&&(i.removeSourceBuffer(r),r.removeEventListener("abort",n._sbListeners[e].onAbort),r.removeEventListener("error",n._sbListeners[e].onError),r.removeEventListener("updateend",n._sbListeners[e].onUpdateEnd)),n._mimeTypes[e]=null,n._sourceBuffers[e]=null,n._sbListeners[e]=null)}),"open"===i.readyState)try{i.endOfStream()}catch(e){f.default.ERROR(u,"endOfStream",e.message)}this.onSourceOpen&&i.removeEventListener("sourceopen",this.onSourceOpen),this.onSourceEnded&&i.removeEventListener("sourceended",this.onSourceEnded),this.onSourceClose&&i.removeEventListener("sourceclose",this.onSourceClose),this._isBufferFull=!1,this._mediaSource=null}}},{key:"appendInitSegment",value:function(e){if("open"!==this._mediaSource.readyState)throw new TypeError("mediaSource is not opened");i.default.isRealNaN(this._mediaSource.duration)&&(this._mediaSource.duration=Math.floor(e.mediaDuration)/1e3);var t=e,r=""+t.container;if(t.codec&&0<t.codec.length&&(r+=";codecs="+t.codec),this._lastInitSegments[t.type]=t,r!==this._mimeTypes[t.type]){if(!this._mimeTypes[t.type])try{this._sourceBuffers[t.type]=this._mediaSource.addSourceBuffer(r);var n=this._sourceBuffers[t.type];this._sbListeners[t.type]={onAbort:this._onSourceBufferAbort.bind(this,t.type),onError:this._onSourceBufferError.bind(this,t.type),onUpdateEnd:this._onSourceBufferUpdateEnd.bind(this,t.type)},n.addEventListener("abort",this._sbListeners[t.type].onAbort),n.addEventListener("error",this._sbListeners[t.type].onError),n.addEventListener("updateend",this._sbListeners[t.type].onUpdateEnd)}catch(e){return void f.default.ERROR(u,"sourcebuffer",e.message)}this._mimeTypes[t.type]=r}this._pendingSegments[t.type].push(t),this._appendSegments(t.type)}},{key:"appendMediaSegment",value:function(e){var t=e;this._pendingSegments[t.type].push(t),0===this._pendingRemoveRanges[t.type].length&&this._appendSegments(t.type)}},{key:"append",value:function(){for(var e=Object.keys(this._pendingSegments),t=0;t<e.length;t++){var r=e[t];this._appendSegments(r)}}},{key:"clear",value:function(){for(var e=Object.keys(this._pendingSegments),t=0;t<e.length;t++){var r=e[t];this._clearSegments(r)}}},{key:"endOfStream",value:function(){if("open"===this._mediaSource.readyState){for(var e=!1,t=this._mediaSource.sourceBuffers,r=0;r<t.length;r++)if(t[r].updating){e=!0;break}e||this._mediaSource.endOfStream()}}},{key:"_appendSegments",value:function(e){var t=this._sourceBuffers[e];if(t&&!t.updating){var r=this._pendingSegments[e];if(0!==r.length){var n=r.shift();if(n.timestampOffset){var i=t.timestampOffset,s=n.timestampOffset/1e3;.1<Math.abs(i-s)&&(t.timestampOffset=s),delete n.timestampOffset}if(n.data&&0!==n.data.byteLength)try{t.appendBuffer(n.data),this._isBufferFull=!1}catch(e){r.unshift(n),22===e.code?(this._isBufferFull||this.onSourceBufferFull&&this.onSourceBufferFull(),this._isBufferFull=!0):f.default.ERROR(u,"appendBuffer",e.message)}}}}},{key:"_clearSegments",value:function(e){if("open"===this._mediaSource.readyState){var t=this._sourceBuffers[e];if(t){for(var r=this._info.mediaElement.currentTime,n=!1,i=0,s=t.buffered.length;i<s;i++){var o=t.buffered.start(i),a=t.buffered.end(i);if(o<=r&&r<a+20){if(20<=r-o){n=!0;var f=r-10;this._pendingRemoveRanges[e].push({start:o,end:f})}}else a<r&&(n=!0,this._pendingRemoveRanges[e].push({start:o,end:a}))}n&&!t.updating&&this._removeRanges(e)}}}},{key:"seek",value:function(){for(var e=Object.keys(this._sourceBuffers),t=0;t<e.length;t++){var r=e[t],n=this._sourceBuffers[r];if(n){if("open"===this._mediaSource.readyState)try{n.abort()}catch(e){f.default.ERROR(u,"SourceBuffer abort error:",e.message)}var i=this._pendingSegments[r];if(i.splice(0,i.length),"closed"!==this._mediaSource.readyState){for(var s=0;s<n.buffered.length;s++){var o=n.buffered.start(s),a=n.buffered.end(s);this._pendingRemoveRanges[r].push({start:o,end:a})}n.updating||this._removeRanges(r)}}}}},{key:"_removeRanges",value:function(e){var t=this._sourceBuffers[e];if(t)for(var r=this._pendingRemoveRanges[e];!t.updating&&r.length;){var n=r.shift();t.remove(n.start,n.end)}}},{key:"_onSourceBufferAbort",value:function(e){}},{key:"_onSourceBufferError",value:function(e,t){f.default.ERROR(u,"onSourceBufferError, type: "+e+", "+t),this.onSourceError&&this.onSourceError(e+", "+t.message)}},{key:"_onSourceBufferUpdateEnd",value:function(e){this._info&&(0<this._pendingRemoveRanges[e].length?this._removeRanges(e):0<this._pendingSegments[e].length&&this._appendSegments(e),this._info.isSeeking&&0<this._info.isBuffered(this._info.seekTime)&&(this._info.isSeeking=!1,this._info.mediaElement.currentTime=this._info.seekTime))}}]),t}();a.default=s})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":214,"../utils/logger":219,"../utils/polyfill":220}],173:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=i(e("../utils/logger")),a=i(e("../utils/common")),o=i(e("../utils/browser")),f=i(e("../io/xy-loader-buildin")),u=e("../io/loader"),c=i(e("../demux/mp4-demuxer")),h=i(e("../remux/mp4-remuxer")),l=i(e("../demux/mp3-demuxer")),d=i(e("./mse-controller")),p=i(e("../cache/vod-cache")),b=i(e("./keyframe-info")),_=e("../utils/error");function i(e){return e&&e.__esModule?e:{"default":e}}var y=function(){function i(e){var t=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.onError=null,this._info=e,this._isClosed=!0,this._mseCtl=new d.default(e),this._mseCtl.onSourceOpen=this._onSourceOpen.bind(this),this._mseCtl.onSourceError=this._onSourceError.bind(this),this._mseCtl.onSourceBufferFull=this._onSourceBufferFull.bind(this),this._isSourceOpened=!1,this._isSourceBufferFull=!1,this._hasLoadedData=!1,this._loader=new f.default(e,r),this._options=r,this._demuxer=null,this._remuxer=null,this._keyframeInfo=null,this._cache=new p.default,this._appendOffset=0,this._currentOffset=0,this._nextOffset=0,this._needHeaderLength=0,this._pushDataId=-1,this._requestDataId=-1,this._checkerId=-1,this._seekId=-1,this._periodId=-1,this._videoEvent={onSeeking:function(){t._info.seekTime!==t._info.mediaElement.currentTime&&(clearTimeout(t._seekId),t._seekId=setTimeout(function(){t.seek(t._info.mediaElement.currentTime)},200))},onLoadedMetadata:function(){t._info.tick5=Date.now()},onLoadedData:function(){t._hasLoadedData=!0,t._info.timeStat.push(t._info.tick1-t._info.openTick),t._info.timeStat.push(t._info.tick2-t._info.tick1),t._info.timeStat.push(t._info.tick3-t._info.tick2),t._info.timeStat.push(t._info.tick4-t._info.tick3),t._info.timeStat.push(t._info.tick5-t._info.tick4),t._info.timeStat.push(Date.now()-t._info.tick5)},onCanPlay:function(){-1===t._periodId&&(t._periodId=setTimeout(t._periodExecute.bind(t),1e3))},onSeeked:function(){},onStalled:function(){},onTimeUpdate:function(){},onEnded:function(){t.close()}},this._info.mediaElement.addEventListener("seeking",this._videoEvent.onSeeking),this._info.mediaElement.addEventListener("seeked",this._videoEvent.onSeeked),this._info.mediaElement.addEventListener("loadedmetadata",this._videoEvent.onLoadedMetadata),this._info.mediaElement.addEventListener("loadeddata",this._videoEvent.onLoadedData),this._info.mediaElement.addEventListener("canplay",this._videoEvent.onCanPlay),this._info.mediaElement.addEventListener("stalled",this._videoEvent.onStalled),this._info.mediaElement.addEventListener("progress",this._videoEvent.onTimeUpdate),this._info.mediaElement.addEventListener("ended",this._videoEvent.onEnded);var n=o.default.chrome&&(o.default.version.major<50||50===o.default.version.major&&o.default.version.build<2661);this._alwaysSeekKeyframe=n||o.default.msedge||o.default.msie}return n(i,[{key:"dispose",value:function(){this.onError=null,this._isClosed=!0,clearTimeout(this._periodId),this._periodId=-1,clearTimeout(this._pushDataId),this._pushDataId=-1,clearTimeout(this._requestDataId),this._requestDataId=-1,clearTimeout(this._checkerId),this._checkerId=-1,clearTimeout(this._seekId),this._seekId=-1,this._isSourceOpened=!1,this._isSourceBufferFull=!1,this._hasLoadedData=!1,this._info&&this._info.mediaElement&&(this._info.mediaElement.removeEventListener("seeking",this._videoEvent.onSeeking),this._info.mediaElement.removeEventListener("seeked",this._videoEvent.onSeeked),this._info.mediaElement.removeEventListener("loadedmetadata",this._videoEvent.onLoadedMetadata),this._info.mediaElement.removeEventListener("loadeddata",this._videoEvent.onLoadedData),this._info.mediaElement.removeEventListener("canplay",this._videoEvent.onCanPlay),this._info.mediaElement.removeEventListener("stalled",this._videoEvent.onStalled),this._info.mediaElement.removeEventListener("timeupdate",this._videoEvent.onTimeUpdate),this._info.mediaElement.removeEventListener("ended",this._videoEvent.onEnded)),this._info=null,this._videoEvent&&(this._videoEvent.onSeeking=null,this._videoEvent.onSeeked=null,this._videoEvent.onLoadedMetadata=null,this._videoEvent.onLoadedData=null,this._videoEvent.onCanPlay=null,this._videoEvent.onStalled=null,this._videoEvent.onTimeUpdate=null,this._videoEvent.onEnded=null,this._videoEvent=null),this._loader&&(this._loader.dispose(),this._loader=null),this._mseCtl&&(this._mseCtl.dispose(),this._mseCtl=null),this._cache.dispose(),this._keyframeInfo=null,this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._appendOffset=0,this._currentOffset=0,this._nextOffset=0,this._needHeaderLength=0}},{key:"open",value:function(e){this._isClosed&&(this._isClosed=!1,this._info.openTick=Date.now(),this._info.url=e,this._mseCtl.attachMediaSource(),this._loader.onDataArrival=this._onFirstDataArrival.bind(this),this._loader.onError=this._onLoaderError.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.init(),this._info.tick1=Date.now())}},{key:"close",value:function(){this._isClosed||(this._isClosed=!0,clearTimeout(this._periodId),this._periodId=-1,clearTimeout(this._pushDataId),this._pushDataId=-1,clearTimeout(this._requestDataId),this._requestDataId=-1,clearTimeout(this._checkerId),this._checkerId=-1,clearTimeout(this._seekId),this._seekId=-1,this._isSourceOpened=!1,this._isSourceBufferFull=!1,this._hasLoadedData=!1,this._loader.dispose(),this._mseCtl.detachMediaSource(),this._cache.rangeQueue.clear(),this._keyframeInfo=null,this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._appendOffset=0,this._currentOffset=0,this._nextOffset=0,this._needHeaderLength=0)}},{key:"seek",value:function(e){if(!this._isClosed){this._cache.rangeQueue.clear();var t=this._info.mediaElement;e<1&&(e=.1),this._nextOffset=0,this._demuxer.cleanDataBuffer(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._mseCtl.seek(),clearTimeout(this._checkerId),this._checkerId=-1;var r=this._demuxer.seek(e);this._requestData(r.fileoffset,!0),this._appendOffset=r.fileoffset,this._info.seekTime=e,t.currentTime=this._info.seekTime}}},{key:"_pause",value:function(){this._isClosed||this._loader.status!==u.LoaderStatus.IDLE&&(this._loader.pause(),this._checkerId=setTimeout(this._processChecker.bind(this),1e3))}},{key:"_resume",value:function(){this._isClosed||(this._mseCtl.append(),this._loader.status!==u.LoaderStatus.IDLE&&this._loader.resume())}},{key:"_onSourceOpen",value:function(){this._isSourceOpened||(this._isSourceOpened=!0,this._info.tick2=Date.now(),this._requestHeader(0))}},{key:"_onSourceBufferFull",value:function(){this._isSourceBufferFull=!0,this._pause()}},{key:"_onSourceError",value:function(e){this.close(),this.onError&&this.onError(new _.MediaError(e))}},{key:"_periodExecute",value:function(){this._isClosed||(this._mseCtl&&this._mseCtl.clear(),this._periodId=setTimeout(this._periodExecute.bind(this),1e3))}},{key:"_processChecker",value:function(){if(!this._isClosed){var e=this._info.mediaElement,t=e.currentTime,r=e.buffered,n=!1;if(this._isSourceBufferFull)for(var i=0;i<r.length;i++){var s=r.start(i),o=r.end(i);if(s<=t&&t<o){o-60<=t&&(n=!0,this._isSourceBufferFull=!1);break}}else this.availableLength>a.default.RESERVED_CACHE_SIZE&&(n=!0);n?this._resume():this._checkerId=setTimeout(this._processChecker.bind(this),1e3)}}},{key:"_pushDataWrap",value:function(){this._pushData()||(this._pushDataId=setTimeout(this._pushDataWrap.bind(this),this._hasLoadedData?100:20))}},{key:"_pushData",value:function(){if(!this._info||!this._info.mediaElement)return s.default.ERROR("Transmuxer","pushData, media destroyed, dispose"),this.dispose(),!0;if(this._appendOffset===this._demuxer.dataEnd)return this._mseCtl.endOfStream(),!1;var e=this._cache.rangeQueue.getRange(this._appendOffset);if(null===e)return!1;var t=Math.min(e.end-this._appendOffset,this._demuxer.dataEnd-this._appendOffset),r=this._cache.readBytes(this._appendOffset,Math.min(t,a.default.MAX_READING_LENGTH));return 0<r.length&&(this._demuxer.parseChunks(r,this._appendOffset),this._appendOffset+=r.length),!1}},{key:"_requestHeader",value:function(e){this._currentOffset=e,this._loader.status!==u.LoaderStatus.IDLE&&this._loader.close(),this._loader.open(e,this._needHeaderLength),this._nextOffset=e+this._needHeaderLength}},{key:"_requestData",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this._keyframeInfo&&!(this._cache.rangeQueue.length>=a.default.MAX_CACHE_SIZE)&&(this._loader.status===u.LoaderStatus.IDLE||t)&&!(e<this._nextOffset)&&this._info.fileSize!==e&&(!(this._info.bufferLength>this._info.bufferLengthLimit)||t)){var r=e,n=this._info.fileSize-r;this._currentOffset=r,this._loader.status!==u.LoaderStatus.IDLE&&this._loader.close(),this._loader.open(r,n),this._nextOffset=r+n}}},{key:"_onFirstDataArrival",value:function(e,t){if(this._info.tick3=Date.now(),c.default.probe(e).match)this._info.fileType=a.default.FILE_TYPE_MP4,this._demuxer=new c.default(this._info);else{if(!l.default.probe(e).match)throw new _.MediaError("Unsupported media type!");this._info.fileType=a.default.FILE_TYPE_MP3,this._demuxer=new l.default(this._info)}this._demuxer.onNeedMore=this._onDemuxerNeedMore.bind(this),this._demuxer.onIndexInfo=this._onDemuxerIndexInfo.bind(this),this._loader.onDataArrival=this._onLoaderDataArrival.bind(this),this._remuxer=new h.default,this._remuxer.bindDataSource(this._demuxer),this._remuxer.onInitSegment=this._onRemuxerInitSegment.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegment.bind(this),this._cache.writeBytes(e,t),this._demuxer.parseChunks(e,t)}},{key:"_onLoaderDataArrival",value:function(e,t){this._demuxer.headerOffset===this._currentOffset&&0!==this._currentOffset||this._cache.writeBytes(e,t),this._keyframeInfo||this._demuxer.parseChunks(e,t),this.availableLength<=a.default.RESERVED_CACHE_SIZE&&this._pause()}},{key:"_onLoaderError",value:function(e){this.close();var t=e instanceof _.RuntimeError?e:new _.OtherError(e.message);this.onError&&this.onError(t)}},{key:"_onLoaderComplete",value:function(){this._cache.rangeQueue.end!==this._info.fileSize?this._keyframeInfo?this._requestData(this._nextOffset):this._requestHeader(this._nextOffset):this._nextOffset=this._info.fileSize}},{key:"_onRemuxerInitSegment",value:function(e,t){this._mseCtl.appendInitSegment(t)}},{key:"_onRemuxerMediaSegment",value:function(e,t){this._mseCtl.appendMediaSegment(t)}},{key:"_onDemuxerNeedMore",value:function(e,t){this._nextOffset=e,this._needHeaderLength=t,this._requestHeader(this._nextOffset)}},{key:"_onDemuxerIndexInfo",value:function(e,t,r){this._info.tick4=Date.now(),this._appendOffset=e,this._nextOffset===this._info.fileSize&&(this._nextOffset=this._cache.rangeQueue.ranges[0].end),this._keyframeInfo=new b.default(t,r);var n=this._info.fileType===a.default.FILE_TYPE_MP3?0:20;this._pushDataId=setTimeout(this._pushDataWrap.bind(this),n),this._requestDataId=setTimeout(this._requestDataWrap.bind(this),1e3)}},{key:"_requestDataWrap",value:function(){this._requestData(this._nextOffset),this._requestDataId=setTimeout(this._requestDataWrap.bind(this),1e3)}},{key:"availableLength",get:function(){return a.default.MAX_CACHE_SIZE-this._cache.rangeQueue.length}}]),i}();r.default=y},{"../cache/vod-cache":169,"../demux/mp3-demuxer":175,"../demux/mp4-demuxer":176,"../io/loader":179,"../io/xy-loader-buildin":180,"../remux/mp4-remuxer":213,"../utils/browser":214,"../utils/common":217,"../utils/error":218,"../utils/logger":219,"./keyframe-info":170,"./mse-controller":172}],174:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=e("../utils/error");var i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}return n(t,[{key:"destroy",value:function(){this._buffer=null}},{key:"_fillCurrentWord",value:function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new o.IllegalStateError("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),r=new Uint8Array(4);r.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=(new DataView(r.buffer)).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t}},{key:"readBits",value:function(e){if(32<e)throw new o.InvalidArgumentError("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var r=this._current_word_bits_left?this._current_word:0;r>>>=32-this._current_word_bits_left;var n=e-this._current_word_bits_left;this._fillCurrentWord();var i=Math.min(n,this._current_word_bits_left),s=this._current_word>>>32-i;return this._current_word<<=i,this._current_word_bits_left-=i,r=r<<i|s}},{key:"readBool",value:function(){return 1===this.readBits(1)}},{key:"readByte",value:function(){return this.readBits(8)}},{key:"_skipLeadingZero",value:function(){var e=void 0;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()}},{key:"readUEG",value:function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1}},{key:"readSEG",value:function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)}}]),t}();r.default=i},{"../utils/error":218}],175:[function(n,e,i){((function(a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),o=(t(n("../utils/logger")),t(n("../mp3/mp3-header"))),f=t(n("../utils/browser"));function t(e){return e&&e.__esModule?e:{"default":e}}var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.onError=null,this.onDataAvailable=null,this.onTrackMetadata=null,this.onIndexInfo=null,this.onNeedMore=null,this._info=e,this._firstPlay=!0,this._foundFirstFrame=!1,this._headerOffset=0,this._parsePos=0,this._duration=0,this._refSampleDuration=0,this._frames=0,this._dts=0,this._mp3Header=new o.default,this._dataBuffer=a.allocUnsafe(0),this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0}}return e(t,[{key:"seek",value:function(e){var t=this._mp3Header.frameLength(),r={fileoffset:0};return 0<t&&(this._dts=1e3*e,r.fileoffset=Math.floor(1e3*e/this._duration*this._frames*t)+this._headerOffset),this._foundFirstFrame=!1,r}},{key:"destroy",value:function(){this.onError=null,this.onDataAvailable=null,this.onTrackMetadata=null,this.onIndexInfo=null,this.onNeedMore=null,this._info=null,this._foundFirstFrame=!1,this._headerOffset=0,this._dataBuffer=null,this._audioTrack=null}},{key:"cleanDataBuffer",value:function(){this._dataBuffer=a.allocUnsafe(0)}},{key:"parseChunks",value:function(e,t){if(this._dataBuffer=a.concat([this._dataBuffer,e]),!this._foundFirstFrame){if(this._parsePos=0,!this._getFirstHeader())return;if(this._dataBuffer=this._dataBuffer.slice(this._headerOffset),this._parsePos=0,this._firstPlay)return this._firstPlay=!1,this._frames=Math.floor((this._info.fileSize-this._headerOffset)/this._mp3Header.frameLength()),this._duration=Math.floor(this._mp3Header.frameLength()*this._frames/(1e3*this._mp3Header.headerBitrate()/8)*1e3),this.onIndexInfo&&(this.onIndexInfo(this._headerOffset,[],[]),this._dataBuffer=a.allocUnsafe(0)),void (this.onTrackMetadata&&this.onTrackMetadata("audio",this._getInitMetadata()))}for(var r=0;!(this._parsePos+4>this._dataBuffer.length);){var n=t-(this._dataBuffer.length-e.length)+this._parsePos;if(this._info.fileSize-n<=128)break;var i=this._getHeader(this._mp3Header);if(0===i)throw new Error("frame length in mp3 file is 0, filePos: "+n+", parsePos: "+this._parsePos+", "+this._dataBuffer[this._parsePos].toString(16)+" "+this._dataBuffer[this._parsePos+1].toString(16)+" "+this._dataBuffer[this._parsePos+2].toString(16)+" "+this._dataBuffer[this._parsePos+3].toString(16));if(this._parsePos+i>this._dataBuffer.length)break;var s=this._dataBuffer.slice(this._parsePos,this._parsePos+i),o={};o.unit=s,o.length=i,o.dts=this._dts,o.pts=o.dts,this._audioTrack.samples.push(o),this._audioTrack.length+=i,this._dts+=this._refSampleDuration,this._parsePos+=i,r+=1,f.default.firefox&&200===r&&this.onDataAvailable&&(r=0,this.onDataAvailable(this._audioTrack,this._videoTrack))}0<r&&this.onDataAvailable&&this.onDataAvailable(this._audioTrack,this._videoTrack),0<this._parsePos&&(this._dataBuffer=this._dataBuffer.slice(this._parsePos),this._parsePos=0)}},{key:"_getFirstHeader",value:function(){for(var e=0,t=1;;){for(var r=this._dataBuffer[this._parsePos];255!==r&&this._parsePos<this._dataBuffer.length;this._parsePos++)r=this._dataBuffer[this._parsePos];if(255!==r)return!1;this._parsePos--,e=this._parsePos;var n=new o.default,i=new o.default,s=this._getHeader(n);if(0<s){for(this._parsePos+=s,t=1;t<4&&4<=this._dataBuffer.length-this._parsePos&&0!==(s=this._getHeader(i))&&n.sameConstant(i);t++)this._parsePos+=s;if(4===t)return this._parsePos=e,this._mp3Header.clone(i),this._foundFirstFrame=!0,this._headerOffset=e,!0}else this._parsePos+=2}}},{key:"_getHeader",value:function(e){return e.parse(this._dataBuffer.slice(this._parsePos,this._parsePos+4))}},{key:"_getInitMetadata",value:function(){var e={type:"audio"};return e.duration=this._duration,e.timescale=1e3,e.codec="mp3",e.originalCodec="mp3",e.channelCount="mono"===this._mp3Header.headerMode()?1:2,e.audioSampleRate=this._mp3Header.headerFrequency(),e.refSampleDuration=1152/e.audioSampleRate*e.timescale,this._refSampleDuration=e.refSampleDuration,e}},{key:"headerOffset",get:function(){return this._headerOffset}},{key:"dataEnd",get:function(){return this._info.fileSize}},{key:"byteRate",get:function(){return 0}}],[{key:"probe",value:function(e){var t=new Uint8Array(e),r={match:!1};return 3<=t.length&&(73!==t[0]||68!==t[1]||51!==t[2])&&255!==t[0]?r:t.length<3?r:{match:!0,consumed:0,dataOffset:0}}}]),t}();i.default=r})).call(this,n("buffer").Buffer)},{"../mp3/mp3-header":182,"../utils/browser":214,"../utils/logger":219,buffer:274}],176:[function(i,e,s){((function(c){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),r=(t(i("../utils/logger")),t(i("../mp4/box-parser"))),h=t(i("../mp4/hdlr")),u=i("../utils/byte-array");function t(e){return e&&e.__esModule?e:{"default":e}}var n=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.onDataAvailable=null,this.onTrackMetadata=null,this.onIndexInfo=null,this.onNeedMore=null,this._info=e,this._headerOffset=0,this._headerBuffer=c.allocUnsafe(0),this._mdatBuffer=c.allocUnsafe(0),this._nextSampleIndex=0,this._offsetInFile=0,this._boxInfo={},this._moovData=null,this._boxParser=new r.default,this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0}}return e(t,[{key:"seek",value:function(e){var t=this._boxParser.getLeftSampleIndexFromTime(1e3*e);return this._offsetInFile=t.fileoffset,this._nextSampleIndex=t.sampleindex,t}},{key:"destroy",value:function(){this.onDataAvailable=null,this.onTrackMetadata=null,this.onIndexInfo=null,this.onNeedMore=null,this._info=null,this._headerOffset=0,this._headerBuffer=null,this._mdatBuffer=null,this._nextSampleIndex=0,this._offsetInFile=0,this._headerSize=null,this._moovData=null,this._boxParser=null,this._videoTrack=null,this._audioTrack=null}},{key:"cleanDataBuffer",value:function(){this._mdatBuffer=c.allocUnsafe(0)}},{key:"_locateMoovMdat",value:function(e,t){if(!(t<this._headerOffset)){this._headerBuffer=c.concat([this._headerBuffer,e]);for(var r=0;r<this._headerBuffer.length&&!(r+4+4+8>this._headerBuffer.length);){var n=new DataView(this._headerBuffer.buffer,r),i=n.getUint32(0,!1),s=n.getUint32(4,!1),o=8,a=String.fromCharCode((4278190080&s)>>24)+String.fromCharCode((16711680&s)>>16)+String.fromCharCode((65280&s)>>8)+String.fromCharCode(255&s);1===i&&(i=(0,u.readViewUint64)(n,8),o+=8);var f=r+i;switch(s){case 1835295092:this._boxInfo[a]={},this._boxInfo[a].offset=r,this._boxInfo[a].boxSize=i,this._boxInfo[a].headerSize=o,this._moovData||this.onNeedMore&&(this.onNeedMore(f,this._info.fileSize-f),this._headerOffset=f,this._headerBuffer=c.allocUnsafe(0));break;case 1836019574:!this._boxInfo[a]&&f<=this._headerBuffer.length&&(this._boxInfo[a]={},this._boxInfo[a].offset=r,this._boxInfo[a].boxSize=i,this._boxInfo[a].headerSize=o,this._moovData=this._headerBuffer.slice(r,f),this._boxParser.readMoov(this._moovData));break;default:!this._boxInfo[a]&&f<=this._headerBuffer.length&&(this._boxInfo[a]={},this._boxInfo[a].offset=r,this._boxInfo[a].boxSize=i,this._boxInfo[a].headerSize=o)}r=f}this.foundMoovMdat&&(this.onIndexInfo&&this.onIndexInfo(this._boxInfo.mdat.offset+this._boxInfo.mdat.headerSize,this._boxParser.times,this._boxParser.filePositions),this.onTrackMetadata&&(this.onTrackMetadata("video",this._boxParser.getInitMetadata("video")),this.onTrackMetadata("audio",this._boxParser.getInitMetadata("audio"))),this._headerBuffer=c.allocUnsafe(0))}}},{key:"_parseMdat",value:function(e,t){0===this._offsetInFile&&(this._offsetInFile=this._boxInfo.mdat.offset+this._boxInfo.mdat.headerSize),this._mdatBuffer=c.concat([this._mdatBuffer,e]);var r=this._boxParser.samples,n=this._nextSampleIndex,i=r[n];if(i){for(;n<r.length&&!((i=r[n]).offsetInFile+i.size>this._offsetInFile+this._mdatBuffer.length);n++){var s=c.from(this._mdatBuffer.buffer,i.offsetInFile-this._offsetInFile,i.size);if(i.handlerType===h.default.VIDE){var o={type:i.seekable?5:1,data:s},a=[];a.push(o);var f={};f.units=a,f.length=i.size,f.duration=i.sampleDelta,f.originalDts=i.decodingTime,f.isKeyframe=i.seekable,f.dts=i.decodingTime,f.cts=i.compositionTimeOffset,f.pts=f.dts+f.cts,f.flags={isLeading:0,dependsOn:i.seekable?2:1,isDependedOn:i.seekable?1:0,hasRedundancy:0,isNonSync:i.seekable?0:1},this._videoTrack.samples.push(f),this._videoTrack.length+=i.size}else if(i.handlerType===h.default.SOUN){var u={};u.unit=s,u.size=i.size,u.duration=i.sampleDelta,u.originalDts=i.decodingTime,u.dts=i.decodingTime,u.cts=0,u.pts=u.dts,u.flags={isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0},this._audioTrack.samples.push(u),this._audioTrack.length+=i.size}}(this._audioTrack.length||this._videoTrack.length)&&this.onDataAvailable&&this.onDataAvailable(this._audioTrack,this._videoTrack),(this._nextSampleIndex=n)<r.length&&i.offsetPlayFromNow-this._offsetInFile<this._mdatBuffer.length?(this._mdatBuffer=this._mdatBuffer.slice(i.offsetPlayFromNow-this._offsetInFile),this._offsetInFile=i.offsetPlayFromNow):n===r.length&&(this._mdatBuffer=c.allocUnsafe(0))}}},{key:"parseChunks",value:function(e,t){this.foundMoovMdat?this._parseMdat(e,t):this._locateMoovMdat(e,t)}},{key:"headerOffset",get:function(){return this._headerOffset}},{key:"dataEnd",get:function(){return this._boxInfo.mdat?this._boxInfo.mdat.offset+this._boxInfo.mdat.boxSize:this._info.fileSize}},{key:"foundMoovMdat",get:function(){return!!(this._boxInfo.moov&&this._boxInfo.mdat&&this._moovData)}},{key:"byteRate",get:function(){return this._boxParser.byteRate}}],[{key:"probe",value:function(e){var t=new Uint8Array(e),r={match:!1};return 8<=t.length&&102!==t[4]||116!==t[5]||121!==t[6]||112!==t[7]?r:t.length<8?r:{match:!0,consumed:0,dataOffset:0}}}]),t}();s.default=n})).call(this,i("buffer").Buffer)},{"../mp4/box-parser":187,"../mp4/hdlr":194,"../utils/byte-array":215,"../utils/logger":219,buffer:274}],177:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./exp-golomb"),U=(n=s)&&n.__esModule?n:{"default":n};var o=function(){function L(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,L)}return i(L,null,[{key:"_ebsp2rbsp",value:function(e){for(var t=e,r=t.byteLength,n=new Uint8Array(r),i=0,s=0;s<r;s++)2<=s&&3===t[s]&&0===t[s-1]&&0===t[s-2]||(n[i]=t[s],i++);return new Uint8Array(n.buffer,0,i)}},{key:"parseSPS",value:function(e){var t=L._ebsp2rbsp(e),r=new U.default(t);r.readByte();var n=r.readByte();r.readByte();var i=r.readByte();r.readUEG();var s=L.getProfileString(n),o=L.getLevelString(i),a=1,f=420,u=8;if((100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n||138===n||144===n)&&(3===(a=r.readUEG())&&r.readBits(1),a<=3&&(f=[0,420,422,444][a]),u=r.readUEG()+8,r.readUEG(),r.readBits(1),r.readBool()))for(var c=3!==a?8:12,h=0;h<c;h++)r.readBool()&&L._skipScalingList(r,h<6?16:64);r.readUEG();var l=r.readUEG();if(0===l)r.readUEG();else if(1===l){r.readBits(1),r.readSEG(),r.readSEG();for(var d=r.readUEG(),p=0;p<d;p++)r.readSEG()}r.readUEG(),r.readBits(1);var b=r.readUEG(),_=r.readUEG(),y=r.readBits(1);0===y&&r.readBits(1),r.readBits(1);var v=0,m=0,g=0,w=0;r.readBool()&&(v=r.readUEG(),m=r.readUEG(),g=r.readUEG(),w=r.readUEG());var S=1,k=1,E=0,x=!0,M=0,I=0;if(r.readBool()){if(r.readBool()){var T=r.readByte();0<T&&T<16?(S=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][T-1],k=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][T-1]):255===T&&(S=r.readByte()<<8|r.readByte(),k=r.readByte()<<8|r.readByte())}if(r.readBool()&&r.readBool(),r.readBool()&&(r.readBits(4),r.readBool()&&r.readBits(24)),r.readBool()&&(r.readUEG(),r.readUEG()),r.readBool()){var C=r.readBits(32),j=r.readBits(32);x=r.readBool(),E=(M=j)/(I=2*C)}}var O=1;1===S&&1===k||(O=S/k);var A=0,P=0;0===a?(A=1,P=2-y):(A=3===a?1:2,P=(1===a?2:1)*(2-y));var B=16*(b+1),R=16*(_+1)*(2-y);B-=(v+m)*A,R-=(g+w)*P;var D=Math.ceil(B*O);return r.destroy(),r=null,{profile_string:s,level_string:o,bit_depth:u,chroma_format:f,chroma_format_string:L.getChromaFormatString(f),frame_rate:{fixed:x,fps:E,fps_den:I,fps_num:M},sar_ratio:{width:S,height:k},codec_size:{width:B,height:R},present_size:{width:D,height:R}}}},{key:"_skipScalingList",value:function(e,t){for(var r=8,n=8,i=0;i<t;i++)0!==n&&(n=(r+e.readSEG()+256)%256),r=0===n?r:n}},{key:"getProfileString",value:function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}},{key:"getLevelString",value:function(e){return(e/10).toFixed(1)}},{key:"getChromaFormatString",value:function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}]),L}();r.default=o},{"./exp-golomb":174}],178:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Events=r.version=r.createPlayer=r.isSupported=void 0;var n,i=e("./xyvod-player"),s=e("./utils/common"),o=(n=s)&&n.__esModule?n:{"default":n};var a=i.PlayerEvent;r.isSupported=function(){return o.default.isMSEH264Supported&&(o.default.isFetchStreamSupported||o.default.isMozChunkedSupported)},r.createPlayer=function(e){return new i.XYVODPlayer(e)},r.version=function(){return o.default.VERSION},r.Events=a},{"./utils/common":217,"./xyvod-player":223}],179:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LoaderStatus=r.Loader=void 0;var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("../utils/logger");(n=s)&&n.__esModule;var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onDataArrival=null,this.onError=null,this.onComplete=null}return i(e,[{key:"init",value:function(){throw new Error("nee override")}},{key:"open",value:function(e,t){throw new Error("need override")}},{key:"close",value:function(){throw new Error("need override")}},{key:"pause",value:function(){throw new Error("need override")}},{key:"resume",value:function(){throw new Error("need override")}},{key:"dispose",value:function(){throw new Error("need override")}}]),e}();r.Loader=o,r.LoaderStatus={IDLE:0,CONNECTING:1,BUFFERING:2,ERROR:3}},{"../utils/logger":219}],180:[function(c,e,h){((function(t,i){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var e,r=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),n=c("../utils/logger"),s=(e=n)&&e.__esModule?e:{"default":e},o=c("./loader"),a=c("../utils/error"),f=c("../../../xyvod-core-general/build/xyvod");var u=function(e){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return r._info=e,r._xyvod=null,r._status=o.LoaderStatus.IDLE,r._options=t,r._customerInfo=null,r._info.getCustomerInfo=function(){return(r._xyvod&&r._xyvod.customerInfo?r._xyvod.customerInfo:null)||r._customerInfo||{}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.Loader),r(n,[{key:"_handleError",value:function(e){s.default.ERROR("XYLoader","failed:",e.message),this._status=o.LoaderStatus.ERROR,this._customerInfo=this._xyvod?Object.assign({},this._xyvod.customerInfo):{},this.onError&&this.onError(e)}},{key:"init",value:function(){var r=this;this._xyvod||(this._xyvod=new f.XYVOD({url:this._info.url,video:this._info.mediaElement,startWithCDN:void 0===this._options.startWithCDN||!!this._options.startWithCDN,openTick:this._info.openTick,info:this._info}),this._xyvod.on(f.XYVODEvent.FILE_SIZE,function(e){r._info.fileSize=e,t.xyctl&&t.xyctl.onFileSize&&t.xyctl.onFileSize(e)}),this._xyvod.on(f.XYVODEvent.DATA,function(e,t){r._status=o.LoaderStatus.BUFFERING;try{r.onDataArrival&&r.onDataArrival(i.from(e),t)}catch(e){s.default.ERROR("XYLoader",e,"\nmediaElement error:",r._info.mediaElement.error),r._handleError(e)}}),this._xyvod.on(f.XYVODEvent.END,function(){r._status=o.LoaderStatus.IDLE,t.xyctl&&t.xyctl.onEnd&&t.xyctl.onEnd(),r.onComplete&&r.onComplete()}),this._xyvod.on(f.XYVODEvent.ERROR,function(e){r._handleError(new a.NetworkError(e))}),t.xyctl&&(t.xyctl.getInfo=function(){return r._xyvod&&r._xyvod.info||{}},t.xyctl.pipeDetails=function(){return r._xyvod&&r._xyvod.pipeDetails||{}}))}},{key:"open",value:function(e,t){if(this._status!==o.LoaderStatus.IDLE)throw new TypeError("unexpect status:",this._status);this._status=o.LoaderStatus.CONNECTING;try{this._xyvod.open(e,t)}catch(e){}}},{key:"close",value:function(){this._xyvod.close(),this._status=o.LoaderStatus.IDLE}},{key:"pause",value:function(){this._xyvod&&this._xyvod.pause()}},{key:"resume",value:function(){this._xyvod&&this._xyvod.resume()}},{key:"dispose",value:function(){this.onDataArrival=null,this.onError=null,this.onComplete=null,this._xyvod&&(this._xyvod.dispose(),this._xyvod=null),this._status=o.LoaderStatus.IDLE}},{key:"status",get:function(){return this._status}}]),n}();h.default=u})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},c("buffer").Buffer)},{"../../../xyvod-core-general/build/xyvod":37,"../utils/error":218,"../utils/logger":219,"./loader":179,buffer:274}],181:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.MPEGVersion={MPEG2DOT5:0,UNDEFINED:1,MPEG2:2,MPEG1:3},r.Version=[0,1,2,3],r.MPEGLayer={UNKNOWN:0,I:1,II:2,III:3},r.Layer=[0,3,2,1],r.Frequencies=[[22050,24e3,16e3,5e4],[44100,48e3,32e3,5e4],[11025,12e3,8e3,5e4]],r.Bitrate=[[[0,32,48,56,64,80,96,112,128,144,160,176,192,224,256],[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160],[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160]],[[0,32,64,96,128,160,192,224,256,288,32,352,384,416,448],[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320]]],r.FrameSizeIndex=[24e3,72e3,72e3],r.ModeText=["stereo","joint stereo","dual channel","mono"],r.EmphasisText=["none","50/15 microsecs","reserved","CCITT J 17"]},{}],182:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("../utils/logger"),o=((n=s)&&n.__esModule,e("./mp3-constant"));var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sync=null,this.version=o.MPEGVersion.UNDEFINED,this.layer=null,this.crc=null,this.bitrate=null,this.freq=null,this.padding=null,this.extension=null,this.mode=null,this.modeExtension=null,this.copyright=null,this.original=null,this.emphasis=null}return i(e,[{key:"clone",value:function(e){this.sync=e.sync,this.version=e.version,this.layer=e.layer,this.crc=e.crc,this.bitrate=e.bitrate,this.freq=e.freq,this.padding=e.padding,this.extension=e.extension,this.mode=e.mode,this.modeExtension=e.modeExtension,this.copyright=e.copyright,this.original=e.original,this.emphasis=e.emphasis}},{key:"parse",value:function(e){if(this.sync=e[0]<<4|(224&e[1])>>4,16&e[1]?this.version=e[1]>>3&1:this.version=o.MPEGVersion.MPEG2,this.layer=e[1]>>1&3,this.bitrate=e[2]>>4&15,4094!==this.sync||this.layer!==o.MPEGLayer.I||15===this.bitrate)return this.sync=0;if(this.crc=1&e[1],this.freq=e[2]>>2&3,this.padding=e[2]>>1&1,this.extension=1&e[2],this.mode=e[3]>>6&3,this.modeExtension=e[3]>>4&3,this.copyright=e[3]>>3&1,this.original=e[3]>>2&1,this.emphasis=3&e[3],15===this.bitrate||3===this.freq)return 0;var t=this.frameLength();return 21<=t?t:0}},{key:"frameLength",value:function(){return Math.floor(4094===this.sync?o.FrameSizeIndex[o.FrameSizeIndex.length-this.layer]*(1+(1&this.version))*this.headerBitrate()/this.headerFrequency()+this.padding:1)}},{key:"headerLayer",value:function(){return o.Layer[this.layer]}},{key:"headerBitrate",value:function(){return o.Bitrate[1&this.version][3-this.layer][this.bitrate]}},{key:"headerFrequency",value:function(){return o.Frequencies[this.version][this.freq]}},{key:"headerEmphasis",value:function(){return o.EmphasisText[this.emphasis]}},{key:"headerMode",value:function(){return o.ModeText[this.mode]}},{key:"sameConstant",value:function(e){return this.sync===e.sync||this.version===e.version&&this.layer===e.layer&&this.crc===e.crc&&this.freq===e.freq&&this.mode===e.mode&&this.copyright===e.copyright&&this.original===e.original&&this.emphasis===e.emphasis}}]),e}();r.default=a},{"../utils/logger":219,"./mp3-constant":181}],183:[function(a,e,f){((function(i){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e,t=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),r=a("./container-box"),s=(e=r)&&e.__esModule?e:{"default":e},o=a("../protocal/byte-array");var n=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._reserved1=new o.ByteArray(i.allocUnsafe(6)),r._dataReferenceIndex=0,r._reserved2=[0,0],r._channelCount=0,r._sampleSize=0,r._predefined1=0,r._reserved3=0,r._sampleRate=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),t(n,[{key:"read",value:function(e){var t=e.position;this._reserved1.writeBytes(e.readBytes(6)),this._dataReferenceIndex=e.readUint16(),this._reserved2[0]=e.readUint32(),this._reserved2[1]=e.readUint32(),this._channelCount=e.readUint16(),this._sampleSize=e.readUint16(),this._predefined1=e.readUint16(),this._reserved3=e.readUint16(),this._sampleRate=e.readUint32()/65536;var r=this.payloadSize-(e.position-t);(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"readBoxes",this).call(this,e,r)}},{key:"channelCount",get:function(){return this._channelCount}},{key:"sampleRate",get:function(){return this._sampleRate}}]),n}();f.default=n})).call(this,a("buffer").Buffer)},{"../protocal/byte-array":210,"./container-box":189,buffer:274}],184:[function(a,e,f){((function(t){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e,r=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),n=a("./box"),i=(e=n)&&e.__esModule?e:{"default":e},s=a("../protocal/byte-array");var o=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._configRecord=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.default),r(n,[{key:"read",value:function(e){this._configRecord=new s.ByteArray(t.allocUnsafe(this.payloadSize)),this._configRecord.writeBytes(e.readBytes(this.payloadSize))}},{key:"configRecord",get:function(){return this._configRecord}}]),n}();f.default=o})).call(this,a("buffer").Buffer)},{"../protocal/byte-array":210,"./box":188,buffer:274}],185:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BoxType=r.BoxFactory=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=k(e("./container-box")),s=k(e("./ftyp")),o=k(e("./mvhd")),a=k(e("./tkhd")),f=k(e("./mdhd")),u=k(e("./hdlr")),c=e("./stts"),h=e("./ctts"),l=e("./stsc"),d=k(e("./stsz")),p=k(e("./stco")),b=k(e("./stss")),_=k(e("./stsd")),y=k(e("./mdat")),v=k(e("./vse")),m=k(e("./ase")),g=k(e("./avcc")),w=k(e("./esds")),S=k(e("./unknown"));function k(e){return e&&e.__esModule?e:{"default":e}}var E={FTYP:"ftyp",MOOV:"moov",MVHD:"mvhd",TRAK:"trak",TKHD:"tkhd",MDIA:"mdia",MDHD:"mdhd",HDLR:"hdlr",MINF:"minf",STBL:"stbl",STSD:"stsd",STTS:"stts",CTTS:"ctts",STSZ:"stsz",STCO:"stco",CO64:"co64",STSS:"stss",STSC:"stsc",AVC1:"avc1",MP4A:"mp4a",AVCC:"avcC",ESDS:"esds",MDAT:"mdat",MP3:".mp3"},x=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"newBox",value:function(e,t){var r=null;switch(e.boxType){case E.FTYP:r=new s.default(e,t);break;case E.MOOV:case E.TRAK:case E.MDIA:case E.MINF:case E.STBL:r=new i.default(e,t);break;case E.MVHD:r=new o.default(e,t);break;case E.TKHD:r=new a.default(e,t);break;case E.MDHD:r=new f.default(e,t);break;case E.HDLR:r=new u.default(e,t);break;case E.STTS:r=new c.STTSBox(e,t);break;case E.CTTS:r=new h.CTTSBox(e,t);break;case E.STSC:r=new l.STSCBox(e,t);break;case E.STSZ:r=new d.default(e,t);break;case E.STCO:case E.CO64:r=new p.default(e,t);break;case E.STSS:r=new b.default(e,t);break;case E.STSD:r=new _.default(e,t);break;case E.MDAT:r=new y.default(e,t);break;case E.AVC1:t.boxType===E.STSD&&(r=new v.default(e,t));break;case E.MP3:case E.MP4A:t.boxType===E.STSD&&(r=new m.default(e,t));break;case E.AVCC:r=new g.default(e,t);break;case E.ESDS:r=new w.default(e,t)}return r||(r=new S.default(e,t)),r}}]),e}();r.BoxFactory=x,r.BoxType=E},{"./ase":183,"./avcc":184,"./container-box":189,"./ctts":190,"./esds":191,"./ftyp":192,"./hdlr":194,"./mdat":195,"./mdhd":196,"./mvhd":200,"./stco":201,"./stsc":202,"./stsd":203,"./stss":204,"./stsz":205,"./stts":206,"./tkhd":207,"./unknown":208,"./vse":209}],186:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._totalSize=0,this._boxType="",this._extendedSize=0}return n(e,[{key:"read",value:function(e){if(e.bytesAvailable<8)throw new RangeError("Not enough bytes to read");var t=e.position,r=e.readUint32(),n=e.readString(4),i=0;1===r&&(e.bytesAvailable<8&&(e.position=t),i=e.readUint64()),this._totalSize=r,this._boxType=n,this._extendedSize=i}},{key:"boxSize",get:function(){return 1===this._totalSize?this._extendedSize:this._totalSize}},{key:"headerSize",get:function(){return 1===this._totalSize?16:8}},{key:"boxType",get:function(){return this._boxType}},{key:"payloadSize",get:function(){return this.boxSize-this.headerSize}}]),e}();r.default=i},{}],187:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),i=(o(e("../utils/logger")),o(e("./box-header"))),B=e("./box-factory"),E=o(e("./mp4-track")),R=o(e("./hdlr")),x=o(e("./mp4-sample")),u=e("./mp4-constant"),D=o(e("../demux/sps-parser")),s=e("../protocal/byte-array");function o(e){return e&&e.__esModule?e:{"default":e}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._samples=[],this.clear(),this._littleEndian=function(){var e=new ArrayBuffer(2);return(new DataView(e)).setInt16(0,256,!0),256===(new Int16Array(e))[0]},this._times=[],this._filepositions=[],this._fileoffsets=[],this._sampleindexes=[],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._byteRate=0}return n(e,[{key:"clear",value:function(){if(this._moovBox=null,this._moovParsedOK=!1,this._audioTracks=[],this._videoTracks=[],this._audioSampleSize=0,this._samples)for(var e=0;e<this._samples.length;e++)this._samples[e]=null;this._samples=[],this._times=[],this._filepositions=[],this._fileoffsets=[],this._sampleindexes=[],this._byteRate=0}},{key:"clearBoxes",value:function(){this._moovBox&&this._moovBox.clear()}},{key:"readMoov",value:function(e){if(!this._moovParsedOK){var t=new s.ByteArray(e),r=new i.default;r.read(t);var n=B.BoxFactory.newBox(r,null);if(n.read(t),n.boxType!==B.BoxType.MOOV)throw new TypeError("box type is not MOOV");this._moovBox=n,this._parseMoov()}}},{key:"_parseStsd",value:function(e,t){var r=[];if(t.handlerType===R.default.VIDE)for(var n=0;n<e.count;n++){var i=u.VideoCodecId.NONE,s=e.descriptions[n];s.boxType===B.BoxType.AVC1&&(t.frameCount+=s.frameCount*t.samples.length,i=u.VideoCodecId.AVC),r.push(i)}else if(t.handlerType===R.default.SOUN)for(var o=0;o<e.count;o++){var a=u.AudioSoundFormat.NONE,f=e.descriptions[o];f.boxType!==B.BoxType.MP4A&&f.boxType!==B.BoxType.MP3||(f.boxType===B.BoxType.MP4A?a=u.AudioSoundFormat.AAC:f.boxType===B.BoxType.MP3&&(a=u.AudioSoundFormat.MP3)),r.push(a)}t.codecs=r}},{key:"_parseStscAndStco",value:function(e,t,r){for(var n=[],i=t.offsetCount-1,s=0;s<t.offsetCount;s++)n.push({});for(var o=e.count-1;0<=o;o--){for(var a=e.entries[o].firstChunk-1,f=a;f<=i;f++){var u={};u.sampleCount=e.entries[o].samplesPerChunk,u.sampleDescIndex=e.entries[o].sampleDescIndex-1,u.offsets=t.offsets[f],n[f]=u}i=a-1}for(var c=0,h=r.samples.length-1,l=0;l<n.length;l++){var d=c+n[l].sampleCount-1;h<d&&(d=h);for(var p=n[l].offsets,b=c;b<=d;b++)r.samples[b].offsetInFile=p,r.samples[b].codecId=r.codecs[n[l].sampleDescIndex],p+=r.samples[b].size;c=d+1}}},{key:"_parseStss",value:function(e,t){if(null!==e)for(var r=0;r<e.syncCount;r++){var n=e.syncTable[r]-1;t.samples[n].seekable=!0}}},{key:"_parseTrak",value:function(e){var t=e.getBox(B.BoxType.MDIA),r=t.getBox(B.BoxType.MDHD),n=new E.default;n.duration=r.duration,n.timeScale=r.timeScale,n.originalDuration=r.originalDuration,n.originalTimeScale=r.originalTimeScale;var i=t.getBox(B.BoxType.HDLR);if(n.handlerType=i.handlerType,i.handlerType===R.default.VIDE||i.handlerType===R.default.SOUN){for(var s=t.getBox(B.BoxType.MINF).getBox(B.BoxType.STBL),o=s.getBox(B.BoxType.STTS),a=0,f=o.count;a<f;a++)for(var u=0,c=o.entries[a].sampleCount;u<c;u++){var h=new x.default;h.handlerType=n.handlerType,h.sampleDelta=o.entries[a].sampleDelta,n.samples.push(h)}var l=n.samples.length,d=0,p=s.getBox(B.BoxType.CTTS);if(null!==p)for(var b=0;b<p.count;b++)for(var _=p.entries[b],y=0;y<_.sampleCount;y++)d<l&&(n.samples[d].compositionTimeOffset=Math.floor(_.sampleOffset*n.timeScale/n.originalTimeScale),d++);for(var v=s.getBox(B.BoxType.STSZ),m=0;m<l;m++)0===v.constantSize?n.samples[m].size=v.sizeTable[m]:n.samples[m].size=v.constantSize;var g=s.getBox(B.BoxType.STSD);this._parseStsd(g,n);var w=s.getBox(B.BoxType.STSC),S=s.getBox(B.BoxType.STCO);null===S&&(S=s.getBox(B.BoxType.CO64)),this._parseStscAndStco(w,S,n);var k=s.getBox(B.BoxType.STSS);this._parseStss(k,n),n.handlerType===R.default.VIDE?this._videoTracks.push(n):n.handlerType===R.default.SOUN&&this._audioTracks.push(n)}}},{key:"_mergeSamples",value:function(){for(var e=0,t=0,r=0,n=0,i=null,s=null,o=0,a=this._audioTracks.length;o<a;o++){r+=(i=this._audioTracks[o]).duration/i.timeScale;for(var f=0,u=i.samples.length;f<u;f++)(s=i.samples[f]).handlerType=i.handlerType,s.decodingTime=Math.floor(n*i.timeScale/i.originalTimeScale),n+=s.sampleDelta,s.sampleDelta=Math.floor(s.sampleDelta*i.timeScale/i.originalTimeScale),e+=s.size,this._samples.push(s)}n=0;for(var c=0,h=0,l=this._videoTracks.length;h<l;h++){(i=this._videoTracks[h]).frameCount,c+=i.duration/i.timeScale;for(var d=0,p=i.samples.length;d<p;d++)(s=i.samples[d]).handlerType=i.handlerType,s.decodingTime=Math.floor(n*i.timeScale/i.originalTimeScale),n+=s.sampleDelta,s.sampleDelta=Math.floor(s.sampleDelta*i.timeScale/i.originalTimeScale),t+=s.size,this._samples.push(s)}var b;this._samples.sort((b="decodingTime",function(e,t){var r=e[b],n=t[b];return n<r?1:r<n?-1:0})),this._byteRate=e/r+t/c;for(var _=1/0,y=this._samples.length-1;0<=y;y--)_=(s=this._samples[y]).offsetInFile<_?s.offsetInFile:_,s.offsetPlayFromNow=_;for(var v=0;v<this._samples.length;v++)(s=this._samples[v]).seekable&&(0,this._times.push(s.decodingTime),this._filepositions.push(s.offsetInFile),this._fileoffsets.push(s.offsetPlayFromNow),this._sampleindexes.push(v))}},{key:"_parseMoov",value:function(){for(var e=this._moovBox.getBoxes(B.BoxType.TRAK),t=0;t<e.length;t++){var r=e[t];this._parseTrak(r)}this._mergeSamples(),this._moovParsedOK=!0}},{key:"getInitMetadata",value:function(e){if("audio"!==e&&"video"!==e)return{};var t={},r=this._moovBox.getBox(B.BoxType.MVHD);t.type=e,t.duration=r.duration,t.timescale=r.timeScale;for(var n=this._moovBox.getBoxes(B.BoxType.TRAK),i=0;i<n.length;i++){var s=n[i],o=s.getBox(B.BoxType.TKHD),a=s.getBox(B.BoxType.MDIA),f=a.getBox(B.BoxType.HDLR),u=a.getBox(B.BoxType.MINF).getBox(B.BoxType.STBL).getBox(B.BoxType.STSD);if(f.handlerType===R.default.VIDE&&"video"===e)for(var c=0;c<u.count;c++){var h=u.descriptions[c];if(h.boxType===B.BoxType.AVC1){var l="avc1.",d=h.getBox(B.BoxType.AVCC),p=new DataView(d.configRecord.buffer.buffer,0,d.configRecord.length),b=(p.getUint8(0),p.getUint8(1),p.getUint8(2),p.getUint8(3),p.getUint8(4),p.getUint8(5),this._littleEndian),_=p.getUint16(6,!b),y=new Uint8Array(d.configRecord.buffer.buffer,8,_),v=D.default.parseSPS(y);t.codecWidth=v.codec_size.width,t.codecHeight=v.codec_size.height,t.presentWidth=v.present_size.width,t.presentHeight=v.present_size.height,t.profile=v.profile_string,t.level=v.level_string,t.bitDepth=v.bit_depth,t.chromaFormat=v.chroma_format,t.sarRatio=v.sar_ratio,t.frameRate=v.frame_rate;var m=t.frameRate.fps_den,g=t.frameRate.fps_num;t.refSampleDuration=t.timescale*(m/g);for(var w=y.subarray(1,4),S=0;S<3;S++){var k=w[S].toString(16);k.length<2&&(k="0"+k),l+=k}return t.codec=l,t.id=o.trackId,t.avcc=new Uint8Array(d.configRecord.buffer.length),t.avcc.set(new Uint8Array(d.configRecord.buffer.buffer,0,d.configRecord.buffer.length),0),t}}else if(f.handlerType===R.default.SOUN&&"audio"===e)for(var E=0;E<u.count;E++){var x=u.descriptions[E];if(t.channelCount=x.channelCount,t.audioSampleRate=x.sampleRate,x.boxType===B.BoxType.MP4A||x.boxType===B.BoxType.MP3)if(x.boxType===B.BoxType.MP4A){var M=x.getBox(B.BoxType.ESDS);if(M.decoderSpecificInfo){var I,T,C=M.decoderSpecificInfo.buffer,j=0,O=null;j=I=C[0]>>>3,T=(7&C[0])<<1|C[1]>>>7;var A=(120&C[1])>>>3;5===j&&(O=(7&C[1])<<1|C[2]>>>7,(124&C[2])>>>2),j=5,O=T;var P=new Array(4);return 6<=T?O=T-3:1===A&&(j=2,P=new Array(2),O=T),P[0]=j<<3,P[0]|=(15&T)>>>1,P[1]=(15&T)<<7,P[1]|=(15&A)<<3,5===j&&(P[1]|=(15&O)>>>1,P[2]=(1&O)<<7,P[2]|=8,P[3]=0),t.codec="mp4a.40."+j,t.originalCodec="mp4a.40."+I,t.config=P,t.id=o.trackId,t.presentWidth=o.width,t.presentHeight=o.height,t.refSampleDuration=1024/this._mpegSamplingRates[T]*t.timescale,t}}else if(x.boxType===B.BoxType.MP3)return t.codec="mp3",t}}return t}},{key:"_getTrackIdByHandlerType",value:function(e){for(var t=this._moovBox.getBoxes(B.BoxType.TRAK),r=0;r<t.length;r++){var n=t[r],i=n.getBox(B.BoxType.TKHD);if(n.getBox(B.BoxType.MDIA).getBox(B.BoxType.HDLR).handlerType===e)return i.trackId}return 0}},{key:"_mergeBoxes",value:function(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(e,0),r.set(t,e.byteLength),r}},{key:"getLeftSampleIndexFromTime",value:function(e){for(var t=this._times.length-1;0<=t&&!(this._times[t]<=e);t--);return{time:this._times[t],fileposition:this._filepositions[t],fileoffset:this._fileoffsets[t],sampleindex:this._sampleindexes[t]}}},{key:"samples",get:function(){return this._samples}},{key:"times",get:function(){return this._times}},{key:"filePositions",get:function(){return this._filepositions}},{key:"byteRate",get:function(){return this._byteRate}}]),e}();r.default=a},{"../demux/sps-parser":177,"../protocal/byte-array":210,"../utils/logger":219,"./box-factory":185,"./box-header":186,"./hdlr":194,"./mp4-constant":197,"./mp4-sample":198,"./mp4-track":199}],188:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._header=e,this._container=t}return n(r,[{key:"read",value:function(){}},{key:"headerSize",get:function(){return this._header.headerSize}},{key:"payloadSize",get:function(){return this._header.payloadSize}},{key:"boxType",get:function(){return this._header.boxType}},{key:"boxSize",get:function(){return this._header.boxSize}}]),r}();r.default=i},{}],189:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=n(e("./box")),o=n(e("./box-header")),a=e("./box-factory");function n(e){return e&&e.__esModule?e:{"default":e}}var f=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._boxes=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default),i(n,[{key:"read",value:function(e){this.readBoxes(e,this.boxSize-this.headerSize)}},{key:"readBoxes",value:function(e,t){for(;0<t;){var r=new o.default;r.read(e);var n=a.BoxFactory.newBox(r,this);n.read(e),this._boxes.push(n),t-=n.boxSize}}},{key:"getBoxes",value:function(e){for(var t=[],r=0,n=this._boxes.length;r<n;r++)this._boxes[r].boxType===e&&t.push(this._boxes[r]);return t}},{key:"getBox",value:function(e){for(var t=0,r=this._boxes.length;t<r;t++)if(this._boxes[t].boxType===e)return this._boxes[t];return null}}]),n}();r.default=f},{"./box":188,"./box-factory":185,"./box-header":186}],190:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CTTSBox=r.CTTSRecord=void 0;var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=function(){function e(){a(this,e),this._sampleCount=0,this._sampleOffset=0}return i(e,[{key:"read",value:function(e){this._sampleCount=e.readUint32(),this._sampleOffset=e.readUint32()}},{key:"sampleCount",get:function(){return this._sampleCount}},{key:"sampleOffset",get:function(){return this._sampleOffset}}]),e}(),u=function(e){function n(e,t){a(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._count=0,r._entries=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._count=e.readUint32();for(var t=0;t<this._count;t++){var r=new f;r.read(e),this._entries.push(r)}}},{key:"count",get:function(){return this._count}},{key:"entries",get:function(){return this._entries}}]),n}();r.CTTSRecord=f,r.CTTSBox=u},{"./full-box":193}],191:[function(a,e,f){((function(s){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e,t=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),r=a("./full-box"),n=(e=r)&&e.__esModule?e:{"default":e},o=a("../protocal/byte-array");var i=function(e){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));return r._decoderSpecificInfo=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n.default),t(i,[{key:"_readDescriptorLength",value:function(e){for(var t=0,r=0;r<4;r++){var n=e.readUint8();if(t=t<<7|127&n,!(128&n))break}return t}},{key:"read",value:function(e){var t=e.position;(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"read",this).call(this,e);var r=e.readUint8(),n=0;r===i.ES&&(n=this._readDescriptorLength(e),e.position+=3),(r=e.readUint8())===i.DECODER_CONFIG&&(n=this._readDescriptorLength(e),e.position+=13),(r=e.readUint8())===i.DECODER_SPECIFIC_INFO&&(n=this._readDescriptorLength(e),this._decoderSpecificInfo=new o.ByteArray(s.allocUnsafe(n)),this._decoderSpecificInfo.writeBytes(e.readBytes(n))),e.position=t+this.payloadSize}},{key:"decoderSpecificInfo",get:function(){return this._decoderSpecificInfo}}]),i}();i.ES=3,i.DECODER_CONFIG=4,i.DECODER_SPECIFIC_INFO=5,f.default=i})).call(this,a("buffer").Buffer)},{"../protocal/byte-array":210,"./full-box":193,buffer:274}],192:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._majorBrand=null,r._minorVersion=0,r._compatibleBrands=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){this._majorBrand=e.readString(4),this._minorVersion=e.readUint32();for(var t=this.payloadSize-8;4<=t;)this._compatibleBrands.push(e.readString(4)),t-=4}}]),n}();r.default=a},{"./box":188}],193:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._version=0,r._flags=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){var t=e.readUint32();this._version=t>>>24,this._flags=16777215&t}}]),n}();r.default=a},{"./box":188}],194:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._predefined=0,r._handlerType=null,r._reserved=[0,0,0],r._name=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){var t=e.position;(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._predefined=e.readUint32(),this._handlerType=e.readString(4),this._reserved[0]=e.readUint32(),this._reserved[1]=e.readUint32(),this._reserved[2]=e.readUint32(),e.position=t+this.payloadSize}},{key:"handlerType",get:function(){return this._handlerType}}]),n}();a.VIDE="vide",a.SOUN="soun",r.default=a},{"./full-box":193}],195:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._bytesReaded=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){var t=this.payloadSize-this._bytesReaded;e.position+=e.bytesAvailable>t?t:e.bytesAvailable}}]),n}();r.default=a},{"./box":188}],196:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._creationTime=0,r._modificationTime=0,r._timeScale=0,r._originalTimeScale=0,r._duration=0,r._originalDuration=0,r._pad=0,r._language=null,r._reserved=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),0!==this._version?(this._creationTime=e.readUint64(),this._modificationTime=e.readUint64(),this._originalTimeScale=e.readUint32(),this._originalDuration=e.readUint64()):(this._creationTime=e.readUint32(),this._modificationTime=e.readUint32(),this._originalTimeScale=e.readUint32(),this._originalDuration=e.readUint32()),this._timeScale=1e3,this._duration=Math.floor(this._originalDuration*this._timeScale/this._originalTimeScale);var t=e.readUint16();this._pad=t>>>15,this._language=String.fromCharCode(96+(t>>>10&31),96+(t>>>5&31),96+(31&t)),this._reserved=e.readUint16()}},{key:"duration",get:function(){return this._duration}},{key:"timeScale",get:function(){return this._timeScale}},{key:"originalDuration",get:function(){return this._originalDuration}},{key:"originalTimeScale",get:function(){return this._originalTimeScale}}]),n}();r.default=a},{"./full-box":193}],197:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.VideoFrameType={KEYFRAME:1,INTER:2,DISPOSABLE_INTER:3,GENERATED_KEYFRAME:4,INFO:5},r.VideoCodecId={NONE:-1,JPEG:1,SORENSON:2,SCREEN:3,VP6:4,VP6_ALPHA:5,SCREEN_V2:6,AVC:7},r.VideoAVCPacketType={SEQUENCE_HEADER:0,NALU:1,END_OF_SEQUENCE:2},r.VideoInfoPacket={SEEK_START:0,SEEK_END:1},r.AudioSoundFormat={NONE:-1,LINEAR:0,ADPCM:1,MP3:2,LINEAR_LE:3,NELLYMOSER_16K:4,NELLYMOSER_8K:5,NELLYMOSER:6,G711A:7,G711U:8,AAC:10,SPEEX:11,MP3_8K:14,DEVICE_SPECIFIC:15},r.AudioSoundRate={RATE5K:5512.5,RATE11K:11025,RATE22K:22050,RATE44K:44100},r.AudioSoundSize={SIZE8BITS:8,SIZE16BITS:16},r.AudioSoundChannels={MONO:1,STEREO:2}},{}],198:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._decodingTime=0,this._sampleDelta=0,this._compositionTimeOffset=0,this._offsetInFile=0,this._offsetPlayFromNow=0,this._size=0,this._codeId=0,this._seekable=!1,this._handlerType=null}return n(e,[{key:"decodingTime",get:function(){return this._decodingTime},set:function(e){this._decodingTime=e}},{key:"handlerType",get:function(){return this._handlerType},set:function(e){this._handlerType=e}},{key:"sampleDelta",get:function(){return this._sampleDelta},set:function(e){this._sampleDelta=e}},{key:"compositionTimeOffset",get:function(){return this._compositionTimeOffset},set:function(e){this._compositionTimeOffset=e}},{key:"size",get:function(){return this._size},set:function(e){this._size=e}},{key:"offsetInFile",get:function(){return this._offsetInFile},set:function(e){this._offsetInFile=e}},{key:"offsetPlayFromNow",get:function(){return this._offsetPlayFromNow},set:function(e){this._offsetPlayFromNow=e}},{key:"codecId",get:function(){return this._codeId},set:function(e){this._codeId=e}},{key:"seekable",get:function(){return this._seekable},set:function(e){this._seekable=e}}]),e}();r.default=i},{}],199:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._timeScale=0,this._duration=0,this._samples=[],this._codecs=[],this._handlerType=null,this._frameCount=0,this._originalTimeScale=0,this._originalDuration=0}return n(e,[{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e}},{key:"timeScale",get:function(){return this._timeScale},set:function(e){this._timeScale=e}},{key:"handlerType",get:function(){return this._handlerType},set:function(e){this._handlerType=e}},{key:"samples",get:function(){return this._samples}},{key:"codecs",get:function(){return this._codecs},set:function(e){this._codecs=e}},{key:"frameCount",get:function(){return this._frameCount},set:function(e){this._frameCount=e}},{key:"originalDuration",get:function(){return this._originalDuration},set:function(e){this._originalDuration=e}},{key:"originalTimeScale",get:function(){return this._originalTimeScale},set:function(e){this._originalTimeScale=e}}]),e}();r.default=i},{}],200:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._creationTime=0,r._modificationTime=0,r._timeScale=0,r._originalTimeScale=0,r._duration=0,r._originalDuration=0,r._rate=0,r._volume=0,r._reserved1=0,r._reserved2=[0,0],r._matrix=[0,0,0,0,0,0,0,0,0],r._reserved3=[0,0,0,0,0,0],r._nextTrackId=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),0!==this._version?(this._creationTime=e.readUint64(),this._modificationTime=e.readUint64(),this._originalTimeScale=e.readUint32(),this._originalDuration=e.readUint64()):(this._creationTime=e.readUint32(),this._modificationTime=e.readUint32(),this._originalTimeScale=e.readUint32(),this._originalDuration=e.readUint32()),this._timeScale=1e3,this._duration=Math.floor(this._originalDuration*this._timeScale/this._originalTimeScale),this._rate=e.readUint32()/65536,this._volume=e.readUint16()/256,this._reserved1=e.readUint16(),this._reserved2[0]=e.readUint32(),this._reserved2[1]=e.readUint32();for(var t=0;t<9;t++)this._matrix[t]=e.readUint32();for(var r=0;r<6;r++)this._reserved3[r]=e.readUint32();this._nextTrackId=e.readUint32()}},{key:"duration",get:function(){return this._duration}},{key:"timeScale",get:function(){return this._timeScale}},{key:"originalDuration",get:function(){return this._originalDuration}},{key:"originalTimeScale",get:function(){return this._originalTimeScale}}]),n}();r.default=a},{"./full-box":193}],201:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._offsetCount=0,r._offsets=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._offsetCount=e.readUint32();for(var t=0;t<this._offsetCount;t++)"stco"===this.boxType?this._offsets.push(e.readUint32()):this._offsets.push(e.readUint64())}},{key:"offsets",get:function(){return this._offsets}},{key:"offsetCount",get:function(){return this._offsetCount}}]),n}();r.default=a},{"./full-box":193}],202:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.STSCBox=r.STSCRecord=void 0;var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=function(){function e(){a(this,e),this._firstChunk=1,this._samplesPerChunk=0,this._sampleDescIndex=1}return i(e,[{key:"read",value:function(e){this._firstChunk=e.readUint32(),this._samplesPerChunk=e.readUint32(),this._sampleDescIndex=e.readUint32()}},{key:"firstChunk",get:function(){return this._firstChunk}},{key:"samplesPerChunk",get:function(){return this._samplesPerChunk}},{key:"sampleDescIndex",get:function(){return this._sampleDescIndex}}]),e}(),u=function(e){function n(e,t){a(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._count=0,r._entries=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._count=e.readUint32();for(var t=0;t<this._count;t++){var r=new f;r.read(e),this._entries.push(r)}}},{key:"count",get:function(){return this._count}},{key:"entries",get:function(){return this._entries}}]),n}();r.STSCRecord=f,r.STSCBox=u},{"./full-box":193}],203:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=i(e("./full-box")),o=i(e("./box-header")),a=e("./box-factory");function i(e){return e&&e.__esModule?e:{"default":e}}var f=function(e){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));return r._count=0,r._descriptions=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,s.default),n(i,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"read",this).call(this,e),this._count=e.readUint32();for(var t=0;t<this._count;t++){var r=new o.default;r.read(e);var n=a.BoxFactory.newBox(r,this);n.read(e),this._descriptions.push(n)}}},{key:"count",get:function(){return this._count}},{key:"descriptions",get:function(){return this._descriptions}}]),i}();r.default=f},{"./box-factory":185,"./box-header":186,"./full-box":193}],204:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._syncCount=0,r._syncTable=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._syncCount=e.readUint32();for(var t=0;t<this._syncCount;t++)this._syncTable.push(e.readUint32())}},{key:"syncCount",get:function(){return this._syncCount}},{key:"syncTable",get:function(){return this._syncTable}}]),n}();r.default=a},{"./full-box":193}],205:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._constantSize=0,r._sizeCount=0,r._sizeTable=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){if(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._constantSize=e.readUint32(),this._sizeCount=e.readUint32(),0===this._constantSize)for(var t=0;t<this._sizeCount;t++)this._sizeTable.push(e.readUint32())}},{key:"constantSize",get:function(){return this._constantSize}},{key:"sizeTable",get:function(){return this._sizeTable}}]),n}();r.default=a},{"./full-box":193}],206:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.STTSBox=r.STTSRecord=void 0;var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=function(){function e(){a(this,e),this._sampleCount=0,this._sampleDelta=0}return i(e,[{key:"read",value:function(e){this._sampleCount=e.readUint32(),this._sampleDelta=e.readUint32()}},{key:"sampleCount",get:function(){return this._sampleCount}},{key:"sampleDelta",get:function(){return this._sampleDelta}}]),e}(),u=function(e){function n(e,t){a(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._count=0,r._entries=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._count=e.readUint32();for(var t=0;t<this._count;t++){var r=new f;r.read(e),this._entries.push(r)}}},{key:"count",get:function(){return this._count}},{key:"entries",get:function(){return this._entries}}]),n}();r.STTSRecord=f,r.STTSBox=u},{"./full-box":193}],207:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./full-box"),o=(n=s)&&n.__esModule?n:{"default":n};var a=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._creationTime=0,r._modificationTime=0,r._trackId=0,r._reserved1=0,r._duration=0,r._reserved2=[0,0],r._layer=0,r._alternateGroup=0,r._volume=0,r._matrix=[0,0,0,0,0,0,0,0,0],r._reserved3=[0,0,0,0,0,0],r._width=0,r._height=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default),i(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),0!==this._version?(this._creationTime=e.readUint64(),this._modificationTime=e.readUint64()):(this._creationTime=e.readUint32(),this._modificationTime=e.readUint32()),this._trackId=e.readUint32(),this._reserved1=e.readUint32(),0===this._version?this._duration=e.readUint32():this._duration=e.readUint64(),this._reserved2[0]=e.readUint32(),this._reserved2[1]=e.readUint32(),this._layer=e.readUint16(),this._alternateGroup=e.readUint16(),this._volume=e.readUint16()/256,this._reserved3=e.readUint16();for(var t=0;t<9;t++)this._matrix[t]=e.readUint32();this._width=e.readUint32()/65536,this._height=e.readUint32()/65536}},{key:"trackId",get:function(){return this._trackId}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),n}();r.default=a},{"./full-box":193}],208:[function(a,e,f){((function(t){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e,r=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),n=a("./box"),i=(e=n)&&e.__esModule?e:{"default":e},s=a("../protocal/byte-array");var o=function(e){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r._payload=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.default),r(n,[{key:"read",value:function(e){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"read",this).call(this,e),this._payload=new s.ByteArray(t.allocUnsafe(this.payloadSize)),this._payload=e.readBytes(this.payloadSize)}}]),n}();f.default=o})).call(this,a("buffer").Buffer)},{"../protocal/byte-array":210,"./box":188,buffer:274}],209:[function(a,e,f){((function(n){"use strict";Object.defineProperty(f,"__esModule",{value:!0});var e,t=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),r=a("./container-box"),s=(e=r)&&e.__esModule?e:{"default":e},o=a("../protocal/byte-array");var i=function(e){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,t));return r._reserved1=new o.ByteArray(n.allocUnsafe(6)),r._dataReferenceIndex=0,r._predefined1=0,r._reserved2=0,r._predefined2=[],r._width=0,r._height=0,r._horizResolution=0,r._vertResolution=0,r._reserved3=0,r._frameCount=0,r._compressorName=null,r._depth=0,r._predefined3=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,s.default),t(i,[{key:"read",value:function(e){var t=e.position;this._reserved1.writeBytes(e.readBytes(6)),this._dataReferenceIndex=e.readUint16(),this._predefined1=e.readUint16(),this._reserved2=e.readUint16(),this._predefined2[0]=e.readUint32(),this._predefined2[1]=e.readUint32(),this._predefined2[2]=e.readUint32(),this._width=e.readUint16(),this._height=e.readUint16(),this._horizResolution=e.readUint32()/65536,this._vertResolution=e.readUint32()/65536,this._reserved3=e.readUint32(),this._frameCount=e.readUint16();var r=e.position;this._compressorName=e.readString(32),e.position=r+32,this._depth=e.readUint16(),this._predefined3=e.readUint16();var n=this.payloadSize-(e.position-t);(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"readBoxes",this).call(this,e,n)}},{key:"frameCount",get:function(){return this._frameCount}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),i}();f.default=i})).call(this,a("buffer").Buffer)},{"../protocal/byte-array":210,"./container-box":189,buffer:274}],210:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ByteArray=r.Endian=void 0;var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("buffer"),o=e("assert"),a=(n=o)&&n.__esModule?n:{"default":n};var f={BIG_ENDIAN:!1,LITTLE_ENDIAN:!0},u=1,c=2,h=3,l=4,d=8,p=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a.default.ok(s.Buffer.isBuffer(e),"expect Buffer"),this._buf=e,this._pos=0,this._endian=f.BIG_ENDIAN}return i(t,[{key:"readUint8",value:function(){var e=this._buf.readUInt8(this._pos);return this._pos+=u,e}},{key:"writeUint8",value:function(e){this._buf.writeUInt8(e,this._pos),this._pos+=u}},{key:"readUint16",value:function(){var e=this._buf.readUInt16BE(this._pos);return this._pos+=c,e}},{key:"writeUint16",value:function(e){this._buf.writeUInt16BE(e,this._pos),this._pos+=c}},{key:"readUint24",value:function(){var e=(this._buf.readUInt8(this._pos)<<16)+(this._buf.readUInt8(this._pos+1)<<8)+this._buf.readUInt8(this._pos+2);return this._pos+=h,e}},{key:"writeUint24",value:function(e){this._buf.writeUInt8(e>>>16,this._pos),this._buf.writeUInt8((65280&e)>>>8,this._pos+1),this._buf.writeUInt8(255&e,this._pos+2),this._pos+=h}},{key:"readUint32",value:function(){var e=this._buf.readUInt32BE(this._pos);return this._pos+=l,e}},{key:"writeUint32",value:function(e){this._buf.writeUInt32BE(e,this._pos),this._pos+=l}},{key:"readUint64",value:function(){var e=this._buf.readUInt32BE(this._pos).toString(16),t=function(e,t){for(var r=t/4-e.length,n="",i=0;i<r;i++)n+="0";return n+e}(this._buf.readUInt32BE(this._pos+4).toString(16),32);return this._pos+=d,parseInt(e+t,16)}},{key:"writeUint64",value:function(e){var t=e.toString(16),r=t.length;if(0<r){var n=parseInt(t.slice(0,r-8),16);this._buf.writeUInt32BE(n,this._pos);var i=parseInt(t.slice(r-8),16);this._buf.writeUInt32BE(i,this._pos+4)}else this._buf.writeUInt32BE(0,this._pos),this._buf.writeUInt32BE(e,this._pos+4);this._pos+=d}},{key:"readString",value:function(e){for(var t="",r=0;r<e;r++)t+=String.fromCharCode(this._buf.readUInt8(this._pos)),this._pos++;return t}},{key:"writeString",value:function(e){for(var t=0,r=e.length;t<r;t++)this._buf.writeUInt8(e.charCodeAt(t),this._pos),this._pos++}},{key:"readBytes",value:function(e){var t=this._buf.slice(this._pos,this._pos+e);return this._pos+=e,t}},{key:"writeBytes",value:function(e){e.copy(this._buf,this._pos),this._pos+=e.length}},{key:"position",set:function(e){this._pos=e},get:function(){return this._pos}},{key:"buffer",get:function(){return this._buf}},{key:"bytesAvailable",get:function(){return this.length-this._pos}},{key:"length",get:function(){return this._buf.length}}]),t}();r.Endian=f,r.ByteArray=p},{assert:238,buffer:274}],211:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"getSilentFrame",value:function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),e}();r.default=i},{}],212:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function h(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h)}return n(h,null,[{key:"init",value:function(){for(var e in h.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]})h.types.hasOwnProperty(e)&&(h.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var t=h.constants={};t.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),t.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),t.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSC=t.STCO=t.STTS,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),t.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),t.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}},{key:"box",value:function(e){for(var t=8,r=null,n=Array.prototype.slice.call(arguments,1),i=n.length,s=0;s<i;s++)t+=n[s].byteLength;(r=new Uint8Array(t))[0]=t>>>24&255,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r.set(e,4);for(var o=8,a=0;a<i;a++)r.set(n[a],o),o+=n[a].byteLength;return r}},{key:"generateInitSegment",value:function(e){var t=h.box(h.types.ftyp,h.constants.FTYP),r=h.moov(e),n=new Uint8Array(t.byteLength+r.byteLength);return n.set(t,0),n.set(r,t.byteLength),n}},{key:"moov",value:function(e){var t=h.mvhd(e.timescale,e.duration),r=h.trak(e),n=h.mvex(e);return h.box(h.types.moov,t,r,n)}},{key:"mvhd",value:function(e,t){return h.box(h.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"trak",value:function(e){return h.box(h.types.trak,h.tkhd(e),h.mdia(e))}},{key:"tkhd",value:function(e){var t=e.id,r=e.duration,n=e.presentWidth,i=e.presentHeight;return h.box(h.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>>8&255,255&n,0,0,i>>>8&255,255&i,0,0]))}},{key:"mdia",value:function(e){return h.box(h.types.mdia,h.mdhd(e),h.hdlr(e),h.minf(e))}},{key:"mdhd",value:function(e){var t=e.timescale,r=e.duration;return h.box(h.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,r>>>24&255,r>>>16&255,r>>>8&255,255&r,85,196,0,0]))}},{key:"hdlr",value:function(e){var t=null;return t="audio"===e.type?h.constants.HDLR_AUDIO:h.constants.HDLR_VIDEO,h.box(h.types.hdlr,t)}},{key:"minf",value:function(e){var t=null;return t="audio"===e.type?h.box(h.types.smhd,h.constants.SMHD):h.box(h.types.vmhd,h.constants.VMHD),h.box(h.types.minf,t,h.dinf(),h.stbl(e))}},{key:"dinf",value:function(){return h.box(h.types.dinf,h.box(h.types.dref,h.constants.DREF))}},{key:"stbl",value:function(e){return h.box(h.types.stbl,h.stsd(e),h.box(h.types.stts,h.constants.STTS),h.box(h.types.stsc,h.constants.STSC),h.box(h.types.stsz,h.constants.STSZ),h.box(h.types.stco,h.constants.STCO))}},{key:"stsd",value:function(e){return"audio"===e.type?"mp3"===e.codec?h.box(h.types.stsd,h.constants.STSD_PREFIX,h.mp3(e)):h.box(h.types.stsd,h.constants.STSD_PREFIX,h.mp4a(e)):h.box(h.types.stsd,h.constants.STSD_PREFIX,h.avc1(e))}},{key:"mp3",value:function(e){var t=e.channelCount,r=e.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return h.box(h.types[".mp3"],n)}},{key:"mp4a",value:function(e){var t=e.channelCount,r=e.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t,0,16,0,0,0,0,r>>>8&255,255&r,0,0]);return h.box(h.types.mp4a,n,h.esds(e))}},{key:"esds",value:function(e){var t=e.config||[],r=t.length,n=new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(t).concat([6,1,2]));return h.box(h.types.esds,n)}},{key:"avc1",value:function(e){var t=e.avcc,r=e.codecWidth,n=e.codecHeight,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,r>>>8&255,255&r,n>>>8&255,255&n,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return h.box(h.types.avc1,i,h.box(h.types.avcC,t))}},{key:"mvex",value:function(e){return h.box(h.types.mvex,h.trex(e))}},{key:"trex",value:function(e){var t=e.id,r=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return h.box(h.types.trex,r)}},{key:"moof",value:function(e,t){return h.box(h.types.moof,h.mfhd(e.sequenceNumber),h.traf(e,t))}},{key:"mfhd",value:function(e){var t=new Uint8Array([0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e]);return h.box(h.types.mfhd,t)}},{key:"traf",value:function(e,t){var r=e.id,n=h.box(h.types.tfhd,new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r])),i=h.box(h.types.tfdt,new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t])),s=h.sdtp(e),o=h.trun(e,s.byteLength+16+16+8+16+8+8);return h.box(h.types.traf,n,i,o,s)}},{key:"sdtp",value:function(e){for(var t=e.samples||[],r=t.length,n=new Uint8Array(4+r),i=0;i<r;i++){var s=t[i].flags;n[i+4]=s.isLeading<<6|s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy}return h.box(h.types.sdtp,n)}},{key:"trun",value:function(e,t){var r=e.samples||[],n=r.length,i=12+16*n,s=new Uint8Array(i);t+=8+i,s.set([0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,255&n,t>>>24&255,t>>>16&255,t>>>8&255,255&t],0);for(var o=0;o<n;o++){var a=r[o].duration,f=r[o].size,u=r[o].flags,c=r[o].cts;s.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,f>>>24&255,f>>>16&255,f>>>8&255,255&f,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.isNonSync,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c],12+16*o)}return h.box(h.types.trun,s)}},{key:"mdat",value:function(e){return h.box(h.types.mdat,e)}}]),h}();i.init(),r.default=i},{}],213:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),K=(i(e("../utils/logger")),i(e("./mp4-generator"))),V=i(e("./aac-silent")),W=i(e("../utils/browser")),O=i(e("../utils/polyfill")),G=e("../core/media-segment-info"),s=e("../utils/error");function i(e){return e&&e.__esModule?e:{"default":e}}function X(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._isLive=!1,this._dtsBase=0,this._dtsBaseInited=!0,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new G.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new G.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!W.default.chrome||!(W.default.version.major<50||50===W.default.version.major&&W.default.version.build<2661)),this._fillSilentAfterSeek=W.default.msedge||W.default.msie,this._mp3UseMpegAudio=!W.default.firefox,this._fillAudioTimestampGap=!0}return n(e,[{key:"destroy",value:function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}},{key:"bindDataSource",value:function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}},{key:"insertDiscontinuity",value:function(){this._audioNextDts=this._videoNextDts=void 0}},{key:"seek",value:function(){this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}},{key:"remux",value:function(e,t){if(!this._onMediaSegment)throw new s.IllegalStateError("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)}},{key:"_onTrackMetadataReceived",value:function(e,t){var r=null,n="mp4",i=t.codec;if("audio"===e)"mp3"===(this._audioMeta=t).codec&&this._mp3UseMpegAudio?(n="mpeg",i="",r=new Uint8Array):r=K.default.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,r=K.default.generateInitSegment(t)}if(!this._onInitSegment)throw new s.IllegalStateError("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:r.buffer,codec:i,container:e+"/"+n,mediaDuration:t.duration})}},{key:"_calculateDtsBase",value:function(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}},{key:"_remuxAudio",value:function(e){if(null!=this._audioMeta){var t,r=e,n=r.samples,i=void 0,s=-1,o=this._audioMeta.refSampleDuration,a="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,f=this._dtsBaseInited&&void 0===this._audioNextDts,u=!1;if(n&&0!==n.length){var c=0,h=null,l=0;a?(c=0,l=r.length):l=(c=8)+r.length;var d=n[0].dts-this._dtsBase;if(this._audioNextDts)i=d-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())i=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(u=!0);else{var p=this._audioSegmentInfoList.getLastSampleBefore(d);if(null!=p){var b=d-(p.originalDts+p.duration);b<=3&&(b=0),i=d-(p.dts+p.duration+b)}else i=0}if(u){var _=d-i,y=this._videoSegmentInfoList.getLastSegmentBefore(d);if(null!=y&&y.beginDts<_){var v=V.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(v){var m=y.beginDts;y.beginDts;n.unshift({unit:v,dts:m,pts:m}),l+=v.byteLength}}else u=!1}for(var g=[],w=0;w<n.length;w++){var S=n[w],k=S.unit,E=S.dts-this._dtsBase,x=E-i;-1===s&&(s=x);var M=0;if(w!==n.length-1)M=n[w+1].dts-this._dtsBase-i-x;else M=1<=g.length?g[g.length-1].duration:Math.floor(o);var I=!1,T=null;if(1.5*o<M&&"mp3"!==this._audioMeta.codec&&this._fillAudioTimestampGap&&!W.default.safari){I=!0;var C=Math.abs(M-o),j=Math.ceil(C/o),O=x+o,A=V.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==A&&(A=k),T=[];for(var P=0;P<j;P++){var B=Math.round(O);if(0<T.length){var R=T[T.length-1];R.duration=B-R.dts}var D={dts:B,pts:B,cts:0,unit:A,size:A.byteLength,duration:0,originalDts:E,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};T.push(D),l+=D.unit.byteLength,O+=o}var L=T[T.length-1];L.duration=x+M-L.dts,M=Math.round(o)}g.push({dts:x,pts:x,cts:0,unit:S.unit,size:S.unit.byteLength,duration:M,originalDts:E,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),I&&g.push.apply(g,X(T))}a?h=new Uint8Array(l):((h=new Uint8Array(l))[0]=l>>>24&255,h[1]=l>>>16&255,h[2]=l>>>8&255,h[3]=255&l,h.set(K.default.types.mdat,4));for(var U=0;U<g.length;U++){var N=g[U].unit;h.set(N,c),c+=N.byteLength}var q=g[g.length-1];t=q.dts+q.duration,this._audioNextDts=t;var F=new G.MediaSegmentInfo;F.beginDts=s,F.endDts=t,F.beginPts=s,F.endPts=t,F.originalBeginDts=g[0].originalDts,F.originalEndDts=q.originalDts+q.duration,F.firstSample=new G.SampleInfo(g[0].dts,g[0].pts,g[0].duration,g[0].originalDts,!1),F.lastSample=new G.SampleInfo(q.dts,q.pts,q.duration,q.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(F),r.samples=g,r.sequenceNumber++;var z=null;z=a?new Uint8Array:K.default.moof(r,s),r.samples=[],r.length=0;var H={type:"audio",data:this._mergeBoxes(z,h).buffer,sampleCount:g.length,info:F};a&&f&&(H.timestampOffset=s),this._onMediaSegment("audio",H)}}}},{key:"_remuxVideo",value:function(e){if(null!=this._videoMeta){var t,r,n=e,i=n.samples,s=void 0,o=-1,a=-1;if(i&&0!==i.length){var f=8,u=8+e.length,c=new Uint8Array(u);c[0]=u>>>24&255,c[1]=u>>>16&255,c[2]=u>>>8&255,c[3]=255&u,c.set(K.default.types.mdat,4);var h=i[0].dts-this._dtsBase;if(this._videoNextDts)s=h-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())s=0;else{var l=this._videoSegmentInfoList.getLastSampleBefore(h);if(null!=l){var d=h-(l.originalDts+l.duration);d<=3&&(d=0),s=h-(l.dts+l.duration+d)}else s=0}for(var p=new G.MediaSegmentInfo,b=[],_=0;_<i.length;_++){var y=i[_],v=y.dts-this._dtsBase,m=y.isKeyframe,g=v-s,w=y.cts,S=g+w;-1===o&&(o=g,a=S);var k=0;if(_!==i.length-1)k=i[_+1].dts-this._dtsBase-s-g;else k=1<=b.length?b[b.length-1].duration:Math.floor(this._videoMeta.refSampleDuration);if(O.default.isRealNaN(k)&&(k=i[0].duration),m){var E=new G.SampleInfo(g,S,k,y.dts,!0);E.fileposition=y.fileposition,p.appendSyncPoint(E)}b.push({dts:g,pts:S,cts:w,units:y.units,size:y.length,isKeyframe:m,duration:k,originalDts:v,flags:{isLeading:0,dependsOn:m?2:1,isDependedOn:m?1:0,hasRedundancy:0,isNonSync:m?0:1}})}for(var x=0;x<b.length;x++)for(var M=b[x].units;M.length;){var I=M.shift().data;c.set(I,f),f+=I.byteLength}var T=b[b.length-1];if(t=T.dts+T.duration,r=T.pts+T.duration,this._videoNextDts=t,p.beginDts=o,p.endDts=t,p.beginPts=a,p.endPts=r,p.originalBeginDts=b[0].originalDts,p.originalEndDts=T.originalDts+T.duration,p.firstSample=new G.SampleInfo(b[0].dts,b[0].pts,b[0].duration,b[0].originalDts,b[0].isKeyframe),p.lastSample=new G.SampleInfo(T.dts,T.pts,T.duration,T.originalDts,T.isKeyframe),this._isLive||this._videoSegmentInfoList.append(p),n.samples=b,n.sequenceNumber++,this._forceFirstIDR){var C=b[0].flags;C.dependsOn=2,C.isNonSync=0}var j=K.default.moof(n,o);n.samples=[],n.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(j,c).buffer,sampleCount:b.length,info:p})}}}},{key:"_mergeBoxes",value:function(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(e,0),r.set(t,e.byteLength),r}},{key:"onInitSegment",get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e}},{key:"onMediaSegment",get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e}}]),e}();r.default=o},{"../core/media-segment-info":171,"../utils/browser":214,"../utils/error":218,"../utils/logger":219,"../utils/polyfill":220,"./aac-silent":211,"./mp4-generator":212}],214:[function(e,t,r){arguments[4][24][0].apply(r,arguments)},{dup:24}],215:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.readViewUint64=function(e,t){var r=e.getUint32(t,!1).toString(16),n=i(e.getUint32(t+4,!1).toString(16),32);return parseInt(r+n,16)};var i=function(e,t){for(var r=t/4-e.length,n="",i=0;i<r;i++)n+="0";return n+e}},{}],216:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.mediaElement=e.media||e.video||e.audio;var t=e.bufferLengthLimit||10;this.bufferLengthLimit=Math.max(t,10),this.clear()}return n(r,[{key:"isBuffered",value:function(e){var t=this.mediaElement;if(!t)return!1;for(var r=0;r<t.buffered.length;r++)if(e>=t.buffered.start(r)&&e<t.buffered.end(r))return!0;return!1}},{key:"getBufferedEnd",value:function(e){var t=this.mediaElement;if(!t)return 0;for(var r=0;r<t.buffered.length;r++)if(e>=t.buffered.start(r)&&e<t.buffered.end(r))return t.buffered.end(r);return 0}},{key:"getTimeFromRange",value:function(e){for(var t=0,r=0;r<e.length;r++)t+=e.end(r)-e.start(r);return t}},{key:"parseTimeRanges",value:function(e){for(var t="length: "+e.length+", ranges: ",r=0;r<e.length;r++)t+="("+e.start(r)+", "+e.end(r)+")";return t}},{key:"clear",value:function(){this.fileType="",this.firstFrame=0,this.fileSize=0,this.isSeeking=!1,this.seekTime=0,this.openTick=0,this.timeStat=[]}},{key:"dispose",value:function(){this.mediaElement=null,this.clear()}},{key:"bufferLength",get:function(){var e=this.mediaElement;if(!e||!e.buffered||0===e.buffered.length)return 0;for(var t=0,r=e.buffered.length;t<r;t++){var n=e.buffered.start(t),i=e.buffered.end(t);if(e.currentTime>=n&&e.currentTime<i)return i-e.currentTime}return 0}},{key:"playTime",get:function(){var e=this.mediaElement;return e&&void 0!==e.currentTime?e.currentTime:0}},{key:"buffered",get:function(){var e=this.mediaElement;return e?this.parseTimeRanges(e.buffered):[]}},{key:"played",get:function(){var e=this.mediaElement;return e?this.parseTimeRanges(e.played):[]}}]),r}();r.default=i},{}],217:[function(s,e,o){((function(t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e,r=s("./browser"),n=(e=r)&&e.__esModule?e:{"default":e};var i="function"==typeof Object.create?Object.create(null):{};i.VERSION="1.3.10",i.WSS_PORT=8443,i.MAX_CACHE_SIZE=37748736,i.RESERVED_CACHE_SIZE=2097152,i.MAX_READING_LENGTH=2097152,i.FILE_TYPE_MP4="mp4",i.FILE_TYPE_MP3="mp3",i.FILE_TYPE_FLV="flv",i.isHttps=function(){if(!t.document||!t.document.location)return!1;return/^https:/.test(t.document.location.href)}(),i.http=i.isHttps?"https":"http",i.ws=i.isHttps?"wss":"ws",i.userAgent=t.navigator&&t.navigator.userAgent?t.navigator.userAgent:"",i.isFetchStreamSupported=function(){try{return!(!t.fetch||!t.ReadableStream||n.default.msedge)}catch(e){return!1}}(),i.isMozChunkedSupported=function(){if(!n.default.firefox)return!1;try{var e=new t.XMLHttpRequest;return e.open("GET","https://example.com",!0),(e.responseType="moz-chunked-arraybuffer")===e.responseType}catch(e){return!1}}(),i.isMSEH264Supported=t.MediaSource&&t.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o.default=i})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":214}],218:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=r.RuntimeError=function(){function t(e){o(this,t),this.message=e}return n(t,[{key:"toString",value:function(){return this.name+": "+this.message}},{key:"name",get:function(){return"RuntimeError"}}]),t}();r.IllegalStateError=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,a),n(t,[{key:"name",get:function(){return"IllegalStateError"}}]),t}(),r.InvalidArgumentError=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,a),n(t,[{key:"name",get:function(){return"InvalidArgumentError"}}]),t}(),r.NetworkError=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,a),n(t,[{key:"name",get:function(){return"NetworkError"}}]),t}(),r.MediaError=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,a),n(t,[{key:"name",get:function(){return"MediaError"}}]),t}(),r.OtherError=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,a),n(t,[{key:"name",get:function(){return"OtherError"}}]),t}()},{}],219:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("../../../xyvod-core-general/build/utils/logger"),s=(n=i)&&n.__esModule?n:{"default":n};r.default=s.default},{"../../../xyvod-core-general/build/utils/logger":30}],220:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"isNumber",value:function(e){return e===+e}},{key:"isInteger",value:function(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&e%1==0}},{key:"isRealNaN",value:function(e){return e!==e}}]),e}();r.default=i},{}],221:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=e("./range"),c=(n=s)&&n.__esModule?n:{"default":n};var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ranges=[],this._start=0,this._end=0}return i(e,[{key:"isIn",value:function(e){for(var t=!1,r=0,n=this._ranges.length;r<n;r++){if(this._ranges[r].isIn(e)){t=!0;break}}return t}},{key:"getRange",value:function(e){for(var t=null,r=0,n=this._ranges.length;r<n;r++){var i=this._ranges[r];if(i.isIn(e)){t=i;break}}return t}},{key:"isContained",value:function(e){if(0===e.length)throw new RangeError("isContained, range.length is 0");if(0===this._ranges.length)return!1;for(var t=0,r=this._ranges.length;t<r;t++)if(this._ranges[t].isContained(e))return!0;return!1}},{key:"addRange",value:function(e){if(0===e.length)throw new RangeError("addRange, range.length is 0");var t=this._ranges.length;if(0===t||this._end<e.position)this._ranges.push(e.clone());else if(this._start>e.end)this._ranges.unshift(e.clone());else{for(var r=0,n=t-1;0<=n;n--){if(this._ranges[n].end<e.position){r=n+1;break}}for(var i=t-1,s=0;s<t;s++){if(this._ranges[s].position>e.end){i=s-1;break}}var o=this._ranges[r],a=this._ranges[i],f=e.clone();e.position>=o.position&&e.position<=o.end&&(f=f.merge(o,!0)),e.end>=a.position&&e.end<=a.end&&(f=f.merge(a,!0)),this._ranges.splice(r,i-r+1,f)}this._updateBound()}},{key:"removeRange",value:function(e){var t;if(0===e.length)throw new RangeError("removeRange, range.length is 0");if(e.position<this._start||e.end>this._end)throw new RangeError("removeRange, range is out of bounds");var r=this._ranges.length;if(!(0===r||this._end<=e.position||this._start>=e.end)){for(var n=0,i=r-1;0<=i;i--){if(this._ranges[i].end<e.position){n=i+1;break}}for(var s=r-1,o=0;o<r;o++){if(this._ranges[o].position>e.end){s=o-1;break}}var a=this._ranges[n],f=this._ranges[s],u=[];e.position>a.position&&e.position<a.end&&u.push(new c.default(a.position,e.position-a.position)),e.end>f.position&&e.end<f.end&&u.push(new c.default(e.end,f.end-e.end)),(t=this._ranges).splice.apply(t,[n,s-n+1].concat(u)),this._updateBound()}}},{key:"equalTo",value:function(e){if(this._ranges.length!==e.ranges.length)return!1;for(var t=0,r=this._ranges.length;t<r;t++)if(!this._ranges[t].equalTo(e.ranges[t]))return!1;return!0}},{key:"clear",value:function(){this._ranges=[],this._start=0,this._end=0}},{key:"toString",value:function(){return"{"+this._ranges.join(",")+"}"}},{key:"_updateBound",value:function(){0!==this._ranges.length&&(this._start=this._ranges[0].position,this._end=this._ranges[this._ranges.length-1].end)}},{key:"length",get:function(){var t=0;return this._ranges.forEach(function(e){t+=e.length}),t}},{key:"ranges",get:function(){return this._ranges}},{key:"end",get:function(){return this._end}},{key:"start",get:function(){return this._start}}]),e}();r.default=o},{"./range":222}],222:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var i=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.assign(e,t)}return n(r,[{key:"assign",value:function(e,t){this._pos=e,this._length=t,this._end=e+t}},{key:"isIn",value:function(e){return e>=this._pos&&e<this._end}},{key:"isContained",value:function(e){if(0===e.length)throw new RangeError("isContained, range.length is 0");return e.position>=this._pos&&e.end<=this._end}},{key:"isFullRange",value:function(){return 0===this._pos&&this._length===r.MAX_LENGTH}},{key:"equalTo",value:function(e){return this._pos===e.position&&this._length===e.length}},{key:"toString",value:function(){return"["+this._pos+","+this._length+","+this._end+")"}},{key:"clone",value:function(){return new r(this._pos,this._length)}},{key:"canMerge",value:function(e){if(0===e.length)throw new RangeError("canMerge, range.length is 0");return!(e.end<this._pos||this._end<e.position)}},{key:"merge",value:function(e){if(!(1<arguments.length&&void 0!==arguments[1]&&arguments[1])&&!this.canMerge(e))throw new RangeError("merge, over bound");var t=Math.min(this._pos,e.position);return new r(t,Math.max(this._end,e.end)-t)}},{key:"intersect",value:function(e){if(0===e.length)throw new RangeError("intersect, range.length is 0");if(e.end<=this._pos||this._end<=e.position)return null;var t=this._pos<e.position?e.position:this._pos;return new r(t,(this._end>e.end?e.end:this._end)-t)}},{key:"position",get:function(){return this._pos}},{key:"length",get:function(){return this._length}},{key:"end",get:function(){return this._end}}]),r}();i.MAX_LENGTH=0xffffffffffff,r.default=i},{}],223:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PlayerEvent=r.XYVODPlayer=void 0;var n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),s=i(e("events")),o=i(e("./utils/logger")),a=i(e("./core/transmuxer")),f=i(e("./utils/polyfill")),u=e("./utils/error"),c=i(e("./utils/common-info"));function i(e){return e&&e.__esModule?e:{"default":e}}var h=new WeakMap,l=0,d=1,p=2,b={ERROR:"error"},_=function(e,t){if(e===p)throw new u.IllegalStateError("XYVODPlayer is already DISPOSED, need to reconstruct");if("load"===t&&e===d)throw new u.IllegalStateError("XYVODPlayer is LOADING")},y=function(){function i(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),!e)throw new u.InvalidArgumentError("XYVODPlayer constructor, expect options");if(!e.media&&!e.video&&!e.audio)throw new u.InvalidArgumentError("XYVODPlayer constructor, expect options.video");f.default.isInteger(e.logLevel)&&(o.default.Level=e.logLevel),o.default.NamingSpace="Player",o.default.Level=99;var t=new c.default(e),r=new a.default(t,e),n=new s.default;r.onError=function(e){n.emit(b.ERROR,e)},h.set(this,{transmuxer:r,info:t,emitter:n,readyState:l})}return n(i,[{key:"on",value:function(e,t){_(this.readyState),h.get(this).emitter.addListener(e,t)}},{key:"off",value:function(e,t){_(this.readyState);var r=h.get(this).emitter;e?t?r.removeListener(e,t):r.removeAllListeners(e):r.removeAllListeners()}},{key:"dispose",value:function(){h.get(this).transmuxer&&(h.get(this).transmuxer.dispose(),h.get(this).transmuxer=null),h.get(this).info&&(h.get(this).info.dispose(),h.get(this).info=null),h.get(this).emitter&&(h.get(this).emitter.removeAllListeners(),h.get(this).emitter=null),h.get(this).readyState=p}},{key:"load",value:function(e){if(_(this.readyState,"load"),!e)throw new u.InvalidArgumentError("url is not correct");h.get(this).transmuxer.open(e),h.get(this).readyState=d}},{key:"unload",value:function(){_(this.readyState),h.get(this).info.clear(),h.get(this).transmuxer.close(),h.get(this).readyState=l}},{key:"play",value:function(){return _(this.readyState),h.get(this).info.mediaElement.play()}},{key:"pause",value:function(){_(this.readyState),h.get(this).info.mediaElement.pause()}},{key:"seek",value:function(e){if(_(this.readyState),!f.default.isNumber(e))throw new u.InvalidArgumentError("second must be a number");e<h.get(this).info.mediaElement.duration?h.get(this).transmuxer.seek(e):this.unload()}},{key:"readyState",get:function(){return h.get(this).readyState}},{key:"info",get:function(){var e=h.get(this).info;return e&&e.getCustomerInfo?e.getCustomerInfo():{}}}]),i}();r.XYVODPlayer=y,r.PlayerEvent=b},{"./core/transmuxer":173,"./utils/common-info":216,"./utils/error":218,"./utils/logger":219,"./utils/polyfill":220,events:309}],224:[function(e,t,r){var n=r;n.bignum=e("bn.js"),n.define=e("./asn1/api").define,n.base=e("./asn1/base"),n.constants=e("./asn1/constants"),n.decoders=e("./asn1/decoders"),n.encoders=e("./asn1/encoders")},{"./asn1/api":225,"./asn1/base":227,"./asn1/constants":231,"./asn1/decoders":233,"./asn1/encoders":236,"bn.js":243}],225:[function(e,t,r){var n=e("../asn1"),i=e("inherits");function s(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}r.define=function(e,t){return new s(e,t)},s.prototype._createNamed=function(t){var r;try{r=e("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){r=function(e){this._initNamed(e)}}return i(r,t),r.prototype._initNamed=function(e){t.call(this,e)},new r(this)},s.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},s.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},s.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},s.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},{"../asn1":224,inherits:327,vm:388}],226:[function(e,t,r){var n=e("inherits"),i=e("../base").Reporter,s=e("buffer").Buffer;function o(e,t){i.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function a(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof a||(e=new a(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(o,i),(r.DecoderBuffer=o).prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},o.prototype.restore=function(e){var t=new o(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},o.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new o(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},o.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},(r.EncoderBuffer=a).prototype.join=function(t,r){return t||(t=new s(this.length)),r||(r=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(e){e.join(t,r),r+=e.length}):("number"==typeof this.value?t[r]=this.value:"string"==typeof this.value?t.write(this.value,r):s.isBuffer(this.value)&&this.value.copy(t,r),r+=this.length)),t}},{"../base":227,buffer:274,inherits:327}],227:[function(e,t,r){var n=r;n.Reporter=e("./reporter").Reporter,n.DecoderBuffer=e("./buffer").DecoderBuffer,n.EncoderBuffer=e("./buffer").EncoderBuffer,n.Node=e("./node")},{"./buffer":226,"./node":228,"./reporter":229}],228:[function(e,t,r){var c=e("../base").Reporter,n=e("../base").EncoderBuffer,d=e("../base").DecoderBuffer,i=e("minimalistic-assert"),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],o=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function a(e,t){var r={};(this._baseState=r).enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=a;var f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];a.prototype.clone=function(){var t=this._baseState,r={};f.forEach(function(e){r[e]=t[e]});var e=new this.constructor(r.parent);return e._baseState=r,e},a.prototype._wrap=function(){var r=this._baseState;o.forEach(function(t){this[t]=function(){var e=new this.constructor(this);return r.children.push(e),e[t].apply(e,arguments)}},this)},a.prototype._init=function(e){var t=this._baseState;i(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),i.equal(t.children.length,1,"Root node can have only one child")},a.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(i(null===t.children),(t.children=r).forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(i(null===t.args),t.args=e,t.reverseArgs=e.map(function(r){if("object"!=typeof r||r.constructor!==Object)return r;var n={};return Object.keys(r).forEach(function(e){e==(0|e)&&(e|=0);var t=r[e];n[t]=e}),n}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){a.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),s.forEach(function(r){a.prototype[r]=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return i(null===e.tag),e.tag=r,this._useArgs(t),this}}),a.prototype.use=function(e){i(e);var t=this._baseState;return i(null===t.use),t.use=e,this},a.prototype.optional=function(){return this._baseState.optional=!0,this},a.prototype.def=function(e){var t=this._baseState;return i(null===t.default),t.default=e,t.optional=!0,this},a.prototype.explicit=function(e){var t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.explicit=e,this},a.prototype.implicit=function(e){var t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.implicit=e,this},a.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},a.prototype.key=function(e){var t=this._baseState;return i(null===t.key),t.key=e,this},a.prototype.any=function(){return this._baseState.any=!0,this},a.prototype.choice=function(t){var e=this._baseState;return i(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},a.prototype.contains=function(e){var t=this._baseState;return i(null===t.use),t.contains=e,this},a.prototype._decode=function(t,r){var e=this._baseState;if(null===e.parent)return t.wrapResult(e.children[0]._decode(t,r));var n,i=e.default,s=!0,o=null;if(null!==e.key&&(o=t.enterKey(e.key)),e.optional){var a=null;if(null!==e.explicit?a=e.explicit:null!==e.implicit?a=e.implicit:null!==e.tag&&(a=e.tag),null!==a||e.any){if(s=this._peekTag(t,a,e.any),t.isError(s))return s}else{var f=t.save();try{null===e.choice?this._decodeGeneric(e.tag,t,r):this._decodeChoice(t,r),s=!0}catch(e){s=!1}t.restore(f)}}if(e.obj&&s&&(n=t.enterObject()),s){if(null!==e.explicit){var u=this._decodeTag(t,e.explicit);if(t.isError(u))return u;t=u}var c=t.offset;if(null===e.use&&null===e.choice){if(e.any)f=t.save();var h=this._decodeTag(t,null!==e.implicit?e.implicit:e.tag,e.any);if(t.isError(h))return h;e.any?i=t.raw(f):t=h}if(r&&r.track&&null!==e.tag&&r.track(t.path(),c,t.length,"tagged"),r&&r.track&&null!==e.tag&&r.track(t.path(),t.offset,t.length,"content"),i=e.any?i:null===e.choice?this._decodeGeneric(e.tag,t,r):this._decodeChoice(t,r),t.isError(i))return i;if(e.any||null!==e.choice||null===e.children||e.children.forEach(function(e){e._decode(t,r)}),e.contains&&("octstr"===e.tag||"bitstr"===e.tag)){var l=new d(i);i=this._getUse(e.contains,t._reporterState.obj)._decode(l,r)}}return e.obj&&s&&(i=t.leaveObject(n)),null===e.key||null===i&&!0!==s?null!==o&&t.exitKey(o):t.leaveKey(o,e.key,i),i},a.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},a.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),i(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},a.prototype._decodeChoice=function(i,s){var o=this._baseState,a=null,f=!1;return Object.keys(o.choice).some(function(e){var t=i.save(),r=o.choice[e];try{var n=r._decode(i,s);if(i.isError(n))return!1;a={type:e,value:n},f=!0}catch(e){return i.restore(t),!1}return!0},this),f?a:i.error("Choice not matched")},a.prototype._createEncoderBuffer=function(e){return new n(e,this.reporter)},a.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},a.prototype._encodeValue=function(n,i,e){var t=this._baseState;if(null===t.parent)return t.children[0]._encode(n,i||new c);var r=null;if(this.reporter=i,t.optional&&void 0===n){if(null===t.default)return;n=t.default}var s=null,o=!1;if(t.any)r=this._createEncoderBuffer(n);else if(t.choice)r=this._encodeChoice(n,i);else if(t.contains)s=this._getUse(t.contains,e)._encode(n,i),o=!0;else if(t.children)s=t.children.map(function(e){if("null_"===e._baseState.tag)return e._encode(null,i,n);if(null===e._baseState.key)return i.error("Child should have a key");var t=i.enterKey(e._baseState.key);if("object"!=typeof n)return i.error("Child expected, but input is not object");var r=e._encode(n[e._baseState.key],i,n);return i.leaveKey(t),r},this).filter(function(e){return e}),s=this._createEncoderBuffer(s);else if("seqof"===t.tag||"setof"===t.tag){if(!t.args||1!==t.args.length)return i.error("Too many args for : "+t.tag);if(!Array.isArray(n))return i.error("seqof/setof, but data is not Array");var a=this.clone();a._baseState.implicit=null,s=this._createEncoderBuffer(n.map(function(e){var t=this._baseState;return this._getUse(t.args[0],n)._encode(e,i)},a))}else null!==t.use?r=this._getUse(t.use,e)._encode(n,i):(s=this._encodePrimitive(t.tag,n),o=!0);if(!t.any&&null===t.choice){var f=null!==t.implicit?t.implicit:t.tag,u=null===t.implicit?"universal":"context";null===f?null===t.use&&i.error("Tag could be omitted only for .use()"):null===t.use&&(r=this._encodeComposite(f,o,u,s))}return null!==t.explicit&&(r=this._encodeComposite(t.explicit,!1,"context",r)),r},a.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||i(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},a.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},a.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},a.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},{"../base":227,"minimalistic-assert":332}],229:[function(e,t,r){var n=e("inherits");function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function s(e,t){this.path=e,this.rethrow(t)}(r.Reporter=i).prototype.isError=function(e){return e instanceof s},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof s;if(t=n?e:new s(r.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(s,Error),s.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:327}],230:[function(e,t,r){var n=e("../constants");r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=n._reverse(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=n._reverse(r.tag)},{"../constants":231}],231:[function(e,t,r){var n=r;n._reverse=function(r){var n={};return Object.keys(r).forEach(function(e){(0|e)==e&&(e|=0);var t=r[e];n[t]=e}),n},n.der=e("./der")},{"./der":230}],232:[function(e,t,r){var n=e("inherits"),i=e("../../asn1"),s=i.base,o=i.bignum,a=i.constants.der;function f(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.Node.call(this,"der",e)}function c(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){var s=r;for(r=0;128==(128&s);){if(s=e.readUInt8(t),e.isError(s))return s;r<<=7,r|=127&s}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function h(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;var i=127&n;if(4<i)return e.error("length octect is too long");for(var s=n=0;s<i;s++){n<<=8;var o=e.readUInt8(r);if(e.isError(o))return o;n|=o}return n}(t.exports=f).prototype.decode=function(e,t){return e instanceof s.DecoderBuffer||(e=new s.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(u,s.Node),u.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=c(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},u.prototype._decodeTag=function(e,t,r){var n=c(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=h(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var s=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(i=e.offset-s.offset,e.restore(s),e.skip(i,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){var r=c(e,t);if(e.isError(r))return r;var n,i=h(e,r.primitive,t);if(e.isError(i))return i;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},u.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var s=this._peekTag(e,"end");if(e.isError(s))return s;var o=r.decode(e,"der",n);if(e.isError(o)&&s)break;i.push(o)}return i},u.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(2*s));return i}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,r){for(var n,i=[],s=0;!e.isEmpty();){var o=e.readUInt8();s<<=7,s|=127&o,0==(128&o)&&(i.push(s),s=0)}128&o&&i.push(s);var a=i[0]/40|0,f=i[0]%40;if(n=r?i:[a,f].concat(i.slice(1)),t){var u=t[n.join(" ")];void 0===u&&(u=t[n.join(".")]),void 0!==u&&(n=u)}return n},u.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var n=0|r.slice(0,4),i=0|r.slice(4,6),s=0|r.slice(6,8),o=0|r.slice(8,10),a=0|r.slice(10,12),f=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),s=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),f=0|r.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,s,o,a,f,0)},u.prototype._decodeNull=function(e){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){var r=e.raw(),n=new o(r);return t&&(n=t[n.toString(10)]||n),n},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},{"../../asn1":224,inherits:327}],233:[function(e,t,r){var n=r;n.der=e("./der"),n.pem=e("./pem")},{"./der":232,"./pem":234}],234:[function(e,t,r){var n=e("inherits"),h=e("buffer").Buffer,l=e("./der");function i(e){l.call(this,e),this.enc="pem"}n(i,l),(t.exports=i).prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,o=-1,a=0;a<r.length;a++){var f=r[a].match(i);if(null!==f&&f[2]===n){if(-1!==s){if("END"!==f[1])break;o=a;break}if("BEGIN"!==f[1])break;s=a}}if(-1===s||-1===o)throw new Error("PEM section not found for: "+n);var u=r.slice(s+1,o).join("");u.replace(/[^a-z0-9\+\/=]+/gi,"");var c=new h(u,"base64");return l.prototype.decode.call(this,c,t)}},{"./der":232,buffer:274,inherits:327}],235:[function(e,t,r){var n=e("inherits"),u=e("buffer").Buffer,i=e("../../asn1"),s=i.base,c=i.constants.der;function o(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new a,this.tree._init(e.body)}function a(e){s.Node.call(this,"der",e)}function f(e){return e<10?"0"+e:e}(t.exports=o).prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(a,s.Node),a.prototype._encodeComposite=function(e,t,r,n){var i,s=function(e,t,r,n){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(c.tagByName.hasOwnProperty(e))i=c.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}if(31<=i)return n.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=c.tagClassByName[r||"universal"]<<6}(e,t,r,this.reporter);if(n.length<128)return(i=new u(2))[0]=s,i[1]=n.length,this._createEncoderBuffer([i,n]);for(var o=1,a=n.length;256<=a;a>>=8)o++;(i=new u(2+o))[0]=s,i[1]=128|o;a=1+o;for(var f=n.length;0<f;a--,f>>=8)i[a]=255&f;return this._createEncoderBuffer([i,n])},a.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=new u(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},a.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(40<=e[1])return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var i=0;for(n=0;n<e.length;n++){var s=e[n];for(i++;128<=s;s>>=7)i++}var o=new u(i),a=o.length-1;for(n=e.length-1;0<=n;n--){s=e[n];for(o[a--]=127&s;0<(s>>=7);)o[a--]=128|127&s}return this._createEncoderBuffer(o)},a.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[f(n.getFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[f(n.getFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},a.prototype._encodeNull=function(){return this._createEncoderBuffer("")},a.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!u.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=new u(r)}if(u.isBuffer(e)){var n=e.length;0===e.length&&n++;var i=new u(n);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);n=1;for(var s=e;256<=s;s>>=8)n++;for(s=(i=new Array(n)).length-1;0<=s;s--)i[s]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new u(i))},a.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},a.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},a.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var s=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),s.length!==i.defaultBuffer.length)return!1;for(n=0;n<s.length;n++)if(s[n]!==i.defaultBuffer[n])return!1;return!0}},{"../../asn1":224,buffer:274,inherits:327}],236:[function(e,t,r){var n=r;n.der=e("./der"),n.pem=e("./pem")},{"./der":235,"./pem":237}],237:[function(e,t,r){var n=e("inherits"),s=e("./der");function i(e){s.call(this,e),this.enc="pem"}n(i,s),(t.exports=i).prototype.encode=function(e,t){for(var r=s.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],i=0;i<r.length;i+=64)n.push(r.slice(i,i+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},{"./der":235,inherits:327}],238:[function(w,S,e){((function(t){"use strict";function s(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var c=w("util/"),n=Object.prototype.hasOwnProperty,h=Array.prototype.slice,r="foo"===function(){}.name;function a(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var u=S.exports=e,i=/\s*function\s+([^\(\s]*)\s*/;function l(e){if(c.isFunction(e)){if(r)return e.name;var t=e.toString().match(i);return t&&t[1]}}function d(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function p(e){if(r||!c.isFunction(e))return c.inspect(e);var t=l(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,r,n,i){throw new u.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function e(e,t){e||b(e,!0,t,"==",u.ok)}function _(e,t,r,n){if(e===t)return!0;if(o(e)&&o(t))return 0===s(e,t);if(c.isDate(e)&&c.isDate(t))return e.getTime()===t.getTime();if(c.isRegExp(e)&&c.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&a(e)===a(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===s(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==i&&i===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(c.isPrimitive(e)||c.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=y(e),s=y(t);if(i&&!s||!i&&s)return!1;if(i)return e=h.call(e),t=h.call(t),_(e,t,r);var o,a,f=g(e),u=g(t);if(f.length!==u.length)return!1;for(f.sort(),u.sort(),a=f.length-1;0<=a;a--)if(f[a]!==u[a])return!1;for(a=f.length-1;0<=a;a--)if(o=f[a],!_(e[o],t[o],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function y(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function v(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function m(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&b(i,r,"Missing expected exception"+n);var s="string"==typeof n,o=!e&&i&&!r;if((!e&&c.isError(i)&&s&&v(i,r)||o)&&b(i,r,"Got unwanted exception"+n),e&&i&&r&&!v(i,r)||!e&&i)throw i}u.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=d(p((t=this).actual),128)+" "+t.operator+" "+d(p(t.expected),128),this.generatedMessage=!0);var r=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var i=n.stack,s=l(r),o=i.indexOf("\n"+s);if(0<=o){var a=i.indexOf("\n",o+1);i=i.substring(a+1)}this.stack=i}}},c.inherits(u.AssertionError,Error),u.fail=b,u.ok=e,u.equal=function(e,t,r){e!=t&&b(e,t,r,"==",u.equal)},u.notEqual=function(e,t,r){e==t&&b(e,t,r,"!=",u.notEqual)},u.deepEqual=function(e,t,r){_(e,t,!1)||b(e,t,r,"deepEqual",u.deepEqual)},u.deepStrictEqual=function(e,t,r){_(e,t,!0)||b(e,t,r,"deepStrictEqual",u.deepStrictEqual)},u.notDeepEqual=function(e,t,r){_(e,t,!1)&&b(e,t,r,"notDeepEqual",u.notDeepEqual)},u.notDeepStrictEqual=function e(t,r,n){_(t,r,!0)&&b(t,r,n,"notDeepStrictEqual",e)},u.strictEqual=function(e,t,r){e!==t&&b(e,t,r,"===",u.strictEqual)},u.notStrictEqual=function(e,t,r){e===t&&b(e,t,r,"!==",u.notStrictEqual)},u.throws=function(e,t,r){m(!0,e,t,r)},u.doesNotThrow=function(e,t,r){m(!1,e,t,r)},u.ifError=function(e){if(e)throw e};var g=Object.keys||function(e){var t=[];for(var r in e)n.call(e,r)&&t.push(r);return t}})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":241}],239:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],240:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],241:[function(l,e,I){((function(n,i){var a=/%[sdj%]/g;I.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(f(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(e).replace(a,function(e){if("%%"===e)return"%";if(i<=r)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"};default:return e}}),o=n[r];r<i;o=n[++r])v(o)||!c(o)?s+=" "+o:s+=" "+f(o);return s},I.deprecate=function(e,t){if(w(i.process))return function(){return I.deprecate(e,t).apply(this,arguments)};if(!0===n.noDeprecation)return e;var r=!1;return function(){if(!r){if(n.throwDeprecation)throw new Error(t);n.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}};var e,s={};function f(e,t){var r={seen:[],stylize:u};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),y(t)?r.showHidden=t:t&&I._extend(r,t),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),d(r,e,r.depth)}function o(e,t){var r=f.styles[t];return r?"["+f.colors[r][0]+"m"+e+"["+f.colors[r][1]+"m":e}function u(e,t){return e}function d(t,r,n){if(t.customInspect&&r&&x(r.inspect)&&r.inspect!==I.inspect&&(!r.constructor||r.constructor.prototype!==r)){var e=r.inspect(n,t);return g(e)||(e=d(t,e,n)),e}var i=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(t,r);if(i)return i;var s,o=Object.keys(r),a=(s={},o.forEach(function(e,t){s[e]=!0}),s);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),E(r)&&(0<=o.indexOf("message")||0<=o.indexOf("description")))return p(r);if(0===o.length){if(x(r)){var f=r.name?": "+r.name:"";return t.stylize("[Function"+f+"]","special")}if(S(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(k(r))return t.stylize(Date.prototype.toString.call(r),"date");if(E(r))return p(r)}var u,c="",h=!1,l=["{","}"];(_(r)&&(h=!0,l=["[","]"]),x(r))&&(c=" [Function"+(r.name?": "+r.name:"")+"]");return S(r)&&(c=" "+RegExp.prototype.toString.call(r)),k(r)&&(c=" "+Date.prototype.toUTCString.call(r)),E(r)&&(c=" "+p(r)),0!==o.length||h&&0!=r.length?n<0?S(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),u=h?function(t,r,n,i,e){for(var s=[],o=0,a=r.length;o<a;++o)M(r,String(o))?s.push(b(t,r,n,i,String(o),!0)):s.push("");return e.forEach(function(e){e.match(/^\d+$/)||s.push(b(t,r,n,i,e,!0))}),s}(t,r,n,a,o):o.map(function(e){return b(t,r,n,a,e,h)}),t.seen.pop(),function(e,t,r){if(60<e.reduce(function(e,t){return 0,0<=t.indexOf("\n")&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0))return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,c,l)):l[0]+c+l[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function b(e,t,r,n,i,s){var o,a,f;if((f=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=f.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):f.set&&(a=e.stylize("[Setter]","special")),M(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(f.value)<0?-1<(a=v(r)?d(e,f.value,null):d(e,f.value,r-1)).indexOf("\n")&&(a=s?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),w(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function _(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function w(e){return void 0===e}function S(e){return c(e)&&"[object RegExp]"===t(e)}function c(e){return"object"==typeof e&&null!==e}function k(e){return c(e)&&"[object Date]"===t(e)}function E(e){return c(e)&&("[object Error]"===t(e)||e instanceof Error)}function x(e){return"function"==typeof e}function t(e){return Object.prototype.toString.call(e)}function r(e){return e<10?"0"+e.toString(10):e.toString(10)}I.debuglog=function(t){if(w(e)&&(e=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if((new RegExp("\\b"+t+"\\b","i")).test(e)){var r=n.pid;s[t]=function(){var e=I.format.apply(I,arguments);console.error("%s %d: %s",t,r,e)}}else s[t]=function(){};return s[t]},(I.inspect=f).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},I.isArray=_,I.isBoolean=y,I.isNull=v,I.isNullOrUndefined=function(e){return null==e},I.isNumber=m,I.isString=g,I.isSymbol=function(e){return"symbol"==typeof e},I.isUndefined=w,I.isRegExp=S,I.isObject=c,I.isDate=k,I.isError=E,I.isFunction=x,I.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},I.isBuffer=l("./support/isBuffer");var h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[r(e.getHours()),r(e.getMinutes()),r(e.getSeconds())].join(":"),[e.getDate(),h[e.getMonth()],t].join(" ")),I.format.apply(I,arguments))},I.inherits=l("inherits"),I._extend=function(e,t){if(!t||!c(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}})).call(this,l("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":240,_process:345,inherits:239}],242:[function(e,t,r){"use strict";r.byteLength=function(e){var t=d(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){for(var t,r=d(e),n=r[0],i=r[1],s=new l((u=n,c=i,3*(u+c)/4-c)),o=0,a=0<i?n-4:n,f=0;f<a;f+=4)t=h[e.charCodeAt(f)]<<18|h[e.charCodeAt(f+1)]<<12|h[e.charCodeAt(f+2)]<<6|h[e.charCodeAt(f+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=255&t;var u,c;2===i&&(t=h[e.charCodeAt(f)]<<2|h[e.charCodeAt(f+1)]>>4,s[o++]=255&t);1===i&&(t=h[e.charCodeAt(f)]<<10|h[e.charCodeAt(f+1)]<<4|h[e.charCodeAt(f+2)]>>2,s[o++]=t>>8&255,s[o++]=255&t);return s},r.fromByteArray=function(e){for(var t,r=e.length,n=r%3,i=[],s=0,o=r-n;s<o;s+=16383)i.push(f(e,s,o<s+16383?o:s+16383));1===n?(t=e[r-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"="));return i.join("")};for(var a=[],h=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)a[i]=n[i],h[n.charCodeAt(i)]=i;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e,t,r){for(var n,i,s=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(a[(i=n)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return s.join("")}h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},{}],243:[function(k,e,t){!function(e,t){"use strict";function _(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function y(e,t,r){if(y.isBN(e))return e;this.negative=0,this.words=null,this.length=0,(this.red=null)!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var n;"object"==typeof e?e.exports=y:t.BN=y,(y.BN=y).wordSize=26;try{n=k("buffer").Buffer}catch(e){}function o(e,t,r){for(var n=0,i=Math.min(e.length,r),s=t;s<i;s++){var o=e.charCodeAt(s)-48;n<<=4,n|=49<=o&&o<=54?o-49+10:17<=o&&o<=22?o-17+10:15&o}return n}function h(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=49<=a?a-49+10:17<=a?a-17+10:a}return i}y.isBN=function(e){return e instanceof y||null!==e&&"object"==typeof e&&e.constructor.wordSize===y.wordSize&&Array.isArray(e.words)},y.max=function(e,t){return 0<e.cmp(t)?e:t},y.min=function(e,t){return e.cmp(t)<0?e:t},y.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),_(t===(0|t)&&2<=t&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&n++,16===t?this._parseHex(e,n):this._parseBase(e,t,n),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},y.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(_(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},y.prototype._initArray=function(e,t,r){if(_("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s,o=0;if("be"===r)for(n=e.length-1,i=0;0<=n;n-=3)s=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,26<=(o+=24)&&(o-=26,i++);else if("le"===r)for(i=n=0;n<e.length;n+=3)s=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,26<=(o+=24)&&(o-=26,i++);return this.strip()},y.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,s=0;for(r=e.length-6,n=0;t<=r;r-=6)i=o(e,r,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303,26<=(s+=24)&&(s-=26,n++);r+6!==t&&(i=o(e,t,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303),this.strip()},y.prototype._parseBase=function(e,t,r){this.words=[0];for(var n=0,i=this.length=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,f=0,u=r;u<a;u+=n)f=h(e,u,u+n,t),this.imuln(i),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==o){var c=1;for(f=h(e,u,e.length,t),u=0;u<o;u++)c*=t;this.imuln(c),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}},y.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},y.prototype.clone=function(){var e=new y(null);return this.copy(e),e},y.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},y.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},y.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function i(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;n=(r.length=n)-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,f=o/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=f>>>26,h=67108863&f,l=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=l;d++){var p=u-d|0;c+=(o=(i=0|e.words[p])*(s=0|t.words[d])+h)/67108864|0,h=67108863&o}r.words[u]=0|h,f=0|c}return 0!==f?r.words[u]=0|f:r.length--,r.strip()}y.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var n=0,i=0,s=0;s<this.length;s++){var o=this.words[s],a=(16777215&(o<<n|i)).toString(16);r=0!==(i=o>>>24-n&16777215)||s!==this.length-1?l[6-a.length]+a+r:a+r,26<=(n+=2)&&(n-=26,s--)}for(0!==i&&(r=i.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&2<=e&&e<=36){var f=d[e],u=p[e];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var h=c.modn(u).toString(e);r=(c=c.idivn(u)).isZero()?h+r:l[f-h.length]+h+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}_(!1,"Base should be between 2 and 36")},y.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:2<this.length&&_(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},y.prototype.toJSON=function(){return this.toString(16)},y.prototype.toBuffer=function(e,t){return _(void 0!==n),this.toArrayLike(n,e,t)},y.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},y.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),i=r||Math.max(1,n);_(n<=i,"byte array longer than desired length"),_(0<i,"Requested array length <= 0"),this.strip();var s,o,a="le"===t,f=new e(i),u=this.clone();if(a){for(o=0;!u.isZero();o++)s=u.andln(255),u.iushrn(8),f[o]=s;for(;o<i;o++)f[o]=0}else{for(o=0;o<i-n;o++)f[o]=0;for(o=0;!u.isZero();o++)s=u.andln(255),u.iushrn(8),f[i-o-1]=s}return f},y.prototype._countBits=Math.clz32?function(e){return 32-Math.clz32(e)}:function(e){var t=e,r=0;return 4096<=t&&(r+=13,t>>>=13),64<=t&&(r+=7,t>>>=7),8<=t&&(r+=4,t>>>=4),2<=t&&(r+=2,t>>>=2),r+t},y.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},y.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},y.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},y.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},y.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},y.prototype.isNeg=function(){return 0!==this.negative},y.prototype.neg=function(){return this.clone().ineg()},y.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},y.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},y.prototype.ior=function(e){return _(0==(this.negative|e.negative)),this.iuor(e)},y.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},y.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},y.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},y.prototype.iand=function(e){return _(0==(this.negative|e.negative)),this.iuand(e)},y.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},y.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},y.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},y.prototype.ixor=function(e){return _(0==(this.negative|e.negative)),this.iuxor(e)},y.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},y.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},y.prototype.inotn=function(e){_("number"==typeof e&&0<=e);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),0<r&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return 0<r&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},y.prototype.notn=function(e){return this.clone().inotn(e)},y.prototype.setn=function(e,t){_("number"==typeof e&&0<=e);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},y.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},y.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},y.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;0<i?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},y.prototype.sub=function(e){return this.clone().isub(e)};var s=function(e,t,r){var n,i,s,o=e.words,a=t.words,f=r.words,u=0,c=0|o[0],h=8191&c,l=c>>>13,d=0|o[1],p=8191&d,b=d>>>13,_=0|o[2],y=8191&_,v=_>>>13,m=0|o[3],g=8191&m,w=m>>>13,S=0|o[4],k=8191&S,E=S>>>13,x=0|o[5],M=8191&x,I=x>>>13,T=0|o[6],C=8191&T,j=T>>>13,O=0|o[7],A=8191&O,P=O>>>13,B=0|o[8],R=8191&B,D=B>>>13,L=0|o[9],U=8191&L,N=L>>>13,q=0|a[0],F=8191&q,z=q>>>13,H=0|a[1],K=8191&H,V=H>>>13,W=0|a[2],G=8191&W,X=W>>>13,Z=0|a[3],Q=8191&Z,Y=Z>>>13,J=0|a[4],$=8191&J,ee=J>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],fe=8191&ae,ue=ae>>>13,ce=0|a[8],he=8191&ce,le=ce>>>13,de=0|a[9],pe=8191&de,be=de>>>13;r.negative=e.negative^t.negative,r.length=19;var _e=(u+(n=Math.imul(h,F))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(l,F)|0))<<13)|0;u=((s=Math.imul(l,z))+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(b,F)|0,s=Math.imul(b,z);var ye=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,V)|0)+Math.imul(l,K)|0))<<13)|0;u=((s=s+Math.imul(l,V)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,F),i=(i=Math.imul(y,z))+Math.imul(v,F)|0,s=Math.imul(v,z),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,V)|0;var ve=(u+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,X)|0)+Math.imul(l,G)|0))<<13)|0;u=((s=s+Math.imul(l,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,z))+Math.imul(w,F)|0,s=Math.imul(w,z),n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(v,K)|0,s=s+Math.imul(v,V)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,X)|0;var me=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(l,Q)|0))<<13)|0;u=((s=s+Math.imul(l,Y)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,z))+Math.imul(E,F)|0,s=Math.imul(E,z),n=n+Math.imul(g,K)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(w,K)|0,s=s+Math.imul(w,V)|0,n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(v,G)|0,s=s+Math.imul(v,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,Y)|0;var ge=(u+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(l,$)|0))<<13)|0;u=((s=s+Math.imul(l,ee)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(I,F)|0,s=Math.imul(I,z),n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,V)|0,n=n+Math.imul(g,G)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(w,G)|0,s=s+Math.imul(w,X)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,Y)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,ee)|0;var we=(u+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((s=s+Math.imul(l,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(j,F)|0,s=Math.imul(j,z),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,V)|0,n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(E,G)|0,s=s+Math.imul(E,X)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,Y)|0)+Math.imul(w,Q)|0,s=s+Math.imul(w,Y)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(h,se)|0)|0)+((8191&(i=(i=i+Math.imul(h,oe)|0)+Math.imul(l,se)|0))<<13)|0;u=((s=s+Math.imul(l,oe)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(A,F),i=(i=Math.imul(A,z))+Math.imul(P,F)|0,s=Math.imul(P,z),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(j,K)|0,s=s+Math.imul(j,V)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,X)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,Y)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(v,re)|0,s=s+Math.imul(v,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0;var ke=(u+(n=n+Math.imul(h,fe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ue)|0)+Math.imul(l,fe)|0))<<13)|0;u=((s=s+Math.imul(l,ue)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,z))+Math.imul(D,F)|0,s=Math.imul(D,z),n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,V)|0)+Math.imul(P,K)|0,s=s+Math.imul(P,V)|0,n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(j,G)|0,s=s+Math.imul(j,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,Y)|0,n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(E,$)|0,s=s+Math.imul(E,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(w,re)|0,s=s+Math.imul(w,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(v,se)|0,s=s+Math.imul(v,oe)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,fe)|0,s=s+Math.imul(b,ue)|0;var Ee=(u+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,le)|0)+Math.imul(l,he)|0))<<13)|0;u=((s=s+Math.imul(l,le)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,z))+Math.imul(N,F)|0,s=Math.imul(N,z),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(D,K)|0,s=s+Math.imul(D,V)|0,n=n+Math.imul(A,G)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(P,G)|0,s=s+Math.imul(P,X)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(j,Q)|0,s=s+Math.imul(j,Y)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(I,$)|0,s=s+Math.imul(I,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(E,re)|0,s=s+Math.imul(E,ne)|0,n=n+Math.imul(g,se)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(w,se)|0,s=s+Math.imul(w,oe)|0,n=n+Math.imul(y,fe)|0,i=(i=i+Math.imul(y,ue)|0)+Math.imul(v,fe)|0,s=s+Math.imul(v,ue)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(b,he)|0,s=s+Math.imul(b,le)|0;var xe=(u+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,be)|0)+Math.imul(l,pe)|0))<<13)|0;u=((s=s+Math.imul(l,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(U,K),i=(i=Math.imul(U,V))+Math.imul(N,K)|0,s=Math.imul(N,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(D,G)|0,s=s+Math.imul(D,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(P,Q)|0,s=s+Math.imul(P,Y)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(j,$)|0,s=s+Math.imul(j,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(I,re)|0,s=s+Math.imul(I,ne)|0,n=n+Math.imul(k,se)|0,i=(i=i+Math.imul(k,oe)|0)+Math.imul(E,se)|0,s=s+Math.imul(E,oe)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(w,fe)|0,s=s+Math.imul(w,ue)|0,n=n+Math.imul(y,he)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(v,he)|0,s=s+Math.imul(v,le)|0;var Me=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((s=s+Math.imul(b,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,X))+Math.imul(N,G)|0,s=Math.imul(N,X),n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(D,Q)|0,s=s+Math.imul(D,Y)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(P,$)|0,s=s+Math.imul(P,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(j,re)|0,s=s+Math.imul(j,ne)|0,n=n+Math.imul(M,se)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(I,se)|0,s=s+Math.imul(I,oe)|0,n=n+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(E,fe)|0,s=s+Math.imul(E,ue)|0,n=n+Math.imul(g,he)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(w,he)|0,s=s+Math.imul(w,le)|0;var Ie=(u+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,be)|0)+Math.imul(v,pe)|0))<<13)|0;u=((s=s+Math.imul(v,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,Y))+Math.imul(N,Q)|0,s=Math.imul(N,Y),n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(D,$)|0,s=s+Math.imul(D,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(P,re)|0,s=s+Math.imul(P,ne)|0,n=n+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(j,se)|0,s=s+Math.imul(j,oe)|0,n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(I,fe)|0,s=s+Math.imul(I,ue)|0,n=n+Math.imul(k,he)|0,i=(i=i+Math.imul(k,le)|0)+Math.imul(E,he)|0,s=s+Math.imul(E,le)|0;var Te=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(w,pe)|0))<<13)|0;u=((s=s+Math.imul(w,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,ee))+Math.imul(N,$)|0,s=Math.imul(N,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(D,re)|0,s=s+Math.imul(D,ne)|0,n=n+Math.imul(A,se)|0,i=(i=i+Math.imul(A,oe)|0)+Math.imul(P,se)|0,s=s+Math.imul(P,oe)|0,n=n+Math.imul(C,fe)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(j,fe)|0,s=s+Math.imul(j,ue)|0,n=n+Math.imul(M,he)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(I,he)|0,s=s+Math.imul(I,le)|0;var Ce=(u+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,be)|0)+Math.imul(E,pe)|0))<<13)|0;u=((s=s+Math.imul(E,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(N,re)|0,s=Math.imul(N,ne),n=n+Math.imul(R,se)|0,i=(i=i+Math.imul(R,oe)|0)+Math.imul(D,se)|0,s=s+Math.imul(D,oe)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(P,fe)|0,s=s+Math.imul(P,ue)|0,n=n+Math.imul(C,he)|0,i=(i=i+Math.imul(C,le)|0)+Math.imul(j,he)|0,s=s+Math.imul(j,le)|0;var je=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(I,pe)|0))<<13)|0;u=((s=s+Math.imul(I,be)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(U,se),i=(i=Math.imul(U,oe))+Math.imul(N,se)|0,s=Math.imul(N,oe),n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(D,fe)|0,s=s+Math.imul(D,ue)|0,n=n+Math.imul(A,he)|0,i=(i=i+Math.imul(A,le)|0)+Math.imul(P,he)|0,s=s+Math.imul(P,le)|0;var Oe=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,be)|0)+Math.imul(j,pe)|0))<<13)|0;u=((s=s+Math.imul(j,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(U,fe),i=(i=Math.imul(U,ue))+Math.imul(N,fe)|0,s=Math.imul(N,ue),n=n+Math.imul(R,he)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(D,he)|0,s=s+Math.imul(D,le)|0;var Ae=(u+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,be)|0)+Math.imul(P,pe)|0))<<13)|0;u=((s=s+Math.imul(P,be)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,he),i=(i=Math.imul(U,le))+Math.imul(N,he)|0,s=Math.imul(N,le);var Pe=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(D,pe)|0))<<13)|0;u=((s=s+Math.imul(D,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Be=(u+(n=Math.imul(U,pe))|0)+((8191&(i=(i=Math.imul(U,be))+Math.imul(N,pe)|0))<<13)|0;return u=((s=Math.imul(N,be))+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,f[0]=_e,f[1]=ye,f[2]=ve,f[3]=me,f[4]=ge,f[5]=we,f[6]=Se,f[7]=ke,f[8]=Ee,f[9]=xe,f[10]=Me,f[11]=Ie,f[12]=Te,f[13]=Ce,f[14]=je,f[15]=Oe,f[16]=Ae,f[17]=Pe,f[18]=Be,0!==u&&(f[19]=u,r.length++),r};function a(e,t,r){return(new f).mulp(e,t,r)}function f(e,t){this.x=e,this.y=t}Math.imul||(s=i),y.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?s(this,e,t):r<63?i(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,f=Math.min(s,t.length-1),u=Math.max(0,s-e.length+1);u<=f;u++){var c=s-u,h=(0|e.words[c])*(0|t.words[u]),l=67108863&h;a=67108863&(l=l+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):a(this,e,t)},f.prototype.makeRBT=function(e){for(var t=new Array(e),r=y.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},f.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},f.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},f.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,f=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=f,l=u,d=0;d<o;d++){var p=r[c+d],b=n[c+d],_=r[c+d+o],y=n[c+d+o],v=h*_-l*y;y=h*y+l*_,_=v,r[c+d]=p+_,n[c+d]=b+y,r[c+d+o]=p-_,n[c+d+o]=b-y,d!==a&&(v=f*h-u*l,l=f*l+u*h,h=v)}},f.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},f.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},f.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},f.prototype.convert13b=function(e,t,r,n){for(var i=0,s=0;s<t;s++)i+=0|e[s],r[2*s]=8191&i,i>>>=13,r[2*s+1]=8191&i,i>>>=13;for(s=2*t;s<n;++s)r[s]=0;_(0===i),_(0==(-8192&i))},f.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},f.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),f=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,u,n),this.transform(o,s,a,f,n,i),this.transform(u,s,c,h,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-f[d]*h[d];f[d]=a[d]*h[d]+f[d]*c[d],a[d]=p}return this.conjugate(a,f,n),this.transform(a,f,l,s,n,i),this.conjugate(l,s,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},y.prototype.mul=function(e){var t=new y(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},y.prototype.mulf=function(e){var t=new y(null);return t.words=new Array(this.length+e.length),a(this,e,t)},y.prototype.imul=function(e){return this.clone().mulTo(e,this)},y.prototype.imuln=function(e){_("number"==typeof e),_(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,i=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=i>>>26,this.words[r]=67108863&i}return 0!==t&&(this.words[r]=t,this.length++),this},y.prototype.muln=function(e){return this.clone().imuln(e)},y.prototype.sqr=function(){return this.mul(this)},y.prototype.isqr=function(){return this.imul(this.clone())},y.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new y(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},y.prototype.iushln=function(e){_("number"==typeof e&&0<=e);var t,r=e%26,n=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&i,a=(0|this.words[t])-o<<r;this.words[t]=a|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==n){for(t=this.length-1;0<=t;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},y.prototype.ishln=function(e){return _(0===this.negative),this.iushln(e)},y.prototype.iushrn=function(e,t,r){var n;_("number"==typeof e&&0<=e),n=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),o=67108863^67108863>>>i<<i,a=r;if(n-=s,n=Math.max(0,n),a){for(var f=0;f<s;f++)a.words[f]=this.words[f];a.length=s}if(0===s);else if(this.length>s)for(this.length-=s,f=0;f<this.length;f++)this.words[f]=this.words[f+s];else this.words[0]=0,this.length=1;var u=0;for(f=this.length-1;0<=f&&(0!==u||n<=f);f--){var c=0|this.words[f];this.words[f]=u<<26-i|c>>>i,u=c&o}return a&&0!==u&&(a.words[a.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},y.prototype.ishrn=function(e,t,r){return _(0===this.negative),this.iushrn(e,t,r)},y.prototype.shln=function(e){return this.clone().ishln(e)},y.prototype.ushln=function(e){return this.clone().iushln(e)},y.prototype.shrn=function(e){return this.clone().ishrn(e)},y.prototype.ushrn=function(e){return this.clone().iushrn(e)},y.prototype.testn=function(e){_("number"==typeof e&&0<=e);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r)&&!!(this.words[r]&n)},y.prototype.imaskn=function(e){_("number"==typeof e&&0<=e);var t=e%26,r=(e-t)/26;if(_(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},y.prototype.maskn=function(e){return this.clone().imaskn(e)},y.prototype.iaddn=function(e){return _("number"==typeof e),_(e<67108864),e<0?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},y.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&67108864<=this.words[t];t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},y.prototype.isubn=function(e){if(_("number"==typeof e),_(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},y.prototype.addn=function(e){return this.clone().iaddn(e)},y.prototype.subn=function(e){return this.clone().isubn(e)},y.prototype.iabs=function(){return this.negative=0,this},y.prototype.abs=function(){return this.clone().iabs()},y.prototype._ishlnsubmul=function(e,t,r){var n,i,s=e.length+r;this._expand(s);var o=0;for(n=0;n<e.length;n++){i=(0|this.words[n+r])+o;var a=(0|e.words[n])*t;o=((i-=67108863&a)>>26)-(a/67108864|0),this.words[n+r]=67108863&i}for(;n<this.length-r;n++)o=(i=(0|this.words[n+r])+o)>>26,this.words[n+r]=67108863&i;if(0===o)return this.strip();for(_(-1===o),n=o=0;n<this.length;n++)o=(i=-(0|this.words[n])+o)>>26,this.words[n]=67108863&i;return this.negative=1,this.strip()},y.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var o,a=n.length-i.length;if("mod"!==t){(o=new y(null)).length=a+1,o.words=new Array(o.length);for(var f=0;f<o.length;f++)o.words[f]=0}var u=n.clone()._ishlnsubmul(i,1,a);0===u.negative&&(n=u,o&&(o.words[a]=1));for(var c=a-1;0<=c;c--){var h=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,c);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);o&&(o.words[c]=h)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},y.prototype.divmod=function(e,t,r){return _(!e.isZero()),this.isZero()?{div:new y(0),mod:new y(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(i=s.mod.neg(),r&&0!==i.negative&&i.iadd(e)),{div:n,mod:i}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(n=s.div.neg()),{div:n,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(i=s.mod.neg(),r&&0!==i.negative&&i.isub(e)),{div:s.div,mod:i}):e.length>this.length||this.cmp(e)<0?{div:new y(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new y(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new y(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,i,s},y.prototype.div=function(e){return this.divmod(e,"div",!1).div},y.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},y.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},y.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},y.prototype.modn=function(e){_(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;0<=n;n--)r=(t*r+(0|this.words[n]))%e;return r},y.prototype.idivn=function(e){_(e<=67108863);for(var t=0,r=this.length-1;0<=r;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},y.prototype.divn=function(e){return this.clone().idivn(e)},y.prototype.egcd=function(e){_(0===e.negative),_(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new y(1),i=new y(0),s=new y(0),o=new y(1),a=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++a;for(var f=r.clone(),u=t.clone();!t.isZero();){for(var c=0,h=1;0==(t.words[0]&h)&&c<26;++c,h<<=1);if(0<c)for(t.iushrn(c);0<c--;)(n.isOdd()||i.isOdd())&&(n.iadd(f),i.isub(u)),n.iushrn(1),i.iushrn(1);for(var l=0,d=1;0==(r.words[0]&d)&&l<26;++l,d<<=1);if(0<l)for(r.iushrn(l);0<l--;)(s.isOdd()||o.isOdd())&&(s.iadd(f),o.isub(u)),s.iushrn(1),o.iushrn(1);0<=t.cmp(r)?(t.isub(r),n.isub(s),i.isub(o)):(r.isub(t),s.isub(n),o.isub(i))}return{a:s,b:o,gcd:r.iushln(a)}},y.prototype._invmp=function(e){_(0===e.negative),_(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,i=new y(1),s=new y(0),o=r.clone();0<t.cmpn(1)&&0<r.cmpn(1);){for(var a=0,f=1;0==(t.words[0]&f)&&a<26;++a,f<<=1);if(0<a)for(t.iushrn(a);0<a--;)i.isOdd()&&i.iadd(o),i.iushrn(1);for(var u=0,c=1;0==(r.words[0]&c)&&u<26;++u,c<<=1);if(0<u)for(r.iushrn(u);0<u--;)s.isOdd()&&s.iadd(o),s.iushrn(1);0<=t.cmp(r)?(t.isub(r),i.isub(s)):(r.isub(t),s.isub(i))}return(n=0===t.cmpn(1)?i:s).cmpn(0)<0&&n.iadd(e),n},y.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0;for(var n=r.negative=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},y.prototype.invm=function(e){return this.egcd(e).a.umod(e)},y.prototype.isEven=function(){return 0==(1&this.words[0])},y.prototype.isOdd=function(){return 1==(1&this.words[0])},y.prototype.andln=function(e){return this.words[0]&e},y.prototype.bincn=function(e){_("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var i=n,s=r;0!==i&&s<this.length;s++){var o=0|this.words[s];i=(o+=i)>>>26,o&=67108863,this.words[s]=o}return 0!==i&&(this.words[s]=i,this.length++),this},y.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},y.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),1<this.length)t=1;else{r&&(e=-e),_(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},y.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},y.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;0<=r;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:i<n&&(t=1);break}}return t},y.prototype.gtn=function(e){return 1===this.cmpn(e)},y.prototype.gt=function(e){return 1===this.cmp(e)},y.prototype.gten=function(e){return 0<=this.cmpn(e)},y.prototype.gte=function(e){return 0<=this.cmp(e)},y.prototype.ltn=function(e){return-1===this.cmpn(e)},y.prototype.lt=function(e){return-1===this.cmp(e)},y.prototype.lten=function(e){return this.cmpn(e)<=0},y.prototype.lte=function(e){return this.cmp(e)<=0},y.prototype.eqn=function(e){return 0===this.cmpn(e)},y.prototype.eq=function(e){return 0===this.cmp(e)},y.red=function(e){return new w(e)},y.prototype.toRed=function(e){return _(!this.red,"Already a number in reduction context"),_(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},y.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},y.prototype._forceRed=function(e){return this.red=e,this},y.prototype.forceRed=function(e){return _(!this.red,"Already a number in reduction context"),this._forceRed(e)},y.prototype.redAdd=function(e){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},y.prototype.redIAdd=function(e){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},y.prototype.redSub=function(e){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},y.prototype.redISub=function(e){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},y.prototype.redShl=function(e){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},y.prototype.redMul=function(e){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},y.prototype.redIMul=function(e){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},y.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},y.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},y.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},y.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},y.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},y.prototype.redPow=function(e){return _(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var u={k256:null,p224:null,p192:null,p25519:null};function c(e,t){this.name=e,this.p=new y(t,16),this.n=this.p.bitLength(),this.k=(new y(1)).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){c.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){c.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function m(){c.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function g(){c.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(e){if("string"==typeof e){var t=y._prime(e);this.m=t.p,this.prime=t}else _(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){w.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=(new y(1)).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c.prototype._tmp=function(){var e=new y(null);return e.words=new Array(Math.ceil(this.n/13)),e},c.prototype.ireduce=function(e){for(var t,r=e;this.split(r,this.tmp),(t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength())>this.n;);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):0<n?r.isub(this.p):r.strip(),r},c.prototype.split=function(e,t){e.iushrn(this.n,0,t)},c.prototype.imulK=function(e){return e.imul(this.k)},r(b,c),b.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void (e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(4194303&s)<<4|i>>>22,i=s}i>>>=22,0===(e.words[n-10]=i)&&10<e.length?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(v,c),r(m,c),r(g,c),g.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},y._prime=function(e){if(u[e])return u[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new v;else if("p192"===e)t=new m;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new g}return u[e]=t},w.prototype._verify1=function(e){_(0===e.negative,"red works only with positives"),_(e.red,"red works only with red numbers")},w.prototype._verify2=function(e,t){_(0==(e.negative|t.negative),"red works only with positives"),_(e.red&&e.red===t.red,"red works only with red numbers")},w.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},w.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},w.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return 0<=r.cmp(this.m)&&r.isub(this.m),r._forceRed(this)},w.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return 0<=r.cmp(this.m)&&r.isub(this.m),r},w.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},w.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},w.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},w.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},w.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},w.prototype.isqr=function(e){return this.imul(e,e.clone())},w.prototype.sqr=function(e){return this.mul(e,e)},w.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(_(t%2==1),3===t){var r=this.m.add(new y(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),i=0;!n.isZero()&&0===n.andln(1);)i++,n.iushrn(1);_(!n.isZero());var s=(new y(1)).toRed(this),o=s.redNeg(),a=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=(new y(2*f*f)).toRed(this);0!==this.pow(f,a).cmp(o);)f.redIAdd(o);for(var u=this.pow(f,n),c=this.pow(e,n.addn(1).iushrn(1)),h=this.pow(e,n),l=i;0!==h.cmp(s);){for(var d=h,p=0;0!==d.cmp(s);p++)d=d.redSqr();_(p<l);var b=this.pow(u,(new y(1)).iushln(l-p-1));c=c.redMul(b),u=b.redSqr(),h=h.redMul(u),l=p}return c},w.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},w.prototype.pow=function(e,t){if(t.isZero())return(new y(1)).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=(new y(1)).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,o=0,a=t.bitLength()%26;for(0===a&&(a=26),n=t.length-1;0<=n;n--){for(var f=t.words[n],u=a-1;0<=u;u--){var c=f>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==s?(s<<=1,s|=c,(4===++o||0===n&&0===u)&&(i=this.mul(i,r[s]),s=o=0)):o=0}a=26}return i},w.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},w.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},y.mont=function(e){return new S(e)},r(S,w),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return 0<=i.cmp(this.m)?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return(new y(0))._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return 0<=i.cmp(this.m)?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)},{buffer:245}],244:[function(e,t,r){var n;function i(e){this.rand=e}if(t.exports=function(e){return n||(n=new i(null)),n.generate(e)},(t.exports.Rand=i).prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=e("crypto");if("function"!=typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return s.randomBytes(e)}}catch(e){}},{crypto:245}],245:[function(e,t,r){arguments[4][157][0].apply(r,arguments)},{dup:157}],246:[function(e,t,r){var i=e("safe-buffer").Buffer;function s(e){i.isBuffer(e)||(e=i.from(e));for(var t=e.length/4|0,r=new Array(t),n=0;n<t;n++)r[n]=e.readUInt32BE(4*n);return r}function n(e){for(;0<e.length;e++)e[0]=0}function o(e,t,r,n,i){for(var s,o,a,f,u=r[0],c=r[1],h=r[2],l=r[3],d=e[0]^t[0],p=e[1]^t[1],b=e[2]^t[2],_=e[3]^t[3],y=4,v=1;v<i;v++)s=u[d>>>24]^c[p>>>16&255]^h[b>>>8&255]^l[255&_]^t[y++],o=u[p>>>24]^c[b>>>16&255]^h[_>>>8&255]^l[255&d]^t[y++],a=u[b>>>24]^c[_>>>16&255]^h[d>>>8&255]^l[255&p]^t[y++],f=u[_>>>24]^c[d>>>16&255]^h[p>>>8&255]^l[255&b]^t[y++],d=s,p=o,b=a,_=f;return s=(n[d>>>24]<<24|n[p>>>16&255]<<16|n[b>>>8&255]<<8|n[255&_])^t[y++],o=(n[p>>>24]<<24|n[b>>>16&255]<<16|n[_>>>8&255]<<8|n[255&d])^t[y++],a=(n[b>>>24]<<24|n[_>>>16&255]<<16|n[d>>>8&255]<<8|n[255&p])^t[y++],f=(n[_>>>24]<<24|n[d>>>16&255]<<16|n[p>>>8&255]<<8|n[255&b])^t[y++],[s>>>=0,o>>>=0,a>>>=0,f>>>=0]}var h=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,f=0;f<256;++f){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99;var c=e[n[r[o]=u]=o],h=e[c],l=e[h],d=257*e[u]^16843008*u;i[0][o]=d<<24|d>>>8,i[1][o]=d<<16|d>>>16,i[2][o]=d<<8|d>>>24,i[3][o]=d,d=16843009*l^65537*h^257*c^16843008*o,s[0][u]=d<<24|d>>>8,s[1][u]=d<<16|d>>>16,s[2][u]=d<<8|d>>>24,s[3][u]=d,0===o?o=a=1:(o=c^e[e[e[l^c]]],a^=e[e[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function a(e){this._key=s(e),this._reset()}a.blockSize=16,a.keySize=32,a.prototype.blockSize=a.blockSize,a.prototype.keySize=a.keySize,a.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],s=0;s<t;s++)i[s]=e[s];for(s=t;s<n;s++){var o=i[s-1];s%t==0?(o=o<<8|o>>>24,o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o],o^=h[s/t|0]<<24):6<t&&s%t==4&&(o=l.SBOX[o>>>24]<<24|l.SBOX[o>>>16&255]<<16|l.SBOX[o>>>8&255]<<8|l.SBOX[255&o]),i[s]=i[s-t]^o}for(var a=[],f=0;f<n;f++){var u=n-f,c=i[u-(f%4?0:4)];a[f]=f<4||u<=4?c:l.INV_SUB_MIX[0][l.SBOX[c>>>24]]^l.INV_SUB_MIX[1][l.SBOX[c>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[c>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&c]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=a},a.prototype.encryptBlockRaw=function(e){return o(e=s(e),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},a.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=i.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},a.prototype.decryptBlock=function(e){var t=(e=s(e))[1];e[1]=e[3],e[3]=t;var r=o(e,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),n=i.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n},a.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},t.exports.AES=a},{"safe-buffer":373}],247:[function(e,t,r){var o=e("./aes"),u=e("safe-buffer").Buffer,a=e("cipher-base"),n=e("inherits"),c=e("./ghash"),i=e("buffer-xor"),h=e("./incr32");function s(e,t,r,n){a.call(this);var i=u.alloc(4,0);this._cipher=new o.AES(t);var s=this._cipher.encryptBlock(i);this._ghash=new c(s),r=function(e,t,r){if(12===t.length)return e._finID=u.concat([t,u.from([0,0,0,1])]),u.concat([t,u.from([0,0,0,2])]);var n=new c(r),i=t.length,s=i%16;n.update(t),s&&(s=16-s,n.update(u.alloc(s,0))),n.update(u.alloc(8,0));var o=8*i,a=u.alloc(8);a.writeUIntBE(o,0,8),n.update(a),e._finID=n.state;var f=u.from(e._finID);return h(f),f}(this,r,s),this._prev=u.from(r),this._cache=u.allocUnsafe(0),this._secCache=u.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}n(s,a),s.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=u.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},s.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=i(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},s.prototype.getAuthTag=function(){if(this._decrypt||!u.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},s.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},s.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},t.exports=s},{"./aes":246,"./ghash":251,"./incr32":252,"buffer-xor":273,"cipher-base":275,inherits:327,"safe-buffer":373}],248:[function(e,t,r){var n=e("./encrypter"),i=e("./decrypter"),s=e("./modes/list.json");r.createCipher=r.Cipher=n.createCipher,r.createCipheriv=r.Cipheriv=n.createCipheriv,r.createDecipher=r.Decipher=i.createDecipher,r.createDecipheriv=r.Decipheriv=i.createDecipheriv,r.listCiphers=r.getCiphers=function(){return Object.keys(s)}},{"./decrypter":249,"./encrypter":250,"./modes/list.json":260}],249:[function(e,t,r){var i=e("./authCipher"),s=e("safe-buffer").Buffer,o=e("./modes"),a=e("./streamCipher"),n=e("cipher-base"),f=e("./aes"),u=e("evp_bytestokey");function c(e,t,r){n.call(this),this._cache=new h,this._last=void 0,this._cipher=new f.AES(t),this._prev=s.from(r),this._mode=e,this._autopadding=!0}function h(){this.cache=s.allocUnsafe(0)}function l(e,t,r){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=s.from(r)),"GCM"!==n.mode&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=s.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===n.type?new a(n.module,t,r,!0):"auth"===n.type?new i(n.module,t,r,!0):new c(n.module,t,r)}e("inherits")(c,n),c.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return s.concat(n)},c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||16<t)throw new Error("unable to decrypt data");var r=-1;for(;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=s.concat([this.cache,e])},h.prototype.get=function(e){var t;if(e){if(16<this.cache.length)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(16<=this.cache.length)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},r.createDecipher=function(e,t){var r=o[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return l(e,n.key,n.iv)},r.createDecipheriv=l},{"./aes":246,"./authCipher":247,"./modes":259,"./streamCipher":262,"cipher-base":275,evp_bytestokey:310,inherits:327,"safe-buffer":373}],250:[function(e,t,r){var i=e("./modes"),s=e("./authCipher"),o=e("safe-buffer").Buffer,a=e("./streamCipher"),n=e("cipher-base"),f=e("./aes"),u=e("evp_bytestokey");function c(e,t,r){n.call(this),this._cache=new l,this._cipher=new f.AES(t),this._prev=o.from(r),this._mode=e,this._autopadding=!0}e("inherits")(c,n),c.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return o.concat(n)};var h=o.alloc(16,16);function l(){this.cache=o.allocUnsafe(0)}function d(e,t,r){var n=i[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==n.mode&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===n.type?new a(n.module,t,r):"auth"===n.type?new s(n.module,t,r):new c(n.module,t,r)}c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},l.prototype.add=function(e){this.cache=o.concat([this.cache,e])},l.prototype.get=function(){if(15<this.cache.length){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},l.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return o.concat([this.cache,t])},r.createCipheriv=d,r.createCipher=function(e,t){var r=i[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return d(e,n.key,n.iv)}},{"./aes":246,"./authCipher":247,"./modes":259,"./streamCipher":262,"cipher-base":275,evp_bytestokey:310,inherits:327,"safe-buffer":373}],251:[function(e,t,r){var n=e("safe-buffer").Buffer,i=n.alloc(16,0);function o(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function s(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}s.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},s.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),t=3;0<t;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=o(i)},s.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);16<=this.cache.length;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},s.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},t.exports=s},{"safe-buffer":373}],252:[function(e,t,r){t.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},{}],253:[function(e,t,r){var i=e("buffer-xor");r.encrypt=function(e,t){var r=i(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},r.decrypt=function(e,t){var r=e._prev;e._prev=t;var n=e._cipher.decryptBlock(t);return i(n,r)}},{"buffer-xor":273}],254:[function(e,t,r){var s=e("safe-buffer").Buffer,o=e("buffer-xor");function a(e,t,r){var n=t.length,i=o(t,e._cache);return e._cache=e._cache.slice(n),e._prev=s.concat([e._prev,r?t:i]),i}r.encrypt=function(e,t,r){for(var n,i=s.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=s.allocUnsafe(0)),!(e._cache.length<=t.length)){i=s.concat([i,a(e,t,r)]);break}n=e._cache.length,i=s.concat([i,a(e,t.slice(0,n),r)]),t=t.slice(n)}return i}},{"buffer-xor":273,"safe-buffer":373}],255:[function(e,t,r){var o=e("safe-buffer").Buffer;function a(e,t,r){for(var n,i,s=-1,o=0;++s<8;)n=t&1<<7-s?128:0,o+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^n))>>s%8,e._prev=f(e._prev,r?n:i);return o}function f(e,t){var r=e.length,n=-1,i=o.allocUnsafe(e.length);for(e=o.concat([e,o.from([t])]);++n<r;)i[n]=e[n]<<1|e[n+1]>>7;return i}r.encrypt=function(e,t,r){for(var n=t.length,i=o.allocUnsafe(n),s=-1;++s<n;)i[s]=a(e,t[s],r);return i}},{"safe-buffer":373}],256:[function(e,t,r){var c=e("safe-buffer").Buffer;r.encrypt=function(e,t,r){for(var n,i,s,o,a=t.length,f=c.allocUnsafe(a),u=-1;++u<a;)f[u]=(n=e,i=t[u],s=r,void 0,o=n._cipher.encryptBlock(n._prev)[0]^i,n._prev=c.concat([n._prev.slice(1),c.from([s?i:o])]),o);return f}},{"safe-buffer":373}],257:[function(e,t,r){var c=e("buffer-xor"),h=e("safe-buffer").Buffer,l=e("../incr32");r.encrypt=function(e,t){var r,n,i=Math.ceil(t.length/16),s=e._cache.length;e._cache=h.concat([e._cache,h.allocUnsafe(16*i)]);for(var o=0;o<i;o++){var a=(void 0,n=(r=e)._cipher.encryptBlockRaw(r._prev),l(r._prev),n),f=s+16*o;e._cache.writeUInt32BE(a[0],f+0),e._cache.writeUInt32BE(a[1],f+4),e._cache.writeUInt32BE(a[2],f+8),e._cache.writeUInt32BE(a[3],f+12)}var u=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),c(t,u)}},{"../incr32":252,"buffer-xor":273,"safe-buffer":373}],258:[function(e,t,r){r.encrypt=function(e,t){return e._cipher.encryptBlock(t)},r.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],259:[function(e,t,r){var n={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},i=e("./list.json");for(var s in i)i[s].module=n[i[s].mode];t.exports=i},{"./cbc":253,"./cfb":254,"./cfb1":255,"./cfb8":256,"./ctr":257,"./ecb":258,"./list.json":260,"./ofb":261}],260:[function(e,t,r){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],261:[function(e,t,r){((function(i){var s=e("buffer-xor");r.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=i.concat([e._cache,(r=e,r._prev=r._cipher.encryptBlock(r._prev),r._prev)]);var r,n=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),s(t,n)}})).call(this,e("buffer").Buffer)},{buffer:274,"buffer-xor":273}],262:[function(e,t,r){var i=e("./aes"),s=e("safe-buffer").Buffer,o=e("cipher-base");function n(e,t,r,n){o.call(this),this._cipher=new i.AES(t),this._prev=s.from(r),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=n,this._mode=e}e("inherits")(n,o),n.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()},t.exports=n},{"./aes":246,"cipher-base":275,inherits:327,"safe-buffer":373}],263:[function(e,t,r){var n=e("browserify-des"),i=e("browserify-aes/browser"),s=e("browserify-aes/modes"),o=e("browserify-des/modes"),a=e("evp_bytestokey");function f(e,t,r){if(e=e.toLowerCase(),s[e])return i.createCipheriv(e,t,r);if(o[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function u(e,t,r){if(e=e.toLowerCase(),s[e])return i.createDecipheriv(e,t,r);if(o[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}r.createCipher=r.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),s[e])r=s[e].key,n=s[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");r=8*o[e].key,n=o[e].iv}var i=a(t,!1,r,n);return f(e,i.key,i.iv)},r.createCipheriv=r.Cipheriv=f,r.createDecipher=r.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),s[e])r=s[e].key,n=s[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");r=8*o[e].key,n=o[e].iv}var i=a(t,!1,r,n);return u(e,i.key,i.iv)},r.createDecipheriv=r.Decipheriv=u,r.listCiphers=r.getCiphers=function(){return Object.keys(o).concat(i.getCiphers())}},{"browserify-aes/browser":248,"browserify-aes/modes":259,"browserify-des":264,"browserify-des/modes":265,evp_bytestokey:310}],264:[function(e,t,r){var o=e("cipher-base"),n=e("des.js"),i=e("inherits"),a=e("safe-buffer").Buffer,f={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function s(e){o.call(this);var t,r=e.mode.toLowerCase(),n=f[r];t=e.decrypt?"decrypt":"encrypt";var i=e.key;a.isBuffer(i)||(i=a.from(i)),"des-ede"!==r&&"des-ede-cbc"!==r||(i=a.concat([i,i.slice(0,8)]));var s=e.iv;a.isBuffer(s)||(s=a.from(s)),this._des=n.create({key:i,iv:s,type:t})}f.des=f["des-cbc"],f.des3=f["des-ede3-cbc"],i(t.exports=s,o),s.prototype._update=function(e){return a.from(this._des.update(e))},s.prototype._final=function(){return a.from(this._des.final())}},{"cipher-base":275,"des.js":283,inherits:327,"safe-buffer":373}],265:[function(e,t,r){r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}},{}],266:[function(t,r,e){((function(b){var _=t("bn.js"),n=t("randombytes");function e(e,t){var r,n,i={blinder:(n=y(r=t)).toRed(_.mont(r.modulus)).redPow(new _(r.publicExponent)).fromRed(),unblinder:n.invm(r.modulus)},s=t.modulus.byteLength(),o=(_.mont(t.modulus),(new _(e)).mul(i.blinder).umod(t.modulus)),a=o.toRed(_.mont(t.prime1)),f=o.toRed(_.mont(t.prime2)),u=t.coefficient,c=t.prime1,h=t.prime2,l=a.redPow(t.exponent1),d=f.redPow(t.exponent2);l=l.fromRed(),d=d.fromRed();var p=l.isub(d).imul(u).umod(c);return p.imul(h),d.iadd(p),new b(d.imul(i.unblinder).umod(t.modulus).toArray(!1,s))}function y(e){for(var t=e.modulus.byteLength(),r=new _(n(t));0<=r.cmp(e.modulus)||!r.umod(e.prime1)||!r.umod(e.prime2);)r=new _(n(t));return r}(r.exports=e).getr=y})).call(this,t("buffer").Buffer)},{"bn.js":243,buffer:274,randombytes:356}],267:[function(e,t,r){t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":268}],268:[function(e,t,r){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],269:[function(e,t,r){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],270:[function(h,l,e){((function(i){var r=h("create-hash"),n=h("stream"),e=h("inherits"),s=h("./sign"),o=h("./verify"),a=h("./algorithms.json");function t(e){n.Writable.call(this);var t=a[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){n.Writable.call(this);var t=a[e];if(!t)throw new Error("Unknown message digest");this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function u(e){return new t(e)}function c(e){return new f(e)}Object.keys(a).forEach(function(e){a[e].id=new i(a[e].id,"hex"),a[e.toLowerCase()]=a[e]}),e(t,n.Writable),t.prototype._write=function(e,t,r){this._hash.update(e),r()},t.prototype.update=function(e,t){return"string"==typeof e&&(e=new i(e,t)),this._hash.update(e),this},t.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=s(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},e(f,n.Writable),f.prototype._write=function(e,t,r){this._hash.update(e),r()},f.prototype.update=function(e,t){return"string"==typeof e&&(e=new i(e,t)),this._hash.update(e),this},f.prototype.verify=function(e,t,r){"string"==typeof t&&(t=new i(t,r)),this.end();var n=this._hash.digest();return o(t,n,e,this._signType,this._tag)},l.exports={Sign:u,Verify:c,createSign:u,createVerify:c}})).call(this,h("buffer").Buffer)},{"./algorithms.json":268,"./sign":271,"./verify":272,buffer:274,"create-hash":278,inherits:327,stream:382}],271:[function(e,t,r){((function(b){var u=e("create-hmac"),c=e("browserify-rsa"),h=e("elliptic").ec,_=e("bn.js"),l=e("parse-asn1"),d=e("./curves.json");function y(e,t,r,n){if((e=new b(e.toArray())).length<t.byteLength()){var i=new b(t.byteLength()-e.length);i.fill(0),e=b.concat([i,e])}var s=r.length,o=function(e,t){e=(e=v(e,t)).mod(t);var r=new b(e.toArray());if(r.length<t.byteLength()){var n=new b(t.byteLength()-r.length);n.fill(0),r=b.concat([n,r])}return r}(r,t),a=new b(s);a.fill(1);var f=new b(s);return f.fill(0),f=u(n,f).update(a).update(new b([0])).update(e).update(o).digest(),a=u(n,f).update(a).digest(),{k:f=u(n,f).update(a).update(new b([1])).update(e).update(o).digest(),v:a=u(n,f).update(a).digest()}}function v(e,t){var r=new _(e),n=(e.length<<3)-t.bitLength();return 0<n&&r.ishrn(n),r}function m(e,t,r){var n,i;do{for(n=new b(0);8*n.length<e.bitLength();)t.v=u(r,t.k).update(t.v).digest(),n=b.concat([n,t.v]);i=v(n,e),t.k=u(r,t.k).update(t.v).update(new b([0])).digest(),t.v=u(r,t.k).update(t.v).digest()}while(-1!==i.cmp(e));return i}t.exports=function(e,t,r,n,i){var s=l(t);if(s.curve){if("ecdsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");return function(e,t){var r=d[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var n=(new h(r)).keyFromPrivate(t.privateKey).sign(e);return new b(n.toDER())}(e,s)}if("dsa"===s.type){if("dsa"!==n)throw new Error("wrong private key type");return function(e,t,r){for(var n,i,s,o,a=t.params.priv_key,f=t.params.p,u=t.params.q,c=t.params.g,h=new _(0),l=v(e,u).mod(u),d=!1,p=y(a,u,e,r);!1===d;)n=m(u,p,r),i=n,s=f,o=u,h=c.toRed(_.mont(s)).redPow(i).fromRed().mod(o),0===(d=n.invm(u).imul(l.add(a.mul(h))).mod(u)).cmpn(0)&&(d=!1,h=new _(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var r=[48,e.length+t.length+4,2,e.length];return r=r.concat(e,[2,t.length],t),new b(r)}(h,d)}(e,s,r)}if("rsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");e=b.concat([i,e]);for(var o=s.modulus.byteLength(),a=[0,1];e.length+a.length+1<o;)a.push(255);a.push(0);for(var f=-1;++f<e.length;)a.push(e[f]);return c(a,s)},t.exports.getKey=y,t.exports.makeKey=m})).call(this,e("buffer").Buffer)},{"./curves.json":269,"bn.js":243,"browserify-rsa":266,buffer:274,"create-hmac":280,elliptic:293,"parse-asn1":338}],272:[function(e,t,r){((function(l){var d=e("bn.js"),p=e("elliptic").ec,b=e("parse-asn1"),_=e("./curves.json");function y(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}t.exports=function(e,t,r,n,i){var s=b(r);if("ec"===s.type){if("ecdsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong public key type");return function(e,t,r){var n=_[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new p(n),s=r.data.subjectPrivateKey.data;return i.verify(t,e,s)}(e,t,s)}if("dsa"===s.type){if("dsa"!==n)throw new Error("wrong public key type");return function(e,t,r){var n=r.data.p,i=r.data.q,s=r.data.g,o=r.data.pub_key,a=b.signature.decode(e,"der"),f=a.s,u=a.r;y(f,i),y(u,i);var c=d.mont(n),h=f.invm(i);return 0===s.toRed(c).redPow((new d(t)).mul(h).mod(i)).fromRed().mul(o.toRed(c).redPow(u.mul(h).mod(i)).fromRed()).mod(n).mod(i).cmp(u)}(e,t,s)}if("rsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong public key type");t=l.concat([i,t]);for(var o=s.modulus.byteLength(),a=[1],f=0;t.length+a.length+2<o;)a.push(255),f++;a.push(0);for(var u=-1;++u<t.length;)a.push(t[u]);a=new l(a);var c=d.mont(s.modulus);e=(e=(new d(e)).toRed(c)).redPow(new d(s.publicExponent)),e=new l(e.fromRed().toArray());var h=f<8?1:0;for(o=Math.min(e.length,a.length),e.length!==a.length&&(h=1),u=-1;++u<o;)h|=e[u]^a[u];return 0===h}})).call(this,e("buffer").Buffer)},{"./curves.json":269,"bn.js":243,buffer:274,elliptic:293,"parse-asn1":338}],273:[function(e,t,r){((function(s){t.exports=function(e,t){for(var r=Math.min(e.length,t.length),n=new s(r),i=0;i<r;++i)n[i]=e[i]^t[i];return n}})).call(this,e("buffer").Buffer)},{buffer:274}],274:[function(e,t,r){"use strict";var n=e("base64-js"),s=e("ieee754");r.Buffer=h,r.SlowBuffer=function(e){+e!=e&&(e=0);return h.alloc(+e)},r.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(i<e)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=h.prototype,t}function h(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(e)}return a(e,t,r)}function a(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return D(e)||e&&D(e.buffer)?function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=h.prototype,n}(e,t,r):"string"==typeof e?function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|d(e,t),n=o(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t):function(e){if(h.isBuffer(e)){var t=0|l(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}if(e){if(ArrayBuffer.isView(e)||"length"in e)return"number"!=typeof e.length||L(e.length)?o(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}(e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e){return f(e),o(e<0?0:0|l(e))}function c(e){for(var t=e.length<0?0:0|l(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function l(e){if(i<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function d(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||D(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(e).length;default:if(n)return P(e).length;t=(""+t).toLowerCase(),n=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),L(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=h.from(t,n)),h.isBuffer(t))return 0===t.length?-1:_(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,n,i){var s,o=1,a=e.length,f=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a/=o=2,f/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(s=r;s<a;s++)if(u(e,s)===u(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===f)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(a<r+f&&(r=a-f),s=r;0<=s;s--){for(var h=!0,l=0;l<f;l++)if(u(e,s+l)!==u(t,l)){h=!1;break}if(h)return s}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?i<(n=Number(n))&&(n=i):n=i;var s=t.length;s/2<n&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(L(a))return o;e[r+o]=a}return o}function v(e,t,r,n){return R(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function m(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function g(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,f,u=e[i],c=null,h=239<u?4:223<u?3:191<u?2:1;if(i+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(s=e[i+1]))&&127<(f=(31&u)<<6|63&s)&&(c=f);break;case 3:s=e[i+1],o=e[i+2],128==(192&s)&&128==(192&o)&&2047<(f=(15&u)<<12|(63&s)<<6|63&o)&&(f<55296||57343<f)&&(c=f);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&65535<(f=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)&&f<1114112&&(c=f)}null===c?(c=65533,h=1):65535<c&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(e){var t=e.length;if(t<=w)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=w));return r}(n)}r.kMaxLength=i,(h.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{get:function(){if(this instanceof h)return this.buffer}}),Object.defineProperty(h.prototype,"offset",{get:function(){if(this instanceof h)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=function(e,t,r){return a(e,t,r)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(e,t,r){return i=t,s=r,f(n=e),n<=0?o(n):void 0!==i?"string"==typeof s?o(n).fill(i,s):o(n).fill(i):o(n);var n,i,s},h.allocUnsafe=function(e){return u(e)},h.allocUnsafeSlow=function(e){return u(e)},h.isBuffer=function(e){return null!=e&&!0===e._isBuffer},h.compare=function(e,t){if(!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);var r;if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;var n=h.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(ArrayBuffer.isView(s)&&(s=h.from(s)),!h.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},h.byteLength=d,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?g(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,r);case"utf8":case"utf-8":return g(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return k(this,t,r);case"base64":return m(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},h.prototype.compare=function(e,t,r,n,i){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=t)return 0;if(i<=n)return-1;if(r<=t)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),a=Math.min(s,o),f=this.slice(n,i),u=e.slice(t,r),c=0;c<a;++c)if(f[c]!==u[c]){s=f[c],o=u[c];break}return s<o?-1:o<s?1:0},h.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},h.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},h.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},h.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||i<r)&&(r=i),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s,o,a,f,u,c,h,l,d,p=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return l=t,d=r,R(P(e,(h=this).length-l),h,l,d);case"ascii":return v(this,e,t,r);case"latin1":case"binary":return v(this,e,t,r);case"base64":return f=this,u=t,c=r,R(B(e),f,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o=t,a=r,R(function(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,(s=this).length-o),s,o,a);default:if(p)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function E(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||n<r)&&(r=n);for(var i="",s=t;s<r;++s)i+=A(e[s]);return i}function x(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function M(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,i,s){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function T(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function C(e,t,r,n,i){return t=+t,r>>>=0,i||T(e,0,r,4),s.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,i){return t=+t,r>>>=0,i||T(e,0,r,8),s.write(e,t,r,n,52,8),r+8}h.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=h.prototype,n},h.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},h.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);for(var n=this[e+ --t],i=1;0<t&&(i*=256);)n+=this[e+ --t]*i;return n},h.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*t)),n},h.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);for(var n=t,i=1,s=this[e+ --n];0<n&&(i*=256);)s+=this[e+ --n]*i;return(i*=128)<=s&&(s-=Math.pow(2,8*t)),s},h.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),s.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),s.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),s.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),s.read(this,e,!1,52,8)},h.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},h.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[t+i]=255&e;0<=--i&&(s*=256);)this[t+i]=e/s&255;return t+r},h.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},h.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;0<=--s&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},h.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeFloatLE=function(e,t,r){return C(this,e,t,!0,r)},h.prototype.writeFloatBE=function(e,t,r){return C(this,e,t,!1,r)},h.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},h.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},h.prototype.copy=function(e,t,r,n){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),0<n&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var s=i-1;0<=s;--s)e[s+t]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},h.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var o=h.isBuffer(e)?e:new h(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<r-t;++s)this[s+t]=o[s%a]}return this};var O=/[^+/0-9A-Za-z-_]/g;function A(e){return e<16?"0"+e.toString(16):e.toString(16)}function P(e,t){var r;t=t||1/0;for(var n=e.length,i=null,s=[],o=0;o<n;++o){if(55295<(r=e.charCodeAt(o))&&r<57344){if(!i){if(56319<r){-1<(t-=3)&&s.push(239,191,189);continue}if(o+1===n){-1<(t-=3)&&s.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(t-=3)&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(t-=3)&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function B(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function D(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function L(e){return e!=e}},{"base64-js":242,ieee754:325}],275:[function(e,t,r){var i=e("safe-buffer").Buffer,n=e("stream").Transform,s=e("string_decoder").StringDecoder;function o(e){n.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(o,n),o.prototype.update=function(e,t,r){"string"==typeof e&&(e=i.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},o.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},o.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},o.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},t.exports=o},{inherits:327,"safe-buffer":373,stream:382,string_decoder:383}],276:[function(e,t,r){((function(e){function t(e){return Object.prototype.toString.call(e)}r.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isNull=function(e){return null===e},r.isNullOrUndefined=function(e){return null==e},r.isNumber=function(e){return"number"==typeof e},r.isString=function(e){return"string"==typeof e},r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=function(e){return void 0===e},r.isRegExp=function(e){return"[object RegExp]"===t(e)},r.isObject=function(e){return"object"==typeof e&&null!==e},r.isDate=function(e){return"[object Date]"===t(e)},r.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},r.isFunction=function(e){return"function"==typeof e},r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e.isBuffer})).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":328}],277:[function(e,a,t){((function(s){var t=e("elliptic"),n=e("bn.js");a.exports=function(e){return new i(e)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function i(e){this.curveType=r[e],this.curveType||(this.curveType={name:e}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}function o(e,t,r){Array.isArray(e)||(e=e.toArray());var n=new s(e);if(r&&n.length<r){var i=new s(r-n.length);i.fill(0),n=s.concat([i,n])}return t?n.toString(t):n}r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1,i.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},i.prototype.computeSecret=function(e,t,r){return t=t||"utf8",s.isBuffer(e)||(e=new s(e,t)),o(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},i.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),o(r,e)},i.prototype.getPrivateKey=function(e){return o(this.keys.getPrivate(),e)},i.prototype.setPublicKey=function(e,t){return t=t||"utf8",s.isBuffer(e)||(e=new s(e,t)),this.keys._importPublic(e),this},i.prototype.setPrivateKey=function(e,t){t=t||"utf8",s.isBuffer(e)||(e=new s(e,t));var r=new n(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}})).call(this,e("buffer").Buffer)},{"bn.js":243,buffer:274,elliptic:293}],278:[function(e,t,r){"use strict";var n=e("inherits"),i=e("md5.js"),s=e("ripemd160"),o=e("sha.js"),a=e("cipher-base");function f(e){a.call(this,"digest"),this._hash=e}n(f,a),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){return this._hash.digest()},t.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new s:new f(o(e))}},{"cipher-base":275,inherits:327,"md5.js":330,ripemd160:372,"sha.js":375}],279:[function(e,t,r){var n=e("md5.js");t.exports=function(e){return(new n).update(e).digest()}},{"md5.js":330}],280:[function(e,t,r){"use strict";var n=e("inherits"),i=e("./legacy"),o=e("cipher-base"),a=e("safe-buffer").Buffer,s=e("create-hash/md5"),f=e("ripemd160"),u=e("sha.js"),c=a.alloc(128);function h(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var r="sha512"===e||"sha384"===e?128:64;(this._alg=e,(this._key=t).length>r)?t=("rmd160"===e?new f:u(e)).update(t).digest():t.length<r&&(t=a.concat([t,c],r));for(var n=this._ipad=a.allocUnsafe(r),i=this._opad=a.allocUnsafe(r),s=0;s<r;s++)n[s]=54^t[s],i[s]=92^t[s];this._hash="rmd160"===e?new f:u(e),this._hash.update(n)}n(h,o),h.prototype._update=function(e){this._hash.update(e)},h.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new f:u(this._alg)).update(this._opad).update(e).digest()},t.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new h("rmd160",t):"md5"===e?new i(s,t):new h(e,t)}},{"./legacy":281,"cipher-base":275,"create-hash/md5":279,inherits:327,ripemd160:372,"safe-buffer":373,"sha.js":375}],281:[function(e,t,r){"use strict";var n=e("inherits"),s=e("safe-buffer").Buffer,o=e("cipher-base"),a=s.alloc(128);function i(e,t){o.call(this,"digest"),"string"==typeof t&&(t=s.from(t)),this._alg=e,64<(this._key=t).length?t=e(t):t.length<64&&(t=s.concat([t,a],64));for(var r=this._ipad=s.allocUnsafe(64),n=this._opad=s.allocUnsafe(64),i=0;i<64;i++)r[i]=54^t[i],n[i]=92^t[i];this._hash=[r]}n(i,o),i.prototype._update=function(e){this._hash.push(e)},i.prototype._final=function(){var e=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,e]))},t.exports=i},{"cipher-base":275,inherits:327,"safe-buffer":373}],282:[function(e,t,r){"use strict";r.randomBytes=r.rng=r.pseudoRandomBytes=r.prng=e("randombytes"),r.createHash=r.Hash=e("create-hash"),r.createHmac=r.Hmac=e("create-hmac");var n=e("browserify-sign/algos"),i=Object.keys(n),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);r.getHashes=function(){return s};var o=e("pbkdf2");r.pbkdf2=o.pbkdf2,r.pbkdf2Sync=o.pbkdf2Sync;var a=e("browserify-cipher");r.Cipher=a.Cipher,r.createCipher=a.createCipher,r.Cipheriv=a.Cipheriv,r.createCipheriv=a.createCipheriv,r.Decipher=a.Decipher,r.createDecipher=a.createDecipher,r.Decipheriv=a.Decipheriv,r.createDecipheriv=a.createDecipheriv,r.getCiphers=a.getCiphers,r.listCiphers=a.listCiphers;var f=e("diffie-hellman");r.DiffieHellmanGroup=f.DiffieHellmanGroup,r.createDiffieHellmanGroup=f.createDiffieHellmanGroup,r.getDiffieHellman=f.getDiffieHellman,r.createDiffieHellman=f.createDiffieHellman,r.DiffieHellman=f.DiffieHellman;var u=e("browserify-sign");r.createSign=u.createSign,r.Sign=u.Sign,r.createVerify=u.createVerify,r.Verify=u.Verify,r.createECDH=e("create-ecdh");var c=e("public-encrypt");r.publicEncrypt=c.publicEncrypt,r.privateEncrypt=c.privateEncrypt,r.publicDecrypt=c.publicDecrypt,r.privateDecrypt=c.privateDecrypt;var h=e("randomfill");r.randomFill=h.randomFill,r.randomFillSync=h.randomFillSync,r.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},r.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":263,"browserify-sign":270,"browserify-sign/algos":267,"create-ecdh":277,"create-hash":278,"create-hmac":280,"diffie-hellman":289,pbkdf2:339,"public-encrypt":346,randombytes:356,randomfill:357}],283:[function(e,t,r){"use strict";r.utils=e("./des/utils"),r.Cipher=e("./des/cipher"),r.DES=e("./des/des"),r.CBC=e("./des/cbc"),r.EDE=e("./des/ede")},{"./des/cbc":284,"./des/cipher":285,"./des/des":286,"./des/ede":287,"./des/utils":288}],284:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),s=e("inherits"),o={};function i(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}r.instantiate=function(t){function r(e){t.call(this,e),this._cbcInit()}s(r,t);for(var e=Object.keys(o),n=0;n<e.length;n++){var i=e[n];r.prototype[i]=o[i]}return r.create=function(e){return new r(e)},r},o._cbcInit=function(){var e=new i(this.options.iv);this._cbcState=e},o._update=function(e,t,r,n){var i=this._cbcState,s=this.constructor.super_.prototype,o=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=e[t+a];s._update.call(this,o,0,r,n);for(a=0;a<this.blockSize;a++)o[a]=r[n+a]}else{s._update.call(this,e,t,r,n);for(a=0;a<this.blockSize;a++)r[n+a]^=o[a];for(a=0;a<this.blockSize;a++)o[a]=e[t+a]}}},{inherits:327,"minimalistic-assert":332}],285:[function(e,t,r){"use strict";var n=e("minimalistic-assert");function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}(t.exports=i).prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var s=e.length-(e.length-t)%this.blockSize;t<s;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);0<n;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},{"minimalistic-assert":332}],286:[function(e,t,r){"use strict";var o=e("minimalistic-assert"),n=e("inherits"),i=e("../des"),l=i.utils,s=i.Cipher;function a(){this.tmp=new Array(2),this.keys=null}function f(e){s.call(this,e);var t=new a;this._desState=t,this.deriveKeys(t,e.key)}n(f,s),(t.exports=f).create=function(e){return new f(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];f.prototype.deriveKeys=function(e,t){e.keys=new Array(32),o.equal(t.length,this.blockSize,"Invalid key length");var r=l.readUInt32BE(t,0),n=l.readUInt32BE(t,4);l.pc1(r,n,e.tmp,0),r=e.tmp[0],n=e.tmp[1];for(var i=0;i<e.keys.length;i+=2){var s=u[i>>>1];r=l.r28shl(r,s),n=l.r28shl(n,s),l.pc2(r,n,e.keys,i)}},f.prototype._update=function(e,t,r,n){var i=this._desState,s=l.readUInt32BE(e,t),o=l.readUInt32BE(e,t+4);l.ip(s,o,i.tmp,0),s=i.tmp[0],o=i.tmp[1],"encrypt"===this.type?this._encrypt(i,s,o,i.tmp,0):this._decrypt(i,s,o,i.tmp,0),s=i.tmp[0],o=i.tmp[1],l.writeUInt32BE(r,s,n),l.writeUInt32BE(r,o,n+4)},f.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},f.prototype._unpad=function(e){for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)o.equal(e[r],t);return e.slice(0,e.length-t)},f.prototype._encrypt=function(e,t,r,n,i){for(var s=t,o=r,a=0;a<e.keys.length;a+=2){var f=e.keys[a],u=e.keys[a+1];l.expand(o,e.tmp,0),f^=e.tmp[0],u^=e.tmp[1];var c=l.substitute(f,u),h=o;o=(s^l.permute(c))>>>0,s=h}l.rip(o,s,n,i)},f.prototype._decrypt=function(e,t,r,n,i){for(var s=r,o=t,a=e.keys.length-2;0<=a;a-=2){var f=e.keys[a],u=e.keys[a+1];l.expand(s,e.tmp,0),f^=e.tmp[0],u^=e.tmp[1];var c=l.substitute(f,u),h=s;s=(o^l.permute(c))>>>0,o=h}l.rip(s,o,n,i)}},{"../des":283,inherits:327,"minimalistic-assert":332}],287:[function(e,t,r){"use strict";var s=e("minimalistic-assert"),n=e("inherits"),i=e("../des"),o=i.Cipher,a=i.DES;function f(e,t){s.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),n=t.slice(8,16),i=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:n}),a.create({type:"encrypt",key:i})]:[a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:r})]}function u(e){o.call(this,e);var t=new f(this.type,this.options.key);this._edeState=t}n(u,o),(t.exports=u).create=function(e){return new u(e)},u.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},{"../des":283,inherits:327,"minimalistic-assert":332}],288:[function(e,t,r){"use strict";r.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},r.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},r.ip=function(e,t,r,n){for(var i=0,s=0,o=6;0<=o;o-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>>a+o&1}for(o=6;0<=o;o-=2){for(a=1;a<=25;a+=8)s<<=1,s|=t>>>a+o&1;for(a=1;a<=25;a+=8)s<<=1,s|=e>>>a+o&1}r[n+0]=i>>>0,r[n+1]=s>>>0},r.rip=function(e,t,r,n){for(var i=0,s=0,o=0;o<4;o++)for(var a=24;0<=a;a-=8)i<<=1,i|=t>>>a+o&1,i<<=1,i|=e>>>a+o&1;for(o=4;o<8;o++)for(a=24;0<=a;a-=8)s<<=1,s|=t>>>a+o&1,s<<=1,s|=e>>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},r.pc1=function(e,t,r,n){for(var i=0,s=0,o=7;5<=o;o--){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+o&1}for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+o&1;for(o=1;o<=3;o++){for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1;for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1}for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},r.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var f=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];r.pc2=function(e,t,r,n){for(var i=0,s=0,o=f.length>>>1,a=0;a<o;a++)i<<=1,i|=e>>>f[a]&1;for(a=o;a<f.length;a++)s<<=1,s|=t>>>f[a]&1;r[n+0]=i>>>0,r[n+1]=s>>>0},r.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var s=23;15<=s;s-=4)n<<=6,n|=e>>>s&63;for(s=11;3<=s;s-=4)i|=e>>>s&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];r.substitute=function(e,t){for(var r=0,n=0;n<4;n++){r<<=4,r|=i[64*n+(e>>>18-6*n&63)]}for(n=0;n<4;n++){r<<=4,r|=i[256+64*n+(t>>>18-6*n&63)]}return r>>>0};var n=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];r.permute=function(e){for(var t=0,r=0;r<n.length;r++)t<<=1,t|=e>>>n[r]&1;return t>>>0},r.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],s=0;s<t;s+=r)i.push(n.slice(s,s+r));return i.join(" ")}},{}],289:[function(e,t,r){((function(s){var o=e("./lib/generatePrime"),n=e("./lib/primes.json"),a=e("./lib/dh");var f={binary:!0,hex:!0,base64:!0};r.DiffieHellmanGroup=r.createDiffieHellmanGroup=r.getDiffieHellman=function(e){var t=new s(n[e].prime,"hex"),r=new s(n[e].gen,"hex");return new a(t,r)},r.createDiffieHellman=r.DiffieHellman=function e(t,r,n,i){return s.isBuffer(r)||void 0===f[r]?e(t,"binary",r,n):(r=r||"binary",i=i||"binary",n=n||new s([2]),s.isBuffer(n)||(n=new s(n,i)),"number"==typeof t?new a(o(t,n),n,!0):(s.isBuffer(t)||(t=new s(t,r)),new a(t,n,!0)))}})).call(this,e("buffer").Buffer)},{"./lib/dh":290,"./lib/generatePrime":291,"./lib/primes.json":292,buffer:274}],290:[function(b,_,e){((function(s){var o=b("bn.js"),a=new(b("miller-rabin")),f=new o(24),u=new o(11),c=new o(10),h=new o(3),l=new o(7),d=b("./generatePrime"),e=b("randombytes");function n(e,t){return t=t||"utf8",s.isBuffer(e)||(e=new s(e,t)),this._pub=new o(e),this}function i(e,t){return t=t||"utf8",s.isBuffer(e)||(e=new s(e,t)),this._priv=new o(e),this}_.exports=t;var p={};function t(e,t,r){this.setGenerator(t),this.__prime=new o(e),this._prime=o.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=n,this.setPrivateKey=i):this._primeCode=8}function r(e,t){var r=new s(e.toArray());return t?r.toString(t):r}Object.defineProperty(t.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in p)return p[n];var i,s=0;if(e.isEven()||!d.simpleSieve||!d.fermatTest(e)||!a.test(e))return s+=1,s+="02"===r||"05"===r?8:4,p[n]=s;switch(a.test(e.shrn(1))||(s+=2),r){case"02":e.mod(f).cmp(u)&&(s+=8);break;case"05":(i=e.mod(c)).cmp(h)&&i.cmp(l)&&(s+=8);break;default:s+=4}return p[n]=s}(this.__prime,this.__gen)),this._primeCode}}),t.prototype.generateKeys=function(){return this._priv||(this._priv=new o(e(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},t.prototype.computeSecret=function(e){var t=(e=(e=new o(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new s(t.toArray()),n=this.getPrime();if(r.length<n.length){var i=new s(n.length-r.length);i.fill(0),r=s.concat([i,r])}return r},t.prototype.getPublicKey=function(e){return r(this._pub,e)},t.prototype.getPrivateKey=function(e){return r(this._priv,e)},t.prototype.getPrime=function(e){return r(this.__prime,e)},t.prototype.getGenerator=function(e){return r(this._gen,e)},t.prototype.setGenerator=function(e,t){return t=t||"utf8",s.isBuffer(e)||(e=new s(e,t)),this.__gen=e,this._gen=new o(e),this}})).call(this,b("buffer").Buffer)},{"./generatePrime":291,"bn.js":243,buffer:274,"miller-rabin":331,randombytes:356}],291:[function(e,t,r){var i=e("randombytes");(t.exports=n).simpleSieve=_,n.fermatTest=y;var s=e("bn.js"),o=new s(24),a=new(e("miller-rabin")),f=new s(1),u=new s(2),c=new s(5),h=(new s(16),new s(8),new s(10)),l=new s(3),d=(new s(7),new s(11)),p=new s(4),b=(new s(12),null);function _(e){for(var t=function(){if(null!==b)return b;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return b=e}(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function y(e){var t=s.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function n(e,t){if(e<16)return new s(2===t||5===t?[140,123]:[140,39]);var r,n;for(t=new s(t);;){for(r=new s(i(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(f),r.testn(1)||r.iadd(u),t.cmp(u)){if(!t.cmp(c))for(;r.mod(h).cmp(l);)r.iadd(p)}else for(;r.mod(o).cmp(d);)r.iadd(p);if(_(n=r.shrn(1))&&_(r)&&y(n)&&y(r)&&a.test(n)&&a.test(r))return r}}},{"bn.js":243,"miller-rabin":331,randombytes:356}],292:[function(e,t,r){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],293:[function(e,t,r){"use strict";var n=r;n.version=e("../package.json").version,n.utils=e("./elliptic/utils"),n.rand=e("brorand"),n.curve=e("./elliptic/curve"),n.curves=e("./elliptic/curves"),n.ec=e("./elliptic/ec"),n.eddsa=e("./elliptic/eddsa")},{"../package.json":308,"./elliptic/curve":296,"./elliptic/curves":299,"./elliptic/ec":300,"./elliptic/eddsa":303,"./elliptic/utils":307,brorand:244}],294:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils,x=i.getNAF,M=i.getJSF,h=i.assert;function s(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=(new n(0)).toRed(this.red),this.one=(new n(1)).toRed(this.red),this.two=(new n(2)).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||0<r.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function o(e,t){this.curve=e,this.type=t,this.precomputed=null}(t.exports=s).prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(e,t){h(e.precomputed);var r=e._getDoubles(),n=x(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],o=0;o<n.length;o+=r.step){var a=0;for(t=o+r.step-1;o<=t;t--)a=(a<<1)+n[t];s.push(a)}for(var f=this.jpoint(null,null,null),u=this.jpoint(null,null,null),c=i;0<c;c--){for(o=0;o<s.length;o++){(a=s[o])===c?u=u.mixedAdd(r.points[o]):a===-c&&(u=u.mixedAdd(r.points[o].neg()))}f=f.add(u)}return f.toP()},s.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=x(t,r),o=this.jpoint(null,null,null),a=s.length-1;0<=a;a--){for(t=0;0<=a&&0===s[a];a--)t++;if(0<=a&&t++,o=o.dblp(t),a<0)break;var f=s[a];h(0!==f),o="affine"===e.type?0<f?o.mixedAdd(i[f-1>>1]):o.mixedAdd(i[-f-1>>1].neg()):0<f?o.add(i[f-1>>1]):o.add(i[-f-1>>1].neg())}return"affine"===e.type?o.toP():o},s.prototype._wnafMulAdd=function(e,t,r,n,i){for(var s=this._wnafT1,o=this._wnafT2,a=this._wnafT3,f=0,u=0;u<n;u++){var c=(k=t[u])._getNAFPoints(e);s[u]=c.wnd,o[u]=c.points}for(u=n-1;1<=u;u-=2){var h=u-1,l=u;if(1===s[h]&&1===s[l]){var d=[t[h],null,null,t[l]];0===t[h].y.cmp(t[l].y)?(d[1]=t[h].add(t[l]),d[2]=t[h].toJ().mixedAdd(t[l].neg())):0===t[h].y.cmp(t[l].y.redNeg())?(d[1]=t[h].toJ().mixedAdd(t[l]),d[2]=t[h].add(t[l].neg())):(d[1]=t[h].toJ().mixedAdd(t[l]),d[2]=t[h].toJ().mixedAdd(t[l].neg()));var p=[-3,-1,-5,-7,0,7,5,1,3],b=M(r[h],r[l]);f=Math.max(b[0].length,f),a[h]=new Array(f),a[l]=new Array(f);for(var _=0;_<f;_++){var y=0|b[0][_],v=0|b[1][_];a[h][_]=p[3*(y+1)+(v+1)],a[l][_]=0,o[h]=d}}else a[h]=x(r[h],s[h]),a[l]=x(r[l],s[l]),f=Math.max(a[h].length,f),f=Math.max(a[l].length,f)}var m=this.jpoint(null,null,null),g=this._wnafT4;for(u=f;0<=u;u--){for(var w=0;0<=u;){var S=!0;for(_=0;_<n;_++)g[_]=0|a[_][u],0!==g[_]&&(S=!1);if(!S)break;w++,u--}if(0<=u&&w++,m=m.dblp(w),u<0)break;for(_=0;_<n;_++){var k,E=g[_];0!==E&&(0<E?k=o[_][E-1>>1]:E<0&&(k=o[_][-E-1>>1].neg()),m="affine"===k.type?m.mixedAdd(k):m.add(k))}}for(u=0;u<n;u++)o[u]=null;return i?m:m.toP()},(s.BasePoint=o).prototype.eq=function(){throw new Error("Not implemented")},o.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?h(e[e.length-1]%2==0):7===e[0]&&h(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},o.prototype.encodeCompressed=function(e){return this.encode(e,!0)},o.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},o.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},o.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},o.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},o.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},o.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},o.prototype._getBeta=function(){return null},o.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},{"../../elliptic":293,"bn.js":243}],295:[function(e,t,r){"use strict";var n=e("../curve"),i=e("../../elliptic"),f=e("bn.js"),s=e("inherits"),o=n.base,a=i.utils.assert;function u(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=(new f(e.a,16)).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=(new f(e.c,16)).toRed(this.red),this.c2=this.c.redSqr(),this.d=(new f(e.d,16)).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function c(e,t,r,n,i){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new f(t,16),this.y=new f(r,16),this.z=n?new f(n,16):this.curve.one,this.t=i&&new f(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(u,o),(t.exports=u).prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},u.prototype.pointFromX=function(e,t){(e=new f(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(i.redInvm()),o=s.redSqrt();if(0!==o.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var a=o.fromRed().isOdd();return(t&&!a||!t&&a)&&(o=o.redNeg()),this.point(e,o)},u.prototype.pointFromY=function(e,t){(e=new f(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.one),i=r.redMul(this.d).redAdd(this.one),s=n.redMul(i.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(0!==o.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return o.isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},s(c,o.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,r,n){return new c(this,e,t,r,n)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),o=s.redSub(r),a=n.redSub(t),f=i.redMul(o),u=s.redMul(a),c=i.redMul(a),h=o.redMul(s);return this.curve.point(f,u,h,c)},c.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var o=(u=this.curve._mulA(i)).redAdd(s);if(this.zOne)e=n.redSub(i).redSub(s).redMul(o.redSub(this.curve.two)),t=o.redMul(u.redSub(s)),r=o.redSqr().redSub(o).redSub(o);else{var a=this.z.redSqr(),f=o.redSub(a).redISub(a);e=n.redSub(i).redISub(s).redMul(f),t=o.redMul(u.redSub(s)),r=o.redMul(f)}}else{var u=i.redAdd(s);a=this.curve._mulC(this.c.redMul(this.z)).redSqr(),f=u.redSub(a).redSub(a);e=this.curve._mulC(n.redISub(u)).redMul(f),t=this.curve._mulC(u).redMul(i.redISub(s)),r=u.redMul(f)}return this.curve.point(e,t,r)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),o=i.redSub(n),a=i.redAdd(n),f=r.redAdd(t),u=s.redMul(o),c=a.redMul(f),h=s.redMul(f),l=o.redMul(a);return this.curve.point(u,c,l,h)},c.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),f=i.redSub(a),u=i.redAdd(a),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),h=n.redMul(f).redMul(c);return this.curve.twisted?(t=n.redMul(u).redMul(o.redSub(this.curve._mulA(s))),r=f.redMul(u)):(t=n.redMul(u).redMul(o.redSub(s)),r=this.curve._mulC(f).redMul(u)),this.curve.point(h,t,r)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},c.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),0<=r.cmp(this.curve.p))return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}return!1},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../../elliptic":293,"../curve":296,"bn.js":243,inherits:327}],296:[function(e,t,r){"use strict";var n=r;n.base=e("./base"),n.short=e("./short"),n.mont=e("./mont"),n.edwards=e("./edwards")},{"./base":294,"./edwards":295,"./mont":297,"./short":298}],297:[function(e,t,r){"use strict";var n=e("../curve"),i=e("bn.js"),s=e("inherits"),o=n.base,a=e("../../elliptic").utils;function f(e){o.call(this,"mont",e),this.a=(new i(e.a,16)).toRed(this.red),this.b=(new i(e.b,16)).toRed(this.red),this.i4=(new i(4)).toRed(this.red).redInvm(),this.two=(new i(2)).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(f,o),(t.exports=f).prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},s(u,o.BasePoint),f.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},f.prototype.point=function(e,t){return new u(this,e,t)},f.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),o=i.redMul(n),a=t.z.redMul(s.redAdd(o).redSqr()),f=t.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,f)},u.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;0<=s;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../../elliptic":293,"../curve":296,"bn.js":243,inherits:327}],298:[function(e,t,r){"use strict";var n=e("../curve"),i=e("../../elliptic"),w=e("bn.js"),s=e("inherits"),o=n.base,a=i.utils.assert;function f(e){o.call(this,"short",e),this.a=(new w(e.a,16)).toRed(this.red),this.b=(new w(e.b,16)).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new w(t,16),this.y=new w(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(e,t,r,n){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new w(0)):(this.x=new w(t,16),this.y=new w(r,16),this.z=new w(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(f,o),(t.exports=f).prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=(new w(e.beta,16)).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new w(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map(function(e){return{a:new w(e.a,16),b:new w(e.b,16)}}):this._getEndoBasis(r)}}},f.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:w.mont(e),r=(new w(2)).toRed(t).redInvm(),n=r.redNeg(),i=(new w(3)).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},f.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,o,a,f,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,l=this.n.clone(),d=new w(1),p=new w(0),b=new w(0),_=new w(1),y=0;0!==h.cmpn(0);){var v=l.div(h);f=l.sub(v.mul(h)),u=b.sub(v.mul(d));var m=_.sub(v.mul(p));if(!n&&f.cmp(c)<0)t=a.neg(),r=d,n=f.neg(),i=u;else if(n&&2==++y)break;l=h,h=a=f,b=d,d=u,_=p,p=m}s=f.neg(),o=u;var g=n.sqr().add(i.sqr());return 0<=s.sqr().add(o.sqr()).cmp(g)&&(s=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},f.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),f=i.mul(r.b),u=s.mul(n.b);return{k1:e.sub(o).sub(a),k2:f.add(u).neg()}},f.prototype.pointFromX=function(e,t){(e=new w(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},f.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},f.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],f=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),f=f.neg(!0)),n[2*s]=a,n[2*s+1]=f,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),c=0;c<2*s;c++)n[c]=null,i[c]=null;return u},s(u,o.BasePoint),f.prototype.point=function(e,t,r){return new u(this,e,t,r)},f.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};(e.beta=t).precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new w(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(c,o.BasePoint),f.prototype.jpoint=function(e,t,r){return new c(this,e,t,r)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),f=s.redSub(o);if(0===a.cmpn(0))return 0!==f.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),l=f.redSqr().redIAdd(c).redISub(h).redISub(h),d=f.redMul(h.redISub(l)).redISub(s.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(l,d,p)},c.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=o.redSqr(),u=f.redMul(o),c=r.redMul(f),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),l=a.redMul(c.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(o);return this.curve.jpoint(h,l,d)},c.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,f=a.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var c=s.redSqr(),h=u.redSqr(),l=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(f)),p=s.redMul(h),b=d.redSqr().redISub(p.redAdd(p)),_=p.redISub(b),y=d.redMul(_);y=y.redIAdd(y).redISub(l);var v=u.redMul(a);r+1<e&&(f=f.redMul(l)),s=b,a=v,u=y}return this.curve.jpoint(s,u.redMul(i),a)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),f=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=f,t=a.redMul(o.redISub(f)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),l=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(l);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),b=p.redSqr(),_=l.redIAdd(l);_=(_=_.redIAdd(_)).redIAdd(_),e=b.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(_),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},c.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),f=a.redSqr().redISub(o).redISub(o);e=f;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(o.redISub(f)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),l=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),b=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var _=h.redSqr();_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_),t=d.redMul(p.redISub(e)).redISub(_)}return this.curve.jpoint(e,t,r)},c.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),f=t.redAdd(t),u=(f=f.redIAdd(f)).redMul(o),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(h).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),f=n.redIAdd(n);f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var u=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(f),c=t.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var l=this.y.redMul(u.redMul(f.redISub(u)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,l,d)},c.prototype.mul=function(e,t){return e=new w(e,t),this.curve._wnafMul(this,e)},c.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},c.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),0<=n.cmp(this.curve.p))return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}return!1},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../../elliptic":293,"../curve":296,"bn.js":243,inherits:327}],299:[function(e,t,r){"use strict";var n,i=r,s=e("hash.js"),o=e("../elliptic"),a=o.utils.assert;function f(e){"short"===e.type?this.curve=new o.curve.short(e):"edwards"===e.type?this.curve=new o.curve.edwards(e):this.curve=new o.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(t,r){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var e=new f(r);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:e}),e}})}i.PresetCurve=f,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=e("./precomputed/secp256k1")}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"../elliptic":293,"./precomputed/secp256k1":306,"hash.js":312}],300:[function(e,t,r){"use strict";var _=e("bn.js"),y=e("hmac-drbg"),s=e("../../elliptic"),d=s.utils.assert,n=e("./key"),v=e("./signature");function i(e){if(!(this instanceof i))return new i(e);"string"==typeof e&&(d(s.curves.hasOwnProperty(e),"Unknown curve "+e),e=s.curves[e]),e instanceof s.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}(t.exports=i).prototype.keyPair=function(e){return new n(this,e)},i.prototype.keyFromPrivate=function(e,t){return n.fromPrivate(this,e,t)},i.prototype.keyFromPublic=function(e,t){return n.fromPublic(this,e,t)},i.prototype.genKeyPair=function(e){e||(e={});for(var t=new y({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new _(2));;){var i=new _(t.generate(r));if(!(0<i.cmp(n)))return i.iaddn(1),this.keyFromPrivate(i)}},i.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return 0<r&&(e=e.ushrn(r)),!t&&0<=e.cmp(this.n)?e.sub(this.n):e},i.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new _(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),o=e.toArray("be",i),a=new y({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),f=this.n.sub(new _(1)),u=0;;u++){var c=n.k?n.k(u):new _(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||0<=c.cmp(f))){var h=this.g.mul(c);if(!h.isInfinity()){var l=h.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var b=(h.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return n.canonical&&0<p.cmp(this.nh)&&(p=this.n.sub(p),b^=1),new v({r:d,s:p,recoveryParam:b})}}}}}},i.prototype.verify=function(e,t,r,n){e=this._truncateToN(new _(e,16)),r=this.keyFromPublic(r,n);var i=(t=new v(t,"hex")).r,s=t.s;if(i.cmpn(1)<0||0<=i.cmp(this.n))return!1;if(s.cmpn(1)<0||0<=s.cmp(this.n))return!1;var o,a=s.invm(this.n),f=a.mul(e).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(f,r.getPublic(),u)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(f,r.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},i.prototype.recoverPubKey=function(e,t,r,n){d((3&r)===r,"The recovery param is more than two bits"),t=new v(t,n);var i=this.n,s=new _(e),o=t.r,a=t.s,f=1&r,u=r>>1;if(0<=o.cmp(this.curve.p.umod(this.curve.n))&&u)throw new Error("Unable to find sencond key candinate");o=u?this.curve.pointFromX(o.add(this.curve.n),f):this.curve.pointFromX(o,f);var c=t.r.invm(i),h=i.sub(s).mul(c).umod(i),l=a.mul(c).umod(i);return this.g.mulAdd(h,o,l)},i.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new v(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},{"../../elliptic":293,"./key":301,"./signature":302,"bn.js":243,"hmac-drbg":324}],301:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils.assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}(t.exports=s).fromPublic=function(e,t,r){return t instanceof s?t:new s(e,{pub:t,pubEnc:r})},s.fromPrivate=function(e,t,r){return t instanceof s?t:new s(e,{priv:t,privEnc:r})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void (this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.mul(this.priv).getX()},s.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},s.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../../elliptic":293,"bn.js":243}],302:[function(e,t,r){"use strict";var a=e("bn.js"),f=e("../../elliptic").utils,n=f.assert;function i(e,t){if(e instanceof i)return e;this._importDER(e,t)||(n(e.r&&e.s,"Signature without r or s"),this.r=new a(e.r,16),this.s=new a(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function u(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o];return t.place=o,i}function o(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function h(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}(t.exports=i).prototype._importDER=function(e,t){e=f.toArray(e,t);var r=new u;if(48!==e[r.place++])return!1;if(c(e,r)+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var n=c(e,r),i=e.slice(r.place,n+r.place);if(r.place+=n,2!==e[r.place++])return!1;var s=c(e,r);if(e.length!==s+r.place)return!1;var o=e.slice(r.place,s+r.place);return 0===i[0]&&128&i[1]&&(i=i.slice(1)),0===o[0]&&128&o[1]&&(o=o.slice(1)),this.r=new a(i),this.s=new a(o),!(this.recoveryParam=null)},i.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=o(t),r=o(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];h(n,t.length),(n=n.concat(t)).push(2),h(n,r.length);var i=n.concat(r),s=[48];return h(s,i.length),s=s.concat(i),f.encode(s,e)}},{"../../elliptic":293,"bn.js":243}],303:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("../../elliptic"),s=i.utils,o=s.assert,f=s.parseBytes,a=e("./key"),u=e("./signature");function c(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof c))return new c(e);e=i.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}(t.exports=c).prototype.sign=function(e,t){e=f(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),s=this.encodePoint(i),o=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),a=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:a,Rencoded:s})},c.prototype.verify=function(e,t,r){e=f(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(s)},c.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(e){return a.fromPublic(this,e)},c.prototype.keyFromSecret=function(e){return a.fromSecret(this,e)},c.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},c.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},c.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=s.intFromLE(r);return this.curve.pointFromY(i,n)},c.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(e){return s.intFromLE(e)},c.prototype.isPoint=function(e){return e instanceof this.pointClass}},{"../../elliptic":293,"./key":304,"./signature":305,"hash.js":312}],304:[function(e,t,r){"use strict";var n=e("../../elliptic").utils,i=n.assert,s=n.parseBytes,o=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(a,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),o(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},t.exports=a},{"../../elliptic":293}],305:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../../elliptic").utils,s=i.assert,o=i.cachedProperty,a=i.parseBytes;function f(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(f,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(f,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(f,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(f,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),f.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},f.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=f},{"../../elliptic":293,"bn.js":243}],306:[function(e,t,r){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],307:[function(e,t,r){"use strict";var n=r,i=e("bn.js"),s=e("minimalistic-assert"),o=e("minimalistic-crypto-utils");n.assert=s,n.toArray=o.toArray,n.zero2=o.zero2,n.toHex=o.toHex,n.encode=o.encode,n.getNAF=function(e,t){for(var r=[],n=1<<t+1,i=e.clone();0<=i.cmpn(1);){var s;if(i.isOdd()){var o=i.andln(n-1);s=(n>>1)-1<o?(n>>1)-o:o,i.isubn(s)}else s=0;r.push(s);for(var a=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,f=1;f<a;f++)r.push(0);i.iushrn(a)}return r},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;0<e.cmpn(-n)||0<t.cmpn(-i);){var s,o,a,f=e.andln(3)+n&3,u=t.andln(3)+i&3;3===f&&(f=-1),3===u&&(u=-1),s=0==(1&f)?0:3!=(a=e.andln(7)+n&7)&&5!==a||2!==u?f:-f,r[0].push(s),o=0==(1&u)?0:3!=(a=t.andln(7)+i&7)&&5!==a||2!==f?u:-u,r[1].push(o),2*n===s+1&&(n=1-n),2*i===o+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},{"bn.js":243,"minimalistic-assert":332,"minimalistic-crypto-utils":333}],308:[function(e,t,r){t.exports={_from:"elliptic@^6.0.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.0.0",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.0.0",saveSpec:null,fetchSpec:"^6.0.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_spec:"elliptic@^6.0.0",_where:"C:\\dev\\h5sdk\\xyvod\\node_modules\\browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},{}],309:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function f(e){return"function"==typeof e}function u(e){return"object"==typeof e&&null!==e}function c(e){return void 0===e}((t.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,i,s,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var a=new Error('Uncaught, unspecified "error" event. ('+t+")");throw a.context=t,a}if(c(r=this._events[e]))return!1;if(f(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(u(r))for(i=Array.prototype.slice.call(arguments,1),n=(o=r.slice()).length,s=0;s<n;s++)o[s].apply(this,i);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var r;if(!f(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,f(t.listener)?t.listener:t),this._events[e]?u(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,u(this._events[e])&&!this._events[e].warned&&(r=c(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&0<r&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){if(!f(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var r,n,i,s;if(!f(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,n=-1,r===t||f(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(u(r)){for(s=i;0<s--;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(f(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?f(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(f(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],310:[function(e,t,r){var d=e("safe-buffer").Buffer,p=e("md5.js");t.exports=function(e,t,r,n){if(d.isBuffer(e)||(e=d.from(e,"binary")),t&&(d.isBuffer(t)||(t=d.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,s=d.alloc(i),o=d.alloc(n||0),a=d.alloc(0);0<i||0<n;){var f=new p;f.update(a),f.update(e),t&&f.update(t),a=f.digest();var u=0;if(0<i){var c=s.length-i;u=Math.min(i,a.length),a.copy(s,c,0,u),i-=u}if(u<a.length&&0<n){var h=o.length-n,l=Math.min(n,a.length-u);a.copy(o,h,u,u+l),n-=l}}return a.fill(0),{key:s,iv:o}}},{"md5.js":330,"safe-buffer":373}],311:[function(e,t,r){"use strict";var a=e("safe-buffer").Buffer,n=e("stream").Transform;function i(e){n.call(this),this._block=a.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(i,n),i.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},i.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,t){if(function(e,t){if(!a.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(e)||(e=a.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var s=0,o=8*e.length;0<o;++s)this._length[s]+=o,0<(o=this._length[s]/4294967296|0)&&(this._length[s]-=4294967296*o);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0);for(var r=this._blockOffset=0;r<4;++r)this._length[r]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=i},{inherits:327,"safe-buffer":373,stream:382}],312:[function(e,t,r){var n=r;n.utils=e("./hash/utils"),n.common=e("./hash/common"),n.sha=e("./hash/sha"),n.ripemd=e("./hash/ripemd"),n.hmac=e("./hash/hmac"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},{"./hash/common":313,"./hash/hmac":314,"./hash/ripemd":315,"./hash/sha":316,"./hash/utils":323}],313:[function(e,t,r){"use strict";var i=e("./utils"),n=e("minimalistic-assert");function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}(r.BlockHash=s).prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),n(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n}},{"./utils":323,"minimalistic-assert":332}],314:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}(t.exports=s).prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":323,"minimalistic-assert":332}],315:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./common"),p=n.rotl32,b=n.sum32,_=n.sum32_3,y=n.sum32_4,s=i.BlockHash;function o(){if(!(this instanceof o))return new o;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function v(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function m(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function g(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(o,s),(r.ripemd160=o).blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,f=n,u=i,c=s,h=o,l=0;l<80;l++){var d=b(p(y(r,v(l,n,i,s),e[w[l]+t],m(l)),k[l]),o);r=o,o=s,s=p(i,10),i=n,n=d,d=b(p(y(a,v(79-l,f,u,c),e[S[l]+t],g(l)),E[l]),h),a=h,h=c,c=p(u,10),u=f,f=d}d=_(this.h[1],i,c),this.h[1]=_(this.h[2],s,h),this.h[2]=_(this.h[3],o,a),this.h[3]=_(this.h[4],r,f),this.h[4]=_(this.h[0],n,u),this.h[0]=d},o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var w=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],S=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],k=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],E=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":313,"./utils":323}],316:[function(e,t,r){"use strict";r.sha1=e("./sha/1"),r.sha224=e("./sha/224"),r.sha256=e("./sha/256"),r.sha384=e("./sha/384"),r.sha512=e("./sha/512")},{"./sha/1":317,"./sha/224":318,"./sha/256":319,"./sha/384":320,"./sha/512":321}],317:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),s=e("./common"),h=n.rotl32,l=n.sum32,d=n.sum32_5,p=s.ft_1,o=i.BlockHash,b=[1518500249,1859775393,2400959708,3395469782];function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(a,o),(t.exports=a).blockSize=512,a.outSize=160,a.hmacStrength=80,a.padLength=64,a.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=h(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],f=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),c=d(h(i,5),p(u,s,o,a),f,r[n],b[u]);f=a,a=o,o=h(s,30),s=i,i=c}this.h[0]=l(this.h[0],i),this.h[1]=l(this.h[1],s),this.h[2]=l(this.h[2],o),this.h[3]=l(this.h[3],a),this.h[4]=l(this.h[4],f)},a.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":313,"../utils":323,"./common":322}],318:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./256");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),(t.exports=s).blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},{"../utils":323,"./256":319}],319:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),s=e("./common"),p=e("minimalistic-assert"),b=n.sum32,_=n.sum32_4,y=n.sum32_5,v=s.ch32,m=s.maj32,g=s.s0_256,w=s.s1_256,S=s.g0_256,k=s.g1_256,o=i.BlockHash,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function f(){if(!(this instanceof f))return new f;o.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=a,this.W=new Array(64)}n.inherits(f,o),(t.exports=f).blockSize=512,f.outSize=256,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=_(k(r[n-2]),r[n-7],S(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],f=this.h[4],u=this.h[5],c=this.h[6],h=this.h[7];for(p(this.k.length===r.length),n=0;n<r.length;n++){var l=y(h,w(f),v(f,u,c),this.k[n],r[n]),d=b(g(i),m(i,s,o));h=c,c=u,u=f,f=b(a,l),a=o,o=s,s=i,i=b(l,d)}this.h[0]=b(this.h[0],i),this.h[1]=b(this.h[1],s),this.h[2]=b(this.h[2],o),this.h[3]=b(this.h[3],a),this.h[4]=b(this.h[4],f),this.h[5]=b(this.h[5],u),this.h[6]=b(this.h[6],c),this.h[7]=b(this.h[7],h)},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":313,"../utils":323,"./common":322,"minimalistic-assert":332}],320:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./512");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),(t.exports=s).blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},{"../utils":323,"./512":321}],321:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),B=e("minimalistic-assert"),s=n.rotr64_hi,o=n.rotr64_lo,a=n.shr64_hi,f=n.shr64_lo,R=n.sum64,D=n.sum64_hi,L=n.sum64_lo,l=n.sum64_4_hi,d=n.sum64_4_lo,U=n.sum64_5_hi,N=n.sum64_5_lo,u=i.BlockHash,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=c,this.W=new Array(160)}function q(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function F(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function z(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function H(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function K(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function V(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function W(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function G(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function p(e,t){var r=s(e,t,1)^s(e,t,8)^a(e,t,7);return r<0&&(r+=4294967296),r}function b(e,t){var r=o(e,t,1)^o(e,t,8)^f(e,t,7);return r<0&&(r+=4294967296),r}function _(e,t){var r=s(e,t,19)^s(t,e,29)^a(e,t,6);return r<0&&(r+=4294967296),r}function y(e,t){var r=o(e,t,19)^o(t,e,29)^f(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(h,u),(t.exports=h).blockSize=1024,h.outSize=512,h.hmacStrength=192,h.padLength=128,h.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=_(r[n-4],r[n-3]),s=y(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],f=p(r[n-30],r[n-29]),u=b(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=l(i,s,o,a,f,u,c,h),r[n+1]=d(i,s,o,a,f,u,c,h)}},h.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],f=this.h[5],u=this.h[6],c=this.h[7],h=this.h[8],l=this.h[9],d=this.h[10],p=this.h[11],b=this.h[12],_=this.h[13],y=this.h[14],v=this.h[15];B(this.k.length===r.length);for(var m=0;m<r.length;m+=2){var g=y,w=v,S=W(h,l),k=G(h,l),E=q(h,l,d,p,b),x=F(h,l,d,p,b,_),M=this.k[m],I=this.k[m+1],T=r[m],C=r[m+1],j=U(g,w,S,k,E,x,M,I,T,C),O=N(g,w,S,k,E,x,M,I,T,C);g=K(n,i),w=V(n,i),S=z(n,i,s,o,a),k=H(n,i,s,o,a,f);var A=D(g,w,S,k),P=L(g,w,S,k);y=b,v=_,b=d,_=p,d=h,p=l,h=D(u,c,j,O),l=L(c,c,j,O),u=a,c=f,a=s,f=o,s=n,o=i,n=D(j,O,A,P),i=L(j,O,A,P)}R(this.h,0,n,i),R(this.h,2,s,o),R(this.h,4,a,f),R(this.h,6,u,c),R(this.h,8,h,l),R(this.h,10,d,p),R(this.h,12,b,_),R(this.h,14,y,v)},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":313,"../utils":323,"minimalistic-assert":332}],322:[function(e,t,r){"use strict";var n=e("../utils").rotr32;function i(e,t,r){return e&t^~e&r}function s(e,t,r){return e&t^e&r^t&r}function o(e,t,r){return e^t^r}r.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?o(t,r,n):2===e?s(t,r,n):void 0},r.ch32=i,r.maj32=s,r.p32=o,r.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},r.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},r.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},r.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},{"../utils":323}],323:[function(e,t,r){"use strict";var u=e("minimalistic-assert"),n=e("inherits");function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function i(e){return 1===e.length?"0"+e:e}function o(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}r.inherits=n,r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t},r.htonl=s,r.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=o(i.toString(16))}return r},r.zero2=i,r.zero8=o,r.join32=function(e,t,r,n){var i=r-t;u(i%4==0);for(var s=new Array(i/4),o=0,a=t;o<s.length;o++,a+=4){var f;f="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],s[o]=f>>>0}return s},r.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},r.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},r.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,o=(s<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=s},r.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},r.sum64_lo=function(e,t,r,n){return t+n>>>0},r.sum64_4_hi=function(e,t,r,n,i,s,o,a){var f=0,u=t;return f+=(u=u+n>>>0)<t?1:0,f+=(u=u+s>>>0)<s?1:0,e+r+i+o+(f+=(u=u+a>>>0)<a?1:0)>>>0},r.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},r.sum64_5_hi=function(e,t,r,n,i,s,o,a,f,u){var c=0,h=t;return c+=(h=h+n>>>0)<t?1:0,c+=(h=h+s>>>0)<s?1:0,c+=(h=h+a>>>0)<a?1:0,e+r+i+o+f+(c+=(h=h+u>>>0)<u?1:0)>>>0},r.sum64_5_lo=function(e,t,r,n,i,s,o,a,f,u){return t+n+s+a+u>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},{inherits:327,"minimalistic-assert":332}],324:[function(e,t,r){"use strict";var n=e("hash.js"),o=e("minimalistic-crypto-utils"),i=e("minimalistic-assert");function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc||"hex"),r=o.toArray(e.nonce,e.nonceEnc||"hex"),n=o.toArray(e.pers,e.persEnc||"hex");i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}(t.exports=s).prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=o.toArray(e,t),r=o.toArray(r,n),i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=o.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(r),this._reseed++,o.encode(s,t)}},{"hash.js":312,"minimalistic-assert":332,"minimalistic-crypto-utils":333}],325:[function(e,t,r){r.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,f=(1<<a)-1,u=f>>1,c=-7,h=r?i-1:0,l=r?-1:1,d=e[t+h];for(h+=l,s=d&(1<<-c)-1,d>>=-c,c+=a;0<c;s=256*s+e[t+h],h+=l,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;0<c;o=256*o+e[t+h],h+=l,c-=8);if(0===s)s=1-u;else{if(s===f)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=u}return(d?-1:1)*o*Math.pow(2,s-n)},r.write=function(e,t,r,n,i,s){var o,a,f,u=8*s-i-1,c=(1<<u)-1,h=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-o))<1&&(o--,f*=2),2<=(t+=1<=o+h?l/f:l*Math.pow(2,1-h))*f&&(o++,f/=2),c<=o+h?(a=0,o=c):1<=o+h?(a=(t*f-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));8<=i;e[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;0<u;e[r+d]=255&o,d+=p,o/=256,u-=8);e[r+d-p]|=128*b}},{}],326:[function(e,t,r){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},{}],327:[function(e,t,r){arguments[4][239][0].apply(r,arguments)},{dup:239}],328:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(n(e)||"function"==typeof (t=e).readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))||!!e._isBuffer);var t}},{}],329:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],330:[function(i,s,e){((function(t){"use strict";var e=i("inherits"),r=i("hash-base"),o=new Array(16);function n(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function a(e,t){return e<<t|e>>>32-t}function f(e,t,r,n,i,s,o){return a(e+(t&r|~t&n)+i+s|0,o)+t|0}function u(e,t,r,n,i,s,o){return a(e+(t&n|r&~n)+i+s|0,o)+t|0}function c(e,t,r,n,i,s,o){return a(e+(t^r^n)+i+s|0,o)+t|0}function h(e,t,r,n,i,s,o){return a(e+(r^(t|~n))+i+s|0,o)+t|0}e(n,r),n.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,s=this._d;n=h(n=h(n=h(n=h(n=c(n=c(n=c(n=c(n=u(n=u(n=u(n=u(n=f(n=f(n=f(n=f(n,i=f(i,s=f(s,r=f(r,n,i,s,e[0],3614090360,7),n,i,e[1],3905402710,12),r,n,e[2],606105819,17),s,r,e[3],3250441966,22),i=f(i,s=f(s,r=f(r,n,i,s,e[4],4118548399,7),n,i,e[5],1200080426,12),r,n,e[6],2821735955,17),s,r,e[7],4249261313,22),i=f(i,s=f(s,r=f(r,n,i,s,e[8],1770035416,7),n,i,e[9],2336552879,12),r,n,e[10],4294925233,17),s,r,e[11],2304563134,22),i=f(i,s=f(s,r=f(r,n,i,s,e[12],1804603682,7),n,i,e[13],4254626195,12),r,n,e[14],2792965006,17),s,r,e[15],1236535329,22),i=u(i,s=u(s,r=u(r,n,i,s,e[1],4129170786,5),n,i,e[6],3225465664,9),r,n,e[11],643717713,14),s,r,e[0],3921069994,20),i=u(i,s=u(s,r=u(r,n,i,s,e[5],3593408605,5),n,i,e[10],38016083,9),r,n,e[15],3634488961,14),s,r,e[4],3889429448,20),i=u(i,s=u(s,r=u(r,n,i,s,e[9],568446438,5),n,i,e[14],3275163606,9),r,n,e[3],4107603335,14),s,r,e[8],1163531501,20),i=u(i,s=u(s,r=u(r,n,i,s,e[13],2850285829,5),n,i,e[2],4243563512,9),r,n,e[7],1735328473,14),s,r,e[12],2368359562,20),i=c(i,s=c(s,r=c(r,n,i,s,e[5],4294588738,4),n,i,e[8],2272392833,11),r,n,e[11],1839030562,16),s,r,e[14],4259657740,23),i=c(i,s=c(s,r=c(r,n,i,s,e[1],2763975236,4),n,i,e[4],1272893353,11),r,n,e[7],4139469664,16),s,r,e[10],3200236656,23),i=c(i,s=c(s,r=c(r,n,i,s,e[13],681279174,4),n,i,e[0],3936430074,11),r,n,e[3],3572445317,16),s,r,e[6],76029189,23),i=c(i,s=c(s,r=c(r,n,i,s,e[9],3654602809,4),n,i,e[12],3873151461,11),r,n,e[15],530742520,16),s,r,e[2],3299628645,23),i=h(i,s=h(s,r=h(r,n,i,s,e[0],4096336452,6),n,i,e[7],1126891415,10),r,n,e[14],2878612391,15),s,r,e[5],4237533241,21),i=h(i,s=h(s,r=h(r,n,i,s,e[12],1700485571,6),n,i,e[3],2399980690,10),r,n,e[10],4293915773,15),s,r,e[1],2240044497,21),i=h(i,s=h(s,r=h(r,n,i,s,e[8],1873313359,6),n,i,e[15],4264355552,10),r,n,e[6],2734768916,15),s,r,e[13],1309151649,21),i=h(i,s=h(s,r=h(r,n,i,s,e[4],4149444226,6),n,i,e[11],3174756917,10),r,n,e[2],718787259,15),s,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},n.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},s.exports=n})).call(this,i("buffer").Buffer)},{buffer:274,"hash-base":311,inherits:327}],331:[function(e,t,r){var d=e("bn.js"),n=e("brorand");function i(e){this.rand=e||new n.Rand}(t.exports=i).create=function(e){return new i(e)},i.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var n=new d(this.rand.generate(r))}while(0<=n.cmp(e));return n},i.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},i.prototype.test=function(e,t,r){var n=e.bitLength(),i=d.mont(e),s=(new d(1)).toRed(i);t||(t=Math.max(1,n/48|0));for(var o=e.subn(1),a=0;!o.testn(a);a++);for(var f=e.shrn(a),u=o.toRed(i);0<t;t--){var c=this._randrange(new d(2),o);r&&r(c);var h=c.toRed(i).redPow(f);if(0!==h.cmp(s)&&0!==h.cmp(u)){for(var l=1;l<a;l++){if(0===(h=h.redSqr()).cmp(s))return!1;if(0===h.cmp(u))break}if(l===a)return!1}}return!0},i.prototype.getDivisor=function(e,t){var r=e.bitLength(),n=d.mont(e),i=(new d(1)).toRed(n);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),o=0;!s.testn(o);o++);for(var a=e.shrn(o),f=s.toRed(n);0<t;t--){var u=this._randrange(new d(2),s),c=e.gcd(u);if(0!==c.cmpn(1))return c;var h=u.toRed(n).redPow(a);if(0!==h.cmp(i)&&0!==h.cmp(f)){for(var l=1;l<o;l++){if(0===(h=h.redSqr()).cmp(i))return h.fromRed().subn(1).gcd(e);if(0===h.cmp(f))break}if(l===o)return(h=h.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},{"bn.js":243,brorand:244}],332:[function(e,t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}(t.exports=n).equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},{}],333:[function(e,t,r){"use strict";var n=r;function i(e){return 1===e.length?"0"+e:e}function s(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},n.zero2=i,n.toHex=s,n.encode=function(e,t){return"hex"===t?s(e):e}},{}],334:[function(e,t,r){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],335:[function(e,t,r){"use strict";var n=e("asn1.js");r.certificate=e("./certificate");var i=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});r.RSAPrivateKey=i;var s=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});r.RSAPublicKey=s;var o=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});r.PublicKey=o;var a=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),f=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});r.PrivateKey=f;var u=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});r.EncryptedPrivateKey=u;var c=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});r.DSAPrivateKey=c,r.DSAparam=n.define("DSAparam",function(){this.int()});var h=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(l),this.key("publicKey").optional().explicit(1).bitstr())});r.ECPrivateKey=h;var l=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});r.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":336,"asn1.js":224}],336:[function(e,t,r){"use strict";var n=e("asn1.js"),i=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),a=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),f=n.define("RelativeDistinguishedName",function(){this.setof(s)}),u=n.define("RDNSequence",function(){this.seqof(f)}),c=n.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),h=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),l=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(c),this.key("validity").use(h),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(l).optional())}),p=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});t.exports=p},{"asn1.js":224}],337:[function(e,t,r){((function(l){var d=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,p=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m,b=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,_=e("evp_bytestokey"),y=e("browserify-aes");t.exports=function(e,t){var r,n=e.toString(),i=n.match(d);if(i){var s="aes"+i[1],o=new l(i[2],"hex"),a=new l(i[3].replace(/[\r\n]/g,""),"base64"),f=_(t,o.slice(0,8),parseInt(i[1],10)).key,u=[],c=y.createDecipheriv(s,f,o);u.push(c.update(a)),u.push(c.final()),r=l.concat(u)}else{var h=n.match(b);r=new l(h[2].replace(/[\r\n]/g,""),"base64")}return{tag:n.match(p)[1],data:r}}})).call(this,e("buffer").Buffer)},{"browserify-aes":248,buffer:274,evp_bytestokey:310}],338:[function(t,r,e){((function(v){var m=t("./asn1"),g=t("./aesid.json"),w=t("./fixProc"),S=t("browserify-aes"),k=t("pbkdf2");function e(e){var t;"object"!=typeof e||v.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=new v(e));var r,n,i,s,o,a,f,u,c,h,l,d,p,b=w(e,t),_=b.tag,y=b.data;switch(_){case"CERTIFICATE":n=m.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(n||(n=m.PublicKey.decode(y,"der")),r=n.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return m.RSAPublicKey.decode(n.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return n.subjectPrivateKey=n.subjectPublicKey,{type:"ec",data:n};case"1.2.840.10040.4.1":return n.algorithm.params.pub_key=m.DSAparam.decode(n.subjectPublicKey.data,"der"),{type:"dsa",data:n.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+_);case"ENCRYPTED PRIVATE KEY":y=m.EncryptedPrivateKey.decode(y,"der"),s=t,o=(i=y).algorithm.decrypt.kde.kdeparams.salt,a=parseInt(i.algorithm.decrypt.kde.kdeparams.iters.toString(),10),f=g[i.algorithm.decrypt.cipher.algo.join(".")],u=i.algorithm.decrypt.cipher.iv,c=i.subjectPrivateKey,h=parseInt(f.split("-")[1],10)/8,l=k.pbkdf2Sync(s,o,a,h),d=S.createDecipheriv(f,l,u),(p=[]).push(d.update(c)),p.push(d.final()),y=v.concat(p);case"PRIVATE KEY":switch(r=(n=m.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return m.RSAPrivateKey.decode(n.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:n.algorithm.curve,privateKey:m.ECPrivateKey.decode(n.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return n.algorithm.params.priv_key=m.DSAparam.decode(n.subjectPrivateKey,"der"),{type:"dsa",params:n.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+_);case"RSA PUBLIC KEY":return m.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return m.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:m.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=m.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+_)}}(r.exports=e).signature=m.signature})).call(this,t("buffer").Buffer)},{"./aesid.json":334,"./asn1":335,"./fixProc":337,"browserify-aes":248,buffer:274,pbkdf2:339}],339:[function(e,t,r){r.pbkdf2=e("./lib/async"),r.pbkdf2Sync=e("./lib/sync")},{"./lib/async":340,"./lib/sync":343}],340:[function(e,t,r){((function(u,c){var h,l=e("./precondition"),d=e("./default-encoding"),p=e("./sync"),b=e("safe-buffer").Buffer,_=c.crypto&&c.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},v=[];function m(e,t,r,n,i){return _.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return _.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)}).then(function(e){return b.from(e)})}t.exports=function(t,r,n,i,s,o){"function"==typeof s&&(o=s,s=void 0);var e,a,f=y[(s=s||"sha1").toLowerCase()];if(!f||"function"!=typeof c.Promise)return u.nextTick(function(){var e;try{e=p(t,r,n,i,s)}catch(e){return o(e)}o(null,e)});if(l(t,r,n,i),"function"!=typeof o)throw new Error("No callback provided to pbkdf2");b.isBuffer(t)||(t=b.from(t,d)),b.isBuffer(r)||(r=b.from(r,d)),e=function(e){if(c.process&&!c.process.browser)return Promise.resolve(!1);if(!_||!_.importKey||!_.deriveBits)return Promise.resolve(!1);if(void 0!==v[e])return v[e];var t=m(h=h||b.alloc(8),h,10,128,e).then(function(){return!0}).catch(function(){return!1});return v[e]=t}(f).then(function(e){return e?m(t,r,n,i,f):p(t,r,n,i,s)}),a=o,e.then(function(e){u.nextTick(function(){a(null,e)})},function(e){u.nextTick(function(){a(e)})})}})).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":341,"./precondition":342,"./sync":343,_process:345,"safe-buffer":373}],341:[function(e,r,t){((function(e){var t;e.browser?t="utf-8":t=6<=parseInt(e.version.split(".")[0].slice(1),10)?"utf-8":"binary";r.exports=t})).call(this,e("_process"))},{_process:345}],342:[function(e,t,r){((function(r){var i=Math.pow(2,30)-1;function s(e,t){if("string"!=typeof e&&!r.isBuffer(e))throw new TypeError(t+" must be a buffer or string")}t.exports=function(e,t,r,n){if(s(e,"Password"),s(t,"Salt"),"number"!=typeof r)throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if("number"!=typeof n)throw new TypeError("Key length not a number");if(n<0||i<n||n!=n)throw new TypeError("Bad key length")}})).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":328}],343:[function(e,t,r){var c=e("create-hash/md5"),h=e("ripemd160"),l=e("sha.js"),_=e("./precondition"),y=e("./default-encoding"),v=e("safe-buffer").Buffer,d=v.alloc(128),m={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(e,t,r){var n,i="rmd160"===(n=e)||"ripemd160"===n?h:"md5"===n?c:function(e){return l(n).update(e).digest()},s="sha512"===e||"sha384"===e?128:64;t.length>s?t=i(t):t.length<s&&(t=v.concat([t,d],s));for(var o=v.allocUnsafe(s+m[e]),a=v.allocUnsafe(s+m[e]),f=0;f<s;f++)o[f]=54^t[f],a[f]=92^t[f];var u=v.allocUnsafe(s+r+4);o.copy(u,0,0,s),this.ipad1=u,this.ipad2=o,this.opad=a,this.alg=e,this.blocksize=s,this.hash=i,this.size=m[e]}g.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(e,t,r,n,i){_(e,t,r,n),v.isBuffer(e)||(e=v.from(e,y)),v.isBuffer(t)||(t=v.from(t,y));var s=new g(i=i||"sha1",e,t.length),o=v.allocUnsafe(n),a=v.allocUnsafe(t.length+4);t.copy(a,0,0,t.length);for(var f=0,u=m[i],c=Math.ceil(n/u),h=1;h<=c;h++){a.writeUInt32BE(h,t.length);for(var l=s.run(a,s.ipad1),d=l,p=1;p<r;p++){d=s.run(d,s.ipad2);for(var b=0;b<u;b++)l[b]^=d[b]}l.copy(o,f),f+=u}return o}},{"./default-encoding":341,"./precondition":342,"create-hash/md5":279,ripemd160:372,"safe-buffer":373,"sha.js":375}],344:[function(e,t,r){((function(a){"use strict";!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?t.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,s,o=arguments.length;switch(o){case 0:case 1:return a.nextTick(e);case 2:return a.nextTick(function(){e.call(null,t)});case 3:return a.nextTick(function(){e.call(null,t,r)});case 4:return a.nextTick(function(){e.call(null,t,r,n)});default:for(i=new Array(o-1),s=0;s<i.length;)i[s++]=arguments[s];return a.nextTick(function(){e.apply(null,i)})}}}:t.exports=a})).call(this,e("_process"))},{_process:345}],345:[function(e,t,r){var n,i,s=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function f(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u,c=[],h=!1,l=-1;function d(){h&&u&&(h=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!h){var e=f(d);h=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function _(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new b(e,t)),1!==c.length||h||f(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=_,s.addListener=_,s.once=_,s.off=_,s.removeListener=_,s.removeAllListeners=_,s.emit=_,s.prependListener=_,s.prependOnceListener=_,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],346:[function(e,t,r){r.publicEncrypt=e("./publicEncrypt"),r.privateDecrypt=e("./privateDecrypt"),r.privateEncrypt=function(e,t){return r.publicEncrypt(e,t,!0)},r.publicDecrypt=function(e,t){return r.privateDecrypt(e,t,!0)}},{"./privateDecrypt":348,"./publicEncrypt":349}],347:[function(e,t,r){((function(s){var o=e("create-hash");function a(e){var t=new s(4);return t.writeUInt32BE(e,0),t}t.exports=function(e,t){for(var r,n=new s(""),i=0;n.length<t;)r=a(i++),n=s.concat([n,o("sha1").update(e).update(r).digest()]);return n.slice(0,t)}})).call(this,e("buffer").Buffer)},{buffer:274,"create-hash":278}],348:[function(e,t,r){((function(c){var f=e("parse-asn1"),h=e("./mgf"),l=e("./xor"),u=e("bn.js"),d=e("browserify-rsa"),p=e("create-hash"),b=e("./withPublic");t.exports=function(e,t,r){var n;n=e.padding?e.padding:r?1:4;var i,s=f(e),o=s.modulus.byteLength();if(t.length>o||0<=(new u(t)).cmp(s.modulus))throw new Error("decryption error");i=r?b(new u(t),s):d(t,s);var a=new c(o-i.length);if(a.fill(0),i=c.concat([a,i],o),4===n)return function(e,t){e.modulus;var r=e.modulus.byteLength(),n=(t.length,p("sha1").update(new c("")).digest()),i=n.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,i+1),o=t.slice(i+1),a=l(s,h(o,i)),f=l(o,h(a,r-i-1));if(function(e,t){e=new c(e),t=new c(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));var i=-1;for(;++i<n;)r+=e[i]^t[i];return r}(n,f.slice(0,i)))throw new Error("decryption error");var u=i;for(;0===f[u];)u++;if(1!==f[u++])throw new Error("decryption error");return f.slice(u)}(s,i);if(1===n)return function(e,t,r){var n=t.slice(0,2),i=2,s=0;for(;0!==t[i++];)if(i>=t.length){s++;break}var o=t.slice(2,i-1);t.slice(i-1,i);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&s++;o.length<8&&s++;if(s)throw new Error("decryption error");return t.slice(i)}(0,i,r);if(3===n)return i;throw new Error("unknown padding")}})).call(this,e("buffer").Buffer)},{"./mgf":347,"./withPublic":350,"./xor":351,"bn.js":243,"browserify-rsa":266,buffer:274,"create-hash":278,"parse-asn1":338}],349:[function(e,t,r){((function(l){var o=e("parse-asn1"),d=e("randombytes"),p=e("create-hash"),b=e("./mgf"),_=e("./xor"),y=e("bn.js"),a=e("./withPublic"),f=e("browserify-rsa");t.exports=function(e,t,r){var n;n=e.padding?e.padding:r?1:4;var i,s=o(e);if(4===n)i=function(e,t){var r=e.modulus.byteLength(),n=t.length,i=p("sha1").update(new l("")).digest(),s=i.length,o=2*s;if(r-o-2<n)throw new Error("message too long");var a=new l(r-n-o-2);a.fill(0);var f=r-s-1,u=d(s),c=_(l.concat([i,a,new l([1]),t],f),b(u,f)),h=_(u,b(c,s));return new y(l.concat([new l([0]),h,c],r))}(s,t);else if(1===n)i=function(e,t,r){var n,i=t.length,s=e.modulus.byteLength();if(s-11<i)throw new Error("message too long");r?(n=new l(s-i-3)).fill(255):n=function(e,t){var r,n=new l(e),i=0,s=d(2*e),o=0;for(;i<e;)o===s.length&&(s=d(2*e),o=0),(r=s[o++])&&(n[i++]=r);return n}(s-i-3);return new y(l.concat([new l([0,r?1:2]),n,new l([0]),t],s))}(s,t,r);else{if(3!==n)throw new Error("unknown padding");if(0<=(i=new y(t)).cmp(s.modulus))throw new Error("data too long for modulus")}return r?f(i,s):a(i,s)}})).call(this,e("buffer").Buffer)},{"./mgf":347,"./withPublic":350,"./xor":351,"bn.js":243,"browserify-rsa":266,buffer:274,"create-hash":278,"parse-asn1":338,randombytes:356}],350:[function(e,t,r){((function(r){var n=e("bn.js");t.exports=function(e,t){return new r(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}})).call(this,e("buffer").Buffer)},{"bn.js":243,buffer:274}],351:[function(e,t,r){t.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},{}],352:[function(e,A,P){((function(O){!function(e){var t="object"==typeof P&&P&&!P.nodeType&&P,r="object"==typeof A&&A&&!A.nodeType&&A,n="object"==typeof O&&O;n.global!==n&&n.window!==n&&n.self!==n||(e=n);var i,s,y=2147483647,v=36,m=1,g=26,o=38,a=700,w=72,S=128,k="-",f=/^xn--/,u=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},l=v-m,E=Math.floor,x=String.fromCharCode;function M(e){throw new RangeError(h[e])}function d(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function p(e,t){var r=e.split("@"),n="";return 1<r.length&&(n=r[0]+"@",e=r[1]),n+d((e=e.replace(c,".")).split("."),t).join(".")}function I(e){for(var t,r,n=[],i=0,s=e.length;i<s;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<s?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function T(e){return d(e,function(e){var t="";return 65535<e&&(t+=x((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=x(e)}).join("")}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function j(e,t,r){var n=0;for(e=r?E(e/a):e>>1,e+=E(e/t);l*g>>1<e;n+=v)e=E(e/l);return E(n+(l+1)*e/(e+o))}function b(e){var t,r,n,i,s,o,a,f,u,c,h,l=[],d=e.length,p=0,b=S,_=w;for((r=e.lastIndexOf(k))<0&&(r=0),n=0;n<r;++n)128<=e.charCodeAt(n)&&M("not-basic"),l.push(e.charCodeAt(n));for(i=0<r?r+1:0;i<d;){for(s=p,o=1,a=v;d<=i&&M("invalid-input"),h=e.charCodeAt(i++),(v<=(f=h-48<10?h-22:h-65<26?h-65:h-97<26?h-97:v)||f>E((y-p)/o))&&M("overflow"),p+=f*o,!(f<(u=a<=_?m:_+g<=a?g:a-_));a+=v)o>E(y/(c=v-u))&&M("overflow"),o*=c;_=j(p-s,t=l.length+1,0==s),E(p/t)>y-b&&M("overflow"),b+=E(p/t),p%=t,l.splice(p++,0,b)}return T(l)}function _(e){var t,r,n,i,s,o,a,f,u,c,h,l,d,p,b,_=[];for(l=(e=I(e)).length,t=S,s=w,o=r=0;o<l;++o)(h=e[o])<128&&_.push(x(h));for(n=i=_.length,i&&_.push(k);n<l;){for(a=y,o=0;o<l;++o)t<=(h=e[o])&&h<a&&(a=h);for(a-t>E((y-r)/(d=n+1))&&M("overflow"),r+=(a-t)*d,t=a,o=0;o<l;++o)if((h=e[o])<t&&++r>y&&M("overflow"),h==t){for(f=r,u=v;!(f<(c=u<=s?m:s+g<=u?g:u-s));u+=v)b=f-c,p=v-c,_.push(x(C(c+b%p,0))),f=E(b/p);_.push(x(C(f,0))),s=j(r,d,n==i),r=0,++n}++r,++t}return _.join("")}if(i={version:"1.4.1",ucs2:{decode:I,encode:T},decode:b,encode:_,toASCII:function(e){return p(e,function(e){return u.test(e)?"xn--"+_(e):e})},toUnicode:function(e){return p(e,function(e){return f.test(e)?b(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return i});else if(t&&r)if(A.exports==t)r.exports=i;else for(s in i)i.hasOwnProperty(s)&&(t[s]=i[s]);else e.punycode=i}(this)})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],353:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(t);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var a,f,u=e.length;0<o&&o<u&&(u=o);for(var c=0;c<u;++c){var h,l,d,p,b=e[c].replace(s,"%20"),_=b.indexOf(r);0<=_?(h=b.substr(0,_),l=b.substr(_+1)):(h=b,l=""),d=decodeURIComponent(h),p=decodeURIComponent(l),a=i,f=d,Object.prototype.hasOwnProperty.call(a,f)?y(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i};var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],354:[function(e,t,r){"use strict";var s=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(r,n,i,e){return n=n||"&",i=i||"=",null===r&&(r=void 0),"object"==typeof r?a(f(r),function(e){var t=encodeURIComponent(s(e))+i;return o(r[e])?a(r[e],function(e){return t+encodeURIComponent(s(e))}).join(n):t+encodeURIComponent(s(r[e]))}).join(n):e?encodeURIComponent(s(e))+i+encodeURIComponent(s(r)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var f=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],355:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":353,"./encode":354}],356:[function(e,t,r){((function(i,s){"use strict";var o=e("safe-buffer").Buffer,a=s.crypto||s.msCrypto;a&&a.getRandomValues?t.exports=function(e,t){if(65536<e)throw new Error("requested too many random bytes");var r=new s.Uint8Array(e);0<e&&a.getRandomValues(r);var n=o.from(r.buffer);if("function"==typeof t)return i.nextTick(function(){t(null,n)});return n}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}})).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:345,"safe-buffer":373}],357:[function(r,e,d){((function(o,i){"use strict";function e(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var t=r("safe-buffer"),a=r("randombytes"),s=t.Buffer,n=t.kMaxLength,f=i.crypto||i.msCrypto,u=Math.pow(2,32)-1;function c(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(u<e||e<0)throw new TypeError("offset must be a uint32");if(n<e||t<e)throw new RangeError("offset out of range")}function h(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(u<e||e<0)throw new TypeError("size must be a uint32");if(r<e+t||n<e)throw new RangeError("buffer too small")}function l(r,n,e,i){if(o.browser){var t=r.buffer,s=new Uint8Array(t,n,e);return f.getRandomValues(s),i?void o.nextTick(function(){i(null,r)}):r}if(!i)return a(e).copy(r,n),r;a(e,function(e,t){if(e)return i(e);t.copy(r,n),i(null,r)})}f&&f.getRandomValues||!o.browser?(d.randomFill=function(e,t,r,n){if(!(s.isBuffer(e)||e instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)n=t,t=0,r=e.length;else if("function"==typeof r)n=r,r=e.length-t;else if("function"!=typeof n)throw new TypeError('"cb" argument must be a function');return c(t,e.length),h(r,t,e.length),l(e,t,r,n)},d.randomFillSync=function(e,t,r){void 0===t&&(t=0);if(!(s.isBuffer(e)||e instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');c(t,e.length),void 0===r&&(r=e.length-t);return h(r,t,e.length),l(e,t,r)}):(d.randomFill=e,d.randomFillSync=e)})).call(this,r("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:345,randombytes:356,"safe-buffer":373}],358:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":359}],359:[function(e,t,r){"use strict";var n=e("process-nextick-args"),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=h;var s=e("core-util-is");s.inherits=e("inherits");var o=e("./_stream_readable"),a=e("./_stream_writable");s.inherits(h,o);for(var f=i(a.prototype),u=0;u<f.length;u++){var c=f[u];h.prototype[c]||(h.prototype[c]=a.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},{"./_stream_readable":361,"./_stream_writable":363,"core-util-is":276,inherits:327,"process-nextick-args":344}],360:[function(e,t,r){"use strict";t.exports=s;var n=e("./_stream_transform"),i=e("core-util-is");function s(e){if(!(this instanceof s))return new s(e);n.call(this,e)}i.inherits=e("inherits"),i.inherits(s,n),s.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":362,"core-util-is":276,inherits:327}],361:[function(P,B,e){((function(_,e){"use strict";var y=P("process-nextick-args");B.exports=l;var o,v=P("isarray");l.ReadableState=s;P("events").EventEmitter;var m=function(e,t){return e.listeners(t).length},i=P("./internal/streams/stream"),u=P("safe-buffer").Buffer,c=e.Uint8Array||function(){};var t=P("core-util-is");t.inherits=P("inherits");var r=P("util"),g=void 0;g=r&&r.debuglog?r.debuglog("stream"):function(){};var a,f=P("./internal/streams/BufferList"),n=P("./internal/streams/destroy");t.inherits(l,i);var h=["error","close","destroy","pause","resume"];function s(e,t){e=e||{};var r=t instanceof(o=o||P("./_stream_duplex"));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(i||0===i)?i:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(a||(a=P("string_decoder/").StringDecoder),this.decoder=new a(e.encoding),this.encoding=e.encoding)}function l(e){if(o=o||P("./_stream_duplex"),!(this instanceof l))return new l(e);this._readableState=new s(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),i.call(this)}function d(e,t,r,n,i){var s,o,a,f=e._readableState;null===t?(f.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,S(e)}(e,f)):(i||(s=function(e,t){var r;n=t,u.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(f,t)),s?e.emit("error",s):f.objectMode||t&&0<t.length?("string"==typeof t||f.objectMode||Object.getPrototypeOf(t)===u.prototype||(o=t,t=u.from(o)),n?f.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):p(e,f,t,!0):f.ended?e.emit("error",new Error("stream.push() after EOF")):(f.reading=!1,f.decoder&&!r?(t=f.decoder.write(t),f.objectMode||0!==t.length?p(e,f,t,!1):E(e,f)):p(e,f,t,!1))):n||(f.reading=!1));return!(a=f).ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function p(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&S(e)),E(e,t)}Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),l.prototype.destroy=n.destroy,l.prototype._undestroy=n.undestroy,l.prototype._destroy=function(e,t){this.push(null),t(e)},l.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),d(this,e,t,!1,r)},l.prototype.unshift=function(e){return d(this,e,null,!0,!1)},l.prototype.isPaused=function(){return!1===this._readableState.flowing},l.prototype.setEncoding=function(e){return a||(a=P("string_decoder/").StringDecoder),this._readableState.decoder=new a(e),this._readableState.encoding=e,this};var b=8388608;function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=(b<=(r=e)?r=b:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0));var r}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(g("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?y.nextTick(k,e):k(e))}function k(e){g("emit readable"),e.emit("readable"),T(e)}function E(e,t){t.readingMore||(t.readingMore=!0,y.nextTick(x,e,t))}function x(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(g("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function M(e){g("readable nexttick read 0"),e.read(0)}function I(e,t){t.reading||(g("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),T(e),t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;for(g("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),0===(e-=o)){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r).data=s.slice(o);break}++n}return t.length-=n,i}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),0===(e-=o)){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n).data=s.slice(o);break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function j(e){var t=e._readableState;if(0<t.length)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,y.nextTick(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function A(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}l.prototype.read=function(e){g("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return g("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):S(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&j(this),null;var n,i=t.needReadable;return g("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&g("length less than watermark",i=!0),t.ended||t.reading?g("reading or ended",i=!1):i&&(g("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(r,t))),null===(n=0<e?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&j(this)),null!==n&&this.emit("data",n),n},l.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},l.prototype.pipe=function(r,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r)}i.pipesCount+=1,g("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||!1!==e.end)&&r!==_.stdout&&r!==_.stderr?o:b;function s(e,t){g("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,g("cleanup"),r.removeListener("close",d),r.removeListener("finish",p),r.removeListener("drain",f),r.removeListener("error",l),r.removeListener("unpipe",s),n.removeListener("end",o),n.removeListener("end",b),n.removeListener("data",h),u=!0,!i.awaitDrain||r._writableState&&!r._writableState.needDrain||f())}function o(){g("onend"),r.end()}i.endEmitted?y.nextTick(t):n.once("end",t),r.on("unpipe",s);var a,f=(a=n,function(){var e=a._readableState;g("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&m(a,"data")&&(e.flowing=!0,T(a))});r.on("drain",f);var u=!1;var c=!1;function h(e){g("ondata"),(c=!1)!==r.write(e)||c||((1===i.pipesCount&&i.pipes===r||1<i.pipesCount&&-1!==A(i.pipes,r))&&!u&&(g("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,c=!0),n.pause())}function l(e){g("onerror",e),b(),r.removeListener("error",l),0===m(r,"error")&&r.emit("error",e)}function d(){r.removeListener("finish",p),b()}function p(){g("onfinish"),r.removeListener("close",d),b()}function b(){g("unpipe"),n.unpipe(r)}return n.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?v(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(r,"error",l),r.once("close",d),r.once("finish",p),r.emit("pipe",n),i.flowing||(g("pipe resume"),n.resume()),r},l.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=A(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},l.prototype.addListener=l.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&S(this):y.nextTick(M,this))}return r},l.prototype.resume=function(){var e,t,r=this._readableState;return r.flowing||(g("resume"),r.flowing=!0,e=this,(t=r).resumeScheduled||(t.resumeScheduled=!0,y.nextTick(I,e,t))),this},l.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},l.prototype.wrap=function(t){var r=this,n=this._readableState,i=!1;for(var e in t.on("end",function(){if(g("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),t.on("data",function(e){(g("wrapped data"),n.decoder&&(e=n.decoder.write(e)),n.objectMode&&null==e)||(n.objectMode||e&&e.length)&&(r.push(e)||(i=!0,t.pause()))}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var s=0;s<h.length;s++)t.on(h[s],this.emit.bind(this,h[s]));return this._read=function(e){g("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),l._fromList=C})).call(this,P("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":359,"./internal/streams/BufferList":364,"./internal/streams/destroy":365,"./internal/streams/stream":366,_process:345,"core-util-is":276,events:309,inherits:327,isarray:329,"process-nextick-args":344,"safe-buffer":373,"string_decoder/":367,util:245}],362:[function(e,t,r){"use strict";t.exports=s;var n=e("./_stream_duplex"),i=e("core-util-is");function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,(r.writecb=null)!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var r=this;"function"==typeof this._flush?this._flush(function(e,t){a(r,e,t)}):a(this,null,null)}function a(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},{"./_stream_duplex":359,"core-util-is":276,inherits:327}],363:[function(k,E,e){((function(e,t,r){"use strict";var y=k("process-nextick-args");function h(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}E.exports=c;var a,l=!e.browser&&-1<["v0.10","v0.9."].indexOf(e.version.slice(0,5))?r:y.nextTick;c.WritableState=u;var n=k("core-util-is");n.inherits=k("inherits");var i={deprecate:k("util-deprecate")},s=k("./internal/streams/stream"),v=k("safe-buffer").Buffer,m=t.Uint8Array||function(){};var o,f=k("./internal/streams/destroy");function g(){}function u(e,t){a=a||k("./_stream_duplex"),e=e||{};var r=t instanceof a;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(i||0===i)?i:s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(h=r,h.writing=!1,h.writecb=null,h.length-=h.writelen,h.writelen=0,t)o=e,a=r,f=n,u=t,c=i,--a.pendingcb,f?(y.nextTick(c,u),y.nextTick(S,o,a),o._writableState.errorEmitted=!0,o.emit("error",u)):(c(u),o._writableState.errorEmitted=!0,o.emit("error",u),S(o,a));else{var s=b(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||p(e,r),n?l(d,e,r,s,i):d(e,r,s,i)}var o,a,f,u,c;var h}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function c(e){if(a=a||k("./_stream_duplex"),!(o.call(c,this)||this instanceof a))return new c(e);this._writableState=new u(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function w(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function d(e,t,r,n){var i,s;r||(i=e,0===(s=t).length&&s.needDrain&&(s.needDrain=!1,i.emit("drain"))),t.pendingcb--,n(),S(e,t)}function p(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)(i[o]=r).isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,w(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new h(t),t.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,u=r.encoding,c=r.callback;if(w(e,t,!1,t.objectMode?1:f.length,f,u,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function b(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(t,r){t._final(function(e){r.pendingcb--,e&&t.emit("error",e),r.prefinished=!0,t.emit("prefinish"),S(t,r)})}function S(e,t){var r,n,i=b(t);return i&&(r=e,(n=t).prefinished||n.finalCalled||("function"==typeof r._final?(n.pendingcb++,n.finalCalled=!0,y.nextTick(_,r,n)):(n.prefinished=!0,r.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}n.inherits(c,s),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===c&&e&&e._writableState instanceof u}})):o=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,r){var n,i,s,o,a,f,u,c,h,l,d,p=this._writableState,b=!1,_=!p.objectMode&&(n=e,v.isBuffer(n)||n instanceof m);return _&&!v.isBuffer(e)&&(i=e,e=v.from(i)),"function"==typeof t&&(r=t,t=null),_?t="buffer":t||(t=p.defaultEncoding),"function"!=typeof r&&(r=g),p.ended?(h=this,l=r,d=new Error("write after end"),h.emit("error",d),y.nextTick(l,d)):(_||(s=this,o=p,f=r,c=!(u=!0),null===(a=e)?c=new TypeError("May not write null values to stream"):"string"==typeof a||void 0===a||o.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c&&(s.emit("error",c),y.nextTick(f,c),u=!1),u))&&(p.pendingcb++,b=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=v.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else w(e,t,!1,a,n,i,s);return f}(this,p,_,e,t,r)),b},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||p(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),c.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,t=e=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,S(e,t),r&&(t.finished?y.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=f.destroy,c.prototype._undestroy=f.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}})).call(this,k("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},k("timers").setImmediate)},{"./_stream_duplex":359,"./internal/streams/destroy":365,"./internal/streams/stream":366,_process:345,"core-util-is":276,inherits:327,"process-nextick-args":344,"safe-buffer":373,timers:384,"util-deprecate":387}],364:[function(e,t,r){"use strict";var a=e("safe-buffer").Buffer,n=e("util");t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return a.alloc(0);if(1===this.length)return this.head.data;for(var t,r,n,i=a.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,r=i,n=o,t.copy(r,n),o+=s.data.length,s=s.next;return i},e}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var e=n.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":373,util:245}],365:[function(e,t,r){"use strict";var s=e("process-nextick-args");function o(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||s.nextTick(o,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(s.nextTick(o,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":344}],366:[function(e,t,r){t.exports=e("events").EventEmitter},{events:309}],367:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=f,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=l,void (this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"ï¿½";if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"ï¿½";if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"ï¿½"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void (this.lastNeed-=e.length))}function f(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(55296<=n&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}(r.StringDecoder=s).prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(0<=i)return 0<i&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(0<=(i=o(t[n])))return 0<i&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(0<=(i=o(t[n])))return 0<i&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":373}],368:[function(e,t,r){t.exports=e("./readable").PassThrough},{"./readable":369}],369:[function(e,t,r){(((r=t.exports=e("./lib/_stream_readable.js")).Stream=r).Readable=r).Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":359,"./lib/_stream_passthrough.js":360,"./lib/_stream_readable.js":361,"./lib/_stream_transform.js":362,"./lib/_stream_writable.js":363}],370:[function(e,t,r){t.exports=e("./readable").Transform},{"./readable":369}],371:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":363}],372:[function(e,t,r){"use strict";var n=e("buffer").Buffer,i=e("inherits"),s=e("hash-base"),_=new Array(16),y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],w=[0,1518500249,1859775393,2400959708,2840853838],S=[1352829926,1548603684,1836072691,2053994217,0];function o(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function k(e,t){return e<<t|e>>>32-t}function E(e,t,r,n,i,s,o,a){return k(e+(t^r^n)+s+o|0,a)+i|0}function x(e,t,r,n,i,s,o,a){return k(e+(t&r|~t&n)+s+o|0,a)+i|0}function M(e,t,r,n,i,s,o,a){return k(e+((t|~r)^n)+s+o|0,a)+i|0}function I(e,t,r,n,i,s,o,a){return k(e+(t&n|r&~n)+s+o|0,a)+i|0}function T(e,t,r,n,i,s,o,a){return k(e+(t^(r|~n))+s+o|0,a)+i|0}i(o,s),o.prototype._update=function(){for(var e=_,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,o=0|this._e,a=0|this._a,f=0|this._b,u=0|this._c,c=0|this._d,h=0|this._e,l=0;l<80;l+=1){var d,p;l<16?(d=E(r,n,i,s,o,e[y[l]],w[0],m[l]),p=T(a,f,u,c,h,e[v[l]],S[0],g[l])):l<32?(d=x(r,n,i,s,o,e[y[l]],w[1],m[l]),p=I(a,f,u,c,h,e[v[l]],S[1],g[l])):l<48?(d=M(r,n,i,s,o,e[y[l]],w[2],m[l]),p=M(a,f,u,c,h,e[v[l]],S[2],g[l])):l<64?(d=I(r,n,i,s,o,e[y[l]],w[3],m[l]),p=x(a,f,u,c,h,e[v[l]],S[3],g[l])):(d=T(r,n,i,s,o,e[y[l]],w[4],m[l]),p=E(a,f,u,c,h,e[v[l]],S[4],g[l])),r=o,o=s,s=k(i,10),i=n,n=d,a=h,h=c,c=k(u,10),u=f,f=p}var b=this._b+i+c|0;this._b=this._c+s+h|0,this._c=this._d+o+a|0,this._d=this._e+r+f|0,this._e=this._a+n+u|0,this._a=b},o.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},t.exports=o},{buffer:274,"hash-base":311,inherits:327}],373:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,r),r.Buffer=o),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:274}],374:[function(e,t,r){var c=e("safe-buffer").Buffer;function n(e,t){this._block=c.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}n.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=c.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,s=this._len,o=0;o<i;){for(var a=s%n,f=Math.min(i-o,n-a),u=0;u<f;u++)r[a+u]=e[o+u];o+=f,(s+=f)%n==0&&this._update(r)}return this._len+=i,this},n.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n},{"safe-buffer":373}],375:[function(e,t,r){(r=t.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t}).sha=e("./sha"),r.sha1=e("./sha1"),r.sha224=e("./sha224"),r.sha256=e("./sha256"),r.sha384=e("./sha384"),r.sha512=e("./sha512")},{"./sha":376,"./sha1":377,"./sha224":378,"./sha256":379,"./sha384":380,"./sha512":381}],376:[function(e,t,r){var n=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,y=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function a(){this.init(),this._w=o,i.call(this,64,56)}n(a,i),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},a.prototype._update=function(e){for(var t,r,n,i,s,o,a=this._w,f=0|this._a,u=0|this._b,c=0|this._c,h=0|this._d,l=0|this._e,d=0;d<16;++d)a[d]=e.readInt32BE(4*d);for(;d<80;++d)a[d]=a[d-3]^a[d-8]^a[d-14]^a[d-16];for(var p=0;p<80;++p){var b=~~(p/20),_=0|((o=f)<<5|o>>>27)+(n=u,i=c,s=h,0===(r=b)?n&i|~n&s:2===r?n&i|n&s|i&s:n^i^s)+l+a[p]+y[b];l=h,h=c,c=(t=u)<<30|t>>>2,u=f,f=_}this._a=f+this._a|0,this._b=u+this._b|0,this._c=c+this._c|0,this._d=h+this._d|0,this._e=l+this._e|0},a.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=a},{"./hash":374,inherits:327,"safe-buffer":373}],377:[function(e,t,r){var n=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,v=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function a(){this.init(),this._w=o,i.call(this,64,56)}n(a,i),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},a.prototype._update=function(e){for(var t,r,n,i,s,o,a,f=this._w,u=0|this._a,c=0|this._b,h=0|this._c,l=0|this._d,d=0|this._e,p=0;p<16;++p)f[p]=e.readInt32BE(4*p);for(;p<80;++p)f[p]=(t=f[p-3]^f[p-8]^f[p-14]^f[p-16])<<1|t>>>31;for(var b=0;b<80;++b){var _=~~(b/20),y=0|((a=u)<<5|a>>>27)+(i=c,s=h,o=l,0===(n=_)?i&s|~i&o:2===n?i&s|i&o|s&o:i^s^o)+d+f[b]+v[_];d=l,l=h,h=(r=c)<<30|r>>>2,c=u,u=y}this._a=u+this._a|0,this._b=c+this._b|0,this._c=h+this._c|0,this._d=l+this._d|0,this._e=d+this._e|0},a.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=a},{"./hash":374,inherits:327,"safe-buffer":373}],378:[function(e,t,r){var n=e("inherits"),i=e("./sha256"),s=e("./hash"),o=e("safe-buffer").Buffer,a=new Array(64);function f(){this.init(),this._w=a,s.call(this,64,56)}n(f,i),f.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},f.prototype._hash=function(){var e=o.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=f},{"./hash":374,"./sha256":379,inherits:327,"safe-buffer":373}],379:[function(e,t,r){var n=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function a(){this.init(),this._w=o,i.call(this,64,56)}n(a,i),a.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},a.prototype._update=function(e){for(var t,r,n,i,s,o,a,f=this._w,u=0|this._a,c=0|this._b,h=0|this._c,l=0|this._d,d=0|this._e,p=0|this._f,b=0|this._g,_=0|this._h,y=0;y<16;++y)f[y]=e.readInt32BE(4*y);for(;y<64;++y)f[y]=0|(((r=f[y-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)+f[y-7]+(((t=f[y-15])>>>7|t<<25)^(t>>>18|t<<14)^t>>>3)+f[y-16];for(var v=0;v<64;++v){var m=_+(((a=d)>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+((o=b)^d&(p^o))+w[v]+f[v]|0,g=0|(((s=u)>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+((n=u)&(i=c)|h&(n|i));_=b,b=p,p=d,d=l+m|0,l=h,h=c,c=u,u=m+g|0}this._a=u+this._a|0,this._b=c+this._b|0,this._c=h+this._c|0,this._d=l+this._d|0,this._e=d+this._e|0,this._f=p+this._f|0,this._g=b+this._g|0,this._h=_+this._h|0},a.prototype._hash=function(){var e=s.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=a},{"./hash":374,inherits:327,"safe-buffer":373}],380:[function(e,t,r){var n=e("inherits"),i=e("./sha512"),s=e("./hash"),o=e("safe-buffer").Buffer,a=new Array(160);function f(){this.init(),this._w=a,s.call(this,128,112)}n(f,i),f.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},f.prototype._hash=function(){var n=o.allocUnsafe(48);function e(e,t,r){n.writeInt32BE(e,r),n.writeInt32BE(t,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),n},t.exports=f},{"./hash":374,"./sha512":381,inherits:327,"safe-buffer":373}],381:[function(e,t,r){var n=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,ee=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function a(){this.init(),this._w=o,i.call(this,128,112)}function te(e,t,r){return r^e&(t^r)}function re(e,t,r){return e&t|r&(e|t)}function ne(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function ie(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function se(e,t){return e>>>0<t>>>0?1:0}n(a,i),a.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},a.prototype._update=function(e){for(var t,r,n,i,s,o,a,f,u=this._w,c=0|this._ah,h=0|this._bh,l=0|this._ch,d=0|this._dh,p=0|this._eh,b=0|this._fh,_=0|this._gh,y=0|this._hh,v=0|this._al,m=0|this._bl,g=0|this._cl,w=0|this._dl,S=0|this._el,k=0|this._fl,E=0|this._gl,x=0|this._hl,M=0;M<32;M+=2)u[M]=e.readInt32BE(4*M),u[M+1]=e.readInt32BE(4*M+4);for(;M<160;M+=2){var I=u[M-30],T=u[M-30+1],C=((a=I)>>>1|(f=T)<<31)^(a>>>8|f<<24)^a>>>7,j=((s=T)>>>1|(o=I)<<31)^(s>>>8|o<<24)^(s>>>7|o<<25);I=u[M-4],T=u[M-4+1];var O=((n=I)>>>19|(i=T)<<13)^(i>>>29|n<<3)^n>>>6,A=((t=T)>>>19|(r=I)<<13)^(r>>>29|t<<3)^(t>>>6|r<<26),P=u[M-14],B=u[M-14+1],R=u[M-32],D=u[M-32+1],L=j+B|0,U=C+P+se(L,j)|0;U=(U=U+O+se(L=L+A|0,A)|0)+R+se(L=L+D|0,D)|0,u[M]=U,u[M+1]=L}for(var N=0;N<160;N+=2){U=u[N],L=u[N+1];var q=re(c,h,l),F=re(v,m,g),z=ne(c,v),H=ne(v,c),K=ie(p,S),V=ie(S,p),W=ee[N],G=ee[N+1],X=te(p,b,_),Z=te(S,k,E),Q=x+V|0,Y=y+K+se(Q,x)|0;Y=(Y=(Y=Y+X+se(Q=Q+Z|0,Z)|0)+W+se(Q=Q+G|0,G)|0)+U+se(Q=Q+L|0,L)|0;var J=H+F|0,$=z+q+se(J,H)|0;y=_,x=E,_=b,E=k,b=p,k=S,p=d+Y+se(S=w+Q|0,w)|0,d=l,w=g,l=h,g=m,h=c,m=v,c=Y+$+se(v=Q+J|0,Q)|0}this._al=this._al+v|0,this._bl=this._bl+m|0,this._cl=this._cl+g|0,this._dl=this._dl+w|0,this._el=this._el+S|0,this._fl=this._fl+k|0,this._gl=this._gl+E|0,this._hl=this._hl+x|0,this._ah=this._ah+c+se(this._al,v)|0,this._bh=this._bh+h+se(this._bl,m)|0,this._ch=this._ch+l+se(this._cl,g)|0,this._dh=this._dh+d+se(this._dl,w)|0,this._eh=this._eh+p+se(this._el,S)|0,this._fh=this._fh+b+se(this._fl,k)|0,this._gh=this._gh+_+se(this._gl,E)|0,this._hh=this._hh+y+se(this._hl,x)|0},a.prototype._hash=function(){var n=s.allocUnsafe(64);function e(e,t,r){n.writeInt32BE(e,r),n.writeInt32BE(t,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),n},t.exports=a},{"./hash":374,inherits:327,"safe-buffer":373}],382:[function(e,t,r){t.exports=n;var c=e("events").EventEmitter;function n(){c.call(this)}e("inherits")(n,c),n.Readable=e("readable-stream/readable.js"),n.Writable=e("readable-stream/writable.js"),n.Duplex=e("readable-stream/duplex.js"),n.Transform=e("readable-stream/transform.js"),n.PassThrough=e("readable-stream/passthrough.js"),(n.Stream=n).prototype.pipe=function(t,e){var r=this;function n(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),t.on("drain",i),t._isStdio||e&&!1===e.end||(r.on("end",o),r.on("close",a));var s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function f(e){if(u(),0===c.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",f),t.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("error",f),t.on("error",f),r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t}},{events:309,inherits:327,"readable-stream/duplex.js":358,"readable-stream/passthrough.js":368,"readable-stream/readable.js":369,"readable-stream/transform.js":370,"readable-stream/writable.js":371}],383:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=f,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=l,void (this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"ï¿½".repeat(r);if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"ï¿½".repeat(r+1);if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"ï¿½".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void (this.lastNeed-=e.length))}function f(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(55296<=n&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}(r.StringDecoder=s).prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½".repeat(this.lastTotal-this.lastNeed):t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(0<=i)return 0<i&&(e.lastNeed=i-1),i;if(--n<r)return 0;if(0<=(i=o(t[n])))return 0<i&&(e.lastNeed=i-2),i;if(--n<r)return 0;if(0<=(i=o(t[n])))return 0<i&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":373}],384:[function(f,e,u){((function(e,t){var n=f("process/browser.js").nextTick,r=Function.prototype.apply,i=Array.prototype.slice,s={},o=0;function a(e,t){this._id=e,this._clearFn=t}u.setTimeout=function(){return new a(r.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new a(r.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(e){e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},u.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},u._unrefActive=u.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},u.setImmediate="function"==typeof e?e:function(e){var t=o++,r=!(arguments.length<2)&&i.call(arguments,1);return s[t]=!0,n(function(){s[t]&&(r?e.apply(null,r):e.call(null),u.clearImmediate(t))}),t},u.clearImmediate="function"==typeof t?t:function(e){delete s[e]}})).call(this,f("timers").setImmediate,f("timers").clearImmediate)},{"process/browser.js":345,timers:384}],385:[function(e,t,r){"use strict";var P=e("punycode"),B=e("./util");function I(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=s,r.resolve=function(e,t){return s(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?s(e,!1,!0).resolveObject(t):t},r.format=function(e){B.isString(e)&&(e=s(e));return e instanceof I?e.format():I.prototype.format.call(e)},r.Url=I;var R=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,D=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),L=["'"].concat(i),U=["%","/","?",";","#"].concat(L),N=["/","?","#"],q=/^[+a-z0-9A-Z_-]{0,63}$/,F=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,z={javascript:!0,"javascript:":!0},H={javascript:!0,"javascript:":!0},K={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},V=e("querystring");function s(e,t,r){if(e&&B.isObject(e)&&e instanceof I)return e;var n=new I;return n.parse(e,t,r),n}I.prototype.parse=function(e,t,r){if(!B.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=-1!==n&&n<e.indexOf("#")?"?":"#",s=e.split(i);s[0]=s[0].replace(/\\/g,"/");var o=e=s.join(i);if(o=o.trim(),!r&&1===e.split("#").length){var a=D.exec(o);if(a)return this.path=o,this.href=o,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?V.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var f=R.exec(o);if(f){var u=(f=f[0]).toLowerCase();this.protocol=u,o=o.substr(f.length)}if(r||f||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===o.substr(0,2);!c||f&&H[f]||(o=o.substr(2),this.slashes=!0)}if(!H[f]&&(c||f&&!K[f])){for(var h,l,d=-1,p=0;p<N.length;p++){-1!==(b=o.indexOf(N[p]))&&(-1===d||b<d)&&(d=b)}-1!==(l=-1===d?o.lastIndexOf("@"):o.lastIndexOf("@",d))&&(h=o.slice(0,l),o=o.slice(l+1),this.auth=decodeURIComponent(h)),d=-1;for(p=0;p<U.length;p++){var b;-1!==(b=o.indexOf(U[p]))&&(-1===d||b<d)&&(d=b)}-1===d&&(d=o.length),this.host=o.slice(0,d),o=o.slice(d),this.parseHost(),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_)for(var y=this.hostname.split(/\./),v=(p=0,y.length);p<v;p++){var m=y[p];if(m&&!m.match(q)){for(var g="",w=0,S=m.length;w<S;w++)127<m.charCodeAt(w)?g+="x":g+=m[w];if(!g.match(q)){var k=y.slice(0,p),E=y.slice(p+1),x=m.match(F);x&&(k.push(x[1]),E.unshift(x[2])),E.length&&(o="/"+E.join(".")+o),this.hostname=k.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=P.toASCII(this.hostname));var M=this.port?":"+this.port:"",I=this.hostname||"";this.host=I+M,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!z[u])for(p=0,v=L.length;p<v;p++){var T=L[p];if(-1!==o.indexOf(T)){var C=encodeURIComponent(T);C===T&&(C=escape(T)),o=o.split(T).join(C)}}var j=o.indexOf("#");-1!==j&&(this.hash=o.substr(j),o=o.slice(0,j));var O=o.indexOf("?");if(-1!==O?(this.search=o.substr(O),this.query=o.substr(O+1),t&&(this.query=V.parse(this.query)),o=o.slice(0,O)):t&&(this.search="",this.query={}),o&&(this.pathname=o),K[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){M=this.pathname||"";var A=this.search||"";this.path=M+A}return this.href=this.format(),this},I.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&B.isObject(this.query)&&Object.keys(this.query).length&&(s=V.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||K[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),t+i+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(o=o.replace("#","%23"))+n},I.prototype.resolve=function(e){return this.resolveObject(s(e,!1,!0)).format()},I.prototype.resolveObject=function(e){if(B.isString(e)){var t=new I;t.parse(e,!1,!0),e=t}for(var r=new I,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var f=o[a];"protocol"!==f&&(r[f]=e[f])}return K[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!K[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var h=u[c];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||H[e.protocol])r.pathname=e.pathname;else{for(var l=(e.pathname||"").split("/");l.length&&!(e.host=l.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==l[0]&&l.unshift(""),l.length<2&&l.unshift(""),r.pathname=l.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var d=r.pathname||"",p=r.search||"";r.path=d+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=_||b||r.host&&e.pathname,v=y,m=r.pathname&&r.pathname.split("/")||[],g=(l=e.pathname&&e.pathname.split("/")||[],r.protocol&&!K[r.protocol]);if(g&&(r.hostname="",r.port=null,r.host&&(""===m[0]?m[0]=r.host:m.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===l[0]?l[0]=e.host:l.unshift(e.host)),e.host=null),y=y&&(""===l[0]||""===m[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,m=l;else if(l.length)m||(m=[]),m.pop(),m=m.concat(l),r.search=e.search,r.query=e.query;else if(!B.isNullOrUndefined(e.search)){if(g)r.hostname=r.host=m.shift(),(x=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"))&&(r.auth=x.shift(),r.host=r.hostname=x.shift());return r.search=e.search,r.query=e.query,B.isNull(r.pathname)&&B.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!m.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var w=m.slice(-1)[0],S=(r.host||e.host||1<m.length)&&("."===w||".."===w)||""===w,k=0,E=m.length;0<=E;E--)"."===(w=m[E])?m.splice(E,1):".."===w?(m.splice(E,1),k++):k&&(m.splice(E,1),k--);if(!y&&!v)for(;k--;k)m.unshift("..");!y||""===m[0]||m[0]&&"/"===m[0].charAt(0)||m.unshift(""),S&&"/"!==m.join("/").substr(-1)&&m.push("");var x,M=""===m[0]||m[0]&&"/"===m[0].charAt(0);g&&(r.hostname=r.host=M?"":m.length?m.shift():"",(x=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"))&&(r.auth=x.shift(),r.host=r.hostname=x.shift()));return(y=y||r.host&&m.length)&&!M&&m.unshift(""),m.length?r.pathname=m.join("/"):(r.pathname=null,r.path=null),B.isNull(r.pathname)&&B.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},I.prototype.parseHost=function(){var e=this.host,t=n.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":386,punycode:352,querystring:355}],386:[function(e,t,r){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],387:[function(e,t,r){((function(r){function n(e){try{if(!r.localStorage)return!1}catch(e){return!1}var t=r.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}t.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}})).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],388:[function(require,module,exports){var indexOf=require("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var r=e.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(t),function(e){r[e]=t[e]}),forEach(globals,function(e){t[e]&&(r[e]=t[e])});var s=Object_keys(r),o=n.call(r,this.code);return forEach(Object_keys(r),function(e){(e in t||-1===indexOf(s,e))&&(t[e]=r[e])}),forEach(globals,function(e){e in t||defineProp(t,e,r[e])}),document.body.removeChild(e),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var r=Script.createContext(t),e=this.runInContext(r);return forEach(Object_keys(r),function(e){t[e]=r[e]}),e},forEach(Object_keys(Script.prototype),function(r){exports[r]=Script[r]=function(e){var t=Script(e);return t[r].apply(t,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(t){var r=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(e){r[e]=t[e]}),r}},{indexof:326}]},{},[178])(178)})}catch(e){if(!window.xyvod){xyvod={};xyvod.isSupported=function(){return false};xyvod.version=function(){}}};
(function(){var c8g=NEJ.P,be9V=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),l8d=c8g("nm.x"),q8i=c8g("nm.d"),hr2x=c8g("nm.w.player.log");var lj3x=q8i.ii2x.A9r();var LogLevel={ERROR:10,INFO:6,DEBUG:2};var hN2x=function(t8l,bF9w,sl6f){var cM0x=l8d.fF2x("{0} {1} {2}",k8c.iC3x(new Date,"yyyy-MM-dd HH:mm:ss"),t8l,bF9w);if(sl6f==LogLevel.ERROR){lj3x.fa1x("playerror",{message:bF9w})}if(sl6f>=LogLevel.INFO){lj3x.bMz0x(cM0x)}if(location.hostname.indexOf("igame.163.com")!=-1){console.log(cM0x)}};hr2x.cc0x=function(){hN2x("PLAY_ERROR",l8d.fF2x.apply(null,arguments),LogLevel.ERROR)};hr2x.rg5l=function(){hN2x("PLAY_INFO",l8d.fF2x.apply(null,arguments),LogLevel.INFO)};hr2x.cSK4O=function(){hN2x("PLAY_DEBUG",l8d.fF2x.apply(null,arguments),LogLevel.DEBUG)};hr2x.cIs0x=function(params){lj3x.fa1x("sysaction",params)}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),G9x=c8g("nej.ut"),k8c=c8g("nej.u"),x9o=c8g("nm.w"),dL1x=c8g("flash.cb");var bZ0x=["loadedmetadata","play","pause","ended","waiting","playing","timeupdate","progress","stalled","error"];var Cg1x,bij2x,xc9T,ht2x;x9o.cIz0x=function(t8l,cL0x){if(t8l!="flash"){if(!Cg1x){Cg1x=a7h.dt1x("audio");k8c.bf9W(bZ0x,function(t8l){h8b.s8k(Cg1x,t8l,onMediaCallBack)})}if(Cg1x&&Cg1x.canPlayType&&Cg1x.canPlayType("audio/mpeg")){cL0x(new MediaWrap("audio"));return}}if(!bij2x){a7h.tW8O({src:"/style/swf/music/music.swf?v=20151204",hidden:true,params:{allowscriptaccess:"always"},onready:function(it3x){bij2x=it3x;k8c.bf9W(bZ0x,function(t8l){dL1x[t8l]=onMediaCallBack;bij2x.addCallback(t8l,"flash.cb."+t8l)});cL0x(new MediaWrap("flash"))}.f8d(this)})}else{cL0x(new MediaWrap("flash"))}};function InitXyPlayer(){if(typeof xyvod!="undefined"&&xyvod.isSupported()){if(ht2x){ht2x.dispose();ht2x=null}if(Math.random()>.5){ht2x=xyvod.createPlayer({media:Cg1x});ht2x.on(xyvod.Events.ERROR,function(error){onMediaCallBack({type:"xyerror",error:error})})}}}function MediaWrap(HQ2x){var gS2x;G9x.fY2x.A9r({element:this,event:bZ0x.concat(["interrupt","recover","xyerror"])});gS2x=HQ2x=="audio"?Cg1x:bij2x;this.type=HQ2x;this.destroy=function(){if(ht2x){ht2x.dispose();ht2x=null;this.bip2x=false}};this.setSrc=function(Z9Q,setType){cIH0x=Z9Q;if(xc9T!=this){var gG2x=xc9T;if(gG2x){gG2x.interrupt()}xc9T=this}if(HQ2x=="flash"){gS2x.setSrc(Z9Q)}else{if(setType!=="fallback"&&setType!=="reload"){InitXyPlayer();if(ht2x){this.bip2x="xy";ht2x.load(Z9Q)}else{gS2x.src=Z9Q;this.bip2x=false}}else{gS2x.src=Z9Q}}};this.getcdnInfo=function(){var params={};if(ht2x){params.cdnBytes=ht2x.info.cdnBytes;params.p2pBytes=ht2x.info.p2pBytes}return params};this.play=function(){if(xc9T!=this){var gG2x=xc9T;if(gG2x){gG2x.interrupt();xc9T=this;this.recover()}else{xc9T=this}}if(HQ2x=="flash"){gS2x.as_play()}else if(ht2x){ht2x.play()}else{gS2x.play()}};this.pause=function(){if(xc9T!=this)return;if(HQ2x=="flash"){gS2x.as_pause()}else if(ht2x){ht2x.pause()}else{gS2x.pause()}};this.load=function(cIH0x){if(xc9T!=this)return;if(HQ2x=="flash"){gS2x.as_load()}else{gS2x.load()}};this.interrupt=function(){onMediaCallBack({type:"interrupt"})};this.recover=function(){onMediaCallBack({type:"recover"})};this.getMedia=function(){return gS2x};var pV5a=["Src","Duration","CurrentTime","Paused","Ended","ReadyState","Volume","Error","Buffered","NetworkState"];k8c.bf9W(pV5a,function(Y9P){var Zl9c="get"+Y9P,EB1x="set"+Y9P;if(HQ2x=="flash"){if(!this[Zl9c]){this[Zl9c]=function(){return gS2x[Zl9c]()}}if(!this[EB1x]){this[EB1x]=function(value){gS2x[EB1x](value)}}}else{var brB4F=Y9P.slice(0,1).toLowerCase()+Y9P.slice(1);if(!this[Zl9c]){this[Zl9c]=function(){return gS2x[brB4F]}}if(!this[EB1x]){if(ht2x){if(EB1x==="setCurrentTime"){this[EB1x]=function(value){ht2x.seek(value)}}else{this[EB1x]=function(value){Cg1x[brB4F]=value}}}else{this[EB1x]=function(value){gS2x[brB4F]=value}}}}},this)}function onMediaCallBack(d8f){if(xc9T){h8b.z9q(xc9T,d8f.type,d8f)}}})();
(function(){var c8g=NEJ.P,h8b=c8g("nej.v"),v9m=c8g("nej.j"),G9x=c8g("nej.ut"),cA0x=c8g("nej.p"),x9o=c8g("nm.w"),l8d=c8g("nm.x"),hr2x=c8g("nm.w.player.log"),b8h;var DEFAULT_BR=128e3;var CDN_HOST_REG=/(m\d+\.music\.126\.net)/;var MAX_STALLED_RETRY=2;var MediaError={MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4};var ErrorType={INFO_GET_ERR:1,NET_ERR:2,UNKNOWN_ERR:10,XY_ERR:8};var LoadState={LOAD_START:1,LOADED_META:2,IN_RELOAD:3,IN_RE_GET_URL:4,IN_SWITCH_CDN:5,IN_SWITCH_MEDIA:6};var RetryLevel={NONE:0,GET_URL:1,RELOAD:2,SWITCH_CDN:3};var bRY4c=false,Zu9l=false;x9o.gs2x=NEJ.C();b8h=x9o.gs2x.M9D(G9x.cS1x);b8h.bp9g=function(e8e){this.bq9h(e8e);this.cH0x={};this.mZ4d={};this.biE2x(e8e.media);v9m.bm9d("/api/cdns",{type:"json",onload:function(d8f){if(d8f.code){this.sj6d=d8f.data}}.f8d(this)})};b8h.bC9t=function(){this.bJ9A();delete this.cH0x};b8h.bry4C=function(){this.mZ4d={loadeddataTime:(new Date).getTime(),seekWaitTime:0,seekWait_Array:[],playWaitTime:0,playWait_Array:[]}};b8h.biH2x=function(bn9e){if(!bn9e)return;var sL6F=this.cH0x.volume;if(this.dS1x){this.dS1x.pause()}if(typeof xyvod!="undefined"&&xyvod.isSupported()){Zu9l=true}else{Zu9l=false}if(this.cH0x.id&&this.cH0x.time!==0){if(Math.floor(this.cH0x.duration)!==Math.floor(this.cH0x.time)){this.biJ2x(false)}}this.cH0x={time:0,id:bn9e.id,duration:bn9e.duration/1e3,play:this.cH0x.play,stalledRetryCount:0};if(sL6F!=null){this.cH0x.volume=sL6F}this.cH0x.loadState=LoadState.LOAD_START;this.bRQ3x(bn9e.id);hr2x.rg5l("play song id: {0}",bn9e.id)};b8h.eE1x=function(){if(this.cH0x.error){this.cH0x.error=null;if(this.cH0x.error==ErrorType.INFO_GET_ERR||this.brx4B()){this.bRK3x()}else{this.ZJ9A()}}else{if(this.dS1x){this.dS1x.play()}}this.cH0x.play=true;this.rF6z("play")};b8h.fW2x=function(){if(this.dS1x){this.dS1x.pause()}this.cH0x.play=false;this.rF6z("pause")};b8h.qs5x=function(bB9s){if(this.dS1x){this.dS1x.setCurrentTime(bB9s)}this.cH0x.time=bB9s;this.mZ4d.seekWaitTime=(new Date).getTime();hr2x.rg5l("seek to: {0}",bB9s)};b8h.bru4y=function(){return this.cH0x.duration||0};b8h.xq9h=function(){return!!this.cH0x.play};b8h.nY4c=function(baf9W){this.cH0x.volume=baf9W;if(this.dS1x){this.dS1x.setVolume(baf9W)}};b8h.biU2x=function(){return this.cH0x.time};b8h.biE2x=function(t8l){x9o.cIz0x(t8l,function(gS2x){this.dS1x=gS2x;hr2x.rg5l("media loaded: {0}",gS2x.type);this.ca0x([[this.dS1x,"loadedmetadata",this.cIN0x.f8d(this)],[this.dS1x,"ended",this.cIO0x.f8d(this)],[this.dS1x,"waiting",this.Cl1x.f8d(this)],[this.dS1x,"play",this.xr9i.f8d(this)],[this.dS1x,"pause",this.brs4w.f8d(this)],[this.dS1x,"playing",this.bav9m.f8d(this)],[this.dS1x,"timeupdate",this.cIP0x.f8d(this)],[this.dS1x,"progress",this.sW6Q.f8d(this)],[this.dS1x,"stalled",this.brq4u.f8d(this)],[this.dS1x,"interrupt",this.fW2x.f8d(this)],[this.dS1x,"recover",this.cIY0x.f8d(this)],[this.dS1x,"error",this.eb1x.f8d(this)],[this.dS1x,"xyerror",this.cJc0x.f8d(this)]]);if(this.cH0x){if(this.cH0x.loadState==LoadState.LOAD_START||this.cH0x.loadState==LoadState.IN_SWITCH_MEDIA){this.brl4p(t8l);if(this.cH0x.volume!=null){this.dS1x.setVolume(this.cH0x.volume)}}}}.f8d(this))};b8h.cJc0x=function(error){this.cH0x.error=ErrorType.XY_ERR;if(!this.brx4B()){this.biJ2x(true,error.error.message);this.dS1x.otherCDN=false;this.bQW3x("fallback")}Zu9l="NotFirst"};b8h.bQR3x=function(countArray){if(countArray.length===0){return 0}var bjk2x=countArray.reduce(function(before,after){return before+after});return{fn1x:Math.max.apply(null,countArray),fK2x:Math.min.apply(null,countArray),bQO3x:bjk2x/countArray.length}};b8h.biJ2x=function(error,errorType){var cdnType=this.dS1x.bip2x||"NetEase";var cdnInfo=this.dS1x.getcdnInfo();if(this.mZ4d.loadeddataTime>12e4){this.mZ4d.loadeddataTime=0}var logParams={dataType:"cdnCompare",cdnType:cdnType,time:this.cH0x.time,loadeddataTime:this.mZ4d.loadeddataTime,resourceType:"audio",resourceId:this.cH0x.id,resourceUrl:this.cH0x.playUrl,cdnBytes:cdnInfo.cdnBytes||0,p2pBytes:cdnInfo.p2pBytes||0,xySupport:Zu9l,error:error,errorType:errorType||""};var playWaitResult=this.bQR3x(this.mZ4d.playWait_Array),seekWaitResult=this.bQR3x(this.mZ4d.seekWait_Array);if(playWaitResult===0){logParams.playWaitMax=0;logParams.playWaitMin=0;logParams.playWait_Aver=0}else{logParams.playWaitMax=playWaitResult.fn1x;logParams.playWaitMin=playWaitResult.fK2x;logParams.playWait_Aver=playWaitResult.bQO3x}if(seekWaitResult===0){logParams.seekWaitMax=0;logParams.seekWaitMin=0;logParams.seekWait_Aver=0}else{logParams.seekWaitMax=seekWaitResult.fn1x;logParams.seekWaitMin=seekWaitResult.fK2x;logParams.seekWait_Aver=seekWaitResult.bQO3x}hr2x.cIs0x(logParams)};b8h.bQW3x=function(t8l){this.Px5C();this.dS1x.destroy();this.cH0x.loadState=LoadState.IN_SWITCH_MEDIA;this.Cl1x();this.biE2x(t8l);hr2x.rg5l("switch media")};b8h.cSF4J=function(){return this.dS1x};b8h.bRQ3x=function(){this.Cl1x();v9m.bm9d("/api/song/enhance/player/url",{type:"json",query:{ids:JSON.stringify([this.cH0x.id]),br:DEFAULT_BR},onload:this.bQx2x.f8d(this),onerror:this.bQx2x.f8d(this)})};b8h.bQx2x=function(d8f){if(d8f.code==200&&d8f.data&&d8f.data.length){var R9I=d8f.data[0];if(!R9I.url){this.cH0x.error=ErrorType.INFO_GET_ERR;this.rF6z("error",{code:this.cH0x.error});return}this.cH0x.playUrl=R9I.url;this.cH0x.expireTime=(new Date).getTime()+R9I.expi*1e3;this.brl4p()}else{this.cH0x.error=ErrorType.INFO_GET_ERR;this.rF6z("error",{code:this.cH0x.error});hr2x.cc0x("info load error")}};b8h.brl4p=function(t8l){if(this.dS1x){var Z9Q=this.cH0x.playUrl;if(this.cH0x.time>0&&(this.cH0x.loadState==LoadState.IN_RE_GET_URL||this.cH0x.loadState==LoadState.IN_RE_GET_URL)){Z9Q+="#t="+this.cH0x.time}this.bry4C();this.dS1x.setSrc(Z9Q,t8l);hr2x.rg5l("load mp3: {0},loadState: {1}.",Z9Q,this.cH0x.loadState)}};b8h.bQt2x=function(){if(/#t=(\d+)$/.test(this.dS1x.getSrc())){return parseInt(RegExp.$1)||0}else{return 0}};b8h.ZJ9A=function(){var bB9s=parseInt(this.cH0x.time)||0,cJi0x=this.bQt2x();if(bB9s===cJi0x){this.dS1x.load(this.cH0x.playUrl)}else{this.dS1x.setSrc(this.cH0x.playUrl+"#t="+bB9s,"reload")}this.bry4C();this.cH0x.loadState=LoadState.IN_RELOAD;this.Cl1x();hr2x.rg5l("reload from: {0}",bB9s)};b8h.bRK3x=function(){this.cH0x.loadState=LoadState.IN_RE_GET_URL;this.bRQ3x()};b8h.bQm2x=function(){var ux8p=getHost(this.cH0x.playUrl);if(ux8p){for(var i=0;i<this.sj6d.length;i++){var iU3x=this.sj6d[i]||[],r8j=iU3x.indexOf(ux8p);if(r8j>=0&&iU3x.length>1){return iU3x[(r8j+1)%iU3x.length]}}}function getHost(Z9Q){if(CDN_HOST_REG.test(Z9Q))return RegExp.$1}};b8h.cJo0x=function(){this.cH0x.playUrl=this.cH0x.playUrl.replace(CDN_HOST_REG,this.bQm2x());this.cH0x.loadState=LoadState.IN_SWITCH_CDN;this.brl4p();this.Cl1x()};b8h.cIN0x=function(){this.mZ4d.loadeddataTime=(new Date).getTime()-this.mZ4d.loadeddataTime;if(this.cH0x.loadState==LoadState.LOAD_START){this.cH0x.loadState=LoadState.LOADED_META;if(this.dS1x.type=="audio"){this.cH0x.duration=this.dS1x.getDuration()}this.rF6z("loadedmeta",{duration:this.cH0x.duration})}else{this.cH0x.loadState=LoadState.LOADED_META}if(this.cH0x.play){this.dS1x.play()}else{this.dS1x.pause()}if(this.cH0x.time&&parseInt(this.cH0x.time)!=this.bQt2x()){this.dS1x.setCurrentTime(this.cH0x.time)}this.Oa4e();this.bav9m();bRY4c=true;hr2x.rg5l("loaded meta")};b8h.cIO0x=function(){this.cH0x.ended=true;this.biJ2x(false);this.rF6z("ended")};b8h.Cl1x=function(){var seekWait=false;if(!this.cH0x.waiting){this.cH0x.waiting=true;this.cH0x.waitTimestamp=+(new Date);this.rF6z("waiting")}if(this.mZ4d.seekWaitTime>0){seekWait=true;setTimeout(function(){seekWait=false},300);return}if(this.mZ4d.seekWaitTime===0&&this.cH0x.time>0&&!seekWait){this.mZ4d.playWaitTime=(new Date).getTime()}};b8h.bav9m=function(){this.cH0x.waiting=false;this.cH0x.waitTimestamp=0;this.rF6z("playing")};b8h.xr9i=function(){this.rF6z("play")};b8h.brs4w=function(){this.rF6z("pause")};b8h.cIP0x=function(){if(this.cH0x.loadState!=LoadState.LOADED_META)return;var bB9s=this.dS1x.getCurrentTime();if(this.cH0x.waiting&&bB9s>this.cH0x.time){this.bav9m()}this.cH0x.time=bB9s;if(this.mZ4d.seekWaitTime>0){this.mZ4d.seekWait_Array.push((new Date).getTime()-this.mZ4d.seekWaitTime);this.mZ4d.seekWaitTime=0}if(this.mZ4d.playWaitTime>0){this.mZ4d.playWait_Array.push((new Date).getTime()-this.mZ4d.playWaitTime);this.mZ4d.playWaitTime=0}this.rF6z("timeupdate",{time:this.cH0x.time,duration:this.cH0x.duration})};b8h.sW6Q=function(d8f){if(this.cH0x.loadState!=LoadState.LOADED_META)return;var m8e={};if(d8f.data){m8e.total=d8f.data.total;m8e.loaded=d8f.data.loaded}else{var et1x=this.dS1x.getBuffered(),bB9s=this.dS1x.getCurrentTime(),qx5C=0;for(var i=0;i<et1x.length;i++){if(bB9s>et1x.start(i)&&bB9s<et1x.end(i)){qx5C=et1x.end(i);break}}m8e.total=this.cH0x.duration;m8e.loaded=Math.min(qx5C,m8e.total)}this.rF6z("progress",m8e)};b8h.Oa4e=function(){if(this.cH0x.retry){clearTimeout(this.cH0x.retry.tid);this.cH0x.retry=null}};b8h.eb1x=function(){var bV0x=this.dS1x.getError();hr2x.cc0x("media error code: {0}, netState: {1}",bV0x.code,this.dS1x.getNetworkState());this.biJ2x(true);Zu9l="NotFirst";if(bV0x.code==MediaError.MEDIA_ERR_NETWORK||bV0x.code==MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED){var HW3x=l8d.bzb7U();if(!this.cH0x.retry){this.cH0x.retry={level:RetryLevel.NONE}}else{window.clearTimeout(this.cH0x.retry.tid)}if(this.cH0x.retry.level==RetryLevel.NONE){if(this.brx4B()){this.cH0x.retry.level=RetryLevel.GET_URL;this.bRK3x();hr2x.rg5l("Url expired, get url.")}else{this.cH0x.retry.level=RetryLevel.RELOAD;this.cH0x.retry.tid=setTimeout(this.ZJ9A.f8d(this),3e3);hr2x.rg5l("Reload mp3 3s later.")}}else if(this.cH0x.retry.level==RetryLevel.GET_URL){this.cH0x.retry.level=RetryLevel.RELOAD;this.cH0x.retry.tid=setTimeout(this.ZJ9A.f8d(this),3e3);hr2x.rg5l("Reload mp3 3s later.")}else if(this.cH0x.retry.level==RetryLevel.RELOAD){this.cH0x.retry.level=RetryLevel.SWITCH_CDN;if(this.bQm2x()){this.cH0x.retry.tid=setTimeout(this.cJo0x.f8d(this),5e3);hr2x.rg5l("Switch CDN 5s later.")}else{this.cH0x.retry.tid=setTimeout(this.ZJ9A.f8d(this),5e3);hr2x.rg5l("Reload mp3 5s later.")}}else if(!bRY4c&&this.dS1x.type=="audio"&&!HW3x.useFlash&&!cA0x.Rn6h.mac&&l8d.bAx7q().supported){HW3x.useFlash=true;l8d.HV3x(HW3x);this.bQW3x("flash")}else{this.Oa4e();this.fW2x();this.cH0x.error=ErrorType.NET_ERR;this.rF6z("error",{code:this.cH0x.error});hr2x.cc0x("error can not retry.")}}else{this.Oa4e();this.fW2x();this.cH0x.error=ErrorType.UNKNOWN_ERR;this.rF6z("error",{code:this.cH0x.error});hr2x.cc0x("error can not retry.")}};b8h.brq4u=function(){var ix3x=0,bQe2x=5e3;return function(){if(this.dS1x.bip2x==="xy"){return}this.Cl1x();clearTimeout(ix3x);setTimeout(function(){var fp1x=+(new Date);if(this.cH0x.waiting&&fp1x-this.cH0x.waitTimestamp>=bQe2x&&this.cH0x.stalledRetryCount<MAX_STALLED_RETRY){hr2x.rg5l("stalled too long retry.");this.cH0x.stalledRetryCount++;this.ZJ9A()}}.f8d(this),bQe2x);hr2x.rg5l("stalled")}}();b8h.brx4B=function(){var fp1x=+(new Date);return fp1x>this.cH0x.expireTime};b8h.cIY0x=function(){var bB9s=parseInt(this.cH0x.time)||0;this.dS1x.setSrc(this.cH0x.playUrl+"#t="+bB9s);this.bry4C();this.cH0x.loadState=LoadState.IN_RELOAD;this.Cl1x();hr2x.rg5l("recover from: {0}",bB9s)};b8h.rF6z=function(X9O,i8a){h8b.z9q(x9o.gs2x,"playaction",{action:X9O,data:i8a||{}})};G9x.fY2x.A9r({element:x9o.gs2x,event:["playaction"]})})();
(function(){if(!(window==top)){return}var c8g=NEJ.P,h8b=c8g("nej.v"),G9x=c8g("nej.ut"),x9o=c8g("nm.w"),b8h;x9o.Hl2x=NEJ.C();b8h=x9o.Hl2x.M9D(x9o.gs2x);L9C=x9o.Hl2x.cy0x;b8h.cF0x=function(){this.cO0x()};b8h.cJx0x=function(bR0x){this.biH2x(bR0x);this.eE1x()};b8h.brg4k=function(){this.fW2x()};b8h.zT0x=function(d8f){if(d8f.action=="play"){this.fW2x()}};b8h.rF6z=function(X9O,i8a){h8b.z9q(x9o.Hl2x,"tmpplayaction",{action:X9O,data:i8a||{},tmp:true})};b8h.uE8w=function(){return this.cH0x};G9x.fY2x.A9r({element:x9o.Hl2x,event:["tmpplayaction"]})})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),gg2x=c8g("nej.n"),v9m=c8g("nej.j"),G9x=c8g("nej.ut"),bc9T=c8g("nej.ui"),x9o=c8g("nm.w"),n8f=c8g("nm.l"),lz4D=c8g("nm.c"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),b8h,L9C,bjH2x=[{item:"m-publish-search-single",type:1},{item:"m-publish-search-artist",type:100},{item:"m-publish-search-album",type:10},{item:"m-publish-search-mv",type:1004},{item:"m-publish-search-playlist",type:1e3},{item:"m-publish-search-djRadio",type:1009}];var brf4j={song:0,artist:1,album:2,mv:3,playlist:4,djradio:5};x9o.bre4i=NEJ.C();b8h=x9o.bre4i.M9D(bc9T.eA1x);b8h.cF0x=function(e8e){this.cO0x(e8e);var j8b=a7h.F9w(this.o8g,"j-flag");this.cSC4G=j8b.shift();this.cJz0x=j8b.shift();this.Oe5j=j8b.shift();this.brd4h=j8b.shift();this.brc4g=[j8b.shift(),j8b.shift(),j8b.shift(),j8b.shift(),j8b.shift(),j8b.shift()];this.bjQ2x=j8b.shift();this.bPL1x=j8b.shift();this.tO8G={list:this.brc4g,selected:"z-curr",onchange:this.bPK1x.f8d(this)};h8b.s8k(this.Oe5j,"input",this.bjU2x.f8d(this));h8b.s8k(this.Oe5j,"propertychange",this.bjU2x.f8d(this));h8b.s8k(this.Oe5j,"keyup",this.bjU2x.f8d(this));h8b.s8k(this.cJz0x,"click",this.bjU2x.f8d(this));h8b.s8k(this.bjQ2x,"click",this.cT1x.f8d(this));h8b.s8k(this.bPL1x,"click",function(){this.z9q("oncancel",{})}.f8d(this));this.U9L=q8i.IA3x.fZ2x();this.RQ6K=top.nm.w.Hl2x.fZ2x();G9x.fY2x.A9r({element:top.nm.w.Hl2x,event:["tmpplayaction"]});this.tN8F={limit:100,offset:0,parent:this.bjQ2x,onbeforelistload:this.sQ6K.f8d(this)};q8i.sk="fuck"+a7h.u9l(this.brd4h,"xname")+"458";h8b.s8k(top.nm.w.Hl2x,"tmpplayaction",this.zT0x.f8d(this))};b8h.cj0x=function(){this.cf0x="m-xwgt-publish-search"};b8h.bp9g=function(e8e){this.bq9h(e8e);if(!!this.Ec1x){this.Ec1x.W9N();delete this.Ec1x}this.tO8G.index=brf4j[e8e.type||"song"];this.Ec1x=G9x.HL2x.A9r(this.tO8G);this.Oe5j.value="";this.Oe5j.focus();this.xL9C="";this.cSB4F=0;if(e8e.showMV==true){this.brc4g[brf4j["mv"]].parentNode.style.display="";a7h.w9n(this.brd4h,"srchtab-1")}else{this.brc4g[brf4j["mv"]].parentNode.style.display="none";a7h.y9p(this.brd4h,"srchtab-1")}if(!!this.dW1x){this.dW1x=this.dW1x.W9N()}if(e8e.hideBack){a7h.w9n(this.bPL1x.parentNode,"f-hide")}};b8h.bC9t=function(){this.RQ6K.brg4k();this.bJ9A()};b8h.bjU2x=function(){var value=this.Oe5j.value.trim();if(value&&value.length){if(value!=this.xL9C){this.xL9C=value;this.bPK1x({index:this.Ec1x.vc8U()})}}else{if(this.dW1x){this.dW1x=this.dW1x.W9N()}}this.xL9C=value};b8h.cT1x=function(){var cJC0x=function(H9y){return a7h.bG9x(H9y,"sitm")||a7h.bG9x(H9y,"itm")||a7h.bG9x(H9y,"mv-item")},cJE1x=function(H9y){return a7h.bG9x(H9y,"ply")},bPA1x=function(){n8f.bb9S.J9A({type:2,tip:"因合作方要求，该资源需付费使用"})},cJF1x=function(){n8f.bb9S.J9A({type:2,tip:"因合作方要求，该资源需下载后播放"})},bqZ4d=function(bn9e){if(bn9e&&bn9e.privilege&&bn9e.privilege.toast){v9m.bm9d("/api/song/toast",{query:{id:bn9e.id},type:"json",onload:XO8G.f8d(this),onerror:XO8G.f8d(this)})}else{WQ7J()}},XO8G=function(T9K){WQ7J((T9K||be9V).toast)},WQ7J=function(bF9w){n8f.bb9S.J9A({type:2,tip:bF9w||"因合作方要求，该资源暂时下架>_<"})};return function(d8f){var xQ9H=h8b.ba9R(d8f,cJE1x),j8b=h8b.ba9R(d8f,cJC0x),dZ1x=this.RQ6K.uE8w();if(!!j8b){h8b.bi9Z(d8f);this.Sb6V=a7h.u9l(j8b,"id");this.Sc6W=a7h.u9l(j8b,"type");if(this.Sc6W==18){var bR0x=this.U9L.eY1x(this.Sb6V),sl6f=l8d.qV5a(bR0x);if(!xQ9H){if(sl6f==10){bPA1x();return}else if(sl6f==100){bqZ4d(bR0x);return}}else{if(sl6f==10){bPA1x();return}else if(sl6f==100){bqZ4d(bR0x);return}else if(sl6f==11){cJF1x();return}else{a7h.y9p(this.DY1x,"z-pause z-loading");if(xQ9H==this.DY1x&&dZ1x.play&&!dZ1x.ended){this.RQ6K.brg4k()}else{this.DY1x=xQ9H;this.RQ6K.cJx0x(bR0x)}return}}}else if(this.Sc6W==70){if(a7h.bG9x(j8b,"z-noprogram")){n8f.bb9S.J9A({type:2,tip:"不能分享没有节目的电台"});return}}this.cJH1x()}}}();b8h.cJH1x=function(){var iP3x=this.U9L.eY1x(this.Sb6V),uN8F=l8d.bYt6n(this.Sc6W,iP3x);uN8F.title=uN8F.title||"";uN8F.author=uN8F.author||"";uN8F.picUrl=uN8F.picUrl||"";uN8F.authors=uN8F.authors||"";if(this.Sc6W==70){this.Sb6V=this.Sb6V.slice(0,-4)}this.z9q("onfinish",{id:this.Sb6V,type:this.Sc6W,data:uN8F})};b8h.zT0x=function(d8f){var i8a=d8f.data;if(!this.DY1x){return}switch(d8f.action){case"play":a7h.fC2x(this.DY1x,"z-pause z-play","z-loading");break;case"pause":case"ended":a7h.y9p(this.DY1x,"z-pause z-loading");break;case"error":n8f.bb9S.J9A({type:2,tip:"试听遇到问题，播放失败"});a7h.y9p(this.DY1x,"z-pause z-loading");break;case"playing":a7h.fC2x(this.DY1x,"z-loading","z-pause");break;case"waiting":a7h.fC2x(this.DY1x,"z-pause","z-loading");break}};b8h.cJL1x=function(d8f){if(d8f.result.code==407){this.bjQ2x.innerHTML='<div class="n-norlt s-fc1">根据相关法律法规和政策，搜索结果未予显示</div>';return}this.bjQ2x.innerHTML='<div class="n-norlt s-fc1">页面出错，请稍后再试！</div>'};b8h.bPK1x=function(d8f){if(!this.xL9C||d8f.index<0||d8f.index>5){return}this.RQ6K.brg4k();var bl9c=bjH2x[d8f.index],e8e=NEJ.X({},this.tN8F);e8e.cache={klass:q8i.IA3x,clear:true,onerror:this.cJL1x.f8d(this)};e8e.cache.lkey="search-publish-"+bl9c.type+"-"+this.xL9C;e8e.item={klass:bl9c.item,getRestrictLevel:l8d.qV5a,dur2time:l8d.mh4l};if(!e8e.cache.data){e8e.cache.data={}}e8e.cache.data.s=this.xL9C;e8e.cache.data.type=bl9c.type;e8e.cache.data.isPub=true;if(bl9c.type==1){e8e.cache.data.hlpretag='<span class="s-fc7">';e8e.cache.data.hlposttag="</span>"}e8e.onemptylist=this.cJO1x.f8d(this,this.xL9C);if(!!this.GR2x)this.U9L.xF9w(this.GR2x);if(!!this.dW1x){this.dW1x=this.dW1x.W9N()}this.dW1x=G9x.on5s.A9r(e8e);this.GR2x=e8e.cache.lkey};b8h.sQ6K=function(d8f){d8f.value=a7h.iQ3x("m-publish-search-loading")};b8h.cJO1x=function(K9B,d8f){a7h.dJ1x(d8f.parent,"m-publish-emtpy-message",{key:K9B});d8f.stopped=true}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),cA0x=c8g("nej.p"),v9m=c8g("nej.j"),ce0x=c8g("nej.ut"),bD9u=c8g("nej.ui"),x9o=c8g("nm.w"),b8h,L9C;var cJP1x=".j-item.j-selected a{background:#eee;text-decoration:none;color:#333;}";x9o.GQ2x=NEJ.C();b8h=x9o.GQ2x.M9D(bD9u.eA1x);var gK2x=a7h.eK1x("m-wgt-receiverInput");var cJQ1x=a7h.eK1x("m-wgt-receiverList");var jU3x=a7h.vJ8B(cJP1x);var cJR1x=a7h.eK1x('<div data-id=${userId} class="blk s-fc3 j-receiver">${username}<a href="#" class="cls" title="删除">&times;</a></div>');b8h.cF0x=function(e8e){this.bh9Y=[];this.zC0x=e8e.receiver||null;this.cJS1x=e8e.unique||false;this.gZ2x=e8e.err;this.bPj1x(this.bPg1x,e8e.uid);this.cO0x(e8e)};b8h.bp9g=function(e8e){this.bq9h(e8e);this.Ss6m();this.St6n();this.bkF3x();if(e8e.receiver)this.bqV4Z(e8e.receiver.nickname,e8e.receiver.userId);a7h.bd9U(this.Fc2x,"display","block");a7h.bd9U(this.bqU4Y,"cursor","text");a7h.bd9U(this.Fc2x,"cursor","text")};b8h.cj0x=function(){var i8a=this.bPc1x();this.cf0x=a7h.jW3x(a7h.cg0x(gK2x,{receiver:this.zC0x,users:i8a}));this.mW4a=jU3x};b8h.bY0x=function(){this.ck0x();var bO0x=a7h.F9w(this.o8g,"j-flag");var hQ2x=a7h.F9w(this.o8g,"j-item");this.bqU4Y=bO0x[0];this.bPa1x=bO0x[1];this.ex1x=bO0x[2];this.Fc2x=bO0x[3];this.bkO3x=bO0x[4];this.bqT4X=bO0x[5];this.gh2x=hQ2x;a7h.w9n(this.gh2x[0],"j-selected");h8b.s8k(this.ex1x,"keyup",this.bqS4W.f8d(this));h8b.s8k(this.ex1x,"keydown",this.SC6w.f8d(this));h8b.s8k(this.ex1x,"focus",this.la3x.f8d(this));h8b.s8k(this.bkO3x,"click",this.cJW1x.f8d(this));h8b.s8k(this.bqU4Y,"click",this.cJY1x.f8d(this));h8b.s8k(document.body,"click",this.pO5T.f8d(this));h8b.s8k(this.ex1x,"input",this.fe1x.f8d(this));h8b.s8k(this.ex1x,"blur",this.pC5H.f8d(this))};b8h.bC9t=function(e8e){h8b.ny4C(document.body,"click",this.pO5T.f8d(this));this.bJ9A();this.bkF3x();this.cKb1x();this.pO5T()};b8h.bqS4W=function(d8f){h8b.bi9Z(d8f);var kJ3x=d8f.keyCode||d8f.which;var bt9k=this.ex1x.value;var br9i=this.gh2x.length;var tU8M=a7h.F9w(this.o8g,"j-selected")[0];switch(kJ3x){case 13:var mm4q=a7h.hc2x(tU8M,"data-username");var im2x=a7h.hc2x(tU8M,"data-userId");this.bqV4Z(mm4q,im2x);this.pO5T();this.ex1x.value="";break;case 38:var r8j=a7h.hc2x(tU8M,"data-index")-1<0?br9i-1:a7h.hc2x(tU8M,"data-index")-1;a7h.y9p(tU8M,"j-selected");a7h.w9n(this.gh2x[r8j],"j-selected");break;case 40:var r8j=parseInt(a7h.hc2x(tU8M,"data-index"))+1>=br9i?0:parseInt(a7h.hc2x(tU8M,"data-index"))+1;a7h.y9p(tU8M,"j-selected");a7h.w9n(this.gh2x[r8j],"j-selected");break;default:this.yN0x()}};b8h.SC6w=function(d8f){var kJ3x=d8f.keyCode||d8f.which;var bt9k=this.ex1x.value;var r8j=a7h.F9w(this.o8g,"j-receiver").length-1;if(kJ3x===8&&bt9k==="")this.cKi1x(r8j)};b8h.fe1x=function(d8f){var bt9k=this.ex1x.value;if(bt9k.length>10){this.ex1x.value=bt9k.substring(0,10);return}cA0x.dC1x.browser=="ie"&&cA0x.dC1x.version<"7.0"?setTimeout(this.bqO4S.f8d(this),0):this.bqO4S();this.St6n()};b8h.la3x=function(){if(this.bh9Y[0])this.yN0x();else this.bPj1x(this.cKp1x);a7h.bd9U(this.Fc2x,"display","none")};b8h.pC5H=function(){var br9i=a7h.F9w(this.o8g,"j-receiver").length;if(this.ex1x.value.trim()==""&&br9i<=0)a7h.bd9U(this.Fc2x,"display","block")};b8h.bqV4Z=function(mm4q,im2x){var OA5F=this.SS6M();if(OA5F.length>=10){this.ej1x();return}var bc9T;for(bc9T=0;bc9T<OA5F.length;bc9T++){if(OA5F[bc9T]==im2x){this.pO5T();return}}if(!mm4q||!im2x)return;var g8c=a7h.dI1x(a7h.jW3x(a7h.cg0x(cJR1x,{username:mm4q,userId:im2x})));var bI9z=this.bPa1x.parentNode;if(this.cJS1x){this.bkF3x()}bI9z.insertBefore(g8c,this.bPa1x);this.ex1x.value="";var br9i=a7h.F9w(this.o8g,"j-receiver").length;if(br9i>1)a7h.bd9U(this.Fc2x,"display","none");this.bqO4S();this.St6n()};b8h.bkF3x=function(){var ST6N=a7h.F9w(this.o8g,"j-receiver");var bc9T;if(ST6N.length>0){for(bc9T=0;bc9T<ST6N.length;bc9T++){a7h.cY1x(ST6N[bc9T],false)}}};b8h.cKb1x=function(){this.ex1x.value=""};b8h.cKi1x=function(r8j){this.ej1x(!0);var ST6N=a7h.F9w(this.o8g,"j-receiver");a7h.cY1x(ST6N[r8j],false);this.St6n()};b8h.yN0x=function(){var bt9k=this.ex1x.value;var bx9o=bt9k.trim().toLowerCase();var i8a;bx9o=bx9o.replace(/\[/g,"\\[");bx9o=bx9o.replace(/\]/g,"\\]");i8a=this.bPc1x(bx9o);this.cKq1x(i8a)};b8h.pO5T=function(d8f){a7h.bd9U(this.bkO3x,"display","none")};b8h.ej1x=function(dY1x){if(dY1x&&this.gZ2x){a7h.bd9U(this.gZ2x,"display","none");return}if(this.gZ2x)a7h.bd9U(this.gZ2x,"display","block")};b8h.cJW1x=function(d8f){h8b.cv0x(d8f);var bH9y=d8f.target||d8f.srcElement;if(a7h.bG9x(bH9y,"j-flag"))return;var bI9z=bH9y.nodeName.toLowerCase()=="a"?bH9y.parentNode:bH9y.parentNode.parentNode;var mm4q=a7h.hc2x(bI9z,"data-username");var im2x=a7h.hc2x(bI9z,"data-userId");this.bqV4Z(mm4q,im2x);this.pO5T();a7h.bd9U(this.Fc2x,"display","none")};b8h.cJY1x=function(d8f){h8b.bi9Z(d8f);var bH9y=d8f.target||d8f.srcElement;if(a7h.bG9x(bH9y.parentNode,"j-receiver")){a7h.cY1x(bH9y.parentNode,false);this.ej1x(!0);this.St6n()}else this.ex1x.focus()};b8h.bqO4S=function(){this.bqT4X.innerHTML=this.ex1x.value;var cE0x=this.bqT4X.offsetWidth+2;a7h.bd9U(this.ex1x,"width",cE0x+"px")};b8h.St6n=function(){var bbm0x=a7h.iu3x(this.ex1x,this.o8g).y;var bNY1x=Math.floor((bbm0x-8)/27);if(bNY1x<0)return;a7h.bd9U(this.bqU4Y,"height",19+bNY1x*29+"px")};b8h.Ss6m=function(){var rl5q=["height","paddingLeft","paddingTop","paddingRight","paddingBottom","fontSize","fontFamily","lineHeight"];for(var i=0;i<rl5q.length;i++){a7h.bd9U(this.bqT4X,rl5q[i],a7h.dr1x(this.ex1x,rl5q[i]))}};b8h.bPj1x=function(cL0x,D9u){var dz1x=D9u?D9u:window.GUser.userId;var Z9Q="/api/user/getfollows/"+dz1x;var gv2x=v9m.bm9d(Z9Q,{sync:false,method:"get",query:"offset = 0&limit=1000&order=true",onload:cL0x.f8d(this),onerror:function(i8a){this.bh9Y=[]},onbeforerequest:function(i8a){}})};b8h.bPg1x=function(i8a){this.bh9Y=JSON.parse(i8a).follow||[];var D9u=GUser.userId;for(var i=0;i<this.bh9Y.length;i++){if(this.bh9Y[i].userId==D9u){this.bh9Y.splice(i,1);continue}this.bh9Y[i].avatarUrl=this.bh9Y[i].avatarUrl+"?param=30y30"}};b8h.cKp1x=function(i8a){if(this.bh9Y[0])return;this.bPg1x(i8a);this.yN0x()};b8h.bPc1x=function(bx9o){var bx9o=bx9o?bx9o:"";this.bh9Y=this.bh9Y[0]?this.bh9Y:[];var br9i=this.bh9Y.length;var SX6R=this.SS6M();var uY8Q=[];var SZ6T,Ta6U,bqN4R;if(!this.bh9Y[0])return uY8Q;for(var bc9T=0;bc9T<br9i;bc9T++){bqN4R=false;for(var v9m=0;v9m<SX6R.length;v9m++){if(this.bh9Y[bc9T].userId==SX6R[v9m]){bqN4R=true;break}}if(bqN4R)continue;SZ6T=this.bh9Y[bc9T].nickname.toLowerCase().search(bx9o);Ta6U=this.bh9Y[bc9T].py?this.bh9Y[bc9T].py.toLowerCase().search(bx9o):-1;if(SZ6T!==-1||Ta6U!=-1)uY8Q.push(this.bh9Y[bc9T])}return uY8Q};b8h.cKq1x=function(i8a){a7h.dJ1x(this.bkO3x,cJQ1x,{users:i8a});a7h.w9n(a7h.F9w(this.o8g,"j-item")[0],"j-selected");this.gh2x=a7h.F9w(this.o8g,"j-item");a7h.bd9U(this.bkO3x,"display","block")};b8h.SS6M=function(){var uY8Q=a7h.F9w(this.o8g,"j-receiver")||[];var im2x=[];for(var i=0;i<uY8Q.length;i++){im2x.push(a7h.hc2x(uY8Q[i],"data-id"))}return im2x};b8h.cSy4C=function(){var im2x=this.SS6M();var uY8Q=[];for(var i=0;i<im2x.length;i++){for(var j=0;j<this.bh9Y.length;j++){if(im2x[i]==this.bh9Y[j].userId)uY8Q.push(this.bh9Y[j])}}return uY8Q};b8h.cKV1x=function(){this.bkF3x()};x9o.GQ2x.J9A=function(e8e){if(!GUser||!GUser.userId||GUser.userId<=0){n8f.qk5p.J9A({title:"登录"});return}e8e=e8e||{};if(e8e.parent===undefined)e8e.parent=document.body;!!this.fH2x&&this.fH2x.W9N();this.fH2x=this.A9r(e8e)};x9o.GQ2x.bu9l=function(){!!this.fH2x&&this.fH2x.W9N()};x9o.GQ2x.Lo4s=function(){return this.pO5T()};x9o.GQ2x.cSx4B=function(){return this.yN0x()}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),k8c=c8g("nej.u"),h8b=c8g("nej.v"),l8d=c8g("nm.x"),n8f=c8g("nm.l"),b8h,L9C;n8f.OF5K=NEJ.C();b8h=n8f.OF5K.M9D(n8f.byH6B);L9C=n8f.OF5K.cy0x;b8h.bp9g=function(){var Ll4p;var cKY1x=function(C9t,K9B){Ll4p=Ll4p||[];if(K9B!="18")Ll4p.push({key:K9B,value:C9t})};return function(e8e){this.bq9h(e8e);if(e8e.upwards){a7h.w9n(this.o8g,"m-emts-up")}else{a7h.y9p(this.o8g,"m-emts-up")}if(e8e.rightwards){a7h.w9n(this.o8g,"m-emts-right")}else{a7h.y9p(this.o8g,"m-emts-right")}if(!Ll4p){var bA9r=l8d.cqe2x();k8c.eX1x(bA9r,cKY1x)}var br9i=Ll4p.length;Ll4p.splice(br9i-2,0,{key:"18",value:"186"});this.bbC0x=Ll4p;this.cKZ1x=!!e8e.autoHide}}();b8h.cj0x=function(){this.cf0x="ntp-portrait"};b8h.bY0x=function(){this.ck0x();var j8b=a7h.F9w(this.o8g,"j-flag");this.bM9D=j8b[0];this.cLa1x=j8b[1];this.cLb1x=j8b[2];this.cLe1x=j8b[3];h8b.s8k(this.bM9D,"click",this.CP1x.f8d(this));h8b.s8k(this.cLa1x,"click",this.Lb3x.f8d(this,1));h8b.s8k(this.cLe1x,"click",this.Lb3x.f8d(this,2))};b8h.bqC4G=function(r8j){this.bbL0x=r8j;var bj9a=(r8j-1)*50;var j8b=this.bbC0x.slice(bj9a,Math.min(bj9a+50,this.bbC0x.length));this.bM9D.innerHTML=a7h.cg0x("jst-portrait",{plist:j8b},{purl:l8d.bTO4S});this.cLb1x.innerText=r8j+"/"+Math.ceil(this.bbC0x.length/50)};b8h.Lb3x=function(r8j){var cLm1x=Math.ceil(this.bbC0x.length/50);if(r8j==1&&this.bbL0x==1||r8j==2&&this.bbL0x==cLm1x)return;r8j==1?this.bqC4G(this.bbL0x-1):this.bqC4G(this.bbL0x+1)};b8h.CP1x=function(d8f){var H9y=h8b.ba9R(d8f,"d:text");if(!H9y)return;var d8f={url:a7h.u9l(H9y,"url"),text:a7h.u9l(H9y,"text")};this.z9q("onselect",d8f);if(this.cKZ1x&&!d8f.stopped){this.bu9l()}};b8h.J9A=function(){L9C.J9A.call(this);this.bqC4G(1)}})();
(function(){var c8g=NEJ.P,h8b=c8g("nej.v"),k8c=c8g("nej.u"),cA0x=c8g("nej.p"),bg9X=c8g("nej.h"),G9x=c8g("nej.ut"),lq3x=/^[#?]+/,KW3x=/#(.*?)$/,CR1x=window,bqA4E=!history.pushState||cA0x.Rn6h.android||!history.auto;var bbP0x=function(Z9Q,bqz4D){CR1x.history[!bqz4D?"pushState":"replaceState"](null,document.title,Z9Q)};var bbR0x=function(){return location.parse(CR1x.location.href)};bbP0x=bbP0x.eW1x(function(d8f){if(!bqA4E)return;var bk9b=d8f.args;d8f.stopped=!0;Z9Q=bk9b[0].replace(lq3x,"");!bk9b[1]?CR1x.location.hash=Z9Q:CR1x.location.replace("#"+Z9Q)});bbR0x=bbR0x.eW1x(function(d8f){if(!bqA4E)return;d8f.stopped=!0;var co0x=KW3x.test(CR1x.location.href)?RegExp.$1:"";d8f.value=location.parse(co0x.replace(lq3x,""))});location.redirect=function(Z9Q,bqz4D){bbP0x(Z9Q,bqz4D);return this};location.active=function(){var ew1x,Z9Q,kp3x,dj1x,VP7I;var bqy4C=function(hR2x){if(!!dj1x){dj1x=!1;return}var d8f={oldValue:kp3x,newValue:bbR0x()};if(!!location.ignored){location.ignored=!1}else{h8b.z9q(location,"beforeurlchange",d8f);if(d8f.stopped){if(!!kp3x){dj1x=!0;bbP0x(kp3x.href,!0)}return}}Z9Q=CR1x.location.href;kp3x=d8f.newValue;h8b.z9q(location,"urlchange",kp3x);bg9X.bnv3x(kp3x.href)};var bMA0x=function(){if(Z9Q!=CR1x.location.href)bqy4C();ew1x=requestAnimationFrame(bMA0x)};return function(bL9C){if(!!VP7I)return this;VP7I=!0;CR1x=bL9C||window;if(bqA4E&&"onhashchange"in window&&cA0x.oQ5V.trident2){h8b.s8k(CR1x,"hashchange",bqy4C);bqy4C()}else if(!ew1x){ew1x=requestAnimationFrame(bMA0x)}return this}}();location.parse=function(){var hk2x=/^https?:\/\/.*?\//i,lq3x=/[?#]/;return function(Z9Q){var m8e={href:Z9Q};Z9Q=(Z9Q||"").replace(hk2x,"/").split(lq3x);var cp0x=1;if(Z9Q[0]=="/"&&(Z9Q[1]||"").indexOf("/")==0)cp0x=2;m8e.path=Z9Q.splice(0,cp0x).join("?");m8e.query=k8c.hb2x(Z9Q.join("&"));return m8e}}();location.same=function(Z9Q){return bbR0x().href==Z9Q};G9x.fY2x.A9r({element:location,event:["beforeurlchange","urlchange"]})})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),gP2x=c8g("nm.ut");gP2x.wq8i=function(eB1x){var hO2x={text:"",start:0,end:0};if(eB1x.setSelectionRange){hO2x.start=eB1x.selectionStart;hO2x.end=eB1x.selectionEnd;hO2x.text=hO2x.start!=hO2x.end?eB1x.value.substring(hO2x.start,hO2x.end):""}else if(document.selection){var i,bbX0x=document.selection.createRange(),CU1x=document.body.createTextRange();CU1x.moveToElementText(eB1x);hO2x.text=bbX0x.text;hO2x.bookmark=bbX0x.getBookmark();for(i=0;CU1x.compareEndPoints("StartToStart",bbX0x)<0&&bbX0x.moveStart("character",-1)!==0;i++){if(eB1x.value.charAt(i)=="\n"){i++}}hO2x.start=i;hO2x.end=hO2x.text.length+hO2x.start}return hO2x};gP2x.bbZ0x=function(eB1x,hO2x){var CU1x;if(!hO2x){hO2x={text:"",start:0,end:0}}eB1x.focus();if(eB1x.setSelectionRange){eB1x.setSelectionRange(hO2x.start,hO2x.end)}else if(eB1x.createTextRange){CU1x=eB1x.createTextRange();if(eB1x.value.length===hO2x.start){CU1x.collapse(false);CU1x.select()}else{CU1x.moveToBookmark(hO2x.bookmark);CU1x.select()}}};gP2x.OJ5O=function(eB1x,hO2x,cM0x){var hO2x=hO2x||{text:"",start:0,end:0};var bqw4A,bMt0x,CU1x,TE6y,bMs0x,bMh0x,KI3x;this.bbZ0x(eB1x,hO2x);if(eB1x.setSelectionRange){bqw4A=eB1x.value;bMt0x=bqw4A.substring(0,hO2x.start)+cM0x+bqw4A.substring(hO2x.end);bMs0x=bMh0x=hO2x.start+cM0x.length;KI3x=eB1x.scrollTop;eB1x.value=bMt0x;if(eB1x.scrollTop!=KI3x){eB1x.scrollTop=KI3x}eB1x.setSelectionRange(bMs0x,bMh0x)}else if(eB1x.createTextRange){TE6y=document.selection.createRange();TE6y.text=cM0x;TE6y.setEndPoint("StartToEnd",TE6y);TE6y.select()}h8b.z9q(eB1x,"keyup")}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),cA0x=c8g("nej.p"),k8c=c8g("nej.u"),ce0x=c8g("nej.ut"),x9o=c8g("nm.w"),gP2x=c8g("nm.ut"),b8h;x9o.bMb0x=NEJ.C();b8h=x9o.bMb0x.M9D(ce0x.cS1x);b8h.cF0x=function(e8e){this.cO0x(e8e)};b8h.bp9g=function(e8e){this.bq9h(e8e);this.gO2x=e8e.txt;this.KH3x=e8e.sgtsContainer;this.bLV0x=e8e.sgtsList[0];this.bcl0x=e8e.sgtsItem;this.qz5E=e8e.rangeData;this.OM5R=e8e.atIndex;a7h.w9n(this.bcl0x[0],"selected-item");this.KG3x()};b8h.bC9t=function(){this.bJ9A();h8b.ny4C(document.body,"keyup",this.bLU0x.f8d(this));h8b.ny4C(document.body,"click",this.bLz0x.f8d(this))};b8h.KG3x=function(){this.ca0x([[document.body,"keyup",this.bLU0x.f8d(this)],[document.body,"click",this.bLz0x.f8d(this)],[this.gO2x,"keydown",this.bLw0x.f8d(this)],[this.gO2x,"keypress",this.bLw0x.f8d(this)],[this.bLV0x,"click",this.bLt0x.f8d(this)],[this.bLV0x,"mouseover",this.Kz3x.f8d(this)]])};b8h.Kz3x=function(d8f){var bH9y=h8b.ba9R(d8f);var p8h=a7h.F9w(this.KH3x,"selected-item");if(a7h.bG9x(bH9y,"j-sgt")){a7h.y9p(p8h[0],"selected-item");a7h.w9n(bH9y,"selected-item")}};b8h.bLU0x=function(d8f){var p8h=a7h.F9w(this.KH3x,"selected-item");var br9i=this.bcl0x.length;var kJ3x=d8f.keyCode||d8f.which;var r8j,i8a;switch(kJ3x){case 38:r8j=a7h.hc2x(p8h[0],"data-index")-1<0?br9i-1:a7h.hc2x(p8h[0],"data-index")-1;a7h.y9p(p8h[0],"selected-item");a7h.w9n(this.bcl0x[r8j],"selected-item");break;case 40:r8j=parseInt(a7h.hc2x(p8h[0],"data-index"))+1>=br9i?0:parseInt(a7h.hc2x(p8h[0],"data-index"))+1;a7h.y9p(p8h[0],"selected-item");a7h.w9n(this.bcl0x[r8j],"selected-item");break;case 13:this.bLt0x(d8f);break;case 27:this.pO5T();break;case 32:var bt9k=this.gO2x.value;var r8j=gP2x.wq8i(this.gO2x);if(bt9k.charAt(r8j.start-1)!==" ")return;this.pO5T();break}};b8h.bLw0x=function(d8f){var kJ3x=d8f.keyCode||d8f.which;if(kJ3x===13||kJ3x===38||kJ3x===40){h8b.cv0x(d8f);d8f.keyCode=0;d8f.which=0;d8f.returnvalue=false}};b8h.bLz0x=function(d8f){var bH9y=d8f.target||d8f.srcElement;if(bH9y===this.gO2x)return;this.pO5T()};b8h.bLt0x=function(d8f){h8b.bi9Z(d8f);var p8h=a7h.F9w(this.KH3x,"selected-item")[0];var tU8M=d8f.target||d8f.srcElement;var t8l=d8f.type;if(a7h.bG9x(tU8M,"lst"))return;if(t8l=="click"){a7h.y9p(p8h,"selected-item");a7h.w9n(tU8M,"selected-item")}else tU8M=p8h;var i8a=tU8M.innerHTML+" ";this.pO5T();var hO2x=this.qz5E;hO2x.start=this.OM5R+1;if(cA0x.dC1x.browser=="ie"&&cA0x.dC1x.version<"9.0"){this.gO2x.value=this.gO2x.value.substring(0,hO2x.start)+this.gO2x.value.substring(hO2x.end,this.gO2x.value.length);hO2x.end=hO2x.start}gP2x.OJ5O(this.gO2x,hO2x,i8a);h8b.z9q(this.gO2x,"keyup")};b8h.pO5T=function(d8f){if(!!this.KH3x)a7h.bd9U(this.KH3x,"display","none");this.W9N()};b8h.yN0x=function(d8f){if(!!this.KH3x)a7h.bd9U(this.KH3x,"display","block")}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v9m=c8g("nej.j"),x9o=c8g("nm.w"),ce0x=c8g("nej.ut"),bD9u=c8g("nej.ui"),b8h;var cLE1x=".u-atlist{position: absolute;z-index: 10000;}.f-thide.selected-item{background-color: #eee;}";var cLF1x=a7h.eK1x("m-wgt-atlist");var jU3x=a7h.vJ8B(cLE1x);x9o.bLo0x=NEJ.C();b8h=x9o.bLo0x.M9D(bD9u.eA1x);b8h.cF0x=function(e8e){this.gp2x={};this.cO0x()};b8h.bp9g=function(e8e){this.gp2x.txt=a7h.B9s(e8e.target);this.gp2x.data=e8e.data;this.gp2x.offset=e8e.offset;this.gp2x.rangeData=e8e.rangeData;this.gp2x.atIndex=e8e.atIndex;this.cLH1x(e8e);this.bq9h(e8e);this.gp2x.sgtsContainer=this.o8g;this.gp2x.sgtsList=a7h.F9w(this.o8g,"lst");this.gp2x.sgtsItem=a7h.F9w(this.o8g,"f-thide");this.Sn6h(e8e);this.cLJ1x=x9o.bMb0x.A9r(this.gp2x)};b8h.bC9t=function(e8e){this.bJ9A();this.cLJ1x.W9N()};b8h.cj0x=function(){this.mW4a=jU3x};b8h.bY0x=function(){this.ck0x()};b8h.cLH1x=function(e8e){this.o8g=a7h.dI1x(a7h.jW3x(a7h.cg0x(cLF1x,e8e.data)))};b8h.Sn6h=function(e8e){var bKY0x=a7h.F9w(this.o8g,"selected-item")[0];if(bKY0x)a7h.y9p(bKY0x,"selected-item");var di1x=e8e.offset.x+"px";var hY2x=e8e.offset.y+"px";a7h.bd9U(this.o8g,"left",di1x);a7h.bd9U(this.o8g,"top",hY2x)}})();
(function(){var c8g=NEJ.P,v9m=c8g("nej.j"),gP2x=c8g("nm.ut");gP2x.bKW0x=function(bt9k){if(!GUser||!GUser.userId||GUser.userId<=0)return;var ds1x=/@([a-zA-Z0-9_\-\u4E00-\u9FA5]+)/g;var OO5T=bt9k.match(ds1x)||[];for(var bc9T=0;bc9T<OO5T.length;bc9T++){OO5T[bc9T]=OO5T[bc9T].split("@")[1]}OO5T=OO5T.reverse();var im2x=GUser.userId;var cLP1x=v9m.vT8L("mentioners"+im2x)||[];var kO3x=OO5T.concat(cLP1x);if(kO3x.length>10)kO3x=kO3x.slice(0,10);v9m.yt0x("mentioners"+im2x,kO3x)};gP2x.cLT1x=function(){if(!GUser||!GUser.userId||GUser.userId<=0)return;var im2x=GUser.userId;return v9m.vT8L("mentioners"+im2x)||[]}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),cA0x=c8g("nej.p"),v9m=c8g("nej.j"),k8c=c8g("nej.u"),ce0x=c8g("nej.ut"),x9o=c8g("nm.w"),gP2x=c8g("nm.ut"),l8d=c8g("nm.x"),b8h;var FullscreenApi=l8d.KT3x||{};x9o.bKS0x=NEJ.C();b8h=x9o.bKS0x.M9D(ce0x.cS1x);b8h.cF0x=function(e8e){this.cO0x(e8e);this.bKR0x()};b8h.bp9g=function(e8e){this.bq9h(e8e);this.gO2x=e8e.txt;this.o8g=e8e.body;this.bKQ0x=e8e.before;this.Xo8g=e8e.flag;this.cLU2x=e8e.after;this.sU6O=[];if(cA0x.dC1x.browser!="ie"){setTimeout(function(){this.nk4o()}.f8d(this),0)}this.KG3x()};b8h.bC9t=function(){this.bJ9A();if(this.wt8l)this.wt8l.W9N();delete this.wt8l};b8h.KG3x=function(){this.ca0x([[this.gO2x,"keyup",this.bKO0x.f8d(this,this.gO2x)],[this.gO2x,"click",this.bKO0x.f8d(this,this.gO2x)],[this.gO2x,"focus",this.nk4o.f8d(this)]])};b8h.nk4o=function(d8f){this.qz5E=gP2x.wq8i(this.gO2x)};b8h.bKR0x=function(){if(!GUser||!GUser.userId||GUser.userId<=0){window.GFollowers=[];return}var dz1x=window.GUser.userId;var Z9Q="/api/user/getfollows/"+dz1x;var gv2x=v9m.bm9d(Z9Q,{sync:false,method:"get",query:"offset = 0&limit=1000&order=true",onload:function(i8a){window.GFollowers=JSON.parse(i8a).follow}.f8d(this),onerror:function(i8a){},onbeforerequest:function(i8a){}})};b8h.bKJ0x=function(index){var C9t=this.gO2x.value,bj9a,bqn4r,bqm4q,Un7g;this.bKQ0x.innerHTML=k8c.dP1x(C9t.substr(0,index)).replace(/\n/g,"<br/>").replace(/\s/g,'<span class="j-test" style="display:inline-block;white-space: pre-wrap; font-family:Arial, Helvetica, sans-serif;"></span>');var nt4x=a7h.F9w(this.bKQ0x,"j-test");for(var bc9T=0;bc9T<nt4x.length;bc9T++){nt4x[bc9T].innerText=" "}this.Xo8g.innerHTML=C9t.charAt(index);this.cLU2x.innerHTML=k8c.dP1x(C9t.substr(index+1,C9t.length));Un7g=parseInt(a7h.dr1x(this.gO2x,"lineHeight"));a7h.bd9U(this.o8g,"display","block");bqn4r=a7h.iu3x(this.Xo8g,this.o8g);bqm4q=a7h.iu3x(this.gO2x);a7h.bd9U(this.o8g,"display","none");var di1x=bqn4r.x+bqm4q.x;var hY2x=bqn4r.y+bqm4q.y+Un7g;bj9a={x:di1x,y:hY2x};this.cMc2x(bj9a)};b8h.bKO0x=function(eB1x,d8f){h8b.cv0x(d8f);var eB1x=eB1x;var C9t=eB1x.value;var br9i=C9t.length;var r8j=gP2x.wq8i(eB1x).start;var bKC0x=0;var kJ3x=d8f.keyCode||d8f.which;var kO3x;this.qz5E=gP2x.wq8i(eB1x);var bKA0x=false;for(var i=1;i<20;i++){kO3x=r8j-i;if(C9t.charAt(kO3x)===" ")break;if(C9t.charAt(kO3x)==="@"){bKA0x=true;this.OM5R=bKC0x=kO3x;break}}if(bKA0x&&d8f.shiftKey===false&&kJ3x!==38&&kJ3x!==40){if(kJ3x!==27&&kJ3x!==13){this.wt8l?this.wt8l.W9N():null;this.bKJ0x(bKC0x)}}else if(kJ3x!==38&&kJ3x!==40&&d8f.keyCode!==32){this.wt8l?this.wt8l.W9N():null}};b8h.cMc2x=function(bj9a){var bj9a=bj9a;var i8a=this.wu8m();var e8e={parent:document[FullscreenApi.fullscreenElement]||document.body,offset:bj9a,data:i8a,target:this.gO2x,rangeData:this.qz5E,atIndex:this.OM5R};this.wt8l?this.wt8l.W9N():null;this.wt8l=x9o.bLo0x.A9r(e8e)};b8h.wu8m=function(){var cMd2x=gP2x.wq8i(this.gO2x).start;var cMg2x=this.OM5R+1;var bKu0x=gP2x.cLT1x()||[];var bKq0x=[];var bx9o=this.gO2x.value.substring(cMg2x,cMd2x).toLowerCase();bx9o=bx9o.replace(/\[/g,"\\[");bx9o=bx9o.replace(/\]/g,"\\]");if(window.GFollowers){this.sU6O=window.GFollowers[0]?window.GFollowers:[]}else this.sU6O=[];if(!this.sU6O[0])this.bKR0x();for(var bc9T=0;bc9T<bKu0x.length;bc9T++){for(var v9m=0;v9m<this.sU6O.length;v9m++){if(this.sU6O[v9m].nickname==bKu0x[bc9T])bKq0x.push(this.sU6O[v9m])}}this.sU6O=k8c.cOS3x(this.sU6O,bKq0x,{union:true,begin:true});var cMh2x=this.sU6O.length;var bda0x=[];var SZ6T,Ta6U;if(!this.sU6O[0])return{suggests:bda0x};for(var i=0;i<cMh2x;i++){SZ6T=this.sU6O[i].nickname.toLowerCase().search(bx9o);Ta6U=this.sU6O[i].py?this.sU6O[i].py.toLowerCase().search(bx9o):-1;if(SZ6T!==-1||Ta6U!=-1)bda0x.push(this.sU6O[i]);if(bda0x.length===10)break}return{suggests:bda0x}};b8h.Ux7q=function(){var hO2x=this.qz5E||{text:"",start:0,end:0};h8b.z9q(this.gO2x,"focus");gP2x.OJ5O(this.gO2x,hO2x,"@");this.qz5E=gP2x.wq8i(this.gO2x);this.OM5R=hO2x.start;this.bKJ0x(this.OM5R)};b8h.Lo4s=function(){if(this.wt8l)this.wt8l.W9N()}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),v9m=c8g("nej.j"),x9o=c8g("nm.w"),ce0x=c8g("nej.ut"),bD9u=c8g("nej.ui"),b8h;var cMm2x="#shadow-box{position: absolute;display: block;left: 450px;top: 1020px;border: 1px solid black;word-wrap: break-word;display:none;opacity: 0;filter: Alpha(opacity=0);z-index: -1000;}";var cMn2x='<div id="shadow-box" style="word-wrap:break-word"><span  class="node-before"></span><span>@</span><span  class="node-after"></span></div>';var gK2x=a7h.jW3x(cMn2x);var jU3x=a7h.vJ8B(cMm2x);x9o.UA7t=NEJ.C();b8h=x9o.UA7t.M9D(bD9u.eA1x);b8h.cF0x=function(e8e){this.gp2x={};this.cO0x()};b8h.bp9g=function(e8e){this.bq9h(e8e);this.gp2x.txt=a7h.B9s(e8e.target);this.Ss6m();this.UB7u=x9o.bKS0x.A9r(this.gp2x)};b8h.bC9t=function(e8e){this.bJ9A();this.UB7u.W9N()};b8h.cj0x=function(){this.cf0x=gK2x;this.mW4a=jU3x};b8h.bY0x=function(){this.ck0x();var j8b=a7h.dm1x(a7h.B9s(this.o8g));this.gp2x.body=this.o8g;this.gp2x.before=j8b[0];this.gp2x.flag=j8b[1];this.gp2x.after=j8b[2]};b8h.Ss6m=function(){var rl5q=["width","borderWidth","border-style","outline","marginLeft","marginTop","marginRight","marginBottom","height","paddingLeft","paddingTop","fontSize","wordWrap","fontFamily","lineHeight","overflowX","overflowY"];for(var i=0;i<rl5q.length;i++){if(rl5q[i]==="width"&&a7h.dr1x(this.gp2x.txt,rl5q[i])=="100%"){var cMo2x=this.gp2x.txt.offsetWidth;if(!cMo2x){setTimeout(function(){a7h.bd9U(this.o8g,rl5q[i],this.gp2x.txt.offsetWidth+"px")}.f8d(this),300)}else{a7h.bd9U(this.o8g,rl5q[i],this.gp2x.txt.offsetWidth+"px")}continue}a7h.bd9U(this.o8g,rl5q[i],a7h.dr1x(this.gp2x.txt,rl5q[i]))}};b8h.Ux7q=function(){this.UB7u.Ux7q()};b8h.Lo4s=function(){this.UB7u.Lo4s()}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,fR2x=NEJ.R,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),lz4D=c8g("nm.c"),Q9H={},b8h;if(!!lz4D.bqg4k)return;lz4D.bqg4k=NEJ.C();b8h=lz4D.bqg4k.M9D(G9x.cS1x);b8h.cF0x=function(){this.cO0x()};b8h.bp9g=function(e8e){this.bq9h(e8e)};b8h.bC9t=function(){this.bJ9A()};b8h.JL3x=function(fD2x,cL0x,bdj0x){if(Q9H[fD2x]){this.gB2x("register commonJST["+fD2x+"] duplicate");return}if(!k8c.he2x(cL0x)){cL0x=ctl.comJST.cMw2x(fD2x,cL0x,bdj0x)}Q9H[fD2x]=cL0x};b8h.cMz2x=function(bdn0x){if(k8c.er1x(bdn0x)){k8c.bf9W(bdn0x,function(p8h){ctl.comJST.JL3x.apply(this,p8h)},this)}else if(k8c.mx4B(bdn0x)){k8c.eX1x(bdn0x,function(fN2x,K9B){ctl.comJST.JL3x(K9B,fN2x)})}};b8h.cMw2x=function(fD2x,wE9v,bdj0x){wE9v=wE9v||{};NEJ.X(wE9v,{comJST:this.ol4p});if(wE9v.resetDataName&&!k8c.er1x(wE9v.resetDataName)){wE9v.resetDataName=[wE9v.resetDataName]}return function(){var i8a=arguments[0],kq3x=arguments[1];if(wE9v.resetDataName){var kO3x={};for(var i=0,ii=wE9v.resetDataName.length;i<ii;i++){kO3x[wE9v.resetDataName[i]]=arguments[i]}i8a=kO3x;kq3x=arguments[ii]}NEJ.X(i8a,wE9v,en1x);if(bdj0x){kq3x=kq3x||{};NEJ.X(kq3x,bdj0x)}return a7h.cg0x(fD2x,i8a,kq3x)}};b8h.ol4p=function(fD2x){if(!Q9H[fD2x]){this.gB2x("commonJST["+fD2x+"] is unregister");return""}else{return Q9H[fD2x].apply(null,fR2x.slice.call(arguments,1))}};b8h.dump=function(){return Q9H};b8h.gB2x=function(cMB2x){if(console&&console.log){console.log(cMB2x)}};var en1x=function(fN2x,K9B){return K9B=="resetDataName"};c8g("ctl").comJST=lz4D.bqg4k.fZ2x();a7h.cLg1x({comJST:c8g("ctl").comJST.ol4p})})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,bs9j=NEJ.F,fR2x=NEJ.R,a7h=c8g("nej.e"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),lz4D=c8g("nm.c"),l8d=c8g("nm.x"),Q9H={},b8h;if(!!lz4D.bqd4h)return;lz4D.bqd4h=NEJ.C();b8h=lz4D.bqd4h.M9D(G9x.cS1x);b8h.cF0x=function(){this.cO0x();var e8e={"com-mv-artists":function(go2x,ev1x,UM7F,bqc4g){return a7h.cg0x("com-mv-artists",{artists:go2x,clazz:ev1x,boxClazz:bqc4g,mark:UM7F||function(cC0x){return cC0x},escape:k8c.dP1x,comJST:ctl.comJST.ol4p})},"com-album-artists":function(go2x,ev1x,UM7F,bqc4g){return a7h.cg0x("com-album-artists",{artists:go2x,clazz:ev1x,boxClazz:bqc4g,mark:UM7F||function(cC0x){return cC0x},escape:k8c.dP1x,comJST:ctl.comJST.ol4p})},"com-artists-title":{resetDataName:["artists"],escape:k8c.dP1x},"com-user-type":function(dA1x,ev1x,mG4K,yY0x,bJR0x){return a7h.cg0x("com-user-type",{x:dA1x,clazz:ev1x||"",clazz2:typeof bJR0x=="undefined"?"icn":bJR0x,before:mG4K||"",after:yY0x||"",isEmptyObject:l8d.bWy5D})}};for(var D9u in e8e){ctl.comJST.JL3x(D9u,e8e[D9u])}};b8h.bp9g=function(e8e){this.bq9h(e8e)};b8h.bC9t=function(){this.bJ9A()};c8g("ctl").comJSTUtil=lz4D.bqd4h.fZ2x()})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,a7h=c8g("nej.e"),cA0x=c8g("nej.p"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),v9m=c8g("nej.j"),x9o=c8g("nm.w"),gP2x=c8g("nm.ut"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),n8f=c8g("nm.l"),bpZ4d=[2,3],es1x=["sn","db"],b8h,L9C,cMS2x={13:"playlist",17:"djprogram",18:"song",19:"album",20:"artist",21:"mv",24:"topic",25:"activity",70:"djradio",38:"concert",39:"video",41:"cloudvideo"},bdx0x={djprogram:"节目",album:"专辑",playlist:"歌单",song:"单曲",yunsong:"单曲",artist:"歌手",mv:"MV",topic:"音乐专栏",djradio:"电台",concert:"演出",video:"视频",cloudvideo:"视频"},bIQ9H={djprogram:" - ",album:" - ",playlist:" by ",song:" - ",yunsong:" - ",artist:"",mv:" - ",djradio:" by ",cloudvideo:" by "},cNn2x={0:13,1:17,3:19,4:18,5:21,6:24,14:70,17:20},Jn3x={pubEventWithPics:false,pubEventWithoutResource:false,pubEventWithPictureForbiddenNotice:"等级达到Lv.4，即可添加图片"},FullscreenApi=l8d.KT3x||{};n8f.qG5L=NEJ.C();b8h=n8f.qG5L.M9D(n8f.ey1x);L9C=n8f.qG5L.cy0x;b8h.bp9g=function(e8e){if(e8e.onclose===undefined){e8e.onclose=this.bII9z.f8d(this)}this.bq9h(e8e);this.Dh1x=e8e.isPub;this.jD3x=e8e.rid||-1;this.eP1x=e8e.type||-1;this.bpL4P=e8e.purl;this.UY7R=e8e.name||"";this.UZ7S=e8e.author||"";this.bpC4G=e8e.authors||"";this.bdJ1x=e8e.actId;this.bdK1x=e8e.actName;this.bIl9c=e8e.title;this.bdM1x={};this.cNW2x=e8e.mesg||"";this.cOl2x=e8e.placeholder||"说点什么吧";this.bpu4y=e8e.hideTip;this.cOm2x=e8e.videoJumpUrl;var j8b,fp1x=+(new Date);try{j8b=top.localCache.B9s("user")||{}}catch(e){j8b={}}for(var i=0,j8b=j8b.bindings||[],ct0x;i<j8b.length;++i){ct0x=!j8b[i].tokenJsonStr?null:JSON.parse(j8b[i].tokenJsonStr);if(!ct0x||ct0x.expires_in===undefined)continue;var bdR1x=parseInt(ct0x.expires_in),bdS1x=parseInt(j8b[i].refreshTime),cOn2x=(bdR1x+bdS1x)*1e3-5*60*1e3;if(cOn2x>fp1x)this.bdM1x[j8b[i].type]=!0}this.zC0x=x9o.GQ2x.A9r({parent:this.bdU1x,err:this.bFY9P});if(this.ie2x){this.ie2x.W9N()}this.ie2x=x9o.UA7t.A9r({parent:document.body,target:this.eO1x});if(this.eP1x==24||this.eP1x==21||this.eP1x==41||this.IU3x()){this.Dd1x.style.display="none"}else{this.Dd1x.style.display="";this.pI5N=x9o.bzV7O.A9r({parent:this.bpr4v,button:this.Dd1x,onstartupload:this.bFH8z.f8d(this,true),onfinishupload:this.bFH8z.f8d(this,false)})}if(this.IU3x()){this.rH6B.innerText="";a7h.w9n(this.rH6B,"info-video");a7h.w9n(this.bpo4s,"f-hide")}else{a7h.y9p(this.bpo4s,"f-hide")}};b8h.bC9t=function(){this.bJ9A();if(this.zC0x){this.zC0x.W9N();delete this.zC0x}if(this.ie2x){this.ie2x.W9N();delete this.ie2x}if(this.pI5N){this.pI5N.W9N();delete this.pI5N}if(this.nN4R){this.nN4R.W9N();delete this.nN4R}};b8h.cj0x=function(){this.cf0x="m-wgt-sharewin"};b8h.bY0x=function(){this.ck0x();this.cfj8b=a7h.dm1x(this.o8g)[0];var bw9n=a7h.F9w(this.o8g,"j-flag");this.sn6h=bw9n.shift();this.bFY9P=bw9n.shift();this.bdU1x=bw9n.shift();this.eO1x=bw9n.shift();this.rH6B=bw9n.shift();this.bpm4q=bw9n.shift();this.cPm3x=bw9n.shift();this.Dd1x=bw9n.shift();this.cU1x=bw9n.shift();this.bpr4v=bw9n.shift();this.DC1x=bw9n.shift();this.cRN4R=bw9n.shift();this.bpo4s=bw9n.shift();this.eh1x=bw9n.shift();this.beo1x=a7h.F9w(this.bpo4s,"j-t");this.Ec1x=G9x.HL2x.A9r({list:a7h.dm1x(this.sn6h),selected:"z-slt",onchange:this.bpe4i.f8d(this)});if(cA0x.dC1x.browser=="ie"&&cA0x.dC1x.version<"8.0"){a7h.bd9U(this.bdU1x,"position","relative");a7h.bd9U(this.bdU1x,"zIndex","10")}h8b.s8k(window,"snsbind",this.Vw7p.f8d(this));h8b.s8k(this.eO1x,"input",this.fe1x.f8d(this));h8b.s8k(this.eO1x,"keyup",this.wS9J.f8d(this));h8b.s8k(this.o8g,"click",this.cT1x.f8d(this));this.U9L=q8i.bBp7i.A9r();this.U9L.s8k("onshareall",this.ber1x.f8d(this,0));this.U9L.s8k("onshareerror",this.jA3x.f8d(this));this.U9L.s8k("onshareprivate",this.ber1x.f8d(this,1));this.bes1x=q8i.Dk1x.A9r();this.gB2x=q8i.ii2x.A9r();try{this.Vx7q=top.api.sharePermission}catch(e){}if(!this.Vx7q){this.Vx7q=Jn3x;v9m.bm9d("/api/event/user/permission",{type:"json",onload:function(d8f){if(d8f.code==200){this.Vx7q=NEJ.EX(Jn3x,d8f)}}.f8d(this)})}l8d.kD3x()};b8h.bpe4i=function(d8f){d8f.index==0?a7h.y9p(this.cfj8b,"m-plshare"):a7h.w9n(this.cfj8b,"m-plshare");this.bdU1x.style.display=d8f.index==0?"none":"";this.cPm3x.style.display=d8f.index==0?"":"none";this.Dd1x.style.display=d8f.index==0?"":"none";if(this.eP1x==24||this.eP1x==21){this.Dd1x.style.display="none"}this.bFY9P.style.display="none";this.eO1x.value="";this.cc0x();this.HS2x();if(d8f.index==0){var cE0x=a7h.dr1x(this.eO1x,"width");if(cE0x=="auto"||!cE0x){return}else{if(this.ie2x){this.ie2x.W9N()}this.ie2x=x9o.UA7t.A9r({parent:document.body,target:this.eO1x})}this.bpr4v.style.display=""}else{if(this.ie2x){this.ie2x.W9N();delete this.ie2x}this.bpr4v.style.display="none"}};b8h.cT1x=function(d8f){var g8c=h8b.ba9R(d8f,"d:action");if(!g8c)return;if(a7h.u9l(g8c,"action")=="search"){h8b.cv0x(d8f)}else if(a7h.u9l(g8c,"default")===undefined){h8b.cv0x(d8f)}switch(a7h.u9l(g8c,"action")){case"txt":this.nk4o();break;case"search":if(this.IU3x()){top.location.href=this.cOm2x}else if(this.Dh1x&&this.eP1x!=24){if(this.nN4R){this.nN4R.W9N()}this.nN4R=x9o.bre4i.A9r({parent:this.o8g.parentNode,onfinish:this.bpd4h.f8d(this),oncancel:this.cPx3x.f8d(this)});this.bpb4f=true;this.o8g.style.display="none";this.HM2x(this.jD3x<0?"添加音乐":"更换音乐")}break;case"at":h8b.vU8M(d8f);!!this.hW2x&&this.hW2x.bu9l();this.ie2x.Ux7q();this.gM2x();break;case"emot":h8b.vU8M(d8f);!!this.ie2x&&this.ie2x.Lo4s();if(!this.hW2x){this.hW2x=n8f.OF5K.A9r({parent:this.bpm4q});this.hW2x.s8k("onselect",this.CP1x.f8d(this))}this.hW2x.J9A();break;case"upload":break;case"sns":h8b.bi9Z(d8f);var bpa4e,bx9o,t8l=a7h.u9l(g8c,"type");if(!this.bdM1x[t8l]){bpa4e=g8c.href.split("?");bx9o=k8c.hb2x(bpa4e[1]);bx9o["csrf_token"]=v9m.gX2x("__csrf");top.open(bpa4e[0]+"?"+k8c.cJ0x(bx9o));return}var bA9r={2:"sn",3:"db",4:"rr"};l8d.Fh2x(g8c,"u-slg-"+bA9r[t8l]+"-gray");break;case"close":!!this.hW2x&&this.hW2x.bu9l();this.bII9z();break;case"share":h8b.bi9Z(d8f);if(this.IU3x()){if(!a7h.bG9x(g8c,"u-btn2-2-dis")){this.cPB3x()}}else if(a7h.bG9x(g8c,"u-btn2-2-dis")){if(!this.Vx7q.pubEventWithoutResource&&this.jD3x<0){this.cPG3x()}else{}}else if(this.jD3x<0&&!this.eO1x.value&&this.pI5N&&this.pI5N.ban9e().length==0){n8f.bb9S.J9A({type:2,tip:"请输入内容"})}else{this.cPN3x()}break}};b8h.cPG3x=function(){var ku3x=0,boX4b=function(){if(ku3x%2){a7h.y9p(this.rH6B,"z-show")}else{a7h.w9n(this.rH6B,"z-show")}ku3x++;if(ku3x>5){clearInterval(ew1x)}},ew1x;return function(){ku3x=0;clearInterval(ew1x);ew1x=setInterval(boX4b.f8d(this),200)}}();b8h.Vw7p=function(m8e){m8e=m8e.result;this.bdM1x[m8e.type]=!0;var r8j=k8c.dw1x(bpZ4d,m8e.type),cn0x="u-slg-"+es1x[r8j]+"-gray";a7h.y9p(this.beo1x[r8j],cn0x)};b8h.bpd4h=function(R9I){var i8a=R9I.data;this.jD3x=R9I.id;this.eP1x=R9I.type;this.o8g.style.display="";this.HM2x(this.bIl9c);this.nN4R&&this.nN4R.W9N();this.bpb4f=false;this.bpL4P=i8a.picUrl;this.UY7R=i8a.title||"";this.UZ7S=i8a.author||"";this.bpC4G=i8a.authors||"";this.cPO3x();this.beG1x()};b8h.cPx3x=function(){this.nN4R&&this.nN4R.W9N();this.o8g.style.display="";this.HM2x(this.bIl9c);this.bpb4f=false;this.beG1x()};b8h.CP1x=function(d8f){var bt9k="["+d8f.text+"]";gP2x.OJ5O(this.eO1x,this.qz5E,bt9k);this.gM2x()};b8h.fe1x=function(d8f){cA0x.dC1x.browser=="ie"&&cA0x.dC1x.version<"7.0"?setTimeout(this.gM2x.f8d(this),0):this.gM2x()};b8h.wS9J=function(d8f){this.nk4o();if(d8f.keyCode==8)this.gM2x()};b8h.gM2x=function(){this.nk4o();this.HS2x()};b8h.HS2x=function(){var br9i=Math.ceil(k8c.fV2x(this.eO1x.value.trim())/2);this.cU1x.innerText=140-br9i;br9i>140?a7h.fC2x(this.cU1x,"s-fc4","s-fc6"):a7h.fC2x(this.cU1x,"s-fc6","s-fc4")};b8h.cPN3x=function(){if(this.cZ1x())return;if(k8c.fV2x(this.eO1x.value.trim())>280){this.cc0x("字数超过140个字符");return}l8d.lV4Z(this.cPP3x.f8d(this))};b8h.cPP3x=function(ct0x){var t8l=this.Ec1x.vc8U(),i8a;if(t8l==0){for(var i=0,Pw5B=[];i<this.beo1x.length;++i){if(!a7h.bG9x(this.beo1x[i],"u-slg-"+es1x[i]+"-gray"))Pw5B.push(bpZ4d[i])}this.cZ1x(!0);i8a={id:this.jD3x,msg:this.eO1x.value.trim(),type:this.beJ1x(this.eP1x),picUrl:this.bpL4P,snsTypes:Pw5B.join(","),isPub:this.Dh1x,checkToken:ct0x||""};if(this.bdJ1x>0){i8a.actId=this.bdJ1x;if(this.bdK1x){i8a.msg="#"+this.bdK1x+"#"+i8a.msg}}var pq5v=this.pI5N&&this.pI5N.ban9e();if(pq5v&&pq5v.length){i8a.pics=pq5v}this.U9L.coD2x(i8a)}else{var uY8Q=this.zC0x.SS6M();if(uY8Q.length<=0){this.cc0x("请至少选择一位好友");return}this.U9L.coE2x({data:{id:this.jD3x,msg:this.eO1x.value.trim(),type:this.beJ1x(this.eP1x==41?39:this.eP1x),userIds:"["+uY8Q.join(",")+"]",checkToken:ct0x||""}})}};b8h.cPB3x=function(){if(this.cZ1x()){return}this.gB2x.fa1x("click",{target:"share",targetid:"button",page:"sharevideo"});if(k8c.fV2x(this.eO1x.value.trim())>280){this.cc0x("字数超过140个字符");return}l8d.lV4Z(this.cPQ3x.bind(this))};b8h.cPQ3x=function(ct0x){this.cZ1x(!0);var i8a={msg:this.eO1x.value.trim()||"",type:"video",checkToken:ct0x||""},cPR3x={videoId:this.jD3x};if(this.bdJ1x>0){i8a.actId=this.bdJ1x;if(this.bdK1x){i8a.msg="#"+this.bdK1x+"#"+i8a.msg}}i8a.videoinfo=JSON.stringify(cPR3x);this.U9L.coI2x({data:{videoId:this.jD3x,commit:true},data2:i8a,snsTypes:""})};b8h.ber1x=function(t8l,m8e){this.cZ1x(!1);this.bu9l();if(!this.bpu4y){if(this.IU3x()){n8f.bb9S.J9A({tip:"视频将在转码完成后自动发出",autoclose:true})}else{n8f.bb9S.J9A({tip:"分享成功"+(m8e.point>0?' 获得<em class="s-fc6">'+m8e.point+"积分</em>":""),autoclose:true})}}h8b.z9q(n8f.qG5L,"sharesuccess",{isPrivate:t8l,rid:this.jD3x,rtype:this.eP1x,data:m8e.event});this.z9q("onshare")};b8h.jA3x=function(m8e){this.cZ1x(!1);var bF9w="分享失败";if(m8e.code){switch(m8e.code){case 250:bF9w=m8e.message||m8e.msg||(this.Dh1x?"发布异常":"分享异常");break;case 404:bF9w="分享的资源不存在";break;case 407:bF9w="输入内容包含有关键字";break;case 408:bF9w="分享太快了，过会再分享吧";break;case 315:bF9w=m8e.message||"根据对方设置，你没有该操作权限";break;case 329:return l8d.eZ1x({clazz:"m-layer-w2",btntxt:"知道了",message:"当前账号存在较多未完成发布的视频<br>请稍后再试"})}}this.cc0x(bF9w)};b8h.nk4o=function(){this.qz5E=gP2x.wq8i(this.eO1x)};b8h.cc0x=function(bF9w){this.ej1x(this.eh1x,bF9w)};b8h.cZ1x=function(dj1x){return this.ef1x(this.DC1x,dj1x,"分享","分享中...")};b8h.beJ1x=function(iH3x){return cMS2x[iH3x]||""};b8h.cPX3x=function(){var eB1x,wU9L=this.beJ1x(this.eP1x);this.rH6B.style.display="";if(this.jD3x<0){this.rH6B.innerHTML='<i class="highlight"></i><div class="text f-thide f-fl f-fs1"><i class="logo f-fl u-icn2 u-icn2-quaver"></i><span class="f-fs1 f-fl">给动态配上音乐</span></div><i class="f-fr icn u-icn2 u-icn2-plus"></i>'}else{if(!this.UY7R){this.rH6B.style.display="none";return}var beP1x=this.Dh1x&&this.eP1x!=24;eB1x=(bdx0x[wU9L]?bdx0x[wU9L]+"：":"")+this.UY7R+(bIQ9H[wU9L]||" ")+(wU9L=="mv"||wU9L=="album"?this.bpC4G||this.UZ7S:this.UZ7S);a7h.dJ1x(this.rH6B,"m-xwgt-share-infobar",{canChange:beP1x,info:eB1x});if(beP1x){a7h.y9p(this.rH6B,"z-dis")}else{a7h.w9n(this.rH6B,"z-dis")}}a7h.y9p(this.rH6B,"info-video")};b8h.cPO3x=function(){var wU9L=this.beJ1x(this.eP1x),eB1x=(bdx0x[wU9L]?bdx0x[wU9L]+"：":"")+this.UY7R+(bIQ9H[wU9L]||" ")+(wU9L=="mv"||wU9L=="album"?this.bpC4G||this.UZ7S:this.UZ7S);beP1x=this.Dh1x&&this.eP1x!=24;if(this.IU3x()){}else{a7h.y9p(this.rH6B,"info-video");a7h.dJ1x(this.rH6B,"m-xwgt-share-infobar",{canChange:beP1x,isPub:this.Dh1x,info:eB1x})}};b8h.cPY3x=function(){var Py5D=this.eO1x.value;if(this.Dh1x){if(!!this.bpb4f){return!!Py5D&&!!Py5D.length||!!this.pI5N&&this.pI5N.ban9e().length>0}else{return!(this.jD3x<0)||!!Py5D&&!!Py5D.length||!!this.pI5N&&this.pI5N.ban9e().length>0}}else{return!!Py5D&&!!Py5D.length||!!this.pI5N&&this.pI5N.ban9e().length>0}};b8h.beG1x=function(){var caQ7J=false;if(!this.Dh1x||this.Vx7q.pubEventWithoutResource||!(this.jD3x<0)){caQ7J=true}if(caQ7J){a7h.y9p(this.DC1x,"u-btn2-2-dis")}else{a7h.w9n(this.DC1x,"u-btn2-2-dis")}};b8h.bFH8z=function(boN4R){if(boN4R){a7h.w9n(this.DC1x,"u-btn2-2-dis")}else{this.beG1x()}};b8h.bII9z=function(d8f){if(d8f){d8f.stopped=true}if(this.cPY3x()){l8d.hU2x({parent:document[FullscreenApi.fullscreenElement]||document.body,title:"提示",message:"是否退出本次编辑？",btnok:"退出",action:function(X9O){if(X9O=="ok"){this.z9q("forceclose",{});this.bu9l();h8b.z9q(n8f.qG5L,"shareclose",{})}}.f8d(this)})}else{this.z9q("forceclose",{});this.bu9l();h8b.z9q(n8f.qG5L,"shareclose",{})}};b8h.HM2x=function(eD1x,ek1x){this.pT5Y.EF1x(eD1x,ek1x)};b8h.beU1x=function(t8l){this.gB2x.fa1x("page",{type:t8l})};b8h.IU3x=function(){return this.eP1x==39};b8h.J9A=function(){var cQn3x=function(p8h,r8j){var cn0x="u-slg-"+es1x[r8j]+"-gray";!this.bdM1x[bpZ4d[r8j]]?a7h.w9n(p8h,cn0x):a7h.y9p(p8h,cn0x)};return function(){L9C.J9A.call(this);this.o8g.style.display="";this.cc0x();this.cZ1x(!1);this.Ec1x.Zo9f(0);this.eO1x.focus();this.eO1x.value=this.cNW2x||"";this.eO1x.placeholder=this.cOl2x||"";if(!this.IU3x()){this.cPX3x()}else{a7h.w9n(this.rH6B,"info-video");a7h.dJ1x(this.rH6B,"m-xwgt-share-videobar",{title:this.UY7R,picUrl:this.bpL4P})}this.gM2x();this.zC0x.cKV1x();k8c.bf9W(this.beo1x,cQn3x,this);this.nk4o();if(this.Dh1x){this.sn6h.style.display="none"}else{this.sn6h.style.display=""}this.beG1x()}}();b8h.bu9l=function(d8f){L9C.bu9l.call(this);!!this.hW2x&&this.hW2x.bu9l();if(this.zC0x){this.zC0x.W9N();delete this.zC0x}if(this.ie2x){this.ie2x.W9N();delete this.ie2x}if(this.pI5N){this.pI5N.W9N();delete this.pI5N}if(this.bYE6y){this.bYE6y=this.bYE6y.W9N()}if(this.nN4R){this.nN4R.W9N();delete this.nN4R}};l8d.lP4T=function(e8e){if(!GUser||!GUser.userId||GUser.userId<=0){top.login();return}if(e8e.title===undefined){e8e.title="分享"}if(e8e.actId&&e8e.type!=39){var t8l=cNn2x[e8e.resourceType],bW0x=e8e.resourceJson,iP3x;if(k8c.fX2x(bW0x)){try{bW0x=JSON.parse(bW0x)}catch(e){}}if(t8l){iP3x=l8d.bYt6n(t8l,bW0x);e8e.name=iP3x.title;e8e.author=iP3x.author;e8e.picUrl=iP3x.picUrl;e8e.type=t8l;e8e.rid=(bW0x||[]).id}}n8f.qG5L.J9A(e8e)};G9x.fY2x.A9r({element:n8f.qG5L,event:["sharesuccess","shareclose"]})})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,h8b=c8g("nej.v"),a7h=c8g("nej.e"),v9m=c8g("nej.j"),n8f=c8g("nm.l"),x9o=c8g("nm.w"),bD9u=c8g("nej.ui"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),b8h,L9C;n8f.beX1x=NEJ.C();b8h=n8f.beX1x.M9D(n8f.ey1x);L9C=n8f.beX1x.cy0x;b8h.cF0x=function(){this.cO0x()};b8h.bY0x=function(){this.ck0x();var j8b=a7h.F9w(this.o8g,"j-flag");h8b.s8k(j8b[0],"click",this.KR3x.f8d(this))};b8h.cj0x=function(){this.cf0x="m-import-ok"};b8h.bp9g=function(e8e){e8e.parent=e8e.parent||document.body;e8e.title="歌曲同步完成";this.bq9h(e8e)};b8h.bC9t=function(){this.bJ9A()};b8h.KR3x=function(d8f){this.bu9l();if(location.pathname.indexOf("my")>=0){location.reload()}else{location.dispatch2("/my/")}};b8h.Gc2x=function(){this.bu9l()};b8h.bWL5Q=function(d8f){if(d8f.keyCode==13)this.Hs2x()}})();
(function(){var c8g=NEJ.P,be9V=NEJ.O,h8b=c8g("nej.v"),a7h=c8g("nej.e"),v9m=c8g("nej.j"),P9G=c8g("nej.p"),k8c=c8g("nej.u"),n8f=c8g("nm.l"),x9o=c8g("nm.w"),bD9u=c8g("nej.ui"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),b8h,L9C;n8f.bYx6r=NEJ.C();b8h=n8f.bYx6r.M9D(n8f.ey1x);b8h.cj0x=function(){this.cf0x="m-programtips-layer"};b8h.bY0x=function(){this.ck0x();this.bX0x=a7h.F9w(this.o8g,"j-flag")};b8h.bp9g=function(e8e){if(e8e.inner){var innerNode=a7h.F9w(this.o8g,"wrap-p")[0];if(innerNode){innerNode.innerHTML=e8e.inner}}e8e.clazz=" m-layer-programtips "+(e8e.clazz||"");e8e.parent=e8e.parent||document.body;e8e.title=e8e.title||"付费内容提示";e8e.draggable=!0;e8e.destroyalbe=!0;e8e.mask=true;this.bq9h(e8e);this.hy2x=e8e.id;this.cQE3x=e8e.radiotype;this.lU4Y=location.protocol+"//"+(this.boJ4N()||"music.163.com")+"/m/"+this.cQE3x+"?id="+this.hy2x;this.lU4Y=e8e.url||this.lU4Y;this.cQG3x()};b8h.bC9t=function(){this.bJ9A()};b8h.Gc2x=function(){this.bu9l()};b8h.KR3x=function(d8f){this.z9q("onok",C9t);this.bu9l()};l8d.VV7O=function(e8e){n8f.bYx6r.A9r(e8e).J9A()};b8h.cQG3x=function(){v9m.bm9d("/api/web/qrcode/get",{method:"POST",type:"json",data:k8c.cJ0x({url:this.lU4Y,size:180}),onload:function(i8a){if(i8a.code==200){this.cQI3x(i8a.qrcodeImageUrl)}else{alert("二维码获取失败")}}.f8d(this)})};b8h.boJ4N=function(){var Xg7Z=location.host;if(Xg7Z.indexOf("music")>=0){return"music.163.com"}else{return"igame.163.com"}};b8h.cQI3x=function(kS3x){this.bX0x[0].style.backgroundImage="url("+kS3x+")"}})();
(function(){var c8g=NEJ.P,a7h=c8g("nej.e"),cA0x=c8g("nej.p"),h8b=c8g("nej.v"),k8c=c8g("nej.u"),G9x=c8g("nej.ut"),v9m=c8g("nej.j"),q8i=c8g("nm.d"),l8d=c8g("nm.x"),E9v=c8g("nm.m"),n8f=c8g("nm.l"),N9E=c8g("nm.m.f"),b8h,L9C;E9v.dp1x=NEJ.C();b8h=E9v.dp1x.M9D(G9x.dy1x);b8h.bK9B=function(){var sv6p=!1;return function(){if(sv6p)return;sv6p=!0;this.bS0x();if(top==self){return}this.vt8l=a7h.B9s("g_backtop");if(window.GRef!="mail"){}else{this.bWV5a()}G9x.fY2x.A9r({element:window,event:["share","playchange","snsbind","playstatechange"]});this.ca0x([[window,"scroll",this.DU1x.f8d(this)],[document,"keyup",this.cNU2x.f8d(this)],[document.body,"click",this.uU8M.f8d(this)],[document,"mouseup",this.cNM2x.f8d(this)],[this.vt8l,"click",this.Wb7U.f8d(this)],[q8i.vx8p,"message",this.xI9z.f8d(this)]]);l8d.com2x(document.body);this.DU1x();if(this.El1x!==false&&typeof GUser!=="undefined"&&GUser.userId>0)q8i.vx8p.fZ2x().xh9Y();try{top.GUser=NEJ.X(top.GUser,GUser);top.api.refreshUserInfo();if(cA0x.dC1x.browser=="ie"&&parseInt(cA0x.dC1x.version)<9&&/#(.*?)$/.test(top.document.title)){top.document.title="网易云音乐"}else{var hL2x=top.player.getPlaying();if(hL2x&&hL2x.track&&hL2x.playing){top.document.title=decodeURIComponent("%E2%96%B6%20")+hL2x.track.name}else{top.document.title=document.title}}}catch(e){}window.share=this.Cx1x.f8d(this);this.ln3x=q8i.ii2x.A9r();window.log=this.hN2x.f8d(this);var vn8f=location.search;if(vn8f){var bx9o=vn8f.substr(vn8f.indexOf("?")+1),gR2x=k8c.hb2x(bx9o);if(gR2x&&gR2x["_hash"])location.hash=gR2x["_hash"]}}}();b8h.cNU2x=function(d8f){var g8c=h8b.ba9R(d8f);try{if(d8f.keyCode==80&&l8d.bWx5C()||["textarea","input"].indexOf(g8c.tagName.toLowerCase())>=0)return;h8b.z9q(top.document,"keyup",{ctrlKey:d8f.ctrlKey,keyCode:d8f.keyCode})}catch(e){}};b8h.uU8M=function(d8f){var g8c=h8b.ba9R(d8f);if(g8c&&g8c.tagName=="INPUT")return;var g8c=h8b.ba9R(d8f,"d:pid");if(g8c){h8b.cv0x(d8f);var ph5m=a7h.u9l(g8c,"pid"),Em1x=a7h.u9l(g8c,"ptype"),X9O=a7h.u9l(g8c,"action")||"play";switch(X9O){case"subscribe":l8d.oC5H({tracks:[ph5m]});break}}g8c=h8b.ba9R(d8f,"d:resAction");if(g8c&&g8c.className.indexOf("-dis")==-1){var dd1x=a7h.u9l(g8c,"resId"),t8l=a7h.u9l(g8c,"resType"),boC4G=a7h.u9l(g8c,"resRadiotype"),boB4F=a7h.u9l(g8c,"resRadioid"),em1x=a7h.u9l(g8c,"resFrom"),i8a=a7h.u9l(g8c,"resData"),X9O=a7h.u9l(g8c,"resAction"),bqZ4d=a7h.u9l(g8c,"resCopyright"),bfr1x=a7h.u9l(g8c,"resAuditstatus");if(X9O!="log"&&X9O!="bilog")h8b.cv0x(d8f);switch(X9O){case"log":i8a=(i8a||"").split("|");if(!!i8a[0]){var bl9c={id:dd1x,alg:i8a[2]||"itembased",scene:i8a[3],position:i8a[1]||0};if(!!i8a[4])bl9c.srcid=i8a[4];window.log(i8a[0],bl9c)}break;case"bilog":var bEs8k=a7h.u9l(g8c,"logAction"),bEr8j=a7h.u9l(g8c,"logJson");window.log(bEs8k,bEr8j);break;case"share":if(bfr1x&&bfr1x==1){l8d.jd3x("由于版权问题，该节目暂时无法分享。")}else{share(dd1x,t8l,a7h.u9l(g8c,"resPic"),a7h.u9l(g8c,"resName"),a7h.u9l(g8c,"resAuthor"),a7h.u9l(g8c,"resAuthors"))}break;case"fav":case"subscribe":if(t8l==18){var sl6f=a7h.u9l(g8c,"resLevel"),pp5u=a7h.u9l(g8c,"resFee");if(sl6f==10){l8d.xf9W(pp5u,dd1x,"song");break}l8d.oC5H({tracks:[dd1x]})}break;case"download":l8d.MC4G({id:dd1x,type:t8l});break;case"programtips":if(bfr1x&&bfr1x==1){l8d.jd3x("由于版权问题，该节目暂时无法分享。")}else{l8d.VV7O({id:boB4F,radiotype:boC4G})}break}}if(top==self)return;try{top.onIframeClick(d8f)}catch(e){}};b8h.cNM2x=function(d8f){try{h8b.z9q(top.document,"mouseup")}catch(e){}};b8h.DU1x=function(){var cKz1x=function(){var cb0x=window.innerHeight;if(!k8c.vS8K(cb0x))cb0x=(document.documentElement||document.body).clientHeight;return cb0x};return function(d8f){if(!this.vt8l)return;var bft1x=cKz1x(),gE2x=document.documentElement.scrollTop||document.body.scrollTop;a7h.bd9U(this.vt8l,"display",gE2x>0?"":"none");if(cA0x.dC1x.browser=="ie"&&cA0x.dC1x.version<"7.0"){var gY2x=Math.min(document.body.clientHeight,bft1x+gE2x)-204;a7h.bd9U(this.vt8l,"top",gY2x+"px")}}}();b8h.Wb7U=function(d8f){h8b.cv0x(d8f);document.body.scrollTop=0;document.documentElement.scrollTop=0};b8h.Cx1x=function(){var boz4D=function(d8f){h8b.z9q(window,"share",d8f)};return function(dd1x,t8l,Ct1x,Y9P,LJ4N,LI4M){l8d.lP4T({rid:dd1x,type:t8l,purl:Ct1x,name:Y9P,author:LJ4N,authors:LI4M,onshare:boz4D.f8d(this)})}}();b8h.hN2x=function(X9O,bl9c){try{top.log(X9O,bl9c)}catch(e){if(X9O.indexOf("new|")==0){return this.ln3x.fa1x(X9O.slice(4),bl9c)}switch(X9O){case"play":this.ln3x.eE1x(bl9c);break;case"search":this.ln3x.bMk0x(bl9c);break;default:this.ln3x.fa1x(X9O,bl9c)}}};b8h.bWV5a=function(){var bfy1x,bow4A=false,bv9m=[45,60];var cJy0x=function(bF9w){if(bF9w.title!="MailBoxImport")return;var T9K=JSON.parse(bF9w.content||"null")||be9V;if(T9K.status==10){n8f.beX1x.A9r().J9A();window.clearTimeout(bfy1x)}};var oV5a=function(d8f){if(d8f.code==200){if(d8f.status==1){h8b.s8k(q8i.Fv2x,"message",cJy0x.f8d(this));q8i.Fv2x.A9r().bDK8C();bow4A=true}else{if(bow4A){if(d8f.status==10){n8f.beX1x.A9r().J9A();h8b.hH2x(q8i.Fv2x,"message");window.clearTimeout(bfy1x);bow4A=false}}else{window.clearTimeout(bfy1x)}}}};return function(){var vu8m=bv9m.shift()*1e3;v9m.bm9d("/api/musicbox/mail/status",{type:"json",method:"get",onload:oV5a.f8d(this)});if(vu8m){bfy1x=window.setTimeout(arguments.callee,vu8m)}}}();b8h.xI9z=function(d8f){try{top.polling(d8f)}catch(e){}}})()